
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c58fb026-a76f-5763-bd5c-6f67f2cd225c")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[3339],{573990:(e,t,a)=>{"use strict";a.d(t,{Cg:()=>r,Fb:()=>o,Fu:()=>s,_8:()=>i,kn:()=>l,p4:()=>n});let r="community_hub_banner--bannerContainer--I7euo text--fontPos11--2LvXf text--_fontBase--QdLsd",n="community_hub_banner--link--tqByg",i="community_hub_banner--boldText--jhtS9",l="community_hub_banner--bannerIcon--GVQKO",s="community_hub_banner--iconContainer--Szb1y",o="community_hub_banner--bannerText--Mlrz- ellipsis--ellipsis--Tjyfa"},600771:(e,t,a)=>{"use strict";a.d(t,{AB:()=>E,Af:()=>f,CM:()=>R,Gc:()=>m,HE:()=>I,JU:()=>v,Jz:()=>y,Ks:()=>l,LZ:()=>C,O0:()=>T,O4:()=>n,SC:()=>i,Uf:()=>h,Wn:()=>u,Wu:()=>N,YM:()=>A,dX:()=>o,hv:()=>x,mt:()=>w,oC:()=>r,oL:()=>g,pD:()=>k,qH:()=>_,sA:()=>c,se:()=>L,sh:()=>b,x8:()=>d,y3:()=>S,ym:()=>p,zv:()=>s});let r="ai_modal--modal---W2Hc",n="ai_modal--oneClickPromptGrid--fMJeL",i="ai_modal--oneClickPromptSection--K-kml",l="ai_modal--disclaimer--IuMPI",s="ai_modal--topBar--osYDW",o="ai_modal--modalV2--uHVNF",c="ai_modal--topBarV2--kJAjC",d="ai_modal--generateContainer--ZVdnf",m="ai_modal--generateContainerV2--vAeZh",u="ai_modal--boxShadow--Vnbhg",_="ai_modal--input--l9aE6",p="ai_modal--hrLeft--trcI7",g="ai_modal--hrRight--rxij6",E="ai_modal--menuOptionContainer--OY41l",h="ai_modal--oneClickButton--VqeLK",f="ai_modal--oneClickIcon--J1-2k",v="ai_modal--oneClickAiIcon--fQNmm",b="ai_modal--backIcon--rSfoM",y="ai_modal--suggestion--qf9pk",w="ai_modal--suggestionV2--Us2t6",T="ai_modal--secondaryButton--weULP",x="ai_modal--selected--S4ORY",N="ai_modal--promptBoxShimmer--1S-Xe",C="ai_modal--suggestionGrid--PVPUg",S="ai_modal--fileBrowserBar--Q7vBy",k="ai_modal--buttonIcon--QPnmh",I="ai_modal--figjamButton--I8ct1",L="ai_modal--templateCta--3wWYS",R="ai_modal--hoverOnBgSecondary--ieEeB",A="ai_modal--oneClickPromptGridV2--yc8rD"},212167:function(e){e.exports=function(e,t){var a=t.prototype,r=a.format;a.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return r.bind(this)(e);var n=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return a.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return a.ordinal(t.week(),"W");case"w":case"ww":return n.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return n.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return n.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return r.bind(this)(i)}}},140265:(e,t,a)=>{"use strict";a.d(t,{O:()=>b});var r=a(652983),n=a(407908),i=a(716250),l=a(970740),s=a(669981),o=a(680809),c=a(573196),d=a(883906),m=a(721127),u=a(322186),_=a(70918),p=a(761767),g=a(339531),E=a(61232),h=a(47455),f=a(917663);let v=a(958966);function b(e){let t=(0,_.xJ)(),a=(0,u.Ng)(),b=(0,n.I0)(),[y,w]=r.useState(!0),T=e.resource,x=(0,g.hb)(T),N=(0,f.h)(x,a,"whiteboard");if(!y||!t||!(0,i.BZ)().community_hub_admin_reviewer)return r.createElement(r.Fragment,null);function C(t){return"hub_file"===(0,c.yA)(e.resource)}let S=C(e.resource)?r.createElement(l.Tx,{id:"community.duplicate.duplicate"}):r.createElement(l.Tx,{id:"community.detail_view.try_it_out"}),k={id:h.EN.communityResourceInReviewBanner,bannerType:h.$.INFO,icon:v,mainText:(0,l.t)("community.resource.admin_bypass_payment_banner.viewing_as_community_reviewer_admin"),description:r.createElement(l.Tx,{id:"community.resource.admin_bypass_payment_banner.you_are_viewing_this_page_as_an_admin_reviewer"}),button:{buttonText:S,onClick:()=>{if(C(e.resource)){let t=s.t.onDuplicateHubFile(e=>{b((0,m.K4)({type:o.Q,data:{payload:e}}))},{adminReviewerOverride:!0});b(t(e.resource))}else b(d.O6({resource:T,fullscreenEditorType:N,isPlaygroundFile:!!(x.playground_fig_file||"dev_handoff"===N)}))}},dismissible:!0,positionStatic:!0},I=r.createElement(E.i,{content:k,editorType:p.gg.DESIGN,onDismiss:()=>w(!1)});return I}},401088:(e,t,a)=>{"use strict";a.d(t,{F:()=>R});var r=a(652983),n=a(407908),i=a(600486),l=a(313653),s=a(970740),o=a(882038),c=a(525575),d=a(721127),m=a(864974),u=a(435804),_=a(70918),p=a(761767),g=a(310975),E=a(229273),h=a(61232),f=a(618723),v=a(782051),b=a(47455),y=a(760513),w=a(777166);let T=a(496756),x=a(163396),N=a(753224);function C({isLoading:e,text:t}){return r.createElement("span",{style:{position:"relative"}},e?r.createElement("div",{className:w.I},r.createElement(v.TK,{shouldMatchTextColor:!0})):void 0,r.createElement("span",{style:{opacity:e?0:1}},t))}let S=({isLoading:e,onClick:t,showCTA:a})=>{let n=r.createElement(f.UU,{className:y.DK,target:"_blank",href:"https://help.figma.com/hc/articles/12730712101783",trusted:!0},(0,s.t)("community.seller.how_does_it_work"));return{id:b.EN.communityM10nApprovalBanner,bannerType:b.$.INFO,mainText:(0,s.t)("community.seller.good_news"),icon:T,button:a?{buttonText:r.createElement(C,{isLoading:e,text:(0,s.t)("community.seller.set_up_stripe")}),onClick:t,className:y.k1}:void 0,description:r.createElement(s.Tx,{id:"community.seller.youre_eligible_with_link",howDoesItWorkLink:n}),dismissible:!!a,positionStatic:!0}},k=({onClick:e,isLoading:t,showCTA:a})=>({id:b.EN.communityM10nFinishSetupBanner,bannerType:b.$.INFO,icon:x,button:a?{buttonText:r.createElement(C,{isLoading:t,text:(0,s.t)("community.seller.finish_set_up")}),onClick:e,className:y.k1}:void 0,mainText:(0,s.t)("community.seller.finish_stripe_setup"),description:(0,s.t)("community.seller.few_steps_left_stripe"),dismissible:!!a,positionStatic:!0}),I=({onClick:e,isLoading:t,showCTA:a})=>({id:b.EN.communityM10nAdtlInfoNeededBanner,bannerType:b.$.WARN,icon:N,button:a?{buttonText:r.createElement(C,{isLoading:t,text:(0,s.t)("community.seller.visit_stripe")}),onClick:e,className:y.k1}:void 0,mainText:(0,s.t)("community.seller.stripe_needs_your_attention"),description:(0,s.t)("community.seller.you_can_resolve"),dismissible:!!a,positionStatic:!0});var L=a(508140);function R(e){let[t,a]=r.useState(!1),[f,v]=r.useState(!1),b=(0,n.I0)(),w=(0,n.v9)(e=>e.userFlags),T=(0,_.xJ)(),x=(0,u.A6)(),[N,C]=r.useState(!1),R=f||e.isFirstTimeLoading,A="isFirstTimeLoading"in e;if(N&&!A||!T)return r.createElement(r.Fragment,null);let{stripe_account_status:O}=T;if(!O||O===g.Sc.NONE)return r.createElement(r.Fragment,null);let D=O===g.Sc.ACCEPTED||R?{userFlag:E.cE,bannerContent:S({isLoading:t,onClick:()=>{v(!0),b((0,d.K4)({type:L.T,data:{setupStripeCallback:e=>{v(!1),e||b(l.l.error((0,s.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},showCTA:!A})}:O===g.Sc.STARTED_ONBOARDING?{userFlag:E.zr,bannerContent:k({isLoading:t,onClick:()=>{a(!0),b(c.u({callback:()=>a(!1),user:T,selectedView:x}))},showCTA:!A})}:O===g.Sc.DISABLED?{userFlag:E.bA,bannerContent:I({isLoading:t,onClick:()=>{},showCTA:!A})}:void 0;if(!D)return r.createElement(r.Fragment,null);let{userFlag:F,bannerContent:M}=D,P=()=>{var e;null==(e=(0,o.b4)())||e(m.v({[F]:!0}))},B=!!w[F];if(B&&!A)return r.createElement(r.Fragment,null);let U=r.createElement(h.i,{containerClassName:A?y.Ih:void 0,content:M,editorType:p.gg.DESIGN,onDismiss:()=>{P(),C(!0),(0,i.L9)("cmty_m10n_banner_dismissed",{userFlag:F})}});return U}},232796:(e,t,a)=>{"use strict";a.d(t,{U:()=>Y});var r,n=a(652983),i=a(407908),l=a(716250),s=a(401088),o=a(388899),c=a(970740),d=a(761767),m=a(597694),u=a(61232),_=a(47455);let p=a(958966);function g(e){let{hasPublisherAdminAccess:t,resource:a}=e,r=(()=>{var e,r,i;if(t)return a.publishing_status===d.UG.DELISTED_CREATOR_STRIPE_DISABLED?n.createElement(c.Tx,{id:"community.resource.delisted_stripe_issues"}):(null==(e=null==a?void 0:a.monetized_resource_metadata)?void 0:e.is_subscription)?n.createElement(c.Tx,{id:"community.resource.delisted_prev_purchasers_can_still_access__subscription"}):n.createElement(c.Tx,{id:"community.resource.delisted_prev_purchasers_can_still_access"});if(null==(r=null==a?void 0:a.community_resource_payment)?void 0:r.subscription_expires_at){let e=new Date(a.community_resource_payment.subscription_expires_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return n.createElement(c.Tx,{id:"community.resource.delisted_you_ll_continue_to_have_access_until",dateString:e})}return(null==(i=null==a?void 0:a.community_resource_payment)?void 0:i.status)===m.Cy.SUCCEEDED?n.createElement(c.Tx,{id:"community.resource.delisted_you_ll_continue_to_have_access_to_it"}):n.createElement(c.Tx,{id:"community.resource.if_you_have_questions_reach_out_to_creator"})})(),i={id:_.EN.communityResourceInReviewBanner,bannerType:_.$.WARN,icon:p,mainText:(0,c.t)("community.resource.delisted_title"),description:r,dismissible:!1,positionStatic:!0};return n.createElement(u.i,{content:i,editorType:d.gg.DESIGN,onDismiss:o.ZT})}var E=a(573196),h=a(70918);let f=a(958966);function v(e){let t=(0,h.xJ)();if(!t)return n.createElement(n.Fragment,null);let a="hub_file"===(0,E.yA)(e.resource)?(0,c.t)("community.seller.only_you_can_see_your_file"):"plugin"===(0,E.yA)(e.resource)?(0,c.t)("community.seller.only_you_can_see_your_plugin"):"widget"===(0,E.yA)(e.resource)?(0,c.t)("community.seller.only_you_can_see_your_widget"):n.createElement(n.Fragment,null),r={id:_.EN.communityResourceInReviewBanner,bannerType:_.$.WARN,icon:f,mainText:(0,c.t)("community.seller.this_page_is_private"),description:a,dismissible:!1,positionStatic:!0},i=n.createElement(u.i,{content:r,editorType:d.gg.DESIGN,onDismiss:o.ZT});return i}let b=a(958966);function y(e){let t=(0,h.xJ)();if(!t)return n.createElement(n.Fragment,null);let a="hub_file"===(0,E.yA)(e.resource)?(0,c.t)("community.resource.unpublished_banner.only_you_can_see_this_page.hub_file"):"plugin"===(0,E.yA)(e.resource)?(0,c.t)("community.resource.unpublished_banner.only_you_can_see_this_page.plugin"):"widget"===(0,E.yA)(e.resource)?(0,c.t)("community.resource.unpublished_banner.only_you_can_see_this_page.widget"):n.createElement(n.Fragment,null),r={id:_.EN.communityResourceInReviewBanner,bannerType:_.$.WARN,icon:b,mainText:(0,c.t)("community.resource.unpublished_banner.your_resource_is_unpublished"),description:a,dismissible:!1,positionStatic:!0},i=n.createElement(u.i,{content:r,editorType:d.gg.DESIGN,onDismiss:o.ZT});return i}var w=a(369874),T=a(149034),x=a(496478),N=a(795153),C=a(646472);let S=a(140265).O,k=a(958966);function I(e){let t={id:_.EN.communityResourceInReviewBanner,bannerType:_.$.WARN,icon:k,mainText:(0,c.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"),description:(0,c.t)("community.resource.admin_blocked_resource_banner.you_can_only_view_this_page_as_an_admin"),dismissible:!1,positionStatic:!0},a=n.createElement(u.i,{content:t,onDismiss:o.ZT});return a}var L=a(448501),R=a(968034),A=((r=A||{}).EDIT_THIS_PAGE="edit_this_page",r.OPEN_ORIGINAL_FILE="open_original_file",r.UNPUBLISH="unpublish",r.DELIST="delist",r),O=a(215698),D=a(244311),F=a(105643),M=a(533537),P=a(111120),B=a(721127),U=a(448694),V=a(153574),W=a(465883),G=a(532444),j=a(401649),H=a(505468),$=a(239019),z=a(512169);let K=a(58795),Z="MANAGE_RESOURCE_DROPDOWN_TYPE";function q(e){var t;let{resource:a,fileKey:r}=e,l=(0,i.I0)(),s=n.useRef(null),m=(0,i.v9)((0,V.o)(Z)),p=(0,i.v9)(e=>e.currentUserOrgId),g=(0,R.X)();n.useEffect(()=>{(0,C.sg)(e.resource)?l((0,O.CI)({hubFileId:e.resource.id})):l((0,D.cD)({id:e.resource.id,resourceType:(0,C.bH)(e.resource)?C.Xh.PLUGIN:C.Xh.WIDGET}))},[l,e.resource,p]);let E=(0,C.vu)(a),h=[],f=(0,c.t)("community.resource.edit_this_page");if(h.push({displayText:f,callback:()=>{(0,C.sg)(a)?((0,U.T6)({name:A.EDIT_THIS_PAGE,hubFileId:a.id,isMonetized:E,text:f,trackingContext:G.V4.COMMUNITY_HUB_FILE,...g}),r&&l((0,F.I)({fileKey:r,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:W.jS.RESOURCE_PAGE,...g}))):((0,U.T6)({pluginId:a.id,name:A.EDIT_THIS_PAGE,isMonetized:E,text:f,trackingContext:G.V4.COMMUNITY_HUB_PLUGIN,...g}),l((0,M.M)({publishedPluginId:a.id,entryPoint:W.jS.RESOURCE_PAGE})))}}),(0,C.sg)(a)){let e=(0,c.t)("community.hub_files.open_original_file");if(h.push({displayText:e,callback:()=>{(0,U.T6)({name:A.OPEN_ORIGINAL_FILE,hubFileId:a.id,isMonetized:E,text:e,trackingContext:G.V4.COMMUNITY_HUB_FILE,...g}),L.default.redirect(`/file/${r}`,"_blank")}}),!(0,w.dE)(a)){h.push({displayText:"",disabled:!0,separator:!0});let e=(0,c.t)(E?"community.resource.delist":"community.resource.unpublish");h.push({displayText:e,callback:()=>{(0,U.T6)({name:E?A.DELIST:A.UNPUBLISH,hubFileId:a.id,isMonetized:E,text:e,trackingContext:G.V4.COMMUNITY_HUB_FILE}),l((0,B.K4)({type:H.lN,data:{confirmationTitle:E?(0,c.t)("community.hub_files.delist_file_from_community_hub"):(0,c.t)("community.hub_files.remove_file_from_community_hub"),content:E?(0,c.t)("community.hub_files.delisting_this_resource_will_prevent_people_from_discovering_or_purchasing_this_resource"):(0,c.t)("community.hub_files.unpublishing_this_file_will_remove_it_from_the_community_hub_and_prevent_people_from_finding_and_using_this_file"),confirmText:E?(0,c.t)("community.resource.delist"):(0,c.t)("community.resource.unpublish"),cancelText:(0,c.t)("general.cancel"),onConfirm:()=>{l((0,O.UK)({hubFileId:a.id,redirectLink:(0,j.J$)(a.publisher.profile_handle)}))},destructive:!0,dispatch:l}}))}})}}let v=n.createElement($.P,{ref:s,buttonClassName:"show_resource_creator_banner--manageResourceCTA--lYOcA text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{m||l((0,P.SP)({type:Z}))},isShowingDropdown:!1},(0,c.t)("community.resource.manage_resource")),b={id:_.EN.CommunityResourceCreatorBanner,bannerType:_.$.INFO,icon:K,iconSize:"large",mainText:(0,c.t)("community.resource.your_resource_is_live"),dismissible:!1,positionStatic:!0,button:{type:_.ri.CUSTOM,element:v}};return n.createElement(n.Fragment,null,n.createElement(u.i,{content:b,editorType:d.gg.DESIGN,onDismiss:o.ZT}),s.current&&m&&n.createElement(z.z,{dispatch:l,items:h,showPoint:!0,parentRect:null==(t=s.current)?void 0:t.getBoundingClientRect(),onSelectItem:e=>{e.callback&&e.callback("",null,l)},minWidth:120}))}function Y(e){var t;let{resource:a}=e,r=(0,i.v9)(e=>(0,x.to)(e,a)),o=(0,i.v9)(e=>(0,C.sg)(a)?(0,x.ZP)(e,a,r):(0,x.Zq)(e,a)),c=(0,C.ow)(a)?null==(t=a.fig_file_metadata)?void 0:t.key:null,d=N.t1.File.useValue(c),m=!!c&&!!d,u=(0,i.v9)(e=>(0,C.bH)(a)||(0,C._4)(a)?(0,T.eK)(e,a):null);return(0,l.BZ)().community_hub_admin&&(0,w.IT)(a)?n.createElement(I,{resource:a}):(0,l.BZ)().community_hub_admin_reviewer&&(0,C.vu)(a)?n.createElement(S,{resource:a}):a.publishing_status?o&&(0,w.k4)(a)?n.createElement(v,{resource:a}):(0,w.dE)(a)?n.createElement(g,{hasPublisherAdminAccess:o,resource:a}):(0,l.BZ)().cmty_rdp_creator_controls&&o&&m?n.createElement(q,{resource:a,fileKey:c}):(0,l.BZ)().cmty_rdp_creator_controls&&(o||(0,T.ZG)(u))?n.createElement(q,{resource:a}):n.createElement(s.F,null):n.createElement(y,{resource:a})}},356405:(e,t,a)=>{"use strict";a.d(t,{Y:()=>ex});var r=a(652983),n=a(407908),i=a(54055),l=a(496478),s=a(727803),o=a(70918),c=a(600486),d=a(993394),m=a(782051);function u(e){let t=r.useRef(null);return r.useEffect(()=>{let a=()=>{var a;window.innerHeight<((null==(a=t.current)?void 0:a.getBoundingClientRect().bottom)||1/0)||e.onScrollToBottom()};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[e]),r.createElement("div",{ref:t},e.children,e.showLoader&&r.createElement("div",{className:"infinite_scroll_container--loadingSpinner--UMKR8"},r.createElement(m.TK,null)))}function _(e){let{onScrollToBottom:t,children:a,showLoader:n}=e;return r.createElement(u,{onScrollToBottom:t,children:a,showLoader:n})}_.displayName="WithInfiniteScroll";var p=a(623046),g=a(177944),E=a(970740),h=a(968034),f=a(573196),v=a(283537),b=a(445311),y=a(84315),w=a(179640),T=a(646472),x=a(56090),N=a(552835),C=a(163381),S=a(111120),k=a(798462),I=a(809377),L=a(199344),R=a(512169);let A="comments_view--loader--tz-FD",O="comments-sort-dropdown",D="SHOW_RESOLVED",F=function({labelClassName:e,includeShowResolved:t,isLoggedIn:a}){var i;let l=(0,n.I0)(),s=(0,I.L)(),o=(0,n.v9)(e=>e.communityHub.comments.activeFeedType),d=(0,n.v9)(e=>e.communityHub.comments.showResolved),m=r.useRef(null),[u,_]=r.useState(null),p=(0,C.So)(),g=(null==s?void 0:s.type)===O,h={ALL:"All",ME:"Your comments",COMMENTS:"Comments only",RATINGS_REVIEWS:"Reviews only"},f=e=>{switch(e){case h.ALL:return(0,E.t)("community.comments.all");case h.ME:return(0,E.t)("community.comments.your_comments");case h.COMMENTS:return(0,E.t)("community.comments.comments_only");case h.RATINGS_REVIEWS:return(0,E.t)("community.comments.reviews_only");default:return""}},v=null==(i=null==s?void 0:s.data)?void 0:i.targetRect;r.useEffect(()=>{v&&_(v)},[v]);let b=Object.keys(h).filter(e=>a||e!==T.QN.ME).filter(e=>p||e!==T.QN.RATINGS_REVIEWS&&e!==T.QN.COMMENTS).map(e=>({displayText:f(h[e]),name:e,isChecked:e===o}));return t&&(b.push({displayText:"",separator:!0,name:void 0}),b.push({displayText:(0,E.t)("community.comments.show_resolved"),isChecked:d,name:D})),r.createElement("div",null,r.createElement("div",{onClick:e=>{e.stopPropagation();let t=m.current;g?l(S.kp()):t&&(_(t.getBoundingClientRect()),l(S.SP({type:O})))},className:e||"comments_view--commentsSortLabel--mpkGD"},f(h[o]),r.createElement(L.T,{className:"comments_view--commentsSortChevron--989-q",dispatch:l,dropdownKey:O,showingDropdown:g,divRef:m,toggleOnClick:!0})),g&&u&&r.createElement(R.z,{dispatch:l,items:b,parentRect:u,onSelectItem:e=>{(0,c.L9)("Comments Filter Changed",{thread_type:"community_preview",view:e.name}),e.name&&(e.name===D?l(k.KU(!d)):l(y.Bl(e.name)))},minWidth:164,showPoint:!0}))};var M=a(172497),P=a(768358),B=a(332224);let U=e=>{let t=e.getBoundingClientRect();return!t||t.top<window.scrollY+window.innerHeight?null:t.top};function V(e){let[t,a]=r.useState(U(e.commentTile));return r.useEffect(()=>{let t=(0,P.D)(()=>{a(U(e.commentTile))});return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[e.commentTile]),r.createElement("div",{className:t?"back_to_comment_button--backToButton--Vi6tE _overlayBase--_overlayBase--Rkj8l":"back_to_comment_button--backToButtonHidden--DXyR8 back_to_comment_button--backToButton--Vi6tE _overlayBase--_overlayBase--Rkj8l",onClick:e=>{if(e.stopPropagation(),t){let e=t-(0,M.z)(B.O9S)-(0,M.z)(B.yXy);window.scroll({behavior:"smooth",top:e,left:0})}}},"\u2193")}V.displayName="BackToCommentButton";var W=a(571529),G=a(435613),j=a(87608),H=a.n(j),$=a(925960),z=a(644383),K=a(418465);function Z(){return r.createElement(K.Ct,{text:(0,E.t)("community.comments.creator"),color:K.JV.TOOLBAR,className:"creator_badge--creatorBadge--P5vsL"})}var q=a(212984),Y=a(969838);function J({rating:e}){return r.createElement("div",{className:"rating_stars_static--staticStarContainer--Y46qc"},(()=>{let t=[];for(let a=0;a<5;a++)t.push(r.createElement("span",{key:`rating-star-${a}}`,className:q.cx.flex.$},a<e?r.createElement(Y.x8,null):r.createElement(Y.vw,null)));return t})())}var Q=a(445041),X=a(435804),ee=a(225468),et=a(121310),ea=a(158314),er=a(828867),en=a(345805),ei=a(793169);function el(e){return r.createElement("div",{className:e.containerClassName||"overlapping_face_pile--facePileContainer--2Ekxr",style:{height:`${e.size}px`}},e.entities.map((t,a)=>r.createElement("div",{className:"overlapping_face_pile--faceContainer--S6y2d",key:`facepile-${a}`,onClick:()=>e.onClick&&e.onClick(t)},r.createElement(er.Kn,{entity:t,size:e.size,className:e.onClick?"overlapping_face_pile--faceClickable--XpRRU overlapping_face_pile--face--rFkHL community_hub_view--creatorInsetBorderNoHover--sfqB- community_hub_view--creatorInsetBorder--trdtF community_hub_view--creatorInsetBorderNoHover--sfqB-":"overlapping_face_pile--face--rFkHL community_hub_view--creatorInsetBorderNoHover--sfqB-"}))))}var es=a(678099),eo=a(817462),ec=a(71013);let ed=a(323020),em=a(18834),eu=a(367128);function e_(e){let t;let{comment:a,author:l,userIsAuthor:o,isAuthorAcceptedPublisher:d}=e,[m,u]=r.useState(!1),_=r.useRef(null),p=(0,n.v9)(e=>e.dropdownShown),g=(0,n.I0)(),f=(0,X.A6)(),[v,b]=r.useState(!1),[y,w]=r.useState(null),I=(0,C.So)(),L=r.useCallback(()=>{(null==p?void 0:p.type)===s.fk&&g(S.kp())},[p,g]);r.useEffect(()=>(window.addEventListener("scroll",L,!1),()=>{window.removeEventListener("scroll",L,!1)}),[L]);let R=(0,h.X)(),A={};if(R&&(A.searchSessionId=R.searchSessionId),!a||!l)return r.createElement(r.Fragment,null);let O=async()=>{let t=await et.l.fadeOut(a.id);(0,T.yb)(a)&&(0,c.L9)(N.Qj,{id:null==a?void 0:a.id,message:null==a?void 0:a.message,ratingValue:null==a?void 0:a.rating_value,userId:l.primary_user_id,profileId:l.id,resourceType:e.resourceType,resourceId:e.resourceId,action:N.fN.DELETE},{forwardToDatadog:!0}),g(k.YF({commentId:a.id,commentType:e.commentType,onFinish:e=>{e?et.l.fadeIn(a.id):et.l.resetNextComment(t)}}))},D=e=>{e.preventDefault(),e.stopPropagation(),g(S.fv({view:"communityHub",subView:"handle",handle:l.profile_handle}))};if(v)return r.createElement(eo.Jk,{fallback:null,errorFallback:null,commentType:e.commentType,commentId:a.id,message:a.message,messageMeta:a.message_meta??[],ratingValue:a.rating_value,onComplete:()=>{(0,T.yb)(a)?(0,c.L9)(N.Qj,{id:null==a?void 0:a.id,message:null==a?void 0:a.message,ratingValue:null==a?void 0:a.rating_value,userId:l.primary_user_id,profileId:l.id,resourceType:e.resourceType,resourceId:e.resourceId,action:N.fN.EDIT,...A},{forwardToDatadog:!0}):(0,c.L9)(x.i,{commentId:null==a?void 0:a.id,message:null==a?void 0:a.message,userId:l.primary_user_id,profileId:l.id,resourceType:e.resourceType,resourceId:e.resourceId,...A},{forwardToDatadog:!0}),b(!1)}});let F=e=>{var t;let r=!!(null==(t=window.getSelection())?void 0:t.toString());if(!(!a.page_id||r||(0,i.UG)())){if(!(0,ei.TL)()){g(z.R.enqueue({type:"mobile-view-pinned-comment",message:(0,E.t)("community.comments.view_on_desktop_to_see_in_context")}));return}null==e||e.stopPropagation(),a.id!==f.commentThreadId&&g(Q.xi()),g(S.fv({...f,commentThreadId:a.id})),window.scroll({top:0,left:0,behavior:"smooth"})}},M=e.selected&&!e.isCreatorReply;t=a.page_id?M?ec.IK:ec.mW:M?ec.PG:ec.ar;let P=a.reply_count,B=!!(p&&p.type===s.fk&&p.data.commentId===a.id),U=P>0&&a.reply_comment_avatars.length>0,V=!!a.hidden_at&&!o,W=`/@${l.profile_handle}`;return r.createElement("div",{className:H()(t,{[ec.VO]:!!e.selected&&e.isCreatorReply,[ec.Vs]:!e.selected&&e.isCreatorReply,[ec.xT]:e.hideSeparator}),onClick:F,"data-comment-id":a.id,role:"button",tabIndex:0},r.createElement("a",{className:ec.q6,onClick:D,href:W},r.createElement(er.Kn,{entity:l,size:32,className:ec.MO}),a.page_id&&r.createElement(G.n,{className:ec.vT,svg:em,useOriginalSrcFills_DEPRECATED:!0})),r.createElement("div",{className:e.hideSeparator||M?ec.J6:ec.P5},r.createElement("div",{className:ec.U4},r.createElement("div",{className:ec.RP},r.createElement("div",null,r.createElement("a",{className:ec.A,onClick:D,href:W},r.createElement("span",{className:ec.Vb},l.name),r.createElement("span",{className:ec.Sz},`@${l.profile_handle}`)),d&&r.createElement(Z,null),r.createElement("span",{className:ec.e$},"\xb7"),r.createElement($.Lt,{className:ec.dQ,date:a.created_at})),r.createElement("div",{className:ec.l6},V&&r.createElement(G.n,{className:ec.Fo,svg:eu}),r.createElement("div",{className:ec.yS},r.createElement(ea.hU,{svg:ed,ref:_,onClick:e=>{let t=_.current;p?L():t&&(w(t.getBoundingClientRect()),g(S.SP({type:s.fk,data:{commentId:a.id}}))),e.stopPropagation()},className:B?ec.f3:ec.yS,"data-tooltip-type":ee.fR.TEXT,"data-tooltip":(0,E.t)("community.comments.comment_actions")})))),I&&(0,T.yb)(a)&&r.createElement(J,{rating:a.rating_value}),r.createElement("div",{className:V?ec.S3:ec.vs},r.createElement(en._H,{messageMeta:a.message_meta??[],className:ec.nu,showEditedIndicator:!!a.edited_at,commentId:a.id})),m&&r.createElement("div",{className:ec.tA},r.createElement(eo.Ms,{fallback:null,errorFallback:null,commentType:e.commentType,parentId:a.id,resourceId:e.resourceId,resourceType:e.resourceType,onSuccessCallback:()=>u(!1),onComplete:()=>u(!1)})),a.page_id&&r.createElement("div",{className:U?ec.Nd:ec.ld},U&&r.createElement(r.Fragment,null,r.createElement(el,{entities:a.reply_comment_avatars,size:26,containerClassName:ec.bj}),r.createElement("span",{className:ec.Bc},r.createElement(E.Tx,{id:"community.comments.pluralize_replies",numReplies:P}))),(0,ei.TL)()&&!(0,i.UG)()&&r.createElement(r.Fragment,null,U&&r.createElement("span",{className:ec.e$},"\xb7"),r.createElement("span",{className:ec.ej,"data-testid":"hub-file-comment-context-link"},r.createElement(E.Tx,{id:"community.comments.see_in_context"})))))),B&&y&&r.createElement(es.G,{parentRect:y,comment:a,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,onEdit:()=>{a.page_id&&(0,ei.TL)()?(F(),g(Q.D_({id:a.id,key:"",messageMeta:a.message_meta??[]}))):b(!0)},onDelete:O,hideCopyLink:!!a.parent_id,isThreadParent:P>0,onReply:(0,T.O7)(a)||0!==a.reply_count?void 0:()=>{u(!0)}}))}let ep=(0,n.$j)((e,t)=>{var a,r;let{comments:n}=e.communityHub,i=n.commentsById[t.id],l=t.replyId?n.commentsById[t.replyId]:void 0;if(!i)return{user:e.user||null};let s=n.authorsById[i.author.id],o=n&&n.selectedCommentId===i.id,c=l?n.authorsById[l.author.id]:void 0;return{user:e.user||null,comment:i,creatorReply:l,replyAuthor:c,author:s,userIsResponder:(null==c?void 0:c.id)===(null==(a=e.user)?void 0:a.community_profile_id),userIsAuthor:s.id===(null==(r=e.user)?void 0:r.community_profile_id),selected:o}})(function(e){return r.createElement(r.Fragment,null,r.createElement(e_,{id:e.id,user:e.user,comment:e.comment,author:e.author,selected:e.selected,userIsAuthor:e.userIsAuthor,commentType:e.commentType,isAuthorAcceptedPublisher:e.isAuthorAcceptedPublisher,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator||!!e.creatorReply,resourceType:e.resourceType,resourceId:e.resourceId}),!!e.replyId&&r.createElement(e_,{id:e.replyId,user:e.user,comment:e.creatorReply,author:e.replyAuthor,selected:e.selected,userIsAuthor:e.userIsResponder,commentType:e.commentType,isAuthorAcceptedPublisher:!0,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator,isCreatorReply:!!e.replyId,resourceType:e.resourceType,resourceId:e.resourceId}))});function eg(){return r.createElement("svg",{width:"288",height:"200",viewBox:"0 0 288 200",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("rect",{width:"288",height:"200",fill:"var(--color-bg, white)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M121.5 60.5C147.457 60.5 168.5 81.5426 168.5 107.5C168.5 133.457 147.457 154.5 121.5 154.5C113.522 154.5 106.013 152.514 99.4356 149.01L98.9861 148.77L77.5743 152.339L85.893 138.197L85.2249 137.387C78.5239 129.264 74.5 118.854 74.5 107.5C74.5 81.5426 95.5426 60.5 121.5 60.5ZM171.5 107.5C171.5 79.8858 149.114 57.5 121.5 57.5C93.8858 57.5 71.5 79.8858 71.5 107.5C71.5 119.197 75.5183 129.959 82.2484 138.476L71.7319 156.354L98.4789 151.896C105.371 155.477 113.201 157.5 121.5 157.5C149.114 157.5 171.5 135.114 171.5 107.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M196.932 119.342C203.847 110.959 208 100.215 208 88.5C208 61.7142 186.286 40 159.5 40C132.714 40 111 61.7142 111 88.5C111 115.286 132.714 137 159.5 137C167.729 137 175.48 134.95 182.27 131.334L206.347 135.347L196.932 119.342Z",fill:"var(--color-bg, white)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.901 38.8101C155.739 38.6052 157.608 38.5 159.5 38.5C161.392 38.5 163.261 38.6052 165.099 38.8101L164.767 41.7917C163.038 41.599 161.281 41.5 159.5 41.5C157.719 41.5 155.962 41.599 154.233 41.7917L153.901 38.8101ZM169.531 39.5067C173.248 40.2639 176.816 41.4337 180.184 42.9659L178.942 45.6966C175.777 44.2568 172.425 43.1578 168.932 42.4464L169.531 39.5067ZM138.816 42.9659C142.184 41.4337 145.752 40.2639 149.469 39.5067L150.068 42.4464C146.575 43.1578 143.223 44.2568 140.058 45.6966L138.816 42.9659ZM184.181 45.0062C187.446 46.863 190.481 49.0766 193.234 51.5939L191.209 53.8077C188.621 51.4405 185.767 49.3593 182.698 47.6141L184.181 45.0062ZM125.766 51.5939C128.519 49.0766 131.554 46.863 134.819 45.0062L136.302 47.6141C133.233 49.3593 130.379 51.4405 127.791 53.8077L125.766 51.5939ZM196.406 54.7662C198.923 57.5187 201.137 60.5541 202.994 63.8194L200.386 65.3023C198.641 62.2331 196.559 59.3792 194.192 56.7908L196.406 54.7662ZM116.006 63.8194C117.863 60.5541 120.077 57.5187 122.594 54.7662L124.808 56.7908C122.441 59.3792 120.359 62.2331 118.614 65.3023L116.006 63.8194ZM205.034 67.8159C206.566 71.1837 207.736 74.7516 208.493 78.4694L205.554 79.0681C204.842 75.5749 203.743 72.2228 202.303 69.0582L205.034 67.8159ZM110.507 78.4694C111.264 74.7516 112.434 71.1837 113.966 67.8159L116.697 69.0582C115.257 72.2228 114.158 75.5749 113.446 79.0681L110.507 78.4694ZM209.19 82.9007C209.395 84.7394 209.5 86.6077 209.5 88.5C209.5 90.5773 209.373 92.6257 209.127 94.6378L206.149 94.2732C206.381 92.3818 206.5 90.4552 206.5 88.5C206.5 86.719 206.401 84.9616 206.208 83.2331L209.19 82.9007ZM109.5 88.5C109.5 86.6077 109.605 84.7394 109.81 82.9007L112.792 83.2331C112.599 84.9616 112.5 86.719 112.5 88.5C112.5 90.281 112.599 92.0384 112.792 93.7669L109.81 94.0993C109.605 92.2606 109.5 90.3923 109.5 88.5ZM113.966 109.184C112.434 105.816 111.264 102.248 110.507 98.5306L113.446 97.9319C114.158 101.425 115.257 104.777 116.697 107.942L113.966 109.184ZM208.289 99.4872C207.378 103.549 205.973 107.424 204.14 111.045L201.464 109.69C203.186 106.287 204.506 102.647 205.361 98.8307L208.289 99.4872ZM122.594 122.234C120.077 119.481 117.863 116.446 116.006 113.181L118.614 111.698C120.359 114.767 122.441 117.621 124.808 120.209L122.594 122.234ZM198.752 119.476C199.804 118.144 200.79 116.758 201.705 115.321L199.174 113.71C198.136 115.34 197 116.902 195.775 118.387L195.107 119.197L199.002 125.818L201.588 124.297L198.752 119.476ZM134.819 131.994C131.554 130.137 128.519 127.923 125.766 125.406L127.791 123.192C130.379 125.559 133.233 127.641 136.302 129.386L134.819 131.994ZM204.277 128.87L209.268 137.354L201.801 136.11L202.294 133.15L203.426 133.339L201.692 130.391L204.277 128.87ZM182.014 129.77L186.816 130.571L186.323 133.53L182.521 132.896C181.385 133.487 180.224 134.034 179.039 134.538L177.865 131.777C179.128 131.241 180.361 130.651 181.564 130.01L182.014 129.77ZM198.361 135.536L189.762 134.103L190.255 131.144L198.854 132.577L198.361 135.536ZM149.469 137.493C145.752 136.736 142.184 135.566 138.816 134.034L140.058 131.303C143.223 132.743 146.575 133.842 150.068 134.554L149.469 137.493ZM175.78 135.789C173.059 136.726 170.231 137.434 167.32 137.892L166.855 134.928C169.59 134.498 172.247 133.833 174.804 132.953L175.78 135.789ZM159.5 138.5C157.608 138.5 155.739 138.395 153.901 138.19L154.233 135.208C155.962 135.401 157.719 135.5 159.5 135.5C160.881 135.5 162.248 135.44 163.598 135.324L163.856 138.313C162.42 138.437 160.967 138.5 159.5 138.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158 98H161L161 90H169V87L161 87L161 79H158L158 87L150 87V90H158L158 98Z",fill:"var(--color-icon-secondary, #BBBBBB)"}))}ep.displayName="CommentTile";let eE="comments_list--emptyStateWrapper--utBdd",eh="comments_list--emptyStateHeader--72NAJ text--fontPos13--xW8hS text--_fontBase--QdLsd",ef=a(379725);function ev(e){var t;let a=(0,n.v9)(e=>e.communityHub.comments.commentsById),o=(0,n.v9)(e=>e.communityHub.comments.showResolved),c=(0,n.v9)(e=>(0,i.Kk)(e.authedActiveCommunityProfile)),{parentCommentIds:d,replies:m}=function(e,t){let a=[],r={};return e.forEach(e=>{let n=t[e];if(n){let{parent_id:n}=t[e];n&&t[n]&&!(0,T.O7)(t[n])?r[n]=e:n||a.push(e)}}),{parentCommentIds:a,replies:r}}(e.comments,a),u=o?d:d.reduce((e,t)=>{var r;return(null==(r=a[t])?void 0:r.resolved_at)||e.push(t),e},[]),_=(0,f.yA)(e.resource);if(0===u.length&&!e.hasSelectedComment&&e.resource.comments_setting!==s.Br.ALL_DISABLED)return r.createElement(eb,{currentUserCanLeavePinnedComments:e.currentUserCanLeavePinnedComments,isTeamOrOrgProfileActive:c});let p=[];if((_===T._g.PLUGIN||_===T._g.WIDGET)&&(null==(t=e.resource)?void 0:t.versions)&&e.resource.current_plugin_version_id){let t=e.resource,n=t.versions[t.current_plugin_version_id].id;u.forEach(i=>{let s=a[i],o=null==s?void 0:s.resource_version_id,c=t.versions[o];if(o&&c){if(o!==n){let e=new Date(c.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"}),t=o===n&&c?void 0:`Version ${c.version} \xb7 ${e}`,a=p.pop();a&&p.push(r.cloneElement(a,{hideSeparator:!0})),p.push(r.createElement("div",{key:`divider-${o}`,className:"comments_list--versionDivider--NHliU text--fontPos11--2LvXf text--_fontBase--QdLsd"},t)),n=o}p.push(r.createElement(ep,{key:i,id:i,replyId:m[i],isAuthorAcceptedPublisher:(0,l.DO)(s,e.resource),commentType:e.commentType,resourceType:_,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}))}})}else p=u.map(t=>{let n=a[t];return r.createElement(ep,{key:t,id:t,replyId:m[t],isAuthorAcceptedPublisher:(0,l.DO)(n,e.resource),commentType:e.commentType,resourceType:_,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs})});return r.createElement(r.Fragment,null,p)}function eb({currentUserCanLeavePinnedComments:e,isTeamOrOrgProfileActive:t}){return t?r.createElement("div",{className:eE},r.createElement(eg,null),r.createElement("div",{className:eh},r.createElement(E.Tx,{id:"community.comments.to_comment_switch_to_your_personal_profile"}))):r.createElement("div",{className:eE},r.createElement(eg,null),r.createElement("div",{className:eh},r.createElement(E.Tx,{id:"community.comments.your_kudos_and_feedback_are_welcome"})),r.createElement("div",{className:"comments_list--emptyStateSubheader--L5hsL text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement(E.Tx,{id:"community.comments.share_your_thoughts_using_the_comment_box_above"}),r.createElement("br",null),e&&!W.K1&&r.createElement(r.Fragment,null,r.createElement(E.Tx,{id:"community.comments.to_pin_a_comment_to_a_specific_spot_on_the_design_click_the_comment_icon_button",svg:r.createElement(G.n,{className:"comments_list--emptyStatePinnedIcon--a6068",svg:ef,title:(0,E.t)("community.comments.comment_icon"),role:"img",ariaLabel:(0,E.t)("community.comments.comment_icon"),autosize:!0}),lineBreak:r.createElement("br",null)}))))}var ey=a(773815);let ew=!1;function eT(e){var t,a;let s=(0,n.I0)(),m=(0,o.xJ)(),[u,C]=(0,r.useState)(!1),[S,k]=(0,r.useState)(null),[I,L]=(0,r.useState)(!1),[R,O]=(0,r.useState)(!0),D=(0,v.Vf)(m,e.resource),M=r.useRef(null),P=(0,n.v9)(e=>"communityHub"===e.selectedView.view&&"hubFile"===e.selectedView.subView&&e.selectedView.fullscreenState&&(0,w.Kf)(e.selectedView.fullscreenState)),B=(0,n.v9)(e=>e.communityHub.comments.activeFeedType),U=(0,n.v9)(e=>e.communityHub.comments.commentsById),W=(0,n.v9)(e=>e.communityHub.comments.newCommentsQueue),G=(0,n.v9)(e=>e.communityHub.comments.feeds),{feed:j,pagination:H}=r.useMemo(()=>G[B]||{feed:[]},[G,B]),$=(0,n.v9)(e=>e.communityHub.comments.selectedCommentId),z=(0,n.v9)(e=>e.selectedView.commentThreadId),K=(0,n.v9)(e=>{var t;return!!(null==(t=e.user)?void 0:t.community_profile_id)}),Z=$||z,q=Z&&U[Z],Y=B===T.QN.ALL?e.numCommentsForResource:null==(t=G[B])?void 0:t.totalNumberOfComments,{resource:J}=e,Q=(0,f.yA)(J),X=Q===T._g.HUB_FILE&&(0,i.e_)(J),ee=!!(null==q?void 0:q.page_id),ea=W.length>0,er=()=>{if(ew)return;ew=!0,C(!0);let e={resourceId:J.id,resourceType:Q,selectedCommentId:Z,pagination:H,activeFeedType:B,pinnedOnly:!1,numCommentsForResource:Y};s(y.tH({...e,onSuccess:e=>{s(y._t(e)),ew=!1,C(!1)},onError:()=>{ew=!1,C(!1)}}))},en=void 0===H&&(0,i.ku)(J);r.useEffect(()=>{en&&er()},[B,en]);let ei=!!H,el=null==H?void 0:H.selected_comment;r.useEffect(()=>{R&&el&&(el.page_id?window.scroll({left:0,top:0,behavior:"smooth"}):M.current&&window.scroll({left:0,top:M.current.offsetTop-36,behavior:"smooth"}),O(!1))},[R,el]),r.useEffect(()=>{k(Z&&ee&&!P&&(0,et.X)(Z)||null)},[Z,ee,P]),r.useEffect(()=>{s(y.uq())},[J.id]);let es=()=>ei&&(0,d.p$)({pagination:H})&&er(),ec=j.filter(e=>{var t;return e!==(null==(t=null==H?void 0:H.selected_comment)?void 0:t.id)});(null==H?void 0:H.selected_comment)&&ec.unshift(null==H?void 0:H.selected_comment.id);let ed=!!D&&!(null==D?void 0:D.userRating)&&!!(null==m?void 0:m.id)&&!(0,l.xv)(e.resource,null==m?void 0:m.id),em=(0,T.vu)(J)?(0,E.t)("community.star_ratings.you_can_rate_this_resource_after_purchasing_and_trying"):(0,E.t)("community.star_ratings.you_can_rate_this_resource_after_you_try_it_out"),eu=(0,h.X)(),e_={};return(eu&&(e_.searchSessionId=eu.searchSessionId),(0,i.ku)(J))?r.createElement(r.Fragment,null,r.createElement("div",{className:"comments_view--commentsViewWrapper--SURB9",ref:M},!e.commentingIsRestricted&&r.createElement(eo.jW,{fallback:null,errorFallback:null,commentType:e.commentType,resourceType:Q,resourceId:J.id,showRatingSelector:ed,ratingSelectorDisabled:!(null==D?void 0:D.canRate),ratingSelectorTooltip:(null==D?void 0:D.canRate)?void 0:em,onSuccessCallback:e=>{(0,T.yb)(e)?(0,c.L9)(N.Qj,{id:null==e?void 0:e.id,message:null==e?void 0:e.message,ratingValue:null==e?void 0:e.rating_value,userId:null==m?void 0:m.id,profileId:null==m?void 0:m.community_profile_id,resourceType:Q,resourceId:J.id,action:N.fN.CREATE,...e_},{forwardToDatadog:!0}):(0,c.L9)(x.A,{commentId:null==e?void 0:e.id,message:null==e?void 0:e.message,userId:null==m?void 0:m.id,profileId:null==m?void 0:m.community_profile_id,resourceType:Q,resourceId:J.id,...e_})}}),r.createElement("div",{className:"comments_view--commentsListHeader--3uRw8 text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"comments_view--numCommentsForResource--J0QKb"},(a=Y||0,(0,E.t)("community.comments.pluralize_comments",{numComments:a}))),!P&&!e.commentingIsRestricted&&r.createElement(F,{includeShowResolved:X,isLoggedIn:K})),r.createElement(g.X,{onIntersectionChange:e=>{I||(L(!0),(0,c.L9)("Community Comments Section Impressed",{resourceType:Q,resourceId:J.id}))}}),r.createElement(b.c9,null,r.createElement(p.u,{isLoading:void 0===H,className:A},()=>r.createElement(_,{onScrollToBottom:es,showLoader:u&&(0,d.p$)({pagination:H})},r.createElement(ev,{comments:ec,commentType:e.commentType,resource:J,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,currentUserCanLeavePinnedComments:e.currentUserCanLeavePinnedComments,hasSelectedComment:!!(null==H?void 0:H.selected_comment)})))),r.createElement(b.is,null,r.createElement(p.u,{isLoading:void 0===H,className:A},()=>r.createElement(r.Fragment,null,r.createElement(ev,{comments:ec,commentType:e.commentType,resource:J,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,currentUserCanLeavePinnedComments:e.currentUserCanLeavePinnedComments}),(0,d.p$)({pagination:H})&&r.createElement("div",{className:"comments_view--mobileLoadMore--tqxIs text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:es},r.createElement(E.Tx,{id:"community.comments.load_more_comments"})))))),r.createElement("div",{className:"comments_view--notifications--ZuAh9"},!!S&&r.createElement(V,{commentTile:S}),r.createElement(ey.F,{onRefresh:()=>{var e;let t=null==(e=M.current)?void 0:e.offsetTop;t&&window.scrollY>t&&window.scroll({top:t,left:0,behavior:"smooth"})},isShowing:ea}))):null}function ex({resource:e}){var t;let a=(0,o.xJ)(),c=(0,n.v9)(t=>(0,l.to)(t,e)),d=c>=l.xr.ADMIN,m=d&&((null==(t=(0,i.v$)(e))?void 0:t.id)||(null==a?void 0:a.community_profile_id))||null,u=(0,n.v9)(e=>e.authedActiveCommunityProfile),_=(0,f.yA)(e);return r.createElement(eT,{commentType:s.i4.COMMUNITY,resource:e,numCommentsForResource:e.comment_count,profileIdToAdminResourceAs:m,commentingIsRestricted:!(0,i.FA)(a,e)||(0,i.Kk)(u),currentUserCanLeavePinnedComments:"hub_file"===_&&(0,i.CZ)(a,e,u)})}},331094:(e,t,a)=>{"use strict";a.d(t,{K:()=>O});var r=a(652983),n=a(407908),i=a(716250),l=a(571529),s=a(618723),o=a(970740),c=a(746600),d=a(289629),m=a(369874),u=a(286071),_=a(149034),p=a(496478),g=a(70918),E=a(179640),h=a(339531),f=a(646472),v=a(215698),b=a(721127),y=a(505468);class w extends r.Component{constructor(){super(...arguments),this.unpublish=()=>{this.props.dispatch(v.UK({hubFileId:this.props.hubFileId,redirectLink:this.props.redirectToAfterUnpublish}))},this.showUnpublishModal=()=>{let e=this.props.isMonetized?(0,o.t)("community.hub_files.delist_file_from_community_hub"):(0,o.t)("community.hub_files.remove_file_from_community_hub"),t=this.props.isMonetized?(0,o.t)("community.hub_files.delisting_this_resource_will_prevent_people_from_discovering_or_purchasing_this_resource"):(0,o.t)("community.hub_files.unpublishing_this_file_will_remove_it_from_the_community_hub_and_prevent_people_from_finding_and_using_this_file"),a=this.props.isMonetized?(0,o.t)("community.resource.delist"):(0,o.t)("community.resource.unpublish");this.props.dispatch(b.K4({type:y.lN,data:{confirmationTitle:e,content:t,confirmText:a,cancelText:(0,o.t)("general.cancel"),onConfirm:this.unpublish,destructive:!0,dispatch:this.props.dispatch}}))}}render(){let e=this.props.isMonetized?(0,o.t)("community.resource.delist"):(0,o.t)("community.resource.unpublish");return r.createElement(s.rU,{className:this.props.className?this.props.className:"hub_file_unpublish_link--unpublishLink--DVqgB",onClick:this.showUnpublishModal,trusted:!0},e)}}w.displayName="HubFileUnpublishLink";let T=(0,n.$j)()(w);var x=a(401649),N=a(793169),C=a(244311),S=a(105643),k=a(533537),I=a(465883),L=a(692765);function R(e){let t=(0,n.I0)(),a=(0,n.v9)(e=>e.currentUserOrgId);return r.useEffect(()=>{(0,f.sg)(e.resource)?t(v.CI({hubFileId:e.resource.id})):t(C.cD({id:e.resource.id,resourceType:(0,f.bH)(e.resource)?f.Xh.PLUGIN:f.Xh.WIDGET}))},[t,e.resource,a]),r.createElement(s.Cr,{className:L.fF,onClick:a=>{a.stopPropagation(),(0,f.sg)(e.resource)&&e.fileKey?t((0,S.I)({fileKey:e.fileKey,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:I.jS.RESOURCE_PAGE})):t((0,k.M)({publishedPluginId:e.resource.id,entryPoint:I.jS.RESOURCE_PAGE}))},trackingEventName:"Detail View - Edit This Page",trusted:!0},r.createElement(o.Tx,{id:"community.resource.edit_this_page"}))}let A="metadata_additional_actions_logged_in--link--Hgvm- text--fontPos13--xW8hS text--_fontBase--QdLsd";function O({resource:e}){var t;let a=(0,n.I0)(),s=(0,n.v9)(e=>e.authedActiveCommunityProfile),o=(0,n.v9)(t=>(0,p.to)(t,e)),m=(0,n.v9)(t=>"install_count"in e?(0,_.eK)(t,e):null),v=(0,n.v9)(t=>"install_count"in e?(0,p.Zq)(t,e):null),b=p.UJ.includes(o)&&((null==(t=e.community_publishers)?void 0:t.accepted)||[]).length>1&&(null==s?void 0:s.primary_user_id),y=r.useCallback(()=>{(0,f.sg)(e)?a((0,u.UL)({hub_file_id:e.id})):(0,f._4)(e)?a((0,u.UL)({widget_id:e.id})):a((0,u.UL)({plugin_id:e.id}))},[a,e]),w=(0,f.vu)(e),T=(0,c.i)(e),x=(0,g.xJ)(),C=(0,f.sg)(e)?(0,E.D3)(e):(0,h.hb)(e);return r.createElement(r.Fragment,null,!(0,i.BZ)().cmty_rdp_creator_controls&&!(0,f.sg)(e)&&!l.K1&&null!==m&&(v||(0,_.ZG)(m))&&r.createElement(R,{resource:e}),!(0,i.BZ)().cmty_rdp_creator_controls&&(0,f.sg)(e)?r.createElement(D,{resource:e}):null,b&&r.createElement(N.vZ,{onClick:y,className:A}),w&&(0,d.lq)(T)&&r.createElement(N.Fk,{resource:e,payment:T}),w&&x&&(0,d.lq)(T)&&(0,d.yg)(T)&&r.createElement(N.Kf,{user:x,name:C.name,monetizedResource:e.monetized_resource_metadata}))}function D({resource:e}){var t;let a=(0,n.v9)(t=>(0,p.to)(t,e)),i=(0,n.v9)(t=>(0,p.ZP)(t,e,a)),l=!!e.fig_file_metadata,c=null==(t=e.fig_file_metadata)?void 0:t.key;if(!i)return null;let d=(0,x.J$)(e.publisher.profile_handle),u=(0,f.vu)(e);return r.createElement(r.Fragment,null,!!c&&r.createElement(s.Cr,{className:A,target:"_blank",href:`/file/${c}`,trusted:!0},r.createElement(o.Tx,{id:"community.hub_files.open_original_file"})),l&&!(0,m.dE)(e)&&r.createElement(T,{className:A,hubFileId:e.id,redirectToAfterUnpublish:d,isMonetized:u}))}},620370:(e,t,a)=>{"use strict";a.d(t,{M:()=>n});var r=a(652983);function n(e){return r.createElement("div",{className:"metadata_section--metadataSection--3wssk ellipsis--ellipsis--Tjyfa"},e.title&&r.createElement("div",{className:"metadata_section--subheader--Zk7ID"},e.title),r.createElement("div",{className:"metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children))}},525575:(e,t,a)=>{"use strict";a.d(t,{u:()=>m});var r=a(600486),n=a(239299),i=a(448501),l=a(31642),s=a(218609),o=a(966922),c=a(310975),d=a(133354);let m=(0,s.u4)(async(e,t,{loadingKey:a})=>{var s;let m=t.user.stripe_account_status===c.Sc.STARTED_ONBOARDING?"stripe_onboarding_continue":"stripe_onboarding_start";(0,r.L9)(m,{userId:t.user.id,entrypoint:t.selectedView.subView});try{let r=l.ZP.post("/api/community/seller/onboard",{accepted_seller_tos:!0,is_desktop:!!n.YO,first_name:t.firstName,last_name:t.lastName,address:t.address,vat_id:t.vatId});(0,o.m)(r,e,a);let c=await r;if(!(null==(s=null==c?void 0:c.data)?void 0:s.meta)){t.callback(!1);return}let m=c.data.meta;n.YO?e.dispatch((0,d.IO)({rawInput:m})):i.default.unsafeRedirect(m),setTimeout(()=>{t.callback(!0)},1e3)}catch(e){t.callback(!1)}})},149034:(e,t,a)=>{"use strict";a.d(t,{ZG:()=>c,eK:()=>s,vy:()=>o});var r,n=a(761767),i=a(617406),l=((r=l||{})[r.NONE=0]="NONE",r[r.PENDING=1]="PENDING",r[r.ACCEPTED=2]="ACCEPTED",r[r.ADMIN=3]="ADMIN",r);function s(e,t){let{user:a}=e,{plugin_publishers:r}=t;if(!r||!a)return 0;let{accepted:l,pending:s}=r;if(l.some(e=>e.id===a.id))return 2;if(s&&s.some(e=>e.id===a.id))return 1;let o=(0,i.YM)(e);return o&&o.permission===n.Gu.ADMIN&&o.org_id===t.org_id?3:0}function o(e){return 1===e}function c(e){return 2===e||3===e}},56090:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,i:()=>n});let r="community_comment_creation",n="community_comment_edit"},71732:(e,t,a)=>{"use strict";a.d(t,{n:()=>_});var r=a(652983),n=a(407908);a(716250);var i=a(618723),l=a(435613),s=a(970740),o=a(721127),c=a(983996),d=a(573990);let m=a(160265);a(622928);class u extends r.Component{constructor(){super(...arguments),this.getBannerText=()=>{var e,t,a,r,n;let i={strongText:"",ctaPreText:""},l=(0,s.t)("community.banner.a_space_for_figma_users_to_share_things_they_create"),o=(0,s.t)("community.banner.community_is_a_space_for_figma_users_to_share_things_they_create");if(i={strongText:(0,s.t)("community.banner.this_is_the_figma_community"),ctaPreText:l},this.props.profile?((null==(e=this.props.user)?void 0:e.community_profile_handle)?this.props.profile.id===(null==(t=this.props.user)?void 0:t.community_profile_id)?i.strongText=(0,s.t)("community.banner.this_is_your_figma_community_profile"):(i.strongText="",i.ctaPreText=""):i.strongText=(0,s.t)("community.banner.this_is_a_figma_community_profile"),i.ctaPreText=o):this.props.selectedView&&"communityHub"===this.props.selectedView.view&&("hubFile"===this.props.selectedView.subView?(i.strongText=(0,s.t)("community.banner.this_is_a_figma_community_file"),i.ctaPreText=o):"plugin"===this.props.selectedView.subView?(i.strongText=(0,s.t)("community.banner.this_is_a_figma_community_plugin"),i.ctaPreText=o):"widget"===this.props.selectedView.subView&&(i.strongText=(0,s.t)("community.banner.this_is_a_figma_community_widget"),i.ctaPreText=o)),this.props.user){this.props.user.community_profile_handle?this.props.selectedView&&"communityHub"===this.props.selectedView.view&&(null==(a=this.props.selectedView)?void 0:a.subView)==="plugin"&&(i.showPluginDocsCta=!0):i.showProfileCta=!0;let e=(null==(r=this.props.selectedView)?void 0:r.view)==="communityHub"&&(null==(n=this.props.selectedView)?void 0:n.subView)==="landing";e||(i.ctaPreText="")}else i.showAccountCta=!0;return i},this.onProfileCreateClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.user&&this.props.dispatch(o.K4({type:c.Bh,data:{userId:this.props.user.id}}))}}render(){let{strongText:e,ctaPreText:t,showPluginDocsCta:a,showProfileCta:n,showAccountCta:o}=this.getBannerText();return e||t||a||n||o?r.createElement("div",{className:this.props.className||""},r.createElement("div",{className:d.Cg},r.createElement("div",{className:d.Fu},r.createElement(l.n,{svg:m,className:d.kn})),r.createElement("span",null,r.createElement("span",{className:d._8},e," "),r.createElement("span",null,t," "),n&&r.createElement(r.Fragment,null,r.createElement(s.Tx,{id:"community.banner.to_follow_creators_and_like_resources",link:r.createElement(i.rU,{onClick:this.onProfileCreateClick,className:d.p4,trusted:!0},(0,s.t)("community.banner.create_your_own_profile"),"\xa0\u2192"," ")})),o&&r.createElement(i.rU,{href:"https://www.figma.com/signup",target:"_blank",className:d.p4,trusted:!0},(0,s.t)("community.banner.get_started_with_a_free_account"),"\xa0\u2192"," "),a&&r.createElement(r.Fragment,null,r.createElement(s.Tx,{id:"community.banner.to_create_your_own_plugin",link:r.createElement(i.rU,{href:"https://www.figma.com/plugin-docs",target:"_blank",className:d.p4,trusted:!0},(0,s.t)("community.banner.visit_the_docs"),"\xa0\u2192"," ")}))))):null}}u.displayName="CommunityBetaPromoBannerInner";let _=(0,n.$j)((e,t)=>({selectedView:e.selectedView,user:e.user}))(u)},508140:(e,t,a)=>{"use strict";a.d(t,{T:()=>w});var r=a(652983),n=a(407908),i=a(600802),l=a(519781),s=a(618723),o=a(782051),c=a(313653),d=a(970740),m=a(525575),u=a(564621),_=a(435804),p=a(70918),g=a(697709),E=a(17158),h=a(326714),f=a(291904),v=a(505468),b=a(779829),y=a(167484);let w=(0,f.Y3)(function(e){let t=(0,n.I0)(),a=(0,p.xJ)(),f=(0,_.A6)(),w=(0,E._)(),[T,x]=r.useState(""),[N,C]=r.useState(""),[S,k]=r.useState((0,h.oX)()),[I,L]=r.useState(""),[R,A]=r.useState(!0),[O,D]=r.useState(!1);return(0,u.m)(),r.createElement(v.u_,{className:"collect_tax_info_modal--container--F6VXQ",dispatch:t},r.createElement(l.ol,{dispatch:t}),r.createElement("div",{className:"collect_tax_info_modal--title--wFmJh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},r.createElement(d.Tx,{id:"community.seller.collect_tax_info_modal.title"})),r.createElement("div",{className:"collect_tax_info_modal--body--M1wrr text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(d.Tx,{id:"community.seller.collect_tax_info_modal.body"})),r.createElement("div",null,r.createElement(s.hI,{value:T,htmlName:"firstName",label:(0,d.t)("community.seller.collect_tax_info_modal.first_name"),onChange:e=>{x(e.target.value)},trackingFieldName:"First name",dataTestId:"first-name"}),r.createElement(s.hI,{value:N,htmlName:"lastName",label:(0,d.t)("community.seller.collect_tax_info_modal.last_name"),onChange:e=>{C(e.target.value)},trackingFieldName:"Last name",dataTestId:"last-name"}),r.createElement(b.k,{updateAddress:k,address:S,countryCodesOverride:g.oU,dontSeeYourCountryLink:"https://help.figma.com/hc/articles/12067637274519-About-selling-Community-resources#What_countries_are_supported?"}),r.createElement(y.Z,{onChange:L,country:S.country,setIsVatIdValid:A,vatId:I,isCommunityCheckout:!0})),r.createElement(i.DF,{className:"collect_tax_info_modal--button--ZOQrQ text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>{if(!a)return;if(!T){t(c.l.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_first_name")));return}if(!N){t(c.l.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_last_name")));return}let{line1:r,city:n,country:i,region:l,postal_code:s}=S;if(!r||!n||!i||!s||"US"===i&&!l){t(c.l.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_address")));return}if(I&&!R){t(c.l.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_vat_id")));return}D(!0),t(m.u({user:a,callback:t=>{e.setupStripeCallback(t),D(!1),t&&w()},selectedView:f,firstName:T,lastName:N,address:S,vatId:I}))}},r.createElement("div",{className:"collect_tax_info_modal--buttonContent--Nsj1d"},O&&r.createElement("div",{className:"collect_tax_info_modal--loadingIcon--iCbii"},r.createElement(o.TK,{shouldMatchTextColor:!0})),r.createElement(d.Tx,{id:"community.seller.collect_tax_info_modal.continue_to_stripe"}))))},"CommunityCollectTaxInfoModal")},793169:(e,t,a)=>{"use strict";a.d(t,{Fk:()=>C,Kf:()=>N,Lz:()=>w,TL:()=>y,Z7:()=>x,vZ:()=>k});var r,n=a(652983),i=a(407908),l=a(172497),s=a(618723);a(714288);var o=a(970740);a(620370);var c=a(44571),d=a(721127);a(496478);var m=a(936561),u=a(70918);a(761767);var _=a(646472),p=a(147298);a(71732),a(801068);var g=a(401649),E=a(617406),h=a(412596),f=a(332224),v=a(692765);a(405777);let b=(0,l.z)(f.qcO),y=()=>window.innerWidth>=b;function w(e){return n.createElement("div",{className:v.it},n.createElement("p",null,e.label),n.createElement(s.PL,{onClick:e.onClickDecline,className:v.Eq},n.createElement(o.Tx,{id:"community.detail_view.decline"})),n.createElement(s.DF,{onClick:e.onClickAccept,className:v.Eq},n.createElement(o.Tx,{id:"community.detail_view.accept"})))}class T extends n.PureComponent{constructor(){super(...arguments),this.getSubjectBodyForResource=()=>(0,_.sg)(this.props.resource)?{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_file"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_file_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.oj)(this.props.resource.id)})}:(0,_._4)(this.props.resource)?{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_widget"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_widget_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.iA)(this.props.resource.id)})}:{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_plugin"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_plugin_for_violating_the_plugin_guidelines_resource_url",{resourceUrl:(0,g.tu)(this.props.resource.id)})}}render(){let{resourceSubject:e,resourceBody:t}=this.getSubjectBodyForResource(),a=t;return a=`${a}${this.props.user?`
${(0,o.t)("community.reporting.my_figma_user_id_is_user_id",{userId:this.props.user.id})}`:""}
${(0,o.t)("community.reporting.add_your_description_here")}`,n.createElement(s.rU,{href:`mailto:content-reviews@figma.com?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(a)}`,className:v.WO,trusted:!0},n.createElement(o.Tx,{id:"community.detail_view.report_resource"}))}}function x(){let e=(0,u.xJ)();return e?n.createElement(s.Cr,{className:v.fF,trackingEventName:"Detail View - Report Resource",onClick:()=>{(0,c.uc)(e)},trusted:!0},n.createElement(o.Tx,{id:"community.detail_view.report_resource"})):null}function N(e){let{user:t,name:a,monetizedResource:r}=e,l=(0,i.I0)();return n.createElement(s.Cr,{className:v.fF,trackingEventName:"Detail View - Request Refund",onClick:()=>{l((0,d.K4)({type:h.dG,data:{user:t,name:a,monetizedResource:r}}))},trusted:!0},n.createElement(o.Tx,{id:"community.buyer.request_refund"}))}function C(e){let t=(0,m.R8)(e.resource),a="Detail View - View Order Details",r=(0,o.t)("community.buyer.view_order_details");return(0,p.Nn)(e.resource.monetized_resource_metadata)&&(a="Detail View - Manage Subscription",r=(0,o.t)("community.buyer.manage_subscription")),n.createElement(s.Cr,{className:v.fF,onClick:()=>t(),trackingEventName:a,trusted:!0},r)}(0,i.$j)(e=>({hasOrgs:(0,E.bg)(e),teams:Object.keys(e.teams).map(t=>e.teams[t]),user:e.user}))(T);var S=((r=S||{})[r.PROMO=0]="PROMO",r[r.PAID=1]="PAID",r);function k(e){return n.createElement(s.rU,{className:e.className,onClick:e.onClick,trusted:!0},n.createElement(o.Tx,{id:"community.detail_view.remove_myself_as_creator"}))}},330386:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,W:()=>m});var r=a(652983),n=a(435613),i=a(970740);let l="disclaimer_banner--bannerTextLineForTwoLines--seCmu",s="disclaimer_banner--bannerTextLine--CSIV-",o=a(328630),c=a(188303),d="dismissed_org_disclaimer_banner";function m(e){return r.createElement("div",{className:"disclaimer_banner--bannerContainer--5VW87"},r.createElement("div",{className:e.twoLine?"disclaimer_banner--bannerForTwoLines--a86e2 disclaimer_banner--banner--R1Xp4":"disclaimer_banner--banner--R1Xp4",style:e.width?{width:e.width}:{}},r.createElement("div",{className:e.twoLine?"disclaimer_banner--bannerTextContainerForTwoLines--ICNoe disclaimer_banner--bannerTextContainer--PHjMb":"disclaimer_banner--bannerTextContainer--PHjMb"},r.createElement("div",{className:"disclaimer_banner--sparkleIcon--k0lMd"},r.createElement(n.n,{width:"17px",height:"17px",svg:c})),r.createElement("div",{className:"disclaimer_banner--bannerText--9yp3W"},r.createElement("span",{className:e.twoLine?l:s},r.createElement(i.Tx,{id:"universal_upgrade.org_disclaimer_text_for_international_currencies_line_one",currency:e.currency.toUpperCase()})),r.createElement("span",{className:e.twoLine?l:s},r.createElement(i.Tx,{id:"universal_upgrade.org_disclaimer_text_for_international_currencies_line_two",currency:e.currency.toUpperCase()})))),!e.hideClose&&r.createElement("button",{className:"disclaimer_banner--closeButton--YPGWi",onClick:e.onClose},r.createElement(n.n,{width:"10px",height:"10px",svg:o}))),!e.hideClose&&r.createElement("div",{className:"disclaimer_banner--bannerArrow--Pxjiu",style:e.arrowPosition?{left:e.arrowPosition}:{}}))}},881209:(e,t,a)=>{"use strict";a.d(t,{w:()=>h});var r=a(652983),n=a(407908),i=a(87608),l=a.n(i),s=a(594619),o=a(435613),c=a(970740),d=a(111120),m=a(131826),u=a(13155);let _=a(609708),p="CART_CURRENCY_SWITCHER_DROPDOWN_TYPE",g={jpy:{currency:"jpy",optionLeft:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.japanese_yen"}),optionRight:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.jpy_symbol"}),headerShort:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_jpy"}),headerLong:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_jpy"})},usd:{currency:"usd",optionLeft:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.us_dollar"}),optionRight:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.usd_symbol"}),headerShort:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_usd"}),headerLong:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_usd"})},eur:{currency:"eur",optionLeft:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.european_euro"}),optionRight:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.eur_symbol"}),headerShort:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_eur"}),headerLong:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_eur"})},cad:{currency:"cad",optionLeft:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.cad_dollar"}),optionRight:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.cad_symbol"}),headerShort:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_cad"}),headerLong:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_cad"})},gbp:{currency:"gbp",optionLeft:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.british_pound"}),optionRight:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher_option.gbp_symbol"}),headerShort:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.short_pricing_in_gbp"}),headerLong:r.createElement(c.Tx,{id:"universal_upgrade.currency_switcher.pricing_in_gbp"})}},E=Object.keys(g);function h(e){let t=r.useRef(null),a=(0,n.I0)(),i=(0,n.v9)(e=>e.dropdownShown),s=(null==i?void 0:i.type)===p,c=E.filter(t=>e.supportedCurrencies.includes(t)),m=g[e.currency];return r.createElement("div",{className:"currency_switcher--dropdownContainer--kBXA8 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:e=>{e.stopPropagation(),s?a(d.kp()):(null==t?void 0:t.current)&&a(d.SP({type:p,data:{targetRect:t.current.getBoundingClientRect()}}))},role:"button",tabIndex:0,style:null!==e.paddingOverride?{paddingRight:e.paddingOverride}:{}},r.createElement("span",{className:"currency_switcher--displayedCurrency--RCEKJ"},e.shortFormDisplay?m.headerShort:m.headerLong),r.createElement("div",{className:"currency_switcher--caretContainer--Wl2zn",ref:t},r.createElement(o.n,{svg:_,className:l()("currency_switcher--caret--NdaLG",s?"currency_switcher--caretDown--5slgk":"")})),s&&r.createElement(u.AQ,{targetRect:e.dropdownShown.data.targetRect,lean:"left",minWidth:225,maxWidth:225,showPoint:!1,propagateCloseClick:!0},c.map(t=>r.createElement(f,{key:t,onClick:e.changeCurrency.bind(null,t),currency:t,trackingProperties:{prevCurrencyCode:e.currency,newCurrencyCode:t},trackingEventName:"currency_toggled"}))))}E.sort((e,t)=>"usd"===e?1:"usd"===t?-1:e.localeCompare(t));let f=(0,m.z7)(function(e){let t=g[e.currency];return r.createElement(s.j.Option,{onClick:e.onClick},r.createElement("div",{className:"currency_switcher--dropdownOption--LqBUy"},r.createElement("div",null,t.optionLeft),r.createElement("div",null,t.optionRight)))})},722365:(e,t,a)=>{"use strict";a.d(t,{Y_:()=>N,hs:()=>x});var r=a(652983),n=a(407908),i=a(716250),l=a(669277),s=a(618723),o=a(782051),c=a(970740),d=a(48518),m=a(721127),u=a(131826),_=a(728443),p=a(761767),g=a(862610),E=a(958550),h=a(818709),f=a(291904),v=a(236750),b=a(383846),y=a(64488),w=a(923393),T=a(896169);let x=(0,f.Y3)(function(e){let t=(0,n.I0)(),a=(0,l.mU)(g.TeamPermissions,{teamId:e.team.id}),i=r.useMemo(()=>(0,E.hb)(a),[a]),s=i&&i.workspace?{id:i.workspace.id,name:i.workspace.name,imgUrl:i.workspace.imgUrl}:void 0,_=()=>{t(m.hV()),t(d.mc())};return r.createElement(u.Ui,{name:"Team Access Modal",properties:{resourceType:p._g.TEAM,resourceId:e.team.id}},r.createElement(v.ge,{title:r.createElement(r.Fragment,null,e.goBack?r.createElement(w.i,{title:(0,c.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):r.createElement("div",{className:T.M$},r.createElement("p",null,r.createElement(c.Tx,{id:"team_view.team_permissions_modal.access_settings"})))),isCloseHidden:!1,maxWidth:E.UC,fixedTop:!0,onClose:_},i?i.org&&r.createElement(N,{team:e.team,org:i.org,teamSharingSettings:i.teamSharingSettings,hideModal:_,workspace:s}):r.createElement(o.jz,{className:T.V_})))},"TeamAccessModal");function N(e){var t,a;let l=(0,E.IQ)((null==(t=e.team)?void 0:t.id)||null,(null==(a=e.org)?void 0:a.id)||null),o=l&&(0,i.BZ)().sc_workspace_audience,d=(0,n.I0)(),m=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===p.I1.ORG_EDIT||t===p.I1.ORG_VIEW?y.x_.ORG:t===p.I1.WORKSPACE_EDIT||t===p.I1.WORKSPACE_VIEW?y.x_.WORKSPACE:y.x_.INVITE_ONLY},[e.teamSharingSettings]),u=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return h.X_.HIDDEN;return h.X_.ORG_BROWSABLE},[e.teamSharingSettings]),g=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===p.I1.ORG_EDIT||t===p.I1.WORKSPACE_EDIT?y.CG.EDIT:(t===p.I1.ORG_VIEW||p.I1.WORKSPACE_VIEW,y.CG.VIEW)},[e.teamSharingSettings]),[f,v]=r.useState(m()),[w,x]=r.useState(u()),[N,C]=r.useState(g());r.useEffect(()=>{v(m()),x(u()),C(g())},[e.teamSharingSettings,m,u,g]);let S=f===y.x_.INVITE_ONLY?w&&r.createElement("div",{className:T.UH},r.createElement(y.WT,{selectedDiscoverability:w,setSelectedDiscoverability:x})):r.createElement(y.KS,{selectedPermissionsLevel:N,setSelectedPermissionsLevel:C});return r.createElement(r.Fragment,null,r.createElement("div",{className:T.EG},r.createElement("div",{className:T.tR},(0,c.t)("team_creation.who_can_access")),r.createElement(y.tn,{resourceType:p._g.TEAM,value:f,onChange:v,org:e.org,audienceAccessLevel:N,workspace:o?e.workspace:void 0}),r.createElement("div",{className:T.tR},f===y.x_.INVITE_ONLY?(0,c.t)("team_creation.visibility"):(0,c.t)("team_creation.what_can_they_do")),S),r.createElement("div",{className:T.P2},r.createElement(s.pJ,{onClick:e.goBack||e.hideModal},r.createElement(c.Tx,{id:"project_creation.cancel"})),r.createElement(s.RS,{onClick:()=>{var t,a;if(!(0,E.IQ)((null==(t=e.team)?void 0:t.id)||null,(null==(a=e.org)?void 0:a.id)||null))return;let r=f===y.x_.INVITE_ONLY&&w===h.X_.ORG_BROWSABLE,n=f===y.x_.INVITE_ONLY&&w===h.X_.HIDDEN,i=(0,b.u8)(f,N);if(d((0,_.RY)({team:e.team,sharingAudienceControl:i,orgBrowsable:r,hidden:n})),e.goBack){e.goBack();return}e.hideModal()}},r.createElement(c.Tx,{id:"team_view.team_permissions_modal.save"}))))}},426577:(e,t,a)=>{"use strict";a.d(t,{V:()=>_,j:()=>p});var r=a(652983),n=a(407908),i=a(435613),l=a(970740),s=a(761767),o=a(733609),c=a(225468),d=a(828867),m=a(545058);let u=a(660592),_=(e,t,a,n,i)=>{if(!e)return r.createElement(l.Tx,{id:"team_view.team_permissions_modal.only_people_invited_can_access"});if((a||n)&&e){if(a===s.I1.INVITE_ONLY||n===s.Zn.PRIVATE||n===s.Zn.SECRET)return r.createElement(l.Tx,{id:"team_view.team_permissions_modal.only_people_invited_can_access"});if(a===s.I1.ORG_EDIT||n===s.Zn.PUBLIC&&i===s.Ze.EDIT)return r.createElement(l.Tx,{id:"team_view.team_permissions_modal.org_can_find_and_edit",orgName:e.name});if(a===s.I1.WORKSPACE_EDIT)return r.createElement(l.Tx,{id:"team_view.team_permissions_modal.workspace_can_find_and_edit",workspaceName:null==t?void 0:t.name});if(a===s.I1.WORKSPACE_VIEW)return r.createElement(l.Tx,{id:"team_view.team_permissions_modal.workspace_can_find_and_view_only",workspaceName:null==t?void 0:t.name});else if(a===s.I1.ORG_VIEW||n===s.Zn.PUBLIC&&i===s.Ze.VIEW)return r.createElement(l.Tx,{id:"team_view.team_permissions_modal.org_can_find_and_view_only",orgName:e.name})}return r.createElement(r.Fragment,null)};function p(e){let{team:t,org:a}=e,p=(0,n.v9)(e=>(0,o.getPermissionsState)(e)),g=(0,o.canAdminTeam)(t.id,p),E=r.createElement(i.n,{className:m.j3,svg:u});return e.sharingAudienceControl===s.I1.ORG_EDIT||e.sharingAudienceControl===s.I1.ORG_VIEW?E=r.createElement("div",{className:m.AP},r.createElement(d.Kn,{size:24,className:m.r4,entity:a||t})):(e.sharingAudienceControl===s.I1.WORKSPACE_EDIT||e.sharingAudienceControl===s.I1.WORKSPACE_VIEW)&&(E=r.createElement("div",{className:m.AP},e.workspace&&r.createElement(d.zf,{entity:e.workspace,size:24}))),r.createElement("div",{className:m.M6},E,r.createElement("div",{className:m.xR},r.createElement("div",null,_(e.org,e.workspace,e.sharingAudienceControl,t.org_access,t.default_permission)),e.org&&r.createElement("button",{className:m.U0,onClick:()=>e.changeModalView(1),disabled:!g,"data-tooltip-type":c.fR.TEXT,"data-tooltip":g?void 0:(0,l.t)("team_view.team_permissions_modal.only_team_editors_can_change_access_settings"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300,"data-tooltip-show-above":!0},r.createElement(l.Tx,{id:"team_view.team_permissions_modal.change"}))))}},416374:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FileMoveDropdown:()=>e1,FileMoveHiddenDiv:()=>e2,FileMoveModal:()=>eq,FileMoveModalComponent:()=>eZ,FileMoveSearch:()=>eY,FolderSection:()=>e0,TeamSection:()=>eJ,TeamsDisplay:()=>eX,getCurrentFolderId:()=>eK,getTargetAttribute:()=>e$,isSubscribedLG:()=>ez});var r=a(652983),n=a(63730),i=a(407908),l=a(477837),s=a.n(l),o=a(600486),c=a(46347),d=a(172497),m=a(716250),u=a(810373),_=a(669277),p=a(594619),g=a(618723),E=a(293351),h=a(782051),f=a(85808),v=a(435613),b=a(212984),y=a(970740),w=a(111120),T=a(394927),x=a(43120),N=a(721127),C=a(870295),S=a(761767),k=a(485091),I=a(606536),L=a(220958),R=a(999177),A=a(862610),O=a(841017),D=a(776070),F=a(731436),M=a(656077),P=a(26715),B=a(225468),U=a(532444),V=a(198348);let W=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,V.PP)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>{let a=await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds});return a})}};var G=a(45224),j=a(746125),H=a(596085),$=a(236750),z=a(286206),K=a(31642),Z=a(656145);let q=(e,t,a,r)=>{(0,z.sd)("startMovePagesJob","Send request to start move pages job."),K.ZP.post(`/api/files/${t}/move_pages`,{folder_id:a,page_ids:e,file_name:r}).catch(e=>{(0,z.YD)("startMovePagesJob","Error with starting move pages job.",{err:e})}).then(()=>{(0,z.sd)("startMovePagesJob","Move pages job successfully started.")})};function Y(e){return r.createElement("div",{className:"page_move--fileCreateNameContainer--JBcti"},r.createElement("div",{className:"page_move--fileCreateNameSvgContainer--nm5eH"},r.createElement(Z.aA,{type:Z.I1.DESIGN})),r.createElement(g.Sc,{value:e.newFileName,onChange:e.onChange,maxLength:255,autoFocus:!0,placeholder:(0,y.t)("page_move.add_new_file_name"),className:"page_move--fileCreateNameInput--0yBR8"}))}var J=a(906781),Q=a(131826),X=a(768358),ee=a(218609),et=a(898080),ea=a(733609),er=a(458763),en=a(166885);let ei="32px",el=(0,d.z)(ei),es=e=>(null==e?void 0:e.id)||T.ft,eo=new er.D3({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),ec=(e,t,a,r,n,i)=>{if(e.orgId!==n&&(null==t?void 0:t.orgId)!==n)return!1;if(!(0,m.BZ)().ps_benchmark){if((0,R.O2)(e))return e.id===i;if((0,R.Rs)(e))return!1}return!(!e.canEdit||t&&(0,et.Q6)(e,t,a)&&!(0,R.O2)(e))&&(!r||!!(0,et.gP)(t))},ed=(e,t,a)=>{let r=(0,m.BZ)().ps_benchmark;return!(!r&&(0,et.sA)(e,t))&&(!a||!!(0,et.gP)(e))},em=(e,t=!1)=>{let a=[],r=(0,R.tR)(e.user&&e.user.id,e.folders,e.roles.byFolderId,e.user&&e.orgId?e.orgUsers[e.orgId][e.user.id]:null);Object.keys(e.folders).forEach(n=>{let i=e.folders[n],l=i.teamId?e.teams[i.teamId]:null;ec(i,l,e.user,t,e.orgId,null==r?void 0:r.id)&&((0,R.O2)(i)&&(i={...i,path:(0,en.Q5)()}),a.push(i))}),eo.set(a.map(t=>{let a=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},r={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription};return a?{folder:r,team:a}:{folder:r}}))},eu=({folders:e,roles:t,user:a,orgUsers:r,teams:n,orgId:i},l,s,o)=>{let c=Object.create(null),d=0,u=0,_=(0,R.tR)(a&&a.id,e,t.byFolderId,a&&i?r[i][a.id]:null);for(let e in c[T.a3]=[],c[T.ft]=[],t.byTeamId)ed(n[e],a,l)&&(u++,c[e]=[]);Object.keys(e).forEach(t=>{let r={...e[t]},o=ec(r,r.teamId?n[r.teamId]:null,a,l,i,null==_?void 0:_.id);if((0,m.BZ)().file_move_show_all_resources){if(o&&(!s||r.subscription||(0,R.O2)(r))){let e=r.teamId?n[r.teamId]:null,t=_&&r.id===_.id?T.a3:es(e);c[t].push(r),d++}}else if(o&&(r.subscription||(0,R.O2)(r))){let e=r.teamId?n[r.teamId]:null,t=_&&r.id===_.id?T.a3:es(e);c[t].push(r),d++}});let p=d+u;return o(T.JG({indexCount:p})),o(T.iO()),c},e_=(e,t,a,r,n)=>{let i=Object.create(null),l=Object.create(null),s=[],o=0,c=0;if(n){let t=e.indexOf(n);t>-1&&(e.splice(t,1),e.splice(1,0,n))}return e.forEach(e=>{if(l[e]=o,c+=8,e!==T.ft&&e!==T.a3){let t={type:D._.NEW_FOLDER_TEAM,id:e,positionTop:c};s.push(t),c+=el,o+=1}let a=t[e];o+=a.length,a.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let d=Array.from(a);r&&n&&e===n&&d.forEach((e,t)=>{e.id===r&&(a.splice(t,1),a.unshift(e))}),a.forEach(e=>{let t={type:D._.FOLDER_ROW,id:e.id,positionTop:c};c+=el,s.push(t)}),i[e]=a,c+=9}),[i,l,s]},ep=(e,t,a)=>{let r=Object.create(null),n=Object.create(null),i=0,l=0,s=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,o=(0,R.tR)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,s);for(let a of e){let e=a.item.folder,s=o&&e.id===o.id?0:a.score,c=e.teamId?t.teams[e.teamId]:null,d=o&&e.id===o.id?T.a3:es(c);!(d in r)&&(r[d]=[],d!==T.ft&&d!==T.a3&&l++),r[d].push(e),null==n[d]?n[d]=s:n[d]=Math.min(n[d],s),i++}let c=i+l;return a(T.JG({indexCount:c})),[n,r]},eg=e=>(t,a)=>{if(t===T.ft)return 1;let r=e[t],n=e[a];return r?n&&r.name.toLowerCase()<n.name.toLowerCase()?-1:1:-1},eE=e=>(t,a)=>e[t]-e[a],eh=async(e,t,a,r,n=!1,i=!1,l,s,o,d)=>{var m,u,_;let p;let g=e.getState(),E=null,h=null;t.type===D.M.FILE?(E=t.file.parent_org_id||null,h=t.file.team_id):t.type===D.M.REPO&&(E=t.repo.parent_org_id||null,h=t.repo.team_id);let f=[];if(a){let e=await eo.search(a),t=ep(e,r,l);_=t[0],(f=Object.keys(u=t[1])).length&&f.sort(eE(_))}else u=eu(r,n,!!d,e.dispatch),r.user?(f.push(T.a3),f=f.concat((0,O.i2)(Object.values(r.teams),(null==(m=r.fileBrowserPreferences)?void 0:m.orderedTeamIds)||[])),u[T.ft].length>0&&f.push(T.ft)):(f=Object.keys(u)).sort(eg(r.teams));switch(t.type){case D.M.FILE:p=t.file.editor_type;break;case D.M.REPO:p=t.repo.default_file_key?g.fileByKey[t.repo.default_file_key].editor_type:null;break;default:(0,c.vE)(t)}let v=f.filter(e=>{var t,a,n,i;if(e===T.ft)return null===u||u[e].length>0;let l=r.teams;if(e!==T.a3){let a=(null==(t=l[e])?void 0:t.orgId)||null;if(E||a){if(a!==E)return!1}else if(h&&e===T.ft)return!1}if((null==(a=l[e])?void 0:a.deletedAt)||(0,ea.isTeamUserRestrictedLG)(null==(n=l[e])?void 0:n.currentTeamUser,p))return!1;let s=null==(i=u[e])?void 0:i.some(e=>(0,ea.canCreateFileInFolder)({name:e.path,team_id:e.teamId,id:e.id,path:e.path},g,p,!0));return!!s}),[b,y,w]=e_(v,u,i,s,o);e.dispatch(T.Bv({rows:w})),e.dispatch(T.FX({indexOffsets:y})),e.dispatch(T._I({foldersByTeamId:b})),e.dispatch(T.uD({teamIds:v})),a||e.dispatch(T.SA({userTeamCount:v.length})),g.fileMove.isSearchResult!==i&&e.dispatch(T.SV({isSearchResult:i}));let x=T.a3 in y&&w[0].type===D._.FOLDER_ROW;a&&x?e.dispatch(T.VD({indexAt:0})):a&&!x&&e.dispatch(T.VD({indexAt:1}))},ef=(e,t,a,r=!1,n,i,l)=>{eh(e,t,"",a,r,!1,e.dispatch,i,l,n)},ev=(0,X.D)((e,t,a,r,n=!1)=>{eh(e,t,a,r,n,!!a,e.dispatch)},200),eb=(0,ee.u4)((e,t)=>{em(t.userResources,t.modalData.isPublishing),ef(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),ey=(0,ee.u4)((e,t)=>{ev(e,t.modalData,t.query,t.userResources),e.dispatch(T.VG(t))});var ew=a(239299),eT=a(458324),ex=a(313653),eN=a(329660),eC=a(728443),eS=a(828867),ek=a(334079);let eI="file_move--main--DysMn",eL="file_move--iconContainer--miUkC",eR="file_move--folderRowWrapper--1PhcQ",eA="file_move--folderRow---mHLm",eO="file_move--horizontalDivider--N1Kwn",eD=a(653270);function eF(e){let t=(0,ek.f)(),a=(0,i.v9)(e=>e.user),[n,l]=(0,r.useState)(""),s=e.dispatch,[c,d]=(0,r.useState)(!0),m=(0,eT.it)("starter_team_loophole_experiment_m0"),u=(0,eT.it)("starter_team_loophole_experiment_m1");return r.createElement("form",{onSubmit:t=>{t.preventDefault(),(0,o.L9)("Create Team Inline",{trackingContext:e.trackingContextName}),n?(s((0,eC.$Y)({teamName:n,orgAccess:S.Zn.PUBLIC,dontRedirect:!0})),d(!0),l("")):s(ex.l.error((0,y.t)("flash.team_name_cannot_be_empty")))}},r.createElement("div",{className:"file_move--teamCreateRow--GXsGP file_move--folderRow---mHLm"},c?r.createElement("button",{type:"button",className:"file_move--rowButton--buC6a",onClick:()=>{null!=a&&!e.orgId&&(0,eN.hy)({userId:a.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId,getM0Config:m.getConfig,getM1Config:u.getConfig})?(s(N.hV()),s(w.Nf({openInNewTab:!ew.YO}))):(d(!1),s(T.iO()))}},r.createElement(v.n,{className:"file_move--newProjectIconFileMove--NpF12 sidebar--icon--E3PNi",svg:eD}),r.createElement("span",{className:t?"file_move--newFolderNameCustomSections--tOXkk sidebar--sectionNameCustomSections--GV0zR sidebar--sectionTextCustomSections--saCMf sidebar--sectionContentCustomSections--PXYf3 ellipsis--ellipsis--Tjyfa":"file_move--newFolderName---8VW2 sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa"},r.createElement(y.Tx,{id:"file_browser.inline_team_creation.button_text"}))):r.createElement(r.Fragment,null,r.createElement("div",{className:eL},r.createElement(eS.qV,{size:16,shape:"SQUARE",color:"#E5E5E5"})),r.createElement("div",{className:"file_move--newTeamTitleText--JRkjD file_move--teamTitleText--ASbUy ellipsis--ellipsis--Tjyfa"},r.createElement(g.Sc,{value:n||"",onChange:e=>{l(e.target.value)},onBlur:()=>{d(!0)},className:"file_move--newTeamInput--w4IBu",maxLength:e.teamNameMaxWidth,placeholder:(0,y.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})))))}let eM=a(174597),eP=a(619483),eB=a(616705),eU=a(14211),eV=a(736476),eW=a(403034),eG=a(215996),ej=(0,d.z)(ei),eH="FileMoveModalContent";function e$(e){let t=!("folder"!==e.view&&"recentFiles"!==e.view);return t?"_self":"_blank"}function ez(e){return!!e.subscription||(0,R.O2)(e)}function eK(e){switch(e.type){case D.M.FILE:let t=e.file;return(null==t?void 0:t.folder_id)||null;case D.M.REPO:let a=e.repo;return(null==a?void 0:a.folder_id)||null;default:(0,c.vE)(e)}}function eZ(e){let t=null;e.type===D.M.FILE?t=e.file.parent_org_id||null:e.type===D.M.REPO&&(t=e.repo.parent_org_id||null);let a=(0,i.v9)(e=>e.orgById),n=t?a[t]:null,l=(0,i.v9)(e=>e.fileMove),s=(0,i.v9)(e=>e.creatingNewFolder),o=(0,i.v9)(e=>e.dropdownShown),c=(0,i.v9)(e=>e.selectedView),d=(0,_.mU)(A.AccessibleFoldersV2,{orgId:t});"errors"===d.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(d.errors));let u="loaded"===d.status?{fetched:d,transformed:function(e,t){var a;let r={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},n={},i={},l={},s={byFolderId:{},byTeamId:{}},o=(0,k.$9)(e.currentUser),c=e=>{i[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{l[e.orgId]={[e.userId]:{...e,type:I.II.ORG_USER,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString(),disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||S.oz.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||S.oz.RESTRICTED}},e.draftsProject&&(c(e.draftsProject),e.draftsProject.ownerRole&&(s.byFolderId[e.draftsProject.id]={[r.id]:(0,k.j9)(e.draftsProject.ownerRole,o,null,null)}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:a}=e.team;n[t]={...e.team,canEdit:e.level>=L.V.EDITOR,canAdmin:e.level>=L.V.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[r.id]:(0,k.j9)(e,o,null,null)},a&&a.forEach(e=>c(e))}),(0,m.BZ)().ps_benchmark&&(null==(a=e.currentUser.teamRoles)||a.forEach(e=>{if(!e.team)return;let{id:t}=e.team;n[t]||(n[t]={...e.team,canEdit:!1,canAdmin:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[r.id]:(0,k.j9)(e,o,null,null)})})),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(c(e.project),s.byFolderId[e.project.id]={[r.id]:(0,k.j9)(e,o,null,null)})}),e.currentUser.draftsProject&&(c(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(s.byFolderId[e.currentUser.draftsProject.id]={[r.id]:(0,k.j9)(e.currentUser.draftsProject.ownerRole,o,null,null)}));let d=e.currentUser.fileBrowserPreferences;return{user:r,teams:n,folders:i,roles:s,orgUsers:l,orgId:t,fileBrowserPreferences:d}}(d.data,t)}:null,p=null===u?{loaded:!1}:{loaded:!0,userResources:u.transformed},g=eK(e),E=null==g||null===u?null:u.transformed.folders[g],h=E?E.teamId:null,f=(0,i.I0)();r.useEffect(()=>{p.loaded&&f(eb({modalData:e,userResources:p.userResources,currentFolderId:g,currentFolderTeamId:h}))},[u&&u.fetched]);let v=[];if(p.loaded&&!t)for(let e in p.userResources.teams){let t=p.userResources.teams[e];"ok"!==t.subscription&&v.push(t.id)}let b=function(e){let[t,a]=r.useState((0,_.AC)()),n=e.join(",");return r.useEffect(()=>{if(0===n.length){a((0,_.wl)({}));return}a((0,_.AC)());let e=!1;return(async()=>{let t=await W.getTeamRestrictionsLists({teamIds:n});e||a((0,_.wl)(t.data.meta))})(),()=>{e=!0}},[n]),t}(v);if("loaded"===b.status&&p.loaded)for(let e in p.userResources.teams){let t=p.userResources.teams[e];b.data[e]&&(t.restrictionsList=b.data[e])}return r.createElement(eq,{modalId:e._modalId,fileMove:l,fileMoveData:e,creatingNewFolder:s,dropdownShown:o,selectedView:c,dispatch:f,userResources:p,currentOrg:n})}class eq extends r.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerElm=n.findDOMNode(e)},this.isMovePageToNewFile=(0,m.BZ)().move_page_to_new_file&&this.props.fileMoveData.isMovePageToNewFile,this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(T.Tp({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(T.Tp({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(eH);if((0,H.cr)(t))return;let{userResources:a}=this.props.userResources;switch(e.keyCode){case u.sr.ESCAPE:this.onClose();break;case u.sr.UP_ARROW:this.props.dispatch(T.PB());break;case u.sr.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(T.ld({upperBound:this.props.fileMove.indexCount}));break;case u.sr.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===D._.NEW_FOLDER_TEAM){let t=e.id,r=a.teams[t];this.props.dispatch((0,C.nw)({where:this.props.modalId.type,team:{...(0,M.SR)(r),canEdit:!0,canEditTeamContents:!0,canAdmin:r.canAdmin}}))}else if(e.type===D._.FOLDER_ROW){let t=a.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(N.eI()):this.props.dispatch(N.hV())},this.openOrgView=e=>{this.props.dispatch(w.fv({view:"org",orgId:e,orgViewTab:P.i.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(N.hV()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)};if(this.isMovePageToNewFile){this.onClose();let t=this.props.fileMoveData.type===D.M.FILE?this.props.fileMoveData.fileKey:this.props.fileMoveData.repoId;q(this.props.fileMoveData.page_id,t,e.id,this.state.newFileName);return}let a=this.props.fileMoveData;if(a.type===D.M.FILE&&a.file.is_team_template&&(0,R.O2)(e)){this.props.dispatch(N.K4({type:J.Kz,data:{title:r.createElement(y.Tx,{id:"templates.confirmation.move_to_drafts.title",count:1}),content:r.createElement(y.Tx,{id:"templates.confirmation.move_to_drafts.description"}),confirmText:r.createElement(y.Tx,{id:"templates.confirmation.move_to_drafts.button_v2"}),destructive:!1,onConfirm:t,dispatch:this.props.dispatch}}));return}t()},this.move=s()(e=>{let t=this.props.fileMoveData;switch(t.type){case D.M.FILE:this.moveFile(e,t.file);break;case D.M.REPO:this.moveRepo(e,t.repo);break;default:(0,c.vE)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(N.h0(this.props.modalId))},this.moveFile=(e,t)=>{var a;if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(x.M({files:[t],folder:e,team:r,fromFileModal:!0,onFinishCallback:null==(a=this.props.fileMoveData.afterFileMove)?void 0:a.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let a=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(x.M({files:[],repos:[t],folder:e,team:a,fromFileModal:!0}))}}else this.onClose()},this.getCurrentFolderId=()=>{let e=this.props.fileMoveData;switch(e.type){case D.M.FILE:let t=e.file;return(null==t?void 0:t.folder_id)||null;case D.M.REPO:let a=e.repo;return(null==a?void 0:a.folder_id)||null;default:(0,c.vE)(e)}},this.getCurrentFileName=()=>{let e=this.props.fileMoveData;switch(e.type){case D.M.FILE:let t=e.file;return t.name;case D.M.REPO:let a=e.repo;return a.name;default:(0,c.vE)(e)}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===D._.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(w.SP({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(T.Tn({fileMove:this.props.fileMove})),this.props.dispatch(T.rE({isSearchFocused:!0})));let a=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==a){if(!this.scrollContainerElm||-1===a)return;let e=this.props.fileMove.folderRows[a],t=e.positionTop,r=this.scrollContainer.getScrollTop(),n=this.scrollContainerElm.clientHeight;t<r?0===a?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(t):t+ej>r+n&&(null!=this.props.fileMove.indexCount&&a===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(t-n+ej))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(T.Mh())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let a=e.folders[t.data.folderId];return a?r.createElement(e1,{folder:a,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){var e;let t=this.props.fileMoveData.modalWidth||288,a=this.isMovePageToNewFile?(0,y.t)("file_browser.file_move.move_pages_to_new_file"):(0,y.t)("file_browser.file_move.modal_header_move_file",{fileName:this.getCurrentFileName()});if(!this.props.userResources.loaded)return r.createElement($.ge,{title:a,fixedTop:!0,minWidth:t,maxWidth:t,onClose:this.onClose,truncateTitleText:!0},r.createElement("div",{className:eI},r.createElement(h.zP,{className:"file_move--spinner--tzpFM"})));let{userResources:n}=this.props.userResources,i=this.getCurrentFolderId(),l=null==i?null:n.folders[i],s=this.getFocusedFolder(),o=this.isMovePageToNewFile&&0!==this.state.newFileName.length&&s,c=s&&l&&s.id!==l.id&&!this.isMovePageToNewFile,d=0===this.props.fileMove.teamOrder.length,m=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&this.props.fileMove.userTeamCount<=1,u=this.props.fileMoveData,_=u.type===D.M.FILE?{fileKey:u.fileKey,fileTeamId:u.file&&(null==(e=u.file)?void 0:e.team_id)}:{repoId:u.repoId},p=u.type===D.M.REPO||null===u.file.editor_type?S.gg.DESIGN:u.file.editor_type;return r.createElement(Q.Ui,{name:U.V4.FILE_MOVE_MODAL,properties:_},r.createElement($.ge,{title:a,fixedTop:!0,minWidth:t,maxWidth:t,onClose:this.onClose,truncateTitleText:!0},m?r.createElement("div",{className:"file_move--mainZeroState--RcEV6 file_move--main--DysMn",id:eH},r.createElement("div",{className:"file_move--zeroStateModal--46bL1"},r.createElement("div",{style:{paddingTop:"100px"}},r.createElement(y.Tx,{id:"file_browser.file_move.zero_state"})),this.props.currentOrg&&r.createElement("div",{className:b.cx.pt20.$},r.createElement(g.DF,{onClick:this.onOrgViewLinkClick},this.props.currentOrg.bigma_enabled?(0,y.t)("file_browser.file_move.view_workspaces"):(0,y.t)("file_browser.file_move.view_teams"))))):r.createElement("div",{className:eI,id:eH},this.isMovePageToNewFile?r.createElement(Y,{newFileName:this.state.newFileName,onChange:this.handleInputChange}):r.createElement("div",{className:"file_move--searchWrapperNew--PLTKN"},r.createElement(eY,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:n})),r.createElement("div",{className:eO}),this.props.fileMoveData.displayBanner&&!this.isMovePageToNewFile&&r.createElement(r.Fragment,null,this.props.fileMoveData.displayBanner,r.createElement("div",{className:eO})),this.props.fileMove.folderSearchQuery&&!this.isMovePageToNewFile&&d?r.createElement("div",{className:"file_move--emptyModal---FNas"},r.createElement(y.Tx,{id:"search.file_move.no_results_found",folderSearchQuery:this.props.fileMove.folderSearchQuery})):r.createElement(f.l,{width:t,className:"file_move--teamSectionBody--nGVDN",ref:this.scrollContainerRef,onScroll:this.onScroll},r.createElement(eX,{currentFolderId:i,fileMove:this.props.fileMove,fileEditorType:p,creatingNewFolder:this.props.creatingNewFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,indexOffsets:this.props.fileMove.indexOffsets,teams:n.teams,folders:n.folders,teamNameMaxWidth:t-88,componentMountedAt:this.componentMountedAt,orgId:n.orgId,onDoubleClick:this.moveToSelectedFolder,selectedView:this.props.selectedView,rolesByTeamId:n.roles.byTeamId,dispatch:this.props.dispatch})),r.createElement("div",{className:"file_move--footer--S68Th"},r.createElement(g.PL,{onClick:this.onClose},r.createElement(y.Tx,{id:"modal.cancel"})),r.createElement(g.RS,{disabled:!(o||c),onClick:this.moveToSelectedFolder},this.props.fileMoveData.moveText||(0,y.t)("file_browser.file_move.move")))),this.renderDropdown(),r.createElement(e2,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})))}}eq.displayName="FileMoveModal";class eY extends r.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(T.iO()),this.props.dispatch(T.rE({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(T.rE({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(ey({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case u.sr.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(T.ld({upperBound:this.props.folderCount}));break;case u.sr.UP_ARROW:t&&t.blur(),this.props.dispatch(T.PB());break;case u.sr.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(ey({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(N.hV()),this.props.dispatch(T.iO());break;case u.sr.TAB:t&&t.blur(),this.props.dispatch(T.iO());break;case u.sr.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=r.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return r.createElement("div",{className:"file_move--searchContainer--Vqc3R"},r.createElement("div",{className:eL},r.createElement(v.n,{svg:eU})),r.createElement(E.Q,{ref:this.searchInputRef,placeholder:(0,y.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--Fhcoi":"file_move--searchInputEmptyNew--Tviug file_move--searchInputNew--Fhcoi",value:this.props.searchQuery,onChange:this.onChange}))}}function eJ(e){var t,a,n,i,l,s;let{team:o,teamId:c}=e,[d,{onMouseOver:m,onMouseOut:u}]=(()=>{let[e,t]=(0,r.useState)(!1),a=(0,r.useCallback)(()=>t(!0),[t]),n=(0,r.useCallback)(()=>t(!1),[t]);return(0,r.useMemo)(()=>[e,{onMouseOver:a,onMouseOut:n}],[e,a,n])})(),p=(0,_.mU)(A.TeamFileCountsByTeamId,{teamId:(null==o?void 0:o.id)??""},{enabled:!!(null==o?void 0:o.id)}),g=(null==(n=null==(a=null==(t=p.data)?void 0:t.team)?void 0:a.teamFileCounts)?void 0:n.designFileCount)??0,E=(null==(s=null==(l=null==(i=p.data)?void 0:i.team)?void 0:l.teamFileCounts)?void 0:s.whiteboardFileCount)??0,h="whiteboard"===e.fileEditorType?{type:O.Xy.ADD_FIGJAM_FILE,nCurrentWhiteboardFiles:E}:{type:O.Xy.ADD_DESIGN_FILE,nCurrentDesignFiles:g},f=e.fileNotInTeam&&o&&!(0,O.bw)((0,M.SR)(o),h);return r.createElement(r.Fragment,null,e.showTitle&&r.createElement("div",{className:"file_move--teamTitleNew--A0OC- text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseOver:m,onMouseLeave:u},(c===T.ft||c===T.a3)&&r.createElement("div",{className:eL},r.createElement(v.n,{svg:eB})),r.createElement("div",{className:"file_move--teamTitleRow--Q0EfX"},r.createElement("div",{className:"file_move--teamName--cY-n-"},r.createElement("div",{className:"file_move--teamTitleText--ASbUy ellipsis--ellipsis--Tjyfa",style:{maxWidth:e.teamNameMaxWidth}},c===T.ft||c===T.a3?(0,y.t)("file_browser.shared_projects"):o.name),f&&r.createElement("div",{className:"file_move--warningIcon--oGIGB"},r.createElement(v.n,{svg:eG,"data-tooltip-type":B.fR.TEXT,"data-tooltip":(0,y.t)("file_browser.file_move.paywall_team_tooltip")}))),d&&o&&!f&&r.createElement("div",{className:"file_move--newProjButton--t5gdY"},r.createElement(j.b,{team:o,isBackgroundTransparent:!0,trackingContextName:U.V4.FILE_MOVE_MODAL})))))}function eQ(e){let t=(0,r.useRef)(null),[a,n]=(0,r.useState)(!1),l=(0,i.I0)();return(0,r.useEffect)(()=>{!a&&e.isTeamNew&&t.current&&e.hasFolderSection&&(l(T.VD({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),n(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,a,t,l]),r.createElement("div",{className:e.className,ref:t},e.children)}function eX(e){let{fileMove:t,teams:a,selectedView:n}=e,l=(0,i.I0)(),s=Object.values(a).map(e=>(function(e){var t;let a=null!=e.orgId,r=e.subscription===S.Qe.INCOMPLETE||e.subscription===S.Qe.OK;return{id:e.id,subscription:e.subscription,starter_team:!a&&!r,org_team:a,student_team:!!e.studentTeamAt,deleted_at:(null==(t=e.deletedAt)?void 0:t.toString())||null}})(e));return r.createElement("div",null,null!=t.teamOrder&&t.teamOrder.map(n=>{var i,s;let o=n!==T.a3,c=n!==T.ft&&n!==T.a3,d=(null==(i=t.foldersByTeamId)?void 0:i[n])||[],u=d.length>0;if(!(o||c||u))return null;let _=a[n];if(!_&&!(n===T.ft||n===T.a3)||(0,m.BZ)().ps_benchmark&&n===T.a3&&!e.orgId)return null;let p=_?new Date(a[n].createdAt):void 0,g=p&&p>e.componentMountedAt,E=t.indexOffsets[n]+1,h=!!e.currentFolderId&&n!==(null==(s=e.folders[e.currentFolderId])?void 0:s.teamId);return r.createElement(eQ,{className:"file_move--teamSection--dIDTQ",isTeamNew:g,firstFolderFocusedIndex:E,hasFolderSection:u,key:`Team Section ${n}`},r.createElement(eJ,{team:_,teamId:n,showTitle:o,isACustomTeam:c,fileNotInTeam:h,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),u&&(t.foldersByTeamId[n]||[]).map((a,i)=>{let s=i+e.indexOffsets[n];return c&&(s+=1),r.createElement(e0,{key:`${a.teamId} ${a.id}`,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:s,focusedFolderIndex:t.focusedIndex,folder:a,isSearchingFolders:!!t.isSearchResult,currentFolderId:e.currentFolderId,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:U.V4.FILE_MOVE_MODAL,dispatch:l,onDoubleClick:e.onDoubleClick})}))}),!e.orgId&&r.createElement(eF,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:U.V4.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:n,teams:s,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch}))}eY.displayName="FileMoveSearch";class e0 extends r.PureComponent{constructor(){super(...arguments),this.submitFolderRename=(e,t)=>{(0,o.L9)("Rename Folder",{trackingContext:this.props.trackingContextName}),this.props.dispatch((0,C.p0)({folderId:e.id,folderName:t})),this.props.dispatch(T.eH())},this.cancelFolderRename=()=>{this.props.dispatch(T.eH())},this.focusFolder=(e,t)=>{this.props.dispatch(T.VD({indexAt:this.props.index}))},this.onContextMenu=(e,t)=>{this.props.onFileMoveContextMenu(t,e)},this.renderFolderRename=e=>r.createElement("div",{className:eA},r.createElement(G.I,{key:`input ${e.id}`,className:"file_move--renameInput--S5hVy",placeholderValue:(0,R.R_)(e),submit:this.submitFolderRename.bind(this,e),cancel:this.cancelFolderRename})),this.isBeingRenamed=()=>this.props.folderBeingRenamed===this.props.folder.id,this.onDoubleClick=e=>{this.isBeingRenamed()||this.props.onDoubleClick()},this.renderFolderRow=(e,t)=>{let a=ez(e)&&this.props.isSearchingFolders,n=this.props.focusedFolderIndex&&this.props.focusedFolderIndex>-1?t:this.props.currentFolderId===e.id,i=(0,m.BZ)().ps_benchmark&&(0,R.Tf)(e)?eV:eW;return r.createElement("div",{className:eA},r.createElement("div",{className:eL},r.createElement(v.n,{svg:n?eP:i})),r.createElement("span",{className:"file_move--folderName--Mxx5M ellipsis--ellipsis--Tjyfa"},(0,R.R_)(e)),r.createElement("div",{className:eL},a&&r.createElement(v.n,{svg:eM})))}}render(){let e=this.props.focusedFolderIndex===this.props.index,t=this.props.folderBeingRenamed?eR:e?"file_move--folderRowWrapperFocusedNew--gWdRJ file_move--folderRowWrapper--1PhcQ":eR,{folder:a}=this.props;return r.createElement("div",{className:t,onMouseDown:e=>this.focusFolder(a,e),key:`${a.teamId} ${a.id}`,onContextMenu:e=>this.onContextMenu(a,e),onDoubleClick:this.onDoubleClick},this.isBeingRenamed()?this.renderFolderRename(a):this.renderFolderRow(a,e))}}e0.displayName="FolderSection";class e1 extends r.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(T.$8({folderId:this.props.folder.id}))}}render(){let e=this.props.folder,t=e.canRename,a=e$(this.props.selectedView);return r.createElement(p.j.Dropdown,{className:"file_move--fileMoveContextMenu--tOCh9",style:this.props.dropdownShown.data.position},r.createElement(p.j.Option,{disabled:!t,onClick:this.renameFolder},r.createElement(y.Tx,{id:"file_browser.file_move.context_menu_rename"})),r.createElement(p.j.Separator,null),r.createElement(p.j.Option,{href:(0,F.DS)(e.id,e.orgId),target:a},r.createElement(y.Tx,{id:"file_browser.file_move.context_menu_show_in_files"})))}}e1.displayName="FileMoveDropdown";class e2 extends r.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return r.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}e2.displayName="FileMoveHiddenDiv"},47543:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MoveDraftToProjectInterstitialModal:()=>f});var r=a(652983),n=a(407908),i=a(87608),l=a.n(i),s=a(716250),o=a(519781),c=a(618723),d=a(970740),m=a(721127),u=a(864974),_=a(131826),p=a(505468),g=a(747249),E=a(230451),h=a(582568);function f(e){let t=(0,n.I0)(),a=(0,s.BZ)().ps_benchmark,i=()=>{t(u.v({dismissed_move_draft_to_project_interstitial_modal:!0})),t(m.eI())};return r.createElement(_.Ui,{name:"MoveDraftToProjectInterstitialModal"},r.createElement(p.u_,{title:a?(0,d.t)("file_browser.draft_to_project.title.plan_spaces"):(0,d.t)("file_browser.draft_to_project.title.seat_rename"),titleClassName:E.r9,className:E.WC,size:320,dispatch:t,popStack:!0,disableClickOutsideToHide:!0},r.createElement(o.PZ,{className:l()(h.OY,h.UL),onClick:i}),r.createElement("span",null,a?r.createElement(d.Tx,{id:"file_browser.draft_to_project.body.plan_spaces"}):r.createElement(d.Tx,{id:"file_browser.draft_to_project.body.seat_rename"}),r.createElement("br",null)),r.createElement("div",{className:l()(E.UN,E.kD)},r.createElement("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts"},r.createElement(c.pJ,null,r.createElement(d.Tx,{id:"general.learn_more"}))),r.createElement(c.RS,{className:E.iY,onClick:()=>{i(),(0,g.E)(e.file,e.repo,t,e.afterFileMove,e.moveFileModalData)}},r.createElement(d.Tx,{id:"file_browser.draft_to_project.move"})))))}},428150:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TeamPermissionsModal:()=>ec,TeamPermissionsModalInner:()=>em});var r=a(652983),n=a(407908),i=a(600486),l=a(46347),s=a(220518),o=a(810373),c=a(669277),d=a(970740),m=a(644383),u=a(48518),_=a(954339),p=a(721127),g=a(11802),E=a(131826),h=a(761767),f=a(862610),v=a(801998),b=a(898080),y=a(733609),w=a(958550),T=a(298331),x=a(885755),N=a(220958),C=a(864357),S=a(17030),k=a(236750),I=a(275150),L=a(35024),R=a(768358),A=a(519781),O=a(594619),D=a(618723),F=a(782051),M=a(435613),P=a(111120),B=a(559294),U=a(436649),V=a(584516),W=a(225468),G=a(291904),j=a(505468),H=a(13155),$=a(158314);let z="team_join_link_permissions--loadedViewWrapperWithPaddingTop--VRkqb team_join_link_permissions--loadedViewWrapper--LjAIr",K=a(650479),Z=a(137817),q=(0,R.D)((e,t,a)=>e(B.El({teamId:t,level:a}))),Y=(e,t,a)=>{let r=!(0,U.hg)(t,(0,V.aH)(e))&&!(0,U.OZ)(t,(0,V.aH)(e))&&!a;return(0,U.hg)(t,(0,V.aH)(e))||(0,U.hg)(t,B.Lg.loadingKeyForPayload({teamId:e}))||(0,U.hg)(t,(0,V.WT)(e))||r},J=(0,n.$j)((e,t)=>({teamJoinLinks:e.teamJoinLinks,loadingState:e.loadingState,canAdmin:(0,y.hasAdminRoleAccessOnTeam)(t.teamId,e),canEdit:(0,y.hasEditorRoleAccessOnTeam)(t.teamId,e)}),null,(e,t,a)=>({isInLoadingState:Y(a.teamId,e.loadingState,e.teamJoinLinks),...e,...a,...t}))(function(e){var t,a,n,i;let{dispatch:l,teamId:s,initialInviteLevel:o,canAdmin:c,canEdit:m}=e,[u,_]=(0,r.useState)(o);if((0,r.useEffect)(()=>(q(l,s,o),()=>{l(B.FO(null))}),[l,s,o]),!e.isInLoadingState&&!e.teamJoinLinks||!c&&(null==(t=e.teamJoinLinks)?void 0:t.disabled))return null;let g=m&&!!(null==(a=e.teamJoinLinks)?void 0:a.url);return r.createElement(r.Fragment,null,r.createElement("div",{style:g?{justifyContent:"space-between"}:{justifyContent:"flex-start",marginTop:"8px"},className:"team_join_link_permissions--inviteLinkTitleWrapper--LSkbL"},r.createElement("span",{className:"team_join_link_permissions--inviteHeader--80xpy"},r.createElement(d.Tx,{id:"team_join_links.invite_link"})),g&&r.createElement(Q,{dropdownShown:e.dropdownShown,resetInviteLinks:()=>{l(p.bF({type:et,data:{resetLink:()=>{l(B.sJ({teamId:s,level:u,shouldShowVisualBell:!0}))}}}))},disableInviteLinks:()=>l(B.Lg({teamId:s})),loading:e.isInLoadingState,canAdmin:c})),e.isInLoadingState||(null==(n=e.teamJoinLinks)?void 0:n.url)?r.createElement(X,{dropdownShown:e.dropdownShown,setLevel:e=>{u!==e&&(_(e),l(B.El({teamId:s,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>_(u)})))},currentLevel:u,url:e.isInLoadingState?void 0:null==(i=e.teamJoinLinks)?void 0:i.url,addPaddingTop:!g,inviteLevels:m?[N.V.VIEWER,N.V.EDITOR]:[N.V.VIEWER],teamId:e.teamId}):r.createElement(ee,{turnOnInviteLinks:()=>l(B.sJ({teamId:s,level:u}))}))});function Q(e){let t=(0,n.I0)(),a="team-link-settings-dropdown",i=r.createRef(),l=()=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===a};return r.createElement("div",null,r.createElement("div",{ref:i},r.createElement($.I_,{svg:K,"data-tooltip-type":W.fR.TEXT,"data-tooltip":(0,d.t)("team_join_links.team_invite_link_settings"),onClick:()=>{var e;let r=null==(e=i.current)?void 0:e.getBoundingClientRect();l()?t(P.kp()):r&&t(P.SP({type:a,data:{targetRect:r}}))},onMouseDown:e=>e.stopPropagation(),selected:l(),disabled:e.loading})),l()&&r.createElement(H.AQ,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0},r.createElement(O.j.Option,{onClick:e.resetInviteLinks},r.createElement(d.Tx,{id:"team_join_links.reset_invite_links"})),e.canAdmin&&r.createElement(O.j.Option,{onClick:e.disableInviteLinks},r.createElement(d.Tx,{id:"team_join_links.turn_off_invite_links"}))))}function X(e){let t=(0,n.I0)(),a="join-link-permission-level-dropdown",i=e.currentLevel===N.V.VIEWER?"28px":"-20px";return r.createElement("div",{className:e.addPaddingTop?z:"team_join_link_permissions--loadedViewWrapper--LjAIr"},r.createElement("div",{className:"team_join_link_permissions--linkAndDropdown--dOdkB"},r.createElement("span",{className:"team_join_link_permissions--urlSection--fh6VF"},!e.url&&r.createElement(F.TK,null),e.url&&r.createElement("span",{className:"team_join_link_permissions--urlText--jcjRH ellipsis--ellipsis--Tjyfa"},e.url)),r.createElement("div",{onClick:r=>{r.stopPropagation(),e.url&&(e.dropdownShown?t(P.kp()):t(P.SP({type:a})))},className:"team_join_link_permissions--permissionLevelDropdown--xuQLz role_row--select--6VpSS"},r.createElement("span",null,(0,y.levelName)(e.currentLevel)),r.createElement("div",{className:"team_join_link_permissions--caretWrapper--OXpki role_row--caretWrapper--P1Mak"},r.createElement(M.n,{svg:Z})),e.dropdownShown&&e.dropdownShown.type===a&&r.createElement(O.j.Dropdown,{className:"team_join_link_permissions--permissionLevelDropdownOptions--cgu-T",style:{marginTop:i}},e.inviteLevels.map((t,a)=>r.createElement(O.j.CheckableOption,{key:a,checked:t===e.currentLevel,onClick:()=>e.setLevel(t)},(0,y.levelName)(t)))))),r.createElement(D.DF,{className:"team_join_link_permissions--copyLinkButton--X-8QT",onClick:()=>{e.url&&t(B.IL({teamId:e.teamId,url:e.url,source:B.cC.TEAM_PERMISSIONS_MODAL}))},disabled:!e.url},r.createElement(d.Tx,{id:"team_join_links.copy_link"})))}function ee(e){return r.createElement("div",{className:z},r.createElement(d.Tx,{id:"team_join_links.share_a_secret_link_people_can_use_to_join_your_team"})," ",r.createElement(D.Z6,{onClick:e.turnOnInviteLinks,trusted:!0},r.createElement(d.Tx,{id:"team_join_links.turn_on_invite_links"})))}let et="RESET_LINKS_CONFIRMATION_MODAL";(0,G.Y3)(function(e){let t=(0,n.I0)();return r.createElement(j.u_,{className:"team_join_link_permissions--confirmationModal--iwmpk",size:288,dispatch:t},r.createElement("div",{className:"team_join_link_permissions--titleAndCloseButton--5XqxG"},r.createElement(A.ol,{dispatch:t}),r.createElement("div",{className:"team_join_link_permissions--confirmationModalTitle--Htxwx"},r.createElement("span",null,r.createElement(d.Tx,{id:"team_join_links.reset_invite_links"})))),r.createElement("p",{className:"team_join_link_permissions--confirmationModalBody--qUqac"},r.createElement(d.Tx,{id:"team_join_links.modal_description"})),r.createElement("div",{className:"team_join_link_permissions--confirmationModalButtonContainer--rsNVu"},r.createElement(D.pJ,{onClick:()=>t(p.eI())},r.createElement(d.Tx,{id:"team_join_links.cancel"})),r.createElement(D.VG,{onClick:()=>{e.resetLink(),t(p.eI())}},r.createElement(d.Tx,{id:"team_join_links.reset_links"}))))},et);var ea=a(169735),er=a(330028),en=a(923393),ei=a(722365),el=a(426577),es=a(132972),eo=a(896169);function ec(e){let t=e.teams[e.modalShown.data.teamId];return r.createElement(em,{team:t,notifyOnSuccess:!!e.modalShown.data.notifyOnSuccess,initialInviteLevel:e.modalShown.data.initialInviteLevel,prepopulateEmail:e.modalShown.data.prepopulateEmail,initialView:e.modalShown.data.initialView,...e})}let ed={domains:[],isFetching:!1,fetchedAt:null};function em(e){let{user:t,team:a,initialInviteLevel:R,prepopulateEmail:A,autocomplete:O,contacts:D,dispatch:F}=e,M=t.id,P=(0,c.mU)(f.TeamPermissions,{teamId:a.id}),B=(0,r.useMemo)(()=>(0,w.hb)(P),[P]),U=B&&B.org,V=B&&B.teamSharingSettings,W=B&&B.orgUser,G=U?U.id:null,j=B&&B.workspace,H=(0,w.IQ)((null==a?void 0:a.id)||null,G),$=U&&U.org_domains?U.org_domains:ed,z=(0,n.v9)(e=>e.contacts.googleContacts),K=(0,g.FJ)({userId:M,currentOrgId:G,tracked:!1}),[Z,q]=(0,r.useState)([]),[Y,Q]=(0,r.useState)([]),X=r.useMemo(()=>{let t=e.roles.byTeamId[a.id]||{};return Object.keys(t).map(e=>t[e]).sort((e,t)=>new Date(e.created_at)<new Date(t.created_at)?-1:1)},[e.roles.byTeamId,a.id]);(0,r.useEffect)(()=>{F(_.oD())},[F]),(0,r.useEffect)(()=>{let e=(0,x.v8)(O,D.usersByEmail,t,X,z,K);q(e.filter(e=>!e.isAdditionalContact)),Q(e.filter(e=>e.isAdditionalContact))},[O,D.usersByEmail,t,X,z,K]);let ee=e=>R||(!(0,b.e3)(a)&&e?N.V.EDITOR:N.V.VIEWER),[et,ec]=(0,r.useState)(()=>ee((0,y.canEditTeam)(a.id,e))),em=(0,r.useCallback)(e=>(0,w.yH)(e,D.usersByEmail[e]||e,U,$,t.email),[D.usersByEmail,$,t.email,U]);(0,r.useEffect)(()=>{if(A){let e=em(A);F(u.t8({tokens:[e],inputValue:"",errorMessage:""}))}},[A,em,F]);let e_=e=>{ec(e)},ep=e=>(0,w.r9)(e,U,$),eg=r=>{let n;let i=(0,C.OW)(r);z&&(n=new Set(z.map(e=>e.email))),F((0,T.Pv)({emails:i,resourceType:h._g.TEAM,resourceIdOrKey:a.id,level:et,emailsToExclude:(0,x.y0)(D.usersByEmail,t,X),onSuccess:({invites:t,over_editor_limit:a},r)=>{if(et>=N.V.EDITOR&&a){let a=(0,y.getResourceTeamId)(t[0],e),r=a&&{...e.teams[a],canEdit:(0,y.canEditTeam)(a,e),canAdmin:(0,y.canAdminTeam)(a,e)};F(p.K4({type:I._K,data:{team:r,invitesSent:t.length}}));return}r||H||eh(),e.notifyOnSuccess&&t.length>0&&!H&&F(m.R.enqueue({message:(0,d.t)("team_view.team_permissions_modal.invite_sent",{numInvites:t.length})}))},source:"team_share_modal",googleContactsEmails:n,orgName:U?U.name:void 0}))},eE=e=>{if(U&&U.domain_capture&&$&&$.domains.length>0){let t=(0,C.OW)(e).filter(e=>(0,s.Jh)(e)&&!(0,v.nv)($.domains,e));if((null==U?void 0:U.invite_whitelist_guest_invite_setting)==null&&t.length>0){F(p.K4({type:er.E,data:{emails:t,onConfirm:()=>{eg(e)},popStack:!0,orgName:U.name}}));return}}eg(e)},eh=()=>{F(p.hV()),F(u.mc())},ef=e=>{e.keyCode!==o.sr.ESCAPE&&e.stopPropagation()},ev=(0,y.canEditTeam)(a.id,e),eb=(0,y.canViewTeam)(a.id,e),ey=(0,y.canAdminTeam)(a.id,e),ew=!a.org_id,[eT,ex]=r.useState(e.initialView||0);return r.createElement(E.Ui,{name:"Share Modal",properties:{resourceType:h._g.TEAM,resourceId:a.id}},r.createElement(k.ge,{title:r.createElement(r.Fragment,null,0===eT?r.createElement(eu,null):r.createElement(en.i,{title:(0,d.t)("team_view.team_permissions_modal.access_settings"),onClick:()=>ex(0)})),isCloseHidden:!1,maxWidth:ew?484:w.UC,fixedTop:!0,onClose:eh},0===eT?(()=>{let n=[];return ey&&n.push(N.V.ADMIN),ev&&n.push(N.V.EDITOR),eb&&n.push(N.V.VIEWER),(0,l.q8)(n.length>0,"there should be at least one role (the user's own)"),r.createElement(r.Fragment,null,r.createElement("div",{key:"container",className:eo._9,onKeyDown:ef},ew&&r.createElement(r.Fragment,null,r.createElement(J,{teamId:a.id,dropdownShown:e.dropdownShown,initialInviteLevel:ee(ev)}),r.createElement("div",{className:eo.i7},r.createElement(d.Tx,{id:"team_view.team_permissions_modal.invite_by_email"}))),(0,ea.i)(t)?r.createElement(ea.c,{resourceType:"team"}):r.createElement("div",{className:eo.lV},r.createElement(S.x,{autocomplete:O,buttonText:(0,d.t)("team_view.team_permissions_modal.send_invite"),dispatch:F,dropdownKey:"permissions-invite-dropdown",dropdownShown:e.dropdownShown,inviteLevel:et,getSelectText:y.levelName,onInviteLevelChange:e_,options:n,onSubmit:eE,searchResultToken:ep,fetchAsyncSearchResults:e=>(0,x.Qf)(e,D.usersByEmail,t,X,G,a.id,null,(null==W?void 0:W.permission)===h.Gu.GUEST),searchResults:()=>Z,additionalSearchResults:Y,validateToken:em,TokenComponent:L.EZ,SearchResultComponent:L.ay,joinLinkShown:ew,shouldAutoFocus:!ew,inGoogleContactsExp:K,onTokenAddedSideEffect:e=>{let t="string"!=typeof e&&!!(null==z?void 0:z.find(t=>t.email===e.email));(0,i.L9)("Contact Suggestion Selected",{isGoogleContact:t})},onInputFocusSideEffect:()=>{(0,g.FJ)({userId:M,currentOrgId:G,tracked:!0})},onHideModal:eh})),H&&U&&r.createElement("div",{className:eo.vL},r.createElement("div",{className:eo.NG},r.createElement(el.j,{team:a,workspace:j,org:U,changeModalView:ex,sharingAudienceControl:null==V?void 0:V.sharingAudienceControl}),X.map((n,i)=>r.createElement(es.S,{key:`role-row-${i}`,role:n,user:t,currentUserOrgId:G,isOwnerOfResource:(0,y.isResourceOwner)(t.id,a.id,h._g.TEAM,e.roles),isOrgUser:!!n.org_user,currentOrg:U,resourceName:a.name,resource:{team:a,type:h._g.TEAM},canEditRole:(0,y.canEditRole)(n,e),canMakeAdmin:!!(null==B?void 0:B.canAdmin),readOnlyOverrideWarningMessage:null,orgDomains:$}))))))})():U?V&&r.createElement(ei.Y_,{team:a,workspace:j||void 0,org:U,teamSharingSettings:V,hideModal:eh,goBack:()=>ex(0)}):r.createElement(r.Fragment,null)))}function eu(){return r.createElement("div",{className:eo.M$},r.createElement("p",null,r.createElement(d.Tx,{id:"team_view.team_permissions_modal.invite_team_members"})))}},237952:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TeamRenameModal:()=>c});var r=a(652983),n=a(407908),i=a(970740),l=a(728443),s=a(818709),o=a(763836);function c({team:e}){let t=(0,n.I0)();return r.createElement(o.q,{initialName:e.name,maxLength:s.zO,placeholder:(0,i.t)("resource_rename_modal.team.placeholder"),submitText:(0,i.t)("resource_rename_modal.team.submit"),onRename:a=>t((0,l.gZ)({team:e,name:a}))})}},293135:(e,t,a)=>{"use strict";a.d(t,{p:()=>ee,j:()=>Q});var r=a(652983),n=a(407908),i=a(87608),l=a.n(i),s=a(600486),o=a(220518),c=a(716250),d=a(846999),m=a(618723),u=a(435613),_=a(212984),p=a(970740),g=a(864974),E=a(131826),h=a(312616),f=a(687496),v=a(898080),b=a(939860),y=a(326714),w=a(265643),T=a(225468),x=a(668849),N=a(881209),C=a(330386),S=a(456496),k=a(721127),I=a(124040),L=a(213104);function R(){let e=(0,n.I0)();return r.createElement("div",{className:"enterprise_plan_banner--bannerContainer--h64H1"},r.createElement("div",{className:"enterprise_plan_banner--bannerIcon--2Pxn8"},r.createElement(S.JO,{icon:"org-32"})),r.createElement("div",{className:"enterprise_plan_banner--bannerTextContainer--wSXtD"},r.createElement("h2",{className:"enterprise_plan_banner--bannerHeader--z0qY-"},r.createElement(p.Tx,{id:"universal_upgrade.enterpise_plan_banner.banner_header"})),r.createElement("span",{className:"enterprise_plan_banner--bannerTextBody--fW-lF"},r.createElement(p.Tx,{id:"universal_upgrade.enterpise_plan_banner.banner_body_text"}))),r.createElement(m.pJ,{className:"enterprise_plan_banner--contactSalesCTA--PkiCb",onClick:()=>e(k.K4({type:L.gg,data:{source:L.fB.PLAN_COMPARISON}})),trackingProperties:{trackingDescriptor:I.y.ENTERPRISE_PLAN_BANNER_CONTACT_SALES}},r.createElement(p.Tx,{id:"universal_upgrade.enterpise_plan_banner.contact_sales"})))}function A({currentPlan:e,setCurrentPlan:t}){let a=a=>{let r=a.currentTarget.id;(0,s.L9)("Toggled Billing Display",{prevDisplay:e,newDisplay:r}),t(r)};return r.createElement("div",{className:"billing_toggle--container--2q6zl"},r.createElement(O,{id:y.Th.MONTHLY,selected:e===y.Th.MONTHLY,onClick:a},r.createElement(p.Tx,{id:"plan_comparison.billing_toggle.monthly_billing"})),r.createElement(O,{id:y.Th.ANNUAL,selected:e===y.Th.ANNUAL,onClick:a},r.createElement(p.Tx,{id:"plan_comparison.billing_toggle.yearly_billing",saveMessage:r.createElement("strong",{className:"billing_toggle--saveMessage--h5KEb"},r.createElement(p.Tx,{id:"plan_comparison.billing_toggle.yearly_billing_save_message",saveAmount:40}))})))}function O({id:e,children:t,selected:a,onClick:n}){return r.createElement("button",{role:"tab",id:e,className:l()("billing_toggle--toggle--hZcsV",{"billing_toggle--toggle__selected--3I89E":a}),"aria-selected":a,"aria-controls":`${e}-tab`,onClick:n},t)}var D=a(388899),F=a(299482),M=a(65249),P=a(761767),B=a(787449),U=a(730799),V=a(168138);let W="plan_information--button--JcOmh";function G(e){let t=b.X.useShouldShowVariantExperience(),{name:a,description:n}=t?w.mJ[e.planMode]:w.RQ[e.planMode];return r.createElement("div",null,r.createElement("h2",{className:_.cx.font16.fontSemiBold.flex.flexWrap.itemsCenter.$},a()," ",r.createElement(j,{...e})),r.createElement("p",{className:_.cx.mt8.colorTextSecondary.$},n()," ",e.isProCurrent&&e.planMode!==v.Jb.PRO?r.createElement(p.Tx,{id:"plan_comparison.plans.billed_yearly"}):null))}function j({planMode:e,isProCurrent:t,isProTrial:a,isHighlighted:i,overrideHighlightedBadgeText:l,upsellSource:s}){let o=b.X.useShouldShowVariantExperience(),{highlightBadgeText:c}=w.RQ[e],d=_.cx.ml8.fontMedium.font11.colorTextBrand.$,m=(0,n.v9)(e=>e.isFreeUser);if(e===v.Jb.FREE){let e=s===B.V.CREATE_NEW_PAID_TEAM&&!!m;if(e)return r.createElement("strong",{className:_.cx.ml8.fontMedium.font11.colorTextSecondary.$},r.createElement(p.Tx,{id:"plan_comparison.plans.starter.current_plan"}))}else if(e===v.Jb.PRO){if(a)return r.createElement("strong",{className:d},r.createElement(M.x,{i18nId:"plan_comparison.plans.current_trial"}));if(i&&o)return r.createElement("div",{className:_.cx.mt4.$},r.createElement(V.s,null))}if(i&&c){let e=l?w.z0[l]():null==c?void 0:c(t?w.zQ.RECOMMENDED:w.zQ.MOST_VALUED);return r.createElement("strong",{className:d},e)}return null}function H({currentSubscriptionPlan:e,setCurrentSubscriptionPlan:t,currency:a,planMode:n,isCurrentPlan:i,showFullCurrencyFormat:l}){let{hasPrice:s,hasAnnualOnlyMessage:o}=w.RQ[n],d=(0,c.BZ)().dt_dm_m10n&&[v.Jb.PRO,v.Jb.ORG,v.Jb.ENT].includes(n),m=(0,c.BZ)().dt_dm_m10n&&[v.Jb.ORG,v.Jb.ENT].includes(n);if(i||!s)return null;if(e!==y.Th.ANNUAL&&o)return r.createElement("p",null,r.createElement(p.Tx,{id:"plan_comparison.plans.org.annual_only_message",billingToggle:r.createElement("button",{"data-testid":"plan-information-toggle-billing",className:"plan_information--annualToggleButton--XJvji blue_link--blueLink--9rlnd",onClick:()=>t(y.Th.ANNUAL)},r.createElement(p.Tx,{id:"plan_comparison.plans.button.annual_billing_toggle"}))}));let u=_.cx.flex.justifyBetween.itemsCenter.$,g=_.cx.fontMedium.font11.colorText.$,E=F.sx.flex.flexColumn.add({maxWidth:"50%"}).$,h=_.cx.fontSemiBold.font16.colorText.$;return r.createElement("div",{className:"plan_information--priceContainer--6R4Pu"},r.createElement("div",{className:u,"data-testid":"design-price-row"},r.createElement("div",{style:E},r.createElement("p",{className:g},r.createElement(p.Tx,{id:"plan_details.figma"})),d&&r.createElement("p",null,r.createElement(U.F,null))),r.createElement("p",null,r.createElement(p.Tx,{id:"plan_details.price_editor_mo.seat_rename",price:r.createElement("strong",{className:h},(0,w.oW)({editorType:P.oj.DESIGN,planMode:n,currency:a,currentSubscriptionPlan:e,showFullCurrencyFormat:l}))}))),m&&r.createElement("div",{className:u,"data-testid":"dev-mode-price-row"},r.createElement("div",{style:E},r.createElement("p",{className:g},r.createElement(p.Tx,{id:"plan_details.dev_mode_only"}))),r.createElement("p",null,r.createElement(p.Tx,{id:"plan_details.price_editor_mo.seat_rename",price:r.createElement("strong",{className:h},(0,w.oW)({editorType:P.oj.DEV_MODE,planMode:n,currency:a,currentSubscriptionPlan:e,showFullCurrencyFormat:l}))}))),r.createElement("div",{className:u,"data-testid":"whiteboard-price-row"},r.createElement("p",{className:g},r.createElement(p.Tx,{id:"plan_details.fig_jam"})),r.createElement("p",null,r.createElement(p.Tx,{id:"plan_details.price_editor_mo.seat_rename",price:r.createElement("strong",{className:h},(0,w.oW)({editorType:P.oj.WHITEBOARD,planMode:n,currency:a,currentSubscriptionPlan:e,showFullCurrencyFormat:l}))}))))}function $({planMode:e,chooseStarterPlan:t,chooseProPlan:a,chooseOrgPlan:i,isCurrentPlan:s,upsellSource:o}){let c=(0,n.I0)(),d=(0,n.v9)(e=>e.teamCreation.loading),u=b.X.useShouldShowVariantExperience();if(s&&!t){let t=o===B.V.CREATE_NEW_PAID_TEAM;return r.createElement("div",{role:"button",className:l()("plan_information--disabledButton--hVD3G",W),"data-testid":`plan-information-${e}-button`,"data-tooltip-type":T.fR.TEXT,"data-tooltip":t?(0,p.t)("plan_comparison.plans.starter.you_already_have_a_starter_team"):void 0,"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":200,"data-tooltip-offset-y":-8},t?r.createElement(p.Tx,{id:"plan_comparison.plans.starter.limit_reached"}):r.createElement(p.Tx,{id:"plan_comparison.plans.button.current_plan"}))}let{buttonText:_,trackingDescriptor:g}=w.RQ[e],E=s&&!!t||e===v.Jb.ENT,h=e===v.Jb.FREE&&o===B.V.CREATE_NEW_PAID_TEAM&&d,f={[v.Jb.FREE]:t??D.ZT,[v.Jb.PRO]:a,[v.Jb.ORG]:i,[v.Jb.EDU]:a,[v.Jb.ENT]:()=>c(k.K4({type:L.gg,data:{source:L.fB.PLAN_COMPARISON}}))},y=E?m.pJ:m.RS;return r.createElement(y,{className:W,onClick:f[e],disabled:h,"data-testid":`plan-information-${e}-button`,trackingProperties:{trackingDescriptor:g,upsellSource:o,shouldShowSETRecommendedBadgeVariant:u}},(0,w.L2)({planMode:e,upsellSource:o,buttonText:_}))}function z({planMode:e,withUpgradeExistingTeamOption:t}){let a=(0,n.I0)(),i=b.X.useShouldShowVariantExperience(),{canContactSales:l,additionalMessage:s}=w.RQ[e];return r.createElement("div",{className:_.cx.alignCenter.$},l&&r.createElement("p",null,r.createElement(p.Tx,{id:"plan_comparison.plans.or_contact_sales",contactSalesLink:r.createElement(m.Z6,{className:_.cx.noWrap.cursorDefault.$,onClick:()=>a(k.K4({type:L.gg,data:{source:L.fB.PLAN_COMPARISON}})),"data-testid":"plan-information-contact-sales",trackingProperties:{shouldShowSETRecommendedBadgeVariant:i},trusted:!0},r.createElement(p.Tx,{id:"plan_details.contact_sales"}))})),!!t&&r.createElement("p",null,r.createElement(m.Z6,{onClick:t,"data-testid":"plan-information-upgrade-existing",trackingProperties:{trackingDescriptor:I.y.UPGRADE_EXISTING_TEAM},trusted:!0},r.createElement(p.Tx,{id:"plan_comparison.plans.pro.upgrade_an_existing_team"}))),s&&r.createElement("p",null,s()))}let K="comparison_chart--highlighted--0MEuf",Z="comparison_chart--planInformationContainer--j3gM-",q="comparison_chart--featureContainer--Mjo9a",Y={[y.tv.UNSPECIFIED]:y.Th.ANNUAL,[y.tv.MONTHLY]:y.Th.MONTHLY,[y.tv.ANNUAL]:y.Th.ANNUAL,[y.tv.STUDENT]:y.Th.ANNUAL},J={[y.Th.MONTHLY]:y.tv.MONTHLY,[y.Th.ANNUAL]:y.tv.ANNUAL},Q=e=>!!e&&!(0,o._E)(e.email),X=(e,t,a,r)=>e?{orderedPlans:w.st,orderedFeatures:w.sD,currentPlan:v.Jb.PRO,highlightedPlan:v.Jb.ORG}:{orderedPlans:t?w.yt:w.MH,orderedFeatures:r?w.rU:a?w.PO:w.gp,currentPlan:v.Jb.FREE,highlightedPlan:v.Jb.PRO};function ee({currency:e,chooseStarterPlan:t,chooseProPlan:a,chooseOrgPlan:i,updateCurrency:s,isProTrial:o,upsellSource:u,isProCurrent:w,overrideHighlightedPlan:T,overrideHighlightedBadgeText:S,featureList:k,withUpgradeExistingTeamOption:I}){let L=(0,n.v9)(e=>e.payment),[O,D]=r.useState(L.billingPeriod?Y[L.billingPeriod]:y.Th.ANNUAL),F=(0,n.I0)(),M=(0,n.v9)(e=>e.dropdownShown),P=(0,n.v9)(e=>e.user),B=(0,n.v9)(e=>!!e.user&&(0,d.dE)(e.user)),U=(0,x.A2)(),V=U&&!!(0,c.BZ)().dt_dm_m10n,W=b.X.useShouldShowVariantExperience(),j=Q(P)&&!W,ee="usd"===e&&"cad"===(0,f.x_)(),et=(0,h.p)(C.A),er="usd"!==e&&!et&&!(0,f.Dj)(),en=X(w,B,W,V),{highlightedPlan:ei,orderedFeatures:el}=en,{orderedPlans:es,currentPlan:eo}=en;T&&(ei="none"===T?null:T),k&&(el=k);let ec=e=>B&&L.billingPeriod===y.tv.STUDENT?y.tv.STUDENT:J[e];return r.createElement(E.Ui,{name:"Plan comparison chart",properties:{highlightedPlan:ei,currentPlan:eo,shouldShowSETRecommendedBadgeVariant:W}},r.createElement("div",{className:"comparison_chart--container--NIwqi"},!w&&r.createElement("div",{className:"comparison_chart--billingToggleContainer--s8J9F"},r.createElement(A,{currentPlan:O,setCurrentPlan:e=>{D(e)}})),(0,f.EB)()&&r.createElement("div",{className:"comparison_chart--currencySwitcherContainer--NHsXJ"},r.createElement(N.w,{currency:e,dropdownShown:M,supportedCurrencies:(0,f._M)(),changeCurrency:s,shortFormDisplay:!1})),!w&&er&&r.createElement(C.W,{onClose:()=>{F(g.v({[C.A]:!0}))},currency:e,width:985,arrowPosition:108}),r.createElement("div",{className:"comparison_chart--tableContainer--sfXqw",role:"tabpanel",id:`${O}-tab`},r.createElement("table",{className:"comparison_chart--table--VIWP5"},r.createElement("colgroup",null,r.createElement("col",{span:1}),es.map(e=>r.createElement("col",{key:e,span:1}))),r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:q}),es.map(e=>r.createElement("th",{key:e,className:l()(Z,_.cx.pt24.pb12.$,{[K]:e===ei})},r.createElement(G,{planMode:e,isProCurrent:w,isProTrial:o,isHighlighted:e===ei,upsellSource:u,overrideHighlightedBadgeText:S})))),r.createElement("tr",null,r.createElement("th",{className:q}),es.map(t=>r.createElement("th",{key:t,className:l()(Z,_.cx.pt12.pb12.$,{[K]:t===ei})},r.createElement(H,{planMode:t,currency:e,currentSubscriptionPlan:O,setCurrentSubscriptionPlan:D,isCurrentPlan:t===eo,showFullCurrencyFormat:ee})))),r.createElement("tr",null,r.createElement("th",{className:q}),es.map(e=>r.createElement("th",{key:e,className:l()(Z,_.cx.pt12.$,{[K]:e===ei})},r.createElement($,{planMode:e,chooseStarterPlan:t,chooseProPlan:()=>a(ec(O)),chooseOrgPlan:i,isCurrentPlan:e===eo,upsellSource:u})))),r.createElement("tr",null,r.createElement("th",{className:q}),es.map(e=>r.createElement("th",{key:e,className:l()(Z,_.cx.pt8.pb12.$,{[K]:e===ei})},r.createElement(z,{planMode:e,withUpgradeExistingTeamOption:e===v.Jb.PRO&&I?()=>I(ec(O)):void 0}))))),r.createElement("tbody",null,el.map(e=>r.createElement(ea,{key:e,feature:e,orderedPlans:es,highlightedPlan:ei})))),r.createElement(m.Z6,{className:"comparison_chart--allFeaturesLink--hDqQZ",href:v.Xl,target:"_blank",trusted:!0},r.createElement(p.Tx,{id:"plan_details.see_all_features"})),!w&&j&&r.createElement(R,null))))}let et=a(394585);function ea({feature:e,orderedPlans:t,highlightedPlan:a}){let[n,i]=r.useState(!1),o=r.useRef();return r.createElement("tr",null,r.createElement("td",{className:q,"data-tooltip-type":T.fR.TEXT,"data-tooltip":w.R2[e].details(),"data-tooltip-show-right":!0,"data-tooltip-show-immediately":!0,"data-tooltip-light-mode":!0,onMouseEnter:()=>{n||(o.current=setTimeout(()=>{i(!0),(0,s.L9)("Plan Comparison Feature Viewed",{featureName:w.R2[e].id})},1e3))},onMouseLeave:()=>{clearTimeout(o.current)}},r.createElement("p",{className:"comparison_chart--featureName--twHSh"},w.R2[e].name())),t.map(t=>r.createElement("td",{key:t,className:l()("comparison_chart--planFeature--9Jrc0",{[K]:t===a})},r.createElement(er,{key:t,plan:t,feature:e}))))}function er({plan:e,feature:t}){let a=w.GY[e][t];return"boolean"==typeof a?a?r.createElement(u.n,{svg:et,className:"comparison_chart--featureIcon--yxeMm",title:(0,p.t)("plan_comparison.chart.included")}):null:r.createElement(r.Fragment,null,a())}},984967:(e,t,a)=>{"use strict";a.r(t),a.d(t,{UpgradeChoosePlanModal:()=>f});var r=a(652983),n=a(407908),i=a(519781),l=a(970740),s=a(111120),o=a(721127),c=a(413110),d=a(131826),m=a(72815),u=a(687496),_=a(881835),p=a(505468),g=a(213104),E=a(293135),h=a(610282);function f(e){let t=(0,n.I0)(),a=(0,m.zy)(e.teamId??""),[f,v]=(0,r.useState)((0,u.x_)()),b=()=>{t(o.eI())};return r.createElement(d.Ui,{name:"Upgrade Choose Plan With Figjam Modal",properties:{upsellSource:e.upsellSource}},r.createElement(p.Rj,{className:"upgrade_choose_plan_modal--modal--Rx2pG",hide:b,size:1049},r.createElement("div",{className:"upgrade_choose_plan_modal--planModalHeader--RcVwv"},r.createElement("h1",{className:"upgrade_choose_plan_modal--planModalTitle--t5wAJ text--fontPos24--YppUD text--_fontBase--QdLsd"},e.isProCurrent?r.createElement(l.Tx,{id:"plan_comparison.title.working_group"}):r.createElement(l.Tx,{id:"plan_comparison.title"}))),r.createElement(i.PZ,{className:"upgrade_choose_plan_modal--closeButton--Ml6Ee",onClick:b,innerText:"close"}),r.createElement("div",{className:"upgrade_choose_plan_modal--planModalBody--t-aab"},r.createElement(E.p,{currency:f,chooseProPlan:a=>{e.teamId?(t(o.hV()),t(c.F2({teamId:e.teamId,billingPeriod:a,currency:f,openInNewTab:e.openCheckoutInNewTab}))):t((0,o.K4)({type:g.n2,data:{plan:h.UpgradePlan.PRO,upsellSource:e.upsellSource,billingPeriod:a}}))},chooseOrgPlan:()=>{t(o.hV()),t(c.s3({currency:f,upsellSource:e.upsellSource,openInNewTab:e.openCheckoutInNewTab}))},updateCurrency:e=>{v(e),t(s.kp())},isProTrial:_.pl.canSeeProTrialUx(a),upsellSource:e.upsellSource,isProCurrent:e.isProCurrent,overrideHighlightedPlan:e.overrideHighlightedPlan,overrideHighlightedBadgeText:e.overrideHighlightedBadgeText,featureList:e.featureList}))))}},868269:(e,t,a)=>{"use strict";a.r(t),a.d(t,{EduUpgradeModal:()=>p});var r=a(652983),n=a(407908),i=a(618723),l=a(970740),s=a(111120),o=a(721127),c=a(413110),d=a(131826),m=a(898080),u=a(236750),_=a(802810);function p(){let e=(0,n.v9)(e=>e),t=(0,n.I0)(),a=r.useCallback(()=>{t(o.hV())},[t]),p=r.useCallback(e=>{a(),t(c.y4({teamId:e.id}))},[t,a]),g=r.useCallback(()=>{a(),t(s.Nf({isEduTeam:!0}))},[t,a]),E=r.useMemo(()=>(0,m.n$)(e),[e]);return r.useLayoutEffect(()=>{0===E.length&&g()},[t,E.length,g]),r.createElement(d.Ui,{name:"Edu Team Upgrade Modal"},r.createElement(u.ge,{title:(0,l.t)("edu.upgrade_teams.headline"),onClose:a},r.createElement("div",{className:"edu_upgrade_modal--container--i6yXs"},r.createElement("p",{className:"edu_upgrade_modal--bodyText----Png"},r.createElement(l.Tx,{id:"edu.upgrade_teams.body",link:r.createElement(i.Cr,{className:"edu_upgrade_modal--link--iViOy",href:"/pricing",target:"_blank",trusted:!0},r.createElement(l.Tx,{id:"edu.upgrade_teams.body_link_text"}))}),E.length>1&&r.createElement(r.Fragment,null," ",r.createElement(l.Tx,{id:"edu.upgrade_teams.body_multiple_teams"}))),r.createElement(_.F,{eligibleTeams:E,selectTeam:p,showEditorCount:!1,customUpgradeText:(0,l.t)("general.next")}),r.createElement(i.Cr,{className:"edu_upgrade_modal--createTeamLink--BG8ak edu_upgrade_modal--link--iViOy",onClick:g,trusted:!0},r.createElement(l.Tx,{id:"edu.or_create_a_new_team"})))))}},345759:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FileBrowserView:()=>zG});var r,n,i,l,s,o,c,d,m,u,_,p,g,E,h,f,v,b,y,w,T,x,N,C,S,k,I,L,R,A,O,D,F,M,P,B,U,V,W,G,j,H,$,z,K,Z,q,Y,J,Q,X,ee,et,ea,er,en,ei,el,es,eo,ec,ed,em,eu,e_={};a.r(e_),a.d(e_,{Left:()=>sw,Right:()=>sT});var ep={};a.r(ep),a.d(ep,{Left:()=>sx,Right:()=>sN});var eg={};a.r(eg),a.d(eg,{Left:()=>sC,Right:()=>sS});var eE={};a.r(eE),a.d(eE,{Left:()=>sk,Right:()=>sI});var eh={};a.r(eh),a.d(eh,{Left:()=>sL,Right:()=>sR});var ef={};a.r(ef),a.d(ef,{bannerChildDefault:()=>IW,bannerChildWarning:()=>IG});var ev=a(652983),eb=a(407908),ey=a(239299),ew=a(448501),eT=a(716250),ex=a(388899),eN=a(571529),eC=a(458324),eS=a(275835),ek=a(212984),eI=a(882038),eL=a(46347),eR=a(33729),eA=a(618723),eO=a(647398),eD=a(435613),eF=a(926212),eM=a(288432),eP=a(675620),eB=a(330458);let eU=a(752741),eV=a(267309),eW=ev.memo(function(e){let t,a;return"implicit"===e.consentRegion?(t=eM.pK,a=eM.Z5):"explicit"===e.consentRegion&&(t=(0,eF.zg)(),a=(0,eF.kd)()),ev.createElement("div",{role:"region","aria-label":t,className:eB.NX},ev.createElement(eA.yi,{className:eB.c_,rel:"noopener",target:"_blank",href:a},ev.createElement(eD.n,{svg:eV})),ev.createElement("span",{className:eB.d9,"aria-hidden":"true"},t))}),eG=ev.memo(function(){return(0,eT.BZ)().cookie_banners_community?"implicit"===(0,eT.ZP)().consent_region?ev.createElement(eM.MF,{variant:eP.I.COMMUNITY,dismissIcon:eU,SecondaryButton:e=>ev.createElement(eO.hG,{fullWidth:!1,className:eB.cq,use:"hollow",...e}),persistentMessage:ev.createElement(eW,{consentRegion:"implicit"})}):"explicit"===(0,eT.ZP)().consent_region?ev.createElement(eF.u,{variant:eP.I.COMMUNITY,dismissIcon:eU,SecondaryButton:e=>ev.createElement(eO.hG,{fullWidth:!1,className:eB.cq,use:"hollow",...e}),PrimaryButton:e=>ev.createElement(eO.hG,{fullWidth:!1,className:eB.cq,use:"standard",...e}),persistentMessage:ev.createElement(eW,{consentRegion:"explicit"})}):null:null});var ej=a(573196),eH=a(448694),e$=a(571194),ez=a(870077),eK=a(600486),eZ=a(19516),eq=a(970740),eY=a(728140),eJ=a(981002),eQ=a(484188);let eX=e=>{var t,a;let r=null==(t=(0,eQ.Kd)())?void 0:t.getPrimaryLocale(!1);if(r&&["ja","fr","de"].includes(r)){let t=null==(a=(0,eQ.Kd)())?void 0:a.getDictionary(r),n=null==t?void 0:t.getDynamicString(e.i18n_meta.title),i=null==t?void 0:t.getDynamicString(e.i18n_meta.description);if(e.title&&!n||e.description&&!i)return!1}return!0};var e0=a(782328),e1=a(401088),e2=a(968034),e3=a(131826),e4=a(646472),e8=a(986881);function e5({children:e}){return ev.createElement(ev.Fragment,null,e)}var e9=a(793196),e6=a(988906);let e7=e=>{let t={};return e.filter(e=>{let a="model"in e?e.model.id:e.id;return!t[a]&&(t[a]=!0,!0)})},te=(e="normal")=>"rows"===e?e6._X:"profile"===e?e6.i8:"compact"===e?e6.cz:e6.z1;function tt({resources:e,adtlClassName:t,showAsTable:a=!1,showMoreCallback:r,onIntersectionChange:n,viewContext:i="feedResourceGrid",TileWrapper:l=e5}){let s=(0,eb.v9)(e=>e.authedActiveCommunityProfile),o=(0,e2.X)(),c=ev.useMemo(()=>e7(e),[e]);return ev.createElement(e3.Ui,{name:i},ev.createElement("div",{className:t||e6.z1},c.map((e,t)=>"is_widget"in e?e.is_widget?ev.createElement(l,{key:`widget-${e.id}`,resourceId:e.id,resourceType:e4._g.WIDGET,resourceName:(0,ej.$o)(e).name},ev.createElement(e9.$Q,{key:`widget-${e.id}`,index:t,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==n?void 0:n(e,t),trackingInfo:o})):a?ev.createElement(l,{key:`pluginRow-${e.id}`,resourceId:e.id,resourceType:e4._g.PLUGIN,resourceName:(0,ej.$o)(e).name},ev.createElement(e9.ke,{key:`pluginRow-${e.id}`,index:t,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==n?void 0:n(e,t),trackingInfo:o,isOrgTeamBrowsing:!!((null==s?void 0:s.team_id)||(null==s?void 0:s.org_id))})):ev.createElement(l,{key:`plugin-${e.id}`,resourceId:e.id,resourceType:e4._g.PLUGIN,resourceName:(0,ej.$o)(e).name},ev.createElement(e9.J9,{index:t,key:`plugin-${e.id}`,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==n?void 0:n(e,t),trackingInfo:o})):"resources"in e?ev.createElement(l,{key:`profileRow-${e.model.id}`,resourceId:e.model.id,resourceType:"profile",resourceName:e.model.name},ev.createElement(e9.Xl,{index:t,key:`profileRow-${e.model.id}`,resource:e,animationIndex:t%30,authedActiveCommunityProfile:s,trackingInfo:o})):"profile_handle"in e?ev.createElement(l,{key:`profile-${e.id}`,resourceId:e.id,resourceType:"profile",resourceName:e.name},ev.createElement(e9.m0,{key:`profile-${e.id}`,resource:e})):ev.createElement(l,{key:`file-${e.id}`,resourceId:e.id,resourceType:e4._g.HUB_FILE,resourceName:(0,ej.$o)(e).name},ev.createElement(e9.XU,{index:t,key:`file-${e.id}`,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==n?void 0:n(e,t),trackingInfo:o})))),e.length>0&&r&&ev.createElement(e8.X,{callback:e=>{e[0].isIntersecting&&r()}}))}var ta=a(951261);let tr="community_collections--bannerContainer--7yGIP",tn="community_collections--copyButton--Mb-fA text--fontPos13--xW8hS text--_fontBase--QdLsd",ti="community_collections--resourcePreviewRow--wcOSC",tl="community_collections--resourcePreview--QDaaf",ts="community_collections--breadcrumbTrailContainer--uibe8",to="community_collections--breadcrumbTrail--JQcAW",tc="community_collections--breadcrumbArrow--bv6Ia",td="community_collections--parentBreadcrumb--fhqqK community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",tm="community_collections--childBreadcrumb--X4qf6 community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",tu="community_collections--shelfPreview--Lvszp",t_="community_collections--leftSide--71Jj2",tp="community_collections--shelfPreviewHalf--rgTft community_collections--shelfPreview--Lvszp",tg=ev.createElement("svg",{width:"7",height:"10",viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M1 1L5 4.91111L1 9",strokeWidth:"2"})),tE=ev.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0304 9.53033L8.00006 16.5607L3.46973 12.0303L4.53039 10.9697L8.00006 14.4393L13.9697 8.46967L15.0304 9.53033Z",fill:"white"})),th=a(585404),tf=ev.createElement("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.52469 13.6568L8.17634 11.0052L8.88345 11.7123L6.2318 14.3639C4.96259 15.6331 2.90481 15.6331 1.6356 14.3639C0.366401 13.0947 0.366401 11.0369 1.6356 9.76772L4.28726 7.11607L4.99436 7.82317L2.34271 10.4748C1.46403 11.3535 1.46403 12.7781 2.34271 13.6568C3.22139 14.5355 4.64601 14.5355 5.52469 13.6568ZM11.7119 8.88383L11.0048 8.17673L13.6564 5.52507C14.5351 4.6464 14.5351 3.22177 13.6564 2.34309C12.7777 1.46441 11.3531 1.46442 10.4744 2.34309L7.82279 4.99474L7.11568 4.28764L9.76733 1.63599C11.0365 0.366784 13.0943 0.366784 14.3635 1.63599C15.6327 2.90519 15.6327 4.96298 14.3635 6.23218L11.7119 8.88383ZM6.26126 10.5043L10.5039 6.26164L9.73787 5.49561L5.49523 9.73825L6.26126 10.5043Z",fill:"white"})),tv={Blue:ta.S3A,"Multiplayer Yellow":ta.qQq,Teal:ta.ebq,"Hot Pink":ta.YL0,Redish:ta.JF0,Green:ta.UPb,Purple:ta.svU,"Dark Blue":ta.HmU,"FigJam Primary":ta.RtL},tb=Object.keys(tv)[0];function ty(){let{urlSlug:e}=(0,eR.UO)();return ev.createElement(ev.Fragment,null,ev.createElement(tT,{urlSlug:e}))}function tw(){let[e,t]=ev.useState([]),[a,r]=ev.useState(void 0),[n,i]=ev.useState(!1),l=()=>{null!==a&&(n||(i(!0),e0.w.getCommunityShelvesArchive({cursor:a,pageSize:8}).then(a=>{r(a.data.pagination.nextPage),t([...e,...a.data.meta].filter(eX)),i(!1)})))};return(0,eZ.O)(()=>l()),ev.createElement(ev.Fragment,null,ev.createElement(e1.F,null),ev.createElement("div",{className:"community_collections--allCollectionsPage--YFBlU"},ev.createElement("div",{className:"community_collections--allCollectionsHeaderContainer--9UL5p"},ev.createElement("h1",{className:"community_collections--allCollectionsHeader--L0frM text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI"},ev.createElement(eq.Tx,{id:"community.categories.figma_community_collections"})),ev.createElement("h2",{className:"community_collections--allCollectionsSubHeader--Ww0AY text--fontPos18--rYXJb text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"community.categories.check_out_collections_of_some_of_our_favorite_design_files_plugins_and_creators_from_figma_community"}))),ev.createElement("div",{className:ts},ev.createElement("ul",{className:to},ev.createElement("li",{className:td},ev.createElement("a",{href:"/community"},ev.createElement(eq.Tx,{id:"community.view_bar.home"}))),ev.createElement("div",{className:tc},tg),ev.createElement("li",{className:tm},ev.createElement(eq.Tx,{id:"community.shelves.all_collections"})))),e.map(e=>ev.createElement(tR,{key:e.id,shelf:e})),n&&ev.createElement(eJ.$j,null),e.length>0&&"string"==typeof a&&ev.createElement(e8.X,{callback:e=>{e[0].isIntersecting&&l()}})))}function tT(e){var t;let{urlSlug:a,profileTile:r,onSetShelf:n}=e,[i,l]=ev.useState(null),s=()=>{e0.w.getCommunityShelves({urlSlug:a}).then(({data:e})=>{n&&n(e.meta[0]),l(e.meta[0])}).catch(()=>{})};if(ev.useEffect(()=>{s()},[a]),!i)return ev.createElement(ev.Fragment,null);let o=ev.createElement("div",{className:tr},ev.createElement("div",{className:ts},ev.createElement("ul",{className:to},ev.createElement("li",{className:td},ev.createElement("a",{href:"/community"},ev.createElement(eq.Tx,{id:"community.view_bar.home"}))),ev.createElement("div",{className:tc},tg),ev.createElement("li",{className:td},ev.createElement("a",{href:"/community/collections"},ev.createElement(eq.Tx,{id:"community.shelves.all_collections"}))),ev.createElement("div",{className:tc},tg),ev.createElement("li",{className:tm,style:{color:tv[(null==(t=i.shelf_meta.banner)?void 0:t.color)||tb]}},ev.createElement("a",{href:window.location.href},(0,eq.mz)(i.i18n_meta.title,i.title)))))),c=ev.createElement("div",{className:"community_collections--gridContainer--PkTIN"},ev.createElement("div",{className:e6.vC},ev.createElement("div",{className:"community_collections--feed--71Y8R feed_page--feed--7UNQq text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(tt,{resources:i.shelf_content,profileTile:r}))));return ev.createElement(ev.Fragment,null,ev.createElement(e1.F,null),ev.createElement(tN,{shelf:i}),o,c)}function tx(e){let{isMobileScreen:t}=e,[a,r]=ev.useState(!1);return a?ev.createElement("button",{className:tn},t?tE:ev.createElement(eq.Tx,{id:"community.view_bar.copied"})):ev.createElement("button",{className:tn,onClick:()=>{r(!0),(0,ej.vQ)(window.location.href),setTimeout(()=>r(!1),1e3)}},t?tf:ev.createElement(eq.Tx,{id:"community.view_bar.copy_link"}))}function tN(e){var t;let{shelf:a,bannerStyle:r}=e,[n,i]=ev.useState(window.innerWidth),[l,s]=ev.useState(null);tC(l);let o=a?new Date(null==a?void 0:a.updated_at):new Date;ev.useEffect(()=>{let e=()=>{i(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=tv[(null==(t=null==a?void 0:a.shelf_meta.banner)?void 0:t.color)||Object.keys(tv)[0]];return ev.createElement("div",{className:r||tr,ref:e=>s(e)},ev.createElement("div",{className:"community_collections--banner--S2zb2 text--fontPos13--xW8hS text--_fontBase--QdLsd",style:{background:`linear-gradient(45deg, ${c}, ${c}80)`}},ev.createElement("div",{className:"community_collections--bannerLeft--1oEnB"},ev.createElement("div",{className:"community_collections--info--7PVz2"},a&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"community_collections--subtitle--dm958 text--fontPos12--YsUAh text--_fontBase--QdLsd community_collections--marginX--8hpWs"},(0,eq.mz)(a.i18n_meta.subtitle,a.subtitle)),ev.createElement("h1",{className:"community_collections--title--cqPZt text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI community_collections--marginX--8hpWs text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,eq.mz)(a.i18n_meta.title,a.title)),ev.createElement("p",{className:"community_collections--description--cjsSf community_collections--marginX--8hpWs text--fontPos16--oMC-G text--_fontBase--QdLsd"},(0,eq.mz)(a.i18n_meta.description,a.description))),ev.createElement("div",{className:"community_collections--meta--Z25Vv"},ev.createElement("div",{className:"community_collections--metaLeft--9gNAe"},ev.createElement("div",{className:"community_collections--curatedImage--YDOQy community_collections--metaSpace--9Jcor"},ev.createElement(eD.n,{svg:th,width:"15px",height:"15px",useOriginalSrcFills_DEPRECATED:!0})),ev.createElement("div",{className:"community_collections--curated--fHhRS"},ev.createElement(eq.Tx,{id:"community.view_bar.curated_by"}),"\xa0"),ev.createElement("a",{className:"community_collections--figmaLink--4hdDG community_collections--metaSpace--9Jcor",href:`${(0,eT.Gm)().figma_url}/@figma`},ev.createElement(eq.Tx,{id:"community.view_bar.figma"}))),ev.createElement("div",{className:"community_collections--metaRight--hhG9k"},ev.createElement("div",{className:"community_collections--separator--OfDbC community_collections--metaSpace--9Jcor"},"\u2022\xa0"),ev.createElement("div",{className:"community_collections--updateDate--vgkWS"},ev.createElement(eq.Tx,{id:"community.view_bar.updated_date",date:o.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})),ev.createElement(tx,{isMobileScreen:n<=540}))))),ev.createElement("div",{className:"community_collections--bannerRight--CuT0Z"},(null==a?void 0:a.shelf_content)&&ev.createElement(tk,{resources:a.shelf_content}))))}function tC(e){ev.useEffect(()=>{let t=null==e?void 0:e.querySelectorAll(`.${tl}`),a=setInterval(()=>{null==t||t.forEach((e,t)=>{setTimeout(()=>{e.style.transform="scale(1.03) translateX(-3px)",setTimeout(()=>{e.style.transform="scale(1)"},400)},100*t)})},4e3);return()=>clearTimeout(a)},[e])}function tS({resource:e}){let t=(0,ej.$o)(e),a="current_hub_file_version_id"in e,r=e.thumbnail_url;return ev.createElement("div",{className:tl},a?ev.createElement(eY.ck,{hubFileId:e.id,image:r,alt:t.name,onLoad:e=>e.target.style.opacity="1",resizedThumbnailUrls:e.resized_thumbnail_urls}):ev.createElement("img",{alt:t.name,src:r}))}function tk(e){let t=e.resources.filter(e=>e&&("current_hub_file_version_id"in e||"current_plugin_version_id"in e));return ev.createElement("div",{className:"community_collections--previewTransformContainer--8b6Bh"},ev.createElement("div",{className:ti},!!t[0]&&ev.createElement(tS,{resource:t[0]}),!!t[1]&&ev.createElement(tS,{resource:t[1]})),ev.createElement("div",{className:"community_collections--previewRowMiddle--jwXWH community_collections--resourcePreviewRow--wcOSC"},!!t[2]&&ev.createElement(tS,{resource:t[2]}),!!t[3]&&ev.createElement(tS,{resource:t[3]})),ev.createElement("div",{className:ti},!!t[4]&&ev.createElement(tS,{resource:t[4]}),!!t[5]&&ev.createElement(tS,{resource:t[5]})))}function tI({shelf:e,size:t="full"}){var a;let r=e.shelf_content,[n,i]=ev.useState(null);tC(n);let l=tv[null==(a=e.shelf_meta.banner)?void 0:a.color];return ev.createElement(eI.Ve,{to:`/community/collections/${e.url_slug}`,onClick:()=>{(0,eK.L9)("hub_landing_collection_clicked",{name:e.title,shelf_id:e.id})},className:"full"===t?tu:tp,onRef:e=>i(e),style:{background:`linear-gradient(45deg, ${l}, ${l}80)`}},ev.createElement("div",{className:t_},ev.createElement("div",{className:"community_collections--shelfTitle--ZhR7Y text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},(0,eq.mz)(e.i18n_meta.title,e.title)),ev.createElement("div",{className:"community_collections--numberOfResources--qV7Zd"},1===r.length?(0,eq.t)("community.profiles.resources_lower_singular",{num:r.length}):(0,eq.t)("community.profiles.resources_lower_plural",{num:r.length}))),ev.createElement("div",{className:"community_collections--rightSide--H91sR"},ev.createElement(tk,{resources:r})))}function tL({title:e,subtitle:t,href:a,size:r="full"}){return ev.createElement("a",{href:a,onClick:()=>{(0,eK.L9)("hub_landing_collection_clicked",{name:"COMMUNITY_SHELF_OVERRIDE",shelf_id:"COMMUNITY_SHELF_OVERRIDE"})},className:"full"===r?tu:tp,style:{background:ta.loC}},ev.createElement("div",{className:t_},ev.createElement("div",{className:"community_collections--shelfOverrideTitle--3d053 community_collections--shelfTitle--ZhR7Y text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},e),ev.createElement("div",{className:"community_collections--shelfOverrideTitleSubtitle--ZEjZB"},t)),ev.createElement("div",{className:"community_collections--shelfOverrideRight--zDYXf"},ev.createElement(tA,null)))}function tR({shelf:e}){let t=ev.useRef(null),[a,r]=ev.useState(4);return ev.useEffect(()=>{function e(){let e=t.current.children[1],a=e.children[0],n=a.getBoundingClientRect().width,i=e.getBoundingClientRect().width;r(Math.floor(i/n))}return window.addEventListener("resize",()=>{if(window.innerWidth<=540){r(4);return}e()}),()=>window.removeEventListener("resize",e)},[]),ev.createElement("div",{className:"community_collections--communityShelfAllPageRow--xw1Ut",ref:t},ev.createElement("div",{className:"community_collections--communityShelfAllPageHeader--pbqhx"},ev.createElement("div",{className:"community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement("div",{className:"community_collections--communityShelfAllPageSubTitle--sP1yP text--fontPos12--YsUAh text--_fontBase--QdLsd"},(0,eq.mz)(e.i18n_meta.subtitle,e.subtitle)),ev.createElement("div",{className:"community_collections--communityShelfAllPageTitle--r8QHx ellipsis--ellipsis--Tjyfa text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,eq.mz)(e.i18n_meta.title,e.title))),ev.createElement(eI.Ve,{to:`/community/collections/${e.url_slug}`,className:"community_collections--communityShelfAllPageHeaderRightSide--UQUv8 community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"community.shelves.show_more"}))),ev.createElement(tt,{resources:e.shelf_content.slice(0,a),adtlClassName:"community_collections--allCollectionsResourceGrid--jMwuQ feed_page--feedGrid--Wm-8Q"}))}function tA(){return ev.createElement("svg",{width:"304",height:"184",viewBox:"0 0 304 184",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M147.616 128.41C157.428 147.488 185.646 138.125 210.641 107.496C235.636 76.8678 247.944 36.572 238.132 17.4934C228.32 -1.58531 200.103 7.77784 175.107 38.4065C172.992 40.9987 170.967 43.6602 169.04 46.3721C171.103 34.8412 170.541 24.6682 166.852 17.4947C157.039 -1.58397 128.822 7.77917 103.827 38.4078C101.712 40.9992 99.6884 43.6597 97.7611 46.3707C99.8246 34.8401 99.2625 24.6672 95.5731 17.4938C85.7609 -1.58481 57.5438 7.77833 32.5485 38.407C7.55318 69.0357 -4.7551 109.331 5.05717 128.41C14.8694 147.489 43.0865 138.126 68.0818 107.497C70.1965 104.906 72.2204 102.245 74.1478 99.5341C72.0843 111.065 72.6464 121.238 76.3357 128.411C86.148 147.49 114.365 138.126 139.36 107.498C141.476 104.906 143.5 102.244 145.428 99.5322C143.365 111.063 143.927 121.236 147.616 128.41Z",fill:"#F24E1E"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M212.629 10.2588C201.47 13.9616 188.313 23.8064 175.882 39.0388C173.781 41.6134 171.77 44.2572 169.855 46.9516L168.055 46.196C170.102 34.7594 169.507 24.8436 165.963 17.9521C163.623 13.4037 160.226 10.6062 156.092 9.36412C151.93 8.11391 146.921 8.41087 141.348 10.2601C130.189 13.963 117.033 23.8078 104.602 39.0401C102.502 41.6139 100.491 44.2568 98.5762 46.9502L96.7768 46.1946C98.8235 34.7583 98.2283 24.8427 94.684 17.9512C92.3447 13.4028 88.9479 10.6054 84.8133 9.36328C80.6518 8.11307 75.6425 8.41003 70.0695 10.2593C58.9104 13.9621 45.754 23.8069 33.3233 39.0393C20.9045 54.257 11.642 71.8734 6.7064 88.032C1.75351 104.247 1.22332 118.769 5.94648 127.953C8.28574 132.501 11.6826 135.299 15.8171 136.541C19.9787 137.791 24.988 137.494 30.561 135.645C41.72 131.942 54.8764 122.097 67.3071 106.865C69.4075 104.291 71.418 101.648 73.3329 98.9547L75.1323 99.7103C73.0856 111.147 73.6808 121.062 77.2251 127.954C79.5644 132.502 82.9612 135.3 87.0957 136.542C91.2573 137.792 96.2666 137.495 101.84 135.646C112.999 131.943 126.155 122.098 138.586 106.866C140.687 104.291 142.698 101.647 144.613 98.9528L146.413 99.7084C144.366 111.145 144.961 121.061 148.506 127.952C150.845 132.501 154.242 135.298 158.376 136.54C162.538 137.791 167.547 137.494 173.12 135.644C184.279 131.941 197.436 122.097 209.866 106.864C222.285 91.6466 231.548 74.0302 236.483 57.8716C241.436 41.6564 241.966 27.1343 237.243 17.9507C234.904 13.4023 231.507 10.6049 227.372 9.36279C223.211 8.11258 218.202 8.40953 212.629 10.2588ZM227.948 7.44735C232.645 8.8584 236.455 12.045 239.022 17.036C244.111 26.9311 243.393 42.0962 238.396 58.4558C233.382 74.872 223.992 92.7178 211.416 108.129C198.851 123.525 185.401 133.676 173.75 137.543C167.918 139.478 162.471 139.859 157.801 138.456C153.104 137.045 149.294 133.858 146.727 128.867C143.347 122.294 142.535 113.409 143.816 103.431C142.622 105.019 141.395 106.587 140.135 108.13C127.571 123.526 114.121 133.678 102.469 137.544C96.6372 139.479 91.1902 139.86 86.5203 138.457C81.8233 137.046 78.0134 133.859 75.4465 128.868C72.0661 122.296 71.2547 113.411 72.5356 103.433C71.3421 105.02 70.1154 106.587 68.8567 108.129C56.2921 123.526 42.8423 133.677 31.1909 137.543C25.3586 139.478 19.9116 139.859 15.2417 138.456C10.5447 137.045 6.7348 133.859 4.16792 128.868C-0.921191 118.972 -0.20337 103.807 4.79364 87.4478C9.80793 71.0316 19.1972 53.1858 31.7738 37.7748C44.3383 22.3784 57.7882 12.2273 69.4396 8.36107C75.2718 6.42579 80.7188 6.04492 85.3888 7.44785C90.0857 8.8589 93.8956 12.0455 96.4625 17.0365C99.8429 23.6093 100.654 32.4943 99.3735 42.4718C100.567 40.8848 101.794 39.3181 103.052 37.7756C115.617 22.3793 129.067 12.2281 140.718 8.3619C146.55 6.42663 151.997 6.04575 156.667 7.44868C161.364 8.85974 165.174 12.0464 167.741 17.0373C171.122 23.6102 171.933 32.4953 170.652 42.473C171.846 40.8851 173.073 39.3176 174.333 37.7743C186.897 22.378 200.347 12.2268 211.999 8.36057C217.831 6.42529 223.278 6.04442 227.948 7.44735Z",fill:"black"}),ev.createElement("path",{d:"M96 66.7273C96 63.0119 99.0119 60 102.727 60H259.273C262.988 60 266 63.0119 266 66.7273V176.273C266 179.988 262.988 183 259.273 183H102.727C99.0119 183 96 179.988 96 176.273V66.7273Z",fill:"#C7B9FF"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95 66.7273C95 62.4596 98.4596 59 102.727 59H259.273C263.54 59 267 62.4596 267 66.7273V176.273C267 180.54 263.54 184 259.273 184H102.727C98.4596 184 95 180.54 95 176.273V66.7273ZM102.727 61C99.5642 61 97 63.5642 97 66.7273V176.273C97 179.436 99.5642 182 102.727 182H259.273C262.436 182 265 179.436 265 176.273V66.7273C265 63.5642 262.436 61 259.273 61H102.727Z",fill:"black"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M222.804 76.7872C231.159 84.8098 229.021 98.1384 220.865 107.133C211.503 117.458 185.865 140.208 142.374 151.933C141.619 154.697 141.945 155.947 142.133 156.29C142.182 156.38 142.362 156.709 143.248 157.083C144.236 157.501 145.97 157.905 148.801 157.932C154.509 157.985 163.294 156.503 176.108 152.578C188.825 148.683 205.132 142.501 225.746 133.457C228.959 132.046 232.708 133.509 234.118 136.722C235.528 139.936 234.066 143.684 230.852 145.094C209.975 154.254 193.18 160.64 179.83 164.729C166.576 168.789 156.328 170.71 148.683 170.639C141.239 170.57 134.337 168.525 130.982 162.385C129.702 160.045 129.195 157.535 129.188 155.018C119.267 156.995 108.542 158.378 97 158.948V146.214C110.138 145.527 122.115 143.728 132.961 141.191C137.996 130.75 147.523 118.738 156.927 108.416C167.503 96.8081 178.776 86.4229 185.313 81.646C200.07 70.8623 214.275 68.5973 222.804 76.7872ZM150.806 136.071C155.077 129.949 160.511 123.352 166.322 116.974C176.594 105.699 187.224 95.9894 192.811 91.9066C206.489 81.9114 212.672 84.6768 214.002 85.954C215.507 87.3984 216.976 92.5033 211.451 98.5965C204.25 106.538 184.467 124.531 150.806 136.071Z",fill:"#5551FF"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M219.096 80.6492C224.565 85.9004 223.946 95.7643 216.899 103.536C207.922 113.437 182.289 136.295 138.228 147.481C136.322 152.362 136.001 156.235 137.435 158.858C138.843 161.434 142.196 163.225 148.751 163.285C155.275 163.346 164.676 161.679 177.676 157.698C190.66 153.72 207.172 147.453 227.897 138.359C228.403 138.138 228.993 138.368 229.215 138.873C229.437 139.379 229.206 139.969 228.701 140.191C207.934 149.303 191.345 155.602 178.261 159.61C165.193 163.613 155.561 165.349 148.733 165.285C141.936 165.222 137.617 163.362 135.68 159.817C133.964 156.678 134.322 152.561 135.882 148.061C123.921 150.942 110.638 152.955 96 153.631V151.628C111.02 150.928 124.593 148.807 136.757 145.787C140.982 135.729 150.735 123.163 160.885 112.022C171.333 100.554 182.335 90.4534 188.472 85.9689C202.774 75.5174 213.599 75.3718 219.096 80.6492ZM139.219 145.159C143.588 135.68 152.703 123.972 162.364 113.369C172.764 101.953 183.665 91.9589 189.652 87.5836C203.784 77.2563 213.347 77.9023 217.711 82.0919C222.101 86.3078 222.051 94.8775 215.417 102.193C206.759 111.742 181.941 133.953 139.219 145.159Z",fill:"black"}),ev.createElement("path",{d:"M278.125 77.4464L290.034 89.3067C291.55 90.8162 291.55 93.277 290.034 94.7865L248.589 136.063L228.134 139.095L231.178 118.723L272.623 77.4464C274.151 75.9369 276.61 75.9369 278.125 77.4464Z",fill:"white"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M273.329 78.151C273.328 78.1514 273.328 78.1518 273.328 78.1521L232.119 119.193L229.322 137.913L248.115 135.128L289.326 94.0837C290.452 92.9625 290.452 91.1307 289.326 90.0095L277.418 78.1492C276.295 77.0307 274.469 77.0261 273.329 78.151ZM271.918 76.7406C273.835 74.8476 276.925 74.8434 278.833 76.7436L290.742 88.6039C292.647 90.5017 292.647 93.5915 290.742 95.4893L249.063 136.998L226.947 140.276L230.237 118.252L271.915 76.7436L271.918 76.7406Z",fill:"black"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M264.598 85.4659L282.009 102.806L280.594 104.212L263.183 86.8715L264.598 85.4659Z",fill:"black"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.318 9.00002L119.409 9.00002L119.409 7.00002L183.318 7.00002L183.318 9.00002Z",fill:"black"}),ev.createElement("path",{d:"M183.378 1.68184L189.742 8.0458L183.378 14.4098L177.014 8.0458L183.378 1.68184Z",fill:"white"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.378 0.492611L190.931 8.0458L183.378 15.599L175.825 8.0458L183.378 0.492611ZM183.378 2.87106L178.203 8.0458L183.378 13.2205L188.553 8.0458L183.378 2.87106Z",fill:"black"}),ev.createElement("path",{d:"M114.423 1.68184L120.787 8.0458L114.423 14.4098L108.059 8.0458L114.423 1.68184Z",fill:"white"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M114.423 0.492611L121.976 8.0458L114.423 15.599L106.87 8.0458L114.423 0.492611ZM114.423 2.87106L109.248 8.0458L114.423 13.2205L119.598 8.0458L114.423 2.87106Z",fill:"black"}),ev.createElement("path",{d:"M19.7957 138.699C19.1525 141.099 16.685 142.524 14.2844 141.881C11.8838 141.238 10.4592 138.77 11.1024 136.369C11.7456 133.969 14.2132 132.544 16.6138 133.187C19.0144 133.831 20.439 136.298 19.7957 138.699Z",fill:"white"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.355 134.153C14.4879 133.653 12.5687 134.761 12.0684 136.628C11.5681 138.495 12.6761 140.415 14.5433 140.915C16.4104 141.415 18.3296 140.307 18.8299 138.44C19.3302 136.573 18.2221 134.654 16.355 134.153ZM10.1366 136.111C10.9227 133.177 13.9386 131.435 16.8727 132.221C19.8067 133.008 21.5479 136.024 20.7617 138.958C19.9756 141.892 16.9597 143.633 14.0256 142.847C11.0916 142.06 9.35037 139.045 10.1366 136.111Z",fill:"black"}),ev.createElement("path",{d:"M92.1143 138.699C91.4711 141.099 89.0036 142.524 86.603 141.881C84.2024 141.238 82.7778 138.77 83.421 136.369C84.0642 133.969 86.5318 132.544 88.9324 133.187C91.333 133.831 92.7576 136.298 92.1143 138.699Z",fill:"white"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88.6736 134.153C86.8065 133.653 84.8873 134.761 84.387 136.628C83.8867 138.495 84.9948 140.415 86.8619 140.915C88.729 141.415 90.6482 140.307 91.1485 138.44C91.6488 136.573 90.5407 134.654 88.6736 134.153ZM82.4552 136.111C83.2413 133.177 86.2572 131.435 89.1913 132.221C92.1253 133.008 93.8665 136.024 93.0803 138.958C92.2942 141.892 89.2783 143.633 86.3442 142.847C83.4102 142.06 81.669 139.045 82.4552 136.111Z",fill:"black"}),ev.createElement("path",{d:"M88.7506 8.67605C88.1073 11.0767 85.6398 12.5013 83.2392 11.858C80.8386 11.2148 79.414 8.74728 80.0572 6.34668C80.7005 3.94608 83.168 2.52146 85.5686 3.1647C87.9692 3.80794 89.3938 6.27546 88.7506 8.67605Z",fill:"white"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85.3098 4.13063C83.4427 3.63033 81.5235 4.73837 81.0232 6.6055C80.5229 8.47263 81.631 10.3918 83.4981 10.8921C85.3652 11.3924 87.2844 10.2844 87.7847 8.41724C88.285 6.5501 87.177 4.63093 85.3098 4.13063ZM79.0914 6.08786C79.8776 3.1538 82.8934 1.4126 85.8275 2.19878C88.7615 2.98496 90.5028 6.00081 89.7166 8.93487C88.9304 11.8689 85.9145 13.6101 82.9805 12.824C80.0464 12.0378 78.3052 9.02193 79.0914 6.08786Z",fill:"black"}),ev.createElement("path",{d:"M155.858 8.67605C155.215 11.0767 152.747 12.5013 150.347 11.858C147.946 11.2148 146.521 8.74728 147.165 6.34668C147.808 3.94608 150.275 2.52146 152.676 3.1647C155.077 3.80794 156.501 6.27546 155.858 8.67605Z",fill:"white"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152.417 4.13063C150.55 3.63033 148.631 4.73837 148.131 6.6055C147.63 8.47263 148.738 10.3918 150.606 10.8921C152.473 11.3924 154.392 10.2844 154.892 8.41724C155.392 6.5501 154.284 4.63093 152.417 4.13063ZM146.199 6.08786C146.985 3.1538 150.001 1.4126 152.935 2.19878C155.869 2.98496 157.61 6.00081 156.824 8.93487C156.038 11.8689 153.022 13.6101 150.088 12.824C147.154 12.0378 145.413 9.02193 146.199 6.08786Z",fill:"black"}),ev.createElement("path",{d:"M230.024 8.67605C229.38 11.0767 226.913 12.5013 224.512 11.858C222.112 11.2148 220.687 8.74728 221.33 6.34668C221.973 3.94608 224.441 2.52146 226.842 3.1647C229.242 3.80794 230.667 6.27546 230.024 8.67605Z",fill:"white"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M226.583 4.13063C224.716 3.63033 222.796 4.73837 222.296 6.6055C221.796 8.47263 222.904 10.3918 224.771 10.8921C226.638 11.3924 228.557 10.2844 229.058 8.41724C229.558 6.5501 228.45 4.63093 226.583 4.13063ZM220.364 6.08786C221.151 3.1538 224.166 1.4126 227.1 2.19878C230.034 2.98496 231.776 6.00081 230.99 8.93487C230.203 11.8689 227.187 13.6101 224.253 12.824C221.319 12.0378 219.578 9.02193 220.364 6.08786Z",fill:"black"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.6687 155.218C42.2328 165.084 51.2898 172.375 62.0694 172.375C64.5186 172.375 66.8789 171.999 69.0943 171.301L79.9128 181.997L94.7794 167.299L84.037 156.679C84.7893 154.424 85.1963 152.015 85.1963 149.511C85.1963 138.472 77.2828 129.26 66.7582 127.117L28.4318 116.255L39.6687 155.218Z",fill:"white"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.974 114.807L38.7039 155.48C41.3847 165.771 50.8312 173.37 62.0694 173.37C64.4085 173.37 66.6715 173.04 68.8126 172.425L79.9128 183.4L96.1979 167.299L85.1746 156.401C85.8393 154.219 86.1963 151.905 86.1963 149.511C86.1963 137.999 77.9541 128.399 66.9962 126.15L26.974 114.807ZM29.8895 117.702L66.5205 128.084L66.5576 128.091C76.6302 130.142 84.1963 138.957 84.1963 149.511C84.1963 151.907 83.8069 154.211 83.0879 156.366L82.8929 156.95L93.3609 167.299L79.9128 180.595L69.3698 170.171L68.7925 170.353C66.6736 171.02 64.415 171.381 62.0694 171.381C51.7531 171.381 43.0887 164.403 40.6369 154.969L40.6336 154.956L29.8895 117.702Z",fill:"black"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.1635 117.875L62.0701 151.74L63.4834 150.325L29.5768 116.46L28.1635 117.875Z",fill:"black"}),ev.createElement("ellipse",{cx:"6",cy:"6.00051",rx:"6",ry:"6.00051",transform:"matrix(-3.177e-07 1 1 -1.11224e-07 54.6849 143.038)",fill:"black"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M292.423 36.1591C284.431 34.3605 278.14 28.0689 276.341 20.0767C274.542 28.0689 268.251 34.3605 260.259 36.1591C268.251 37.9577 274.542 44.2493 276.341 52.2415C278.14 44.2493 284.431 37.9577 292.423 36.1591Z",fill:"#699BF7"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M277.341 17.812L277.341 7.56818H277.341H275.341H275.341L275.341 17.812L275.341 17.8671C275.31 27.3937 267.328 35.1591 257.421 35.1591H249.432V35.1591H249.432V37.1591H257.421C267.333 37.1591 275.318 44.9318 275.341 54.4646C275.341 54.4785 275.341 54.4923 275.341 54.5062L275.341 64.75H275.341H277.341H277.341L277.341 54.5062C277.341 54.4923 277.341 54.4785 277.341 54.4646C277.364 44.9318 285.349 37.1591 295.261 37.1591L303.25 37.1591V35.1591H295.261C285.354 35.1591 277.372 27.3937 277.341 17.8671L277.341 17.812ZM288.926 36.1591C283 34.2289 278.306 29.6653 276.341 23.8847C274.376 29.6653 269.682 34.2289 263.756 36.1591C269.682 38.0893 274.376 42.6529 276.341 48.4336C278.306 42.6529 283 38.0893 288.926 36.1591Z",fill:"black"}))}var tO=a(188558),tD=a(367674);let tF="footer--divider--srDs2",tM=a(771704),tP=tO.z.object({label:tO.z.string(),url:tO.z.string()});tO.z.object({title:tO.z.string(),items:tO.z.array(tP)});let tB=[{title:"Popular searches",items:[{label:"Resume",url:"/community/search?resource_type=mixed&sort_by=all_time&query=resume&editor_type=all&price=all&creators=all"},{label:"Design system",url:"/community/search?resource_type=mixed&sort_by=all_time&query=design+system&editor_type=all&price=all&creators=all"},{label:"Presentations",url:"/community/search?resource_type=mixed&sort_by=all_time&query=presentation&editor_type=all&price=all&creators=all"},{label:"Portfolio",url:"/community/search?resource_type=mixed&sort_by=all_time&query=portfolio&editor_type=all&price=all&creators=all"},{label:"Standup template",url:"/community/search?resource_type=mixed&sort_by=all_time&query=standup&editor_type=all&price=all&creators=all"}]},{title:"Most used",items:[{label:"Material Design Icons",url:"/community/file/878585965681562011"},{label:"Apple Design Resources",url:"/community/file/1248375255495415511"},{label:"Figma auto layout playground",url:"/community/file/784448220678228461"},{label:"Anima - Figma to React, HTML",url:"/community/plugin/857346721138427857/anima-figma-to-react-html-react-html-in-devmode"},{label:"Ant Design Open Source",url:"/community/file/831698976089873405"}]},{title:"Trending resources",items:[{label:"JamBot",url:"/community/widget/1274481464484630971"},{label:"Autoflow",url:"/community/plugin/733902567457592893/autoflow"},{label:"Mesh gradient",url:"/community/plugin/958202093377483021/mesh-gradient"},{label:"html.to.design",url:"/community/plugin/1159123024924461424/html-to-design"},{label:"Status Stamp",url:"/community/widget/1294022067228783307"}]},{title:"Top categories",items:[{label:"Inspiration",url:"/community/category/inspiration"},{label:"Design Systems",url:"/community/category/design-systems"},{label:"Visual Assets",url:"/community/category/visual-assets"},{label:"Development",url:"/community/category/development"},{label:"Team Syncs",url:"/community/category/jam-sessions"}]}];function tU(){return ev.createElement("div",{className:"footer--footer--tuKBS text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"community-footer"},ev.createElement("div",{className:"footer--sectionsContainer--BR5as"},tB.map(e=>ev.createElement(tD.j,{key:e.title,direction:"vertical",padding:{right:16}},ev.createElement("div",{className:"footer--sectionTitle--pM53E"},e.title),e.items.map(e=>ev.createElement("a",{key:e.url,href:e.url},e.label))))),ev.createElement(tD.j,{direction:"vertical",spacing:16},ev.createElement("a",{href:"/"},ev.createElement(eD.n,{svg:tM,className:"footer--wordmark--CrA9E"})),ev.createElement("div",null,ev.createElement("span",null,ev.createElement(eq.Tx,{id:"community.footer.copyright"})),ev.createElement("span",{className:tF},"\u2022"),ev.createElement("a",{href:"/sitemaps/figma-community-index.xml"},ev.createElement(eq.Tx,{id:"community.footer.site_map"})),ev.createElement("span",{className:tF},"\u2022"),ev.createElement("a",{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines"},ev.createElement(eq.Tx,{id:"community.footer.community_guidelines"})),ev.createElement("span",{className:tF},"\u2022"),ev.createElement("a",{href:"/community-terms"},ev.createElement(eq.Tx,{id:"community.footer.terms_of_service"})))))}var tV=a(465883),tW=((r=tW||{}).BUNDLE_SECTION="bundle_section",r.HERO_SECTION="hero_section",r);let tG=tO.z.object({hub_file_id:tO.z.string().optional(),plugin_id:tO.z.string().optional(),widget_id:tO.z.string().optional(),title:tO.z.string().optional(),description:tO.z.string().optional()}),tj=tO.z.object({resources:tO.z.array(tG).nullish(),resource:tG.nullish()}).nonstrict(),tH=tO.z.object({title:tO.z.string().nullable(),description:tO.z.string().nullable(),meta:tj,position:tO.z.number(),section_type:tO.z.nativeEnum(tW),created_at:tO.z.string().nullable(),updated_at:tO.z.string().nullable()}),t$=tH.extend({resources:tO.z.array(tO.z.custom())}),tz=tH.extend({resource:tO.z.custom().nullable()}),tK=tO.z.object({question:tO.z.string(),answer:tO.z.string()}),tZ=tO.z.object({faqs:tK.nullish()}).nonstrict();function tq(e,t){var a;let r=(0,ej.yA)(e);return(null==(a=null==t?void 0:t.resources)?void 0:a.length)?(null==t?void 0:t.resources).find(t=>r===e4._g.HUB_FILE?(null==t?void 0:t.hub_file_id)===e.id:r===e4._g.PLUGIN?(null==t?void 0:t.plugin_id)===e.id:r===e4._g.WIDGET?(null==t?void 0:t.widget_id)===e.id:void 0):(null==t?void 0:t.resource)?null==t?void 0:t.resource:void 0}tO.z.object({title:tO.z.string().nullable(),description:tO.z.string().nullable(),header_img_url:tO.z.string().url().nullable(),meta_title:tO.z.string().nullable(),meta_description:tO.z.string().nullable(),thumbnail_url:tO.z.string().url().nullable(),meta:tZ,url_slug:tO.z.string(),sections:tO.z.array(tO.z.union([t$,tz])),profile:tV.JD,publishing_status:tO.z.string(),latest_published_at:tO.z.string().nullable(),created_at:tO.z.string().nullable(),updated_at:tO.z.string().nullable(),is_template_url:tO.z.boolean(),faqs:tO.z.array(tK).nullable()});var tY=a(971599),tJ=a(87608),tQ=a.n(tJ);let tX="breadcrumbs--link--8OB6k",t0="breadcrumbs--chevron--kb7bF",t1=a(717478);function t2({pathname:e}){let t=decodeURIComponent(e).split("/").slice(1);return ev.createElement("div",{className:"breadcrumbs--breadcrumbs--7n1rP text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(tY.rU,{className:tX,to:"/community"},ev.createElement(eq.Tx,{id:"community.view_bar.home"})),ev.createElement(eD.n,{className:t0,svg:t1}),ev.createElement(tY.rU,{className:tX,to:"/community/collections"},ev.createElement(eq.Tx,{id:"community.shelves.all_collections"})),ev.createElement(eD.n,{className:t0,svg:t1}),ev.createElement("span",{className:tQ()(tX,"breadcrumbs--black--BefO-")},t[t.length-1]))}var t3=a(456496);function t4({title:e,hasDivider:t=!1,children:a}){let[r,n]=(0,ev.useState)(!1);return ev.createElement(tD.j,{verticalAlignItems:"start",width:"fill-parent",height:"hug-contents"},ev.createElement("div",{tabIndex:0,className:"faq_accordion--accordionButton--t23kN",role:"button",onClick:()=>{n(e=>!e)}},ev.createElement("div",{className:tQ()("faq_accordion--accordionButtonContent--lHulm text--fontPos13--xW8hS text--_fontBase--QdLsd",{"faq_accordion--divider--VdCtu":t})},ev.createElement(tD.j,{direction:"vertical"},ev.createElement(tD.j,{horizontalAlignItems:"space-between",verticalAlignItems:"center"},ev.createElement("div",{className:r?"faq_accordion--semibold--ff-Ee":"faq_accordion--medium--4FEsg"},e),ev.createElement(t3.JO,{icon:r?"chevron-up-32":"chevron-down-32",fill:"secondary"})),ev.createElement("div",{className:r?void 0:"faq_accordion--hidden--G1Whc"},a)))))}function t8({faqs:e}){return ev.createElement("div",{className:"faqs_section--sectionContainer--NWPTP"},ev.createElement(tD.j,{horizontalAlignItems:"center"},ev.createElement("div",{className:"faqs_section--section--5Tey9"},ev.createElement(tD.j,{width:"fill-parent",height:"hug-contents",direction:"vertical",spacing:0},ev.createElement("div",{className:"faqs_section--sectionTitle--I5tGC text--fontPos24--YppUD text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"community.collections.frequently_asked_questions"})),ev.createElement("div",{className:"faqs_section--sectionBody--e9hQ3"},e.map((e,t)=>ev.createElement(t4,{key:t,hasDivider:0!==t,title:e.question},e.answer)))))))}var t5=a(489534);function t9({collection:e}){return ev.createElement("div",{className:"header_attributes--attributes--UE7uE text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(t5.yX,{publishers:[e.profile]}),ev.createElement("div",{className:"header_attributes--profile--qrbMp"},ev.createElement(eq.Tx,{id:"community.collections.curated_by"}),ev.createElement("span",{className:"header_attributes--profileName--n9lfZ"},ev.createElement(t5.xg,{publishers:[e.profile],useSmallWidth:!0,removeByLabel:!0,openInNewTab:!0}))),!!e.latest_published_at&&ev.createElement("div",{className:"header_attributes--date--Zt4VW"},ev.createElement("span",{className:"header_attributes--dot--1yVwn"},"\u2022"),ev.createElement("span",null,new Date(e.latest_published_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))))}var t6=a(979915),t7=a(777408),ae=a(286206),at=a(177944),aa=a(887138);function ar(e){let[t,a]=ev.useState(!0);return ev.useEffect(()=>{let t=(0,ej.JP)(e),r=e.thumbnail_url;if(t!==aa.Pk.THUMBNAIL){a(!0);return}let n=new Image;n.onload=()=>{let e=n.width/n.height;a(!(Math.abs(e-2)<Math.abs(e-16/9)))},n.src=r||""},[e]),t}var an=a(482070),ai=a(445311),al=a(692379),as=a(659994),ao=a(761767),ac=a(291650),ad=a(167817);let am="canvas_viewer--canvasViewer--aDA8H",au=(e,{width:t,height:a,top:r,left:n})=>{e.style.position="fixed",e.style.width=t+"px",e.style.height=a+"px",e.style.top=r+"px",e.style.left=n+"px"},a_=e=>e.viewer_mode===ao.Zs.PROTOTYPE?`/community/file/${e.id}/embed`:`/embed?embed_host=fastma&community_viewer=true&hub_file_id=${e.id}`;function ap({viewer:e,resource:t,fixedSize:a}){let[r,n]=ev.useState(void 0),[i,l]=ev.useState(!1),[s,o]=ev.useState(!1);ev.useEffect(()=>{if(!e)return;let t=t=>{if("LOAD_FINISHED"===t.data){let t=e.querySelector("iframe");t.classList.add("canvas_viewer--showIframe--uYOO5"),e.setAttribute("data-loaded","true"),l(!0),(0,eH.EB)({name:"hub-file-canvas-loaded"})}},a=()=>{document.activeElement===e.querySelector("iframe")&&(0,eH.EB)({name:"community-LO-embed-iframe-interacted",comparisonVariant:s?"fullscreen":"thumbnail"})};return window.addEventListener("message",t,!1),window.addEventListener("blur",a,!1),()=>{window.removeEventListener("message",t,!1),window.removeEventListener("blur",a,!1)}},[e,s]);let c=()=>{if(!e)return;let t=e.querySelector(`div.${am}`);if(!t)return;let a=t.getBoundingClientRect();au(t,a),n(a),requestAnimationFrame(()=>{e.setAttribute("data-animation-phase","open"),t.style.position="fixed",t.style.width="calc(100vw - 96px)",t.style.height="calc(100vh - 96px)",t.style.top="48px",t.style.left="48px"}),(0,eH.EB)({name:"community-LO-embed-view-expanded"}),o(!0)},d=()=>{if(!e)return;let t=e.querySelector(`.${am}`);t&&(au(t,r),e.setAttribute("data-animation-phase","closing"),setTimeout(()=>{e.removeAttribute("data-animation-phase"),t.style.position="absolute",t.style.removeProperty("width"),t.style.removeProperty("height"),t.style.removeProperty("top"),t.style.removeProperty("left")},300),o(!1))};return e?ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"canvas_viewer--iframeWrapper--eemgJ"},ev.createElement("iframe",{key:t.id,title:(0,eq.t)("community.embed.preview_title_long"),style:{width:a?"100%":(0,ej.n5)(i),height:"100%"},src:a_(t),allowFullScreen:!0}),ev.createElement("svg",{onClick:()=>{s?d():c()},"aria-label":s?"Close":"Open",className:"canvas_viewer--fullscreenIcon--ew-9d",width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z",fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"}))),ev.createElement("div",{role:"button",tabIndex:0,onClick:d,className:"canvas_viewer--iframeBackdrop--1sZT3"})):ev.createElement(ev.Fragment,null)}function ag({resource:e,enableEmbedOnSmallScreens:t}){let[a,r]=ev.useState(null),n=(0,e4.vu)(e),i=e.viewer_mode===ao.Zs.WHITEBOARD,l=!!e.thumbnail_is_set;return ev.createElement("div",{className:tQ()("canvas_viewer--canvasViewerWrapper--PEx4d",{"canvas_viewer--smallEmbed--1di1B":t}),"data-loaded":"false",ref:e=>r(e)},ev.createElement("div",{className:i?"canvas_viewer--canvasViewerFigJam--GQ00B canvas_viewer--canvasViewer--aDA8H":am,key:e.id},ev.createElement("div",{className:"canvas_viewer--hubFileLoadingCoverImage--2onuq canvas_viewer--resourceLoadingCoverImage--e9uBx"},ev.createElement(ad.Pk,{image:e.thumbnail_url,isSet:l,isWhiteboard:i,backgroundColor:(0,as.YI)(e.client_meta),hubFileId:e.id,alt:(0,ej.$o)(e).name+" preview",thumbnailContext:eY.iw.DETAIL,resizedThumbnailUrls:e.resized_thumbnail_urls})),ev.createElement(ai.ZP,{showIf:e=>{let r=window.innerWidth>=900||!!t&&e>=al.l1;return!r&&a&&a.setAttribute("data-loaded","false"),r}},i&&n?ev.createElement(ac.Z,{hubFile:e,onLoad:()=>{null==a||a.setAttribute("data-loaded","true"),(0,eH.EB)({name:"hub-file-canvas-loaded"})}}):ev.createElement(ap,{fixedSize:t,viewer:a,resource:e}))))}function aE({resource:e}){return ev.createElement("div",{className:"canvas_viewer--canvasViewerWrapperPlugins--YfQ3Y canvas_viewer--canvasViewerWrapper--PEx4d","data-loaded":"true"},ev.createElement("div",{className:am},ev.createElement("img",{className:"canvas_viewer--pluginLoadingCoverImage--nn23R canvas_viewer--resourceLoadingCoverImage--e9uBx",src:e.thumbnail_url,alt:(0,ej.$o)(e).name+" preview",key:e.id})))}function ah({resource:e,enableEmbedOnSmallScreens:t}){return"current_hub_file_version_id"in e?ev.createElement(e3.Ui,{name:"Canvas Embed"},ev.createElement(ag,{resource:e,enableEmbedOnSmallScreens:t})):ev.createElement(aE,{resource:e})}function af({resource:e,hasScrolled:t}){let a=ev.createElement(ev.Fragment,null,ev.createElement(t5.Mo,{resource:e}));return ev.createElement(t7.uR,{CTAButton:a,resource:e,hasScrolled:t})}var av=a(764150),ab=a(647744),ay=a(767310),aw=a(506862),aT=a(545161),ax=a(782051),aN=a(225468),aC=a(158314);let aS="video_player--videoControlButton--CaxkP",ak="video_player--videoButtonFullscreenScale--oSh2-",aI=a(196389),aL=a(689454),aR=a(953356),aA=a(755816),aO={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function aD(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:a}=(0,aw.GN)(e);return`${a}:${String(t).padStart(2,"0")}`}function aF(e,t){e&&(t?(e.play(),eN.ZP.safari&&(e.currentTime=.1)):aP(e)?e.pause():(eN.ZP.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let aM=ev.memo(({videoId:e,src:t,fallbackSrc:a,useHLS:r=!1,autoPlay:n=!1,muted:i=!1,showControlsOnVideoLoad:l=!1,onEnded:s})=>{let o=ev.useRef(null),c=ev.useRef(null),[d,m]=ev.useState(null),[u,_]=ev.useState(!1),p=ev.useRef(void 0),[g,E]=ev.useState(!1),[h,f]=ev.useState(!1);ev.useEffect(()=>{h&&(null==s||s())},[h,s]);let v=ev.useCallback(function(){_(!0),clearTimeout(p.current),p.current=setTimeout(()=>_(!1),3e3)},[]),b=ev.useCallback(async function(){if(!t||!c.current)return;window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let n=await (0,aT.su)(),s=n.videoJs(c.current,{muted:i,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{try{await (0,aT.CP)(t,r,s)}catch{ab.u.warn("Reverting to fallback video source"),await (0,aT.CP)(a??null,!1,s)}l&&v(),m(e)})},[t,i,l,v,r,a,e,m]),y=ev.useCallback(function(){var e;if(g||document.fullscreenElement)av.Dl.exitFullscreenFunc();else if(eN.ZP.isIpad){let t=c.current;null==(e=null==t?void 0:t.webkitEnterFullscreen)||e.call(t)}else{let e=o.current;e&&av.Dl.requestFullscreenFunc.call(e)}},[g]);return ev.createElement("div",{className:tQ()("video_player--videoContainer--f21k1",{"video_player--fullscreen--Tkght":g}),ref:ev.useCallback(e=>{o.current=e,null==e||e.addEventListener(av.Dl.fullscreenChangeEventName,function(){E(!g)})},[g]),onPointerMove:v},ev.createElement("video",{ref:ev.useCallback(t=>{c.current=t,t&&(t.style.height="100%",t.style.width="100%",t.style.objectFit=g?"contain":"cover",aP(t)&&e===d||b())},[e,b,g,d]),crossOrigin:"anonymous",autoPlay:n&&!eN.ZP.safari,controls:eN.ZP.isIpad&&g,onClick:ev.useCallback(function(){g&&aF(c.current,h)},[h,g])}),ev.createElement(aB,{videoRef:c,isFullscreen:g,toggleFullscreen:y,isActive:u,hasEnded:h,setHasEnded:f}))});function aP(e){return!!e&&!e.ended&&!e.paused&&e.currentTime>0&&e.readyState>2}function aB({videoRef:e,isFullscreen:t,toggleFullscreen:a,isActive:r,hasEnded:n,setHasEnded:i}){var l,s,o;let[c,d]=ev.useState(0),m=ev.useRef(!1),[u,_]=ev.useState(null),[p,g]=ev.useState(!1),[E,h]=ev.useState(!1),f=ev.useRef(!1),v=ev.useRef(!1),b=u||(null==(l=e.current)?void 0:l.currentTime),y=null==(s=e.current)?void 0:s.duration,w=aP(e.current),T=ev.useRef(void 0);ev.useEffect(()=>{h(r||!w||n||f.current)},[n,r,w]);let x=ev.useCallback(()=>{d(e=>e+1)},[]);ev.useEffect(()=>{if(!e.current)return;function t(){x()}function a(){f.current=!1}function r(){f.current=!1,i(!1)}function n(){i(!1),x()}function l(){f.current=!0}function s(){p||i(!0),x()}let o=e.current;return o.addEventListener("playing",n),o.addEventListener("canplay",t),o.addEventListener("ended",s),o.addEventListener("timeupdate",t),o.addEventListener("seeking",l),o.addEventListener("seeked",r),o.addEventListener("stalled",a),()=>{null==o||o.removeEventListener("playing",n),null==o||o.removeEventListener("canplay",t),null==o||o.removeEventListener("ended",s),null==o||o.removeEventListener("timeupdate",t),null==o||o.removeEventListener("seeking",l),null==o||o.removeEventListener("seeked",r),null==o||o.removeEventListener("stalled",a)}},[p,x,i,e]);let N=ev.useCallback(()=>{e.current&&(aF(e.current,n),x())},[n,x,e]),C=ev.useCallback(()=>{e.current&&(m.current=aP(e.current)||n,e.current.pause())},[n,e]),S=ev.useCallback(()=>{e.current&&(m.current&&e.current.play(),T.current&&(e.current.currentTime=T.current),_(null),T.current=void 0)},[e]),k=ev.useCallback(t=>{if(e.current){if(f.current){T.current=t;return}e.current.currentTime=t}},[e]),I=ev.createElement(aG,{togglePlay:N,hasEnded:n,isPlaying:w,shouldShowVideoControls:E,isFullscreen:t}),L=!e.current||2>((null==(o=e.current)?void 0:o.readyState)||0);return L&&!v.current?ev.createElement("div",{className:"video_player--videoLoadingState--uj4y3"},ev.createElement(ax.TK,{size:"large"})):(v.current=!0,eN.ZP.isIpad&&t)?null:ev.createElement(ev.Fragment,null,u?null:I,ev.createElement("div",{className:tQ()("video_player--videoControls--icAIO",!E&&"video_player--videoControlsHidden--yuZ6F")},ev.createElement("div",{className:"video_player--videoTime--zy6tY"},aD(b)," / ",aD(y)),ev.createElement(aW,{currentTime:b||0,totalTime:y||0,onScrubStart:C,onScrub:_,onScrubEnd:S,onVideoPositionUpdated:k,hasEnded:n,isScrubbing:p,setIsScrubbing:g}),ev.createElement("div",{className:"video_player--videoRightControls--tokJe"},ev.createElement(aC.hU,{onClick:a,svg:t?aA:aR,className:aS,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":t?(0,eq.t)("whiteboard.video.minimize_tooltip"):(0,eq.t)("whiteboard.video.fullscreen_tooltip")}),ev.createElement(aU,{rerender:x,videoRef:e}))))}function aU({rerender:e,videoRef:t}){var a,r,n,i;let[l,s]=ev.useState(!1),o=ev.useCallback(()=>{t.current&&(t.current.muted=!t.current.muted,e())},[e,t]),c=ev.useCallback(a=>{let r=a.target.valueAsNumber;t.current&&(t.current.volume=r,t.current.muted=0===r,e())},[e,t]);return ev.createElement("div",{onPointerMove:ev.useCallback(()=>s(!0),[]),onPointerOut:ev.useCallback(()=>s(!1),[])},ev.createElement(aC.hU,{onClick:o,svg:(null==(a=t.current)?void 0:a.muted)?aL:aI,className:tQ()(aS,"video_player--lastVideoControl--lnkoN",{"video_player--selectedVolumeControlButton--Ls-q9":!eN.ZP.isIpad&&l}),"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(null==(r=t.current)?void 0:r.muted)?(0,eq.t)("whiteboard.video.unmute_tooltip"):(0,eq.t)("whiteboard.video.mute_tooltip")}),!eN.ZP.isIpad&&l?ev.createElement(aV,{volume:(null==(n=t.current)?void 0:n.volume)??1,muted:(null==(i=t.current)?void 0:i.muted)??!1,handleChange:c}):null)}function aV({handleChange:e,volume:t,muted:a}){let r=a?0:t,n=100*r,i=ev.useRef(null);return ev.createElement("div",{className:"video_player--volumeContainer----Q0D"},ev.createElement("div",{className:"video_player--volumeBox--NBckg"},ev.createElement("input",{className:"video_player--volumeSliderInput--H6jHn",style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${n}%,var(--inactive-slider-color) ${n}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:1,step:.02,value:r,onChange:e,ref:i})))}function aW({currentTime:e,totalTime:t,hasEnded:a,onVideoPositionUpdated:r,onScrubStart:n,onScrub:i,onScrubEnd:l,isScrubbing:s,setIsScrubbing:o}){let[c,d]=ev.useState(!1),m=ev.useRef(null),u=ev.useRef(null),_=ev.useCallback(t=>{if(!m.current)return;t.stopPropagation(),o(!0),n();let a=m.current.getBoundingClientRect();u.current={minX:a.x,maxX:a.x+a.width,originX:t.clientX,newTime:e}},[e,n,o]),p=ev.useCallback(e=>{if(!m.current)return;e.stopPropagation(),o(!0),n();let a=m.current.getBoundingClientRect(),i=a.x,l=a.x+a.width,s=e.clientX,c=(0,ay.uZ)(0,t*((s-i)/(l-i)),t);r(c),u.current={minX:i,maxX:l,originX:e.clientX,newTime:c}},[n,r,o,t]),g=ev.useCallback(function(e){if(!u.current)return;let a=e.clientX,{minX:n,maxX:l}=u.current,s=(0,ay.uZ)(0,t*((a-n)/(l-n)),t);u.current.newTime=s,i(s),r(u.current.newTime)},[i,r,t]),E=ev.useCallback(function(){u.current&&(r(u.current.newTime),o(!1),l(),u.current=null)},[l,r,o]);ev.useEffect(()=>{if(s)return document.addEventListener("pointermove",g),document.addEventListener("pointerup",E),()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",E)}},[s,g,E]);let h=Math.min(e/t*100,100);eN.ZP.safari&&a&&(h=100);let f=h>0?8:0;return ev.createElement("div",{className:"video_player--videoTimeScrubberContainer--bNh9B",onPointerMove:ev.useCallback(()=>d(!0),[]),onPointerOut:ev.useCallback(()=>d(!1),[])},ev.createElement("div",{role:"progressbar",tabIndex:0,className:"video_player--videoTimeScrubber--Brs7M",onPointerDown:p},ev.createElement("div",{className:"video_player--videoTimeScrubberBackground--pEEuZ",ref:m}),ev.createElement("div",{className:"video_player--videoTimeScrubberProgress--y988I",style:{width:`${h}%`}}),(c||s)&&ev.createElement("div",{className:"video_player--videoTimeScrubberNub--Poe0a",style:{left:`calc(${h}% - ${f}px)`},onPointerDown:_,role:"button",tabIndex:0})))}function aG({shouldShowVideoControls:e,togglePlay:t,hasEnded:a,isPlaying:r,isFullscreen:n}){let i=a$;return a?i=aH:r&&(i=aK),ev.createElement(aj,{shouldShowVideoControls:e,ButtonIcon:i,togglePlay:t,isFullscreen:n})}function aj({ButtonIcon:e,shouldShowVideoControls:t,togglePlay:a,isFullscreen:r}){let[n,i]=ev.useState(!1),l=n?aO.BUTTON_BG_FILL_HOVER_OPACITY:aO.BUTTON_BG_FILL_OPACITY;return ev.createElement("button",{className:tQ()("video_player--videoButton--M-5Z2",{"video_player--videoButtonHidden--9qDbX":!t}),onPointerMove:(0,ev.useCallback)(()=>i(!0),[]),onPointerOut:(0,ev.useCallback)(()=>i(!1),[]),onPointerDown:a},ev.createElement(e,{fillOpacityForBackground:l,isFullscreen:r}))}function aH({fillOpacityForBackground:e,isFullscreen:t}){return ev.createElement("svg",{className:tQ()(t&&ak),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:aO.BUTTON_BG_FILL,fillOpacity:e}),ev.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:aO.BUTTON_SHAPE_FILL}),ev.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:aO.BUTTON_BG_FILL,strokeOpacity:aO.BUTTON_STROKE_OPACITY}))}function a$({fillOpacityForBackground:e,isFullscreen:t}){return ev.createElement("svg",{className:tQ()(t&&ak),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{clipPath:"url(#clip0_403_4259)"},ev.createElement("rect",{width:"48",height:"48",rx:"24",fill:aO.BUTTON_BG_FILL,fillOpacity:e}),ev.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:aO.BUTTON_SHAPE_FILL})),ev.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:aO.BUTTON_BG_FILL,strokeOpacity:aO.BUTTON_STROKE_OPACITY}),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_403_4259"},ev.createElement("rect",{width:"48",height:"48",rx:"24",fill:aO.BUTTON_BG_FILL}))))}function az(){return ev.createElement(a$,{fillOpacityForBackground:aO.BUTTON_BG_FILL_OPACITY,isFullscreen:!1})}function aK({fillOpacityForBackground:e,isFullscreen:t}){return ev.createElement("svg",{className:tQ()(t&&ak),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{clipPath:"url(#clip0_1_16)"},ev.createElement("rect",{width:"48",height:"48",rx:"24",fill:aO.BUTTON_BG_FILL,fillOpacity:e}),ev.createElement("path",{d:"M15 15H21V33H15V15Z",fill:aO.BUTTON_SHAPE_FILL}),ev.createElement("path",{d:"M27 15H33V33H27V15Z",fill:aO.BUTTON_SHAPE_FILL})),ev.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:aO.BUTTON_BG_FILL,strokeOpacity:aO.BUTTON_STROKE_OPACITY}),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_1_16"},ev.createElement("rect",{width:"48",height:"48",rx:"24",fill:aO.BUTTON_BG_FILL}))))}let aZ="two_column_resource_page--leftSideRedesign--W3m0M",aq="two_column_resource_page--rightSideRedesignCarousel--d7GTz two_column_resource_page--rightSideRedesign--KsU3v",aY="two_column_resource_page--rightSideRedesignFallbackThumbnail--Ydb1e two_column_resource_page--rightSideRedesign--KsU3v",aJ="two_column_resource_page--hubFileTileFullInnerImage--wTGoE two_column_resource_page--hubFileTileInnerImage--7d063";function aQ({resource:e}){let[t,a]=ev.useState(!1),r=ar(e),n=(0,ej.JP)(e);return ev.createElement("div",{className:"two_column_resource_page--autoLayoutContainer--odI-S"},ev.createElement(tD.j,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},ev.createElement("div",{className:aZ},ev.createElement(aX,{resource:e,hasScrolled:t})),ev.createElement("div",{className:n!==aa.Pk.THUMBNAIL||r?aq:aY},ev.createElement(a1,{resource:e,is16to9AspectRatio:r}),ev.createElement(at.X,{className:"two_column_resource_page--scrollSentinel--B3rnT",onIntersectionChange:e=>a(!e.isIntersecting)}))))}function aX({resource:e,hasScrolled:t}){return ev.createElement("div",{className:ek.cx.relative.$},ev.createElement(af,{hasScrolled:t,resource:e}))}function a0(e){let t="video"===e.type?e.thumbnail_url:e.url,a="image"===e.type?e.resized_thumbnail_urls:void 0;return[t,a]}function a1({resource:e,is16to9AspectRatio:t}){let a=ev.useRef(null),[r,n]=ev.useState(0),[i,l]=ev.useState(!1),[s,o]=ev.useState(!0),[c,d]=ev.useState(!1),m=e=>{let t=a.current;t&&("left"===e?t.scrollBy({left:-200,behavior:"smooth"}):"right"===e&&t.scrollBy({left:200,behavior:"smooth"}))},u=(0,e2.X)(),_=(0,ej.JP)(e),p=(0,ej.mM)(e);if(ev.useEffect(()=>{a.current?d(a.current.scrollWidth>a.current.clientWidth):p&&d(Object.keys(p).length>4)},[p]),_!==aa.Pk.CURATED_IMAGE||!p)return ev.createElement(a8,{resource:e,heroType:_,is16to9AspectRatio:t});let g=p[r],[E,h]=a0(g),f=Object.keys(p).length>1;return ev.createElement(ev.Fragment,null,"video"===g.type?ev.createElement("div",{className:"two_column_resource_page--heroVideo--6sXT1 two_column_resource_page--heroImage--kbi4f"},ev.createElement(aM,{videoId:g.video_file_uuid,src:(0,e4.bH)(e)?`/api/plugins/${e.id}/videos/${g.video_file_uuid}/manifest`:(0,e4._4)(e)?`/api/widgets/${e.id}/videos/${g.video_file_uuid}/manifest`:null,fallbackSrc:g.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,eK.L9)("rdp_video_ended",{community_resource_id:e.id,resouce_type:(0,ej.yA)(e),...u})}})):ev.createElement(a3,{thumbnail_url:E,resized_thumbnail_urls:h,resource:e,resourceHeroType:_,is16to9AspectRatio:t}),f&&ev.createElement("div",{className:"two_column_resource_page--carouselThumbnailsContainer--6Ag-2"},ev.createElement("div",{className:c?"two_column_resource_page--carouselThumbnails--872Mf":"two_column_resource_page--centeredCarouselThumbnails--E1vEX two_column_resource_page--carouselThumbnails--872Mf",ref:a,onScroll:()=>{let e=a.current;e&&(l(e.scrollLeft>0),o(e.scrollLeft+e.clientWidth+5<e.scrollWidth))}},Object.values(p).map((t,a)=>{let[i,l]=a0(t);return ev.createElement("div",{key:a},ev.createElement(a2,{thumbnailUrl:i,resizedThumbnailUrls:l,resource:e,index:a,selectedIndex:r,setSelectedIndex:a=>{n(a),(0,eK.L9)("CTA Clicked",{name:"Resource Carousel Thumbnail Clicked",community_resource_id:e.id,index:a,media_type:t.type,resouce_type:(0,ej.yA)(e),...u})},isVideo:"video"===t.type}))})),c&&i&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"two_column_resource_page--fadeOutMaskLeft--mylTw two_column_resource_page--fadeOutMask--uuYnH"}),ev.createElement("div",{className:"two_column_resource_page--carouselArrowLeft--YfIys two_column_resource_page--arrow--qHA02",role:"button",tabIndex:0,onClick:()=>m("left")},ev.createElement(t3.JO,{icon:"chevron-left-32"}))),c&&s&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"two_column_resource_page--fadeOutMaskRight--LdL5a two_column_resource_page--fadeOutMask--uuYnH"}),ev.createElement("div",{className:"two_column_resource_page--carouselArrowRight--7VrMQ two_column_resource_page--arrow--qHA02",role:"button",tabIndex:0,onClick:()=>m("right")},ev.createElement(t3.JO,{icon:"chevron-right-32"})))))}function a2({thumbnailUrl:e,resizedThumbnailUrls:t,resource:a,index:r,selectedIndex:n,setSelectedIndex:i,isVideo:l}){return ev.createElement("div",{className:"two_column_resource_page--carouselThumbnail--1Rwo6"},ev.createElement("div",{className:r===n?"two_column_resource_page--selectedCarouselThumbnailImage--t2pSt two_column_resource_page--heroImage--kbi4f":"two_column_resource_page--carouselThumbnailImage--rWT16 two_column_resource_page--heroImage--kbi4f",key:r,role:"button",tabIndex:r,onClick:()=>{i(r)}},ev.createElement(a4,{image:e,resourceId:a.id,alt:(0,ej.$o)(a).name+" preview",thumbnailContext:eY.iw.DETAIL,resizedThumbnailUrls:t}),l&&ev.createElement("div",{className:"two_column_resource_page--carouselThumbnailOverlayForVideo--t0PGx"},ev.createElement(az,null)),r!==n&&ev.createElement("div",{className:"two_column_resource_page--carouselThumbnailImageShadow--vBYNn two_column_resource_page--carouselImageShadow--99loM"})))}function a3({thumbnail_url:e,resized_thumbnail_urls:t,resource:a,resourceHeroType:r,is16to9AspectRatio:n}){let[i,l]=ev.useState(!1),s=ev.createElement(t3.JO,{icon:i?"full-screen-exit-32":"full-screen-enter-32",fill:"menu"}),o=e=>{e.stopPropagation(),l(!1)},c=e=>{"Escape"===e.key&&l(!1)};return ev.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[]),ev.createElement("div",{className:"two_column_resource_page--heroImageWrapper--3YT8v",onClick:()=>l(!0),role:"button",tabIndex:-1},ev.createElement("div",{className:"two_column_resource_page--heroImage--kbi4f",key:a.id},ev.createElement(a4,{image:e,resourceId:a.id,alt:(0,ej.$o)(a).name+" preview",thumbnailContext:eY.iw.DETAIL,resizedThumbnailUrls:t,resourceHeroType:r}),ev.createElement("div",{className:"two_column_resource_page--carouselImageShadow--99loM"})),ev.createElement("div",{className:"two_column_resource_page--heroImageFullScreenIcon--369AG"},s),i&&ev.createElement("div",{className:"two_column_resource_page--modalBackground--EEKOA",onClick:e=>o(e),role:"button",tabIndex:-1},ev.createElement("div",{className:n?"two_column_resource_page--rdpImageCloseupModal--OY9YT":"two_column_resource_page--rdpImageCloseupModal2to1AspectRatio--8km5A two_column_resource_page--rdpImageCloseupModal--OY9YT",onClick:e=>o(e),role:"button",tabIndex:-1},ev.createElement("img",{className:aJ,src:e,loading:"lazy",alt:(0,ej.$o)(a).name+" preview",draggable:!1,onError:()=>{(0,ae.YD)("community","Failed to load hero image closeup on resource detail page",{thumbnail_url:e,resourceId:a.id},{reportAsSentryError:!0})}}),ev.createElement("div",{className:"two_column_resource_page--heroImageExitFullScreenIcon--keS5L two_column_resource_page--heroImageFullScreenIcon--369AG"},s))))}function a4({image:e,resizedThumbnailUrls:t,resourceId:a,alt:r,thumbnailContext:n,resourceHeroType:i}){let l;return e&&t?l=ev.createElement(eY.AS,{className:aJ,image:e,onLoad:ex.ZT,hubFileId:a,alt:r,thumbnailContext:n,resizedThumbnailUrls:t}):e?l=ev.createElement("img",{className:aJ,src:e,loading:"lazy",alt:r,draggable:!1,onError:()=>{(0,ae.YD)("community","Failed to load hero image on resource detail page",{resourceId:a,image:e},{reportAsSentryError:!0})}}):((0,ae.Cp)("community","Missing hero image on resource detail page",{resourceId:a,resourceHeroType:i}),l=ev.createElement(an.hY,null)),ev.createElement("div",{className:"two_column_resource_page--carouselImage--zn-4P"},l)}function a8({resource:e,heroType:t,is16to9AspectRatio:a}){if(t===aa.Pk.THUMBNAIL){let r=(0,e4.sg)(e)?e.resized_thumbnail_urls:void 0;return ev.createElement(a3,{thumbnail_url:e.thumbnail_url??void 0,resized_thumbnail_urls:r,resource:e,resourceHeroType:t,is16to9AspectRatio:a})}return ev.createElement("div",{className:"two_column_resource_page--canvasViewerWrapper--bjC9H"},ev.createElement(ah,{enableEmbedOnSmallScreens:!0,resource:e}))}function a5({title:e,description:t,children:a}){return ev.createElement("section",{className:"collection_section--section--RLij0"},ev.createElement("div",{className:"collection_section--title--tNWji text--fontPos24--YppUD text--_fontBase--QdLsd"},e),!!t&&ev.createElement("div",{className:"collection_section--description--UH-JN text--fontPos18--rYXJb text--_fontBase--QdLsd"},t),ev.createElement("div",{className:"collection_section--content--rIF8z"},a))}var a9=a(918321),a6=a(261104),a7=a.n(a6),re=a(926416);let rt="truncated_description_view--blueLink--v3wsX blue_link--blueLink--9rlnd";function ra({description:e}){let t=ev.useRef(null);return ev.useEffect(()=>{var a;if(!t.current)return;let r=document.createElement("div");r.innerHTML=a7().sanitize(e);let n=al.fj.map(e=>`:not(${e})`).join(""),i=r.querySelectorAll(n);for(let e of i)null==(a=e.parentNode)||a.removeChild(e);t.current.innerHTML=r.innerHTML},[t,e]),ev.createElement("div",{ref:t})}function rr({description:e,hideDivider:t=!1}){let a=ev.useRef(null),[r,n]=ev.useState(!1),[i,l]=ev.useState(!1),s=(0,re.X)(al.l1),o=s?al.C7:al.c$;return ev.useEffect(()=>{if(a.current){let e=a.current,t=e.getBoundingClientRect().height;t>o&&(n(!0),l(!0))}},[o]),ev.createElement(ev.Fragment,null,ev.createElement("div",{style:r?{maxHeight:`${o}px`}:{},className:r?"truncated_description_view--truncatedDescription--H3ST8 truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd":"truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd",ref:a},ev.createElement(ra,{description:e}),!r&&i&&ev.createElement("div",{className:rt,onClick:()=>{n(!0)},role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.detail_view.show_less"}))),r&&ev.createElement("div",{className:"truncated_description_view--readMoreWrapper--4ruCR text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ev.createElement("div",{className:rt,onClick:()=>{n(!1)},role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.detail_view.read_more"}))),!t&&ev.createElement("div",{className:"truncated_description_view--divider--RK37w"}))}let rn="resource_cards--cardContainer--dagKQ",ri="resource_cards--card--j2AeO",rl="resource_cards--image--V7Y8-";function rs({resource:e,title:t,description:a}){let r=(0,ej.yA)(e);switch(r){case e4._g.HUB_FILE:return ev.createElement(ro,{hubFile:e,title:t,description:a,key:e.id});case e4._g.WIDGET:return ev.createElement(rc,{widget:e,title:t,description:a,key:e.id});case e4._g.PLUGIN:return ev.createElement(rd,{plugin:e,title:t,description:a,key:e.id});default:return null}}function ro({hubFile:e,title:t,description:a}){let r=(0,ej.$o)(e),n=(0,ej.O7)({resource:e});return ev.createElement("div",{className:rn,"data-testid":"collection-resource-card"},ev.createElement(e3.po,{className:ri,href:n,trackingEventName:"community_collections",trackingProperties:{name:"hub_file_card_clicked",href:n},target:"_blank"},ev.createElement(rm,{title:t??r.name,description:a??r.description}),ev.createElement(eY.ck,{className:rl,image:e.thumbnail_url,hubFileId:e.id,onLoad:ex.ZT,alt:r.name,resizedThumbnailUrls:e.resized_thumbnail_urls})),ev.createElement(ru,{resource:e}))}function rc({widget:e,title:t,description:a}){let r=(0,ej.$o)(e),n=(0,ej.O7)({resource:e});return ev.createElement("div",{className:rn,"data-testid":"collection-resource-card"},ev.createElement(e3.po,{className:ri,href:n,trackingEventName:"community_collections",trackingProperties:{name:"widget_card_clicked",href:n},target:"_blank"},ev.createElement(rm,{title:t??r.name,description:a??r.description}),ev.createElement(a9.x,{srcSet:"",src:r.redirect_snapshot_url||r.redirect_icon_url,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:r.name,className:rl,imageProps:{onLoad:e=>e.target.style.opacity="1"}})),ev.createElement(ru,{resource:e}))}function rd({plugin:e,title:t,description:a}){let r=(0,ej.$o)(e),n=(0,ej.O7)({resource:e});return ev.createElement("div",{className:rn,"data-testid":"collection-resource-card"},ev.createElement(e3.po,{className:ri,href:n,trackingEventName:"community_collections",trackingProperties:{name:"plugin_card_clicked",href:n},target:"_blank"},ev.createElement(a9.x,{srcSet:"",src:r.redirect_icon_url,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:r.name,className:"resource_cards--pluginImage--NgYbh resource_cards--image--V7Y8-",imageProps:{onLoad:e=>e.target.style.opacity="1"}}),ev.createElement(rm,{title:t??r.name,description:a??r.description})),ev.createElement(ru,{resource:e}))}function rm({title:e,description:t}){return ev.createElement("div",{className:"resource_cards--info--7v-s9"},ev.createElement("div",{className:"resource_cards--title--9uxRY text--fontPos18--rYXJb text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},e),ev.createElement("div",{className:"resource_cards--description--NQQ-r text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},ev.createElement(ra,{description:t})))}function ru({resource:e}){var t,a;return ev.createElement("div",{className:"resource_cards--footer--cRSOS text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement("div",{className:"resource_cards--profile--YLut5"},ev.createElement(t5.yX,{publishers:(null==(t=e.community_publishers)?void 0:t.accepted)||[]}),ev.createElement("div",{className:"resource_cards--profileName--Uvden"},ev.createElement(eq.Tx,{id:"community.cards.by"}),ev.createElement(t5.xg,{publishers:(null==(a=e.community_publishers)?void 0:a.accepted)||[],useSmallWidth:!0,removeByLabel:!0,openInNewTab:!0}))),ev.createElement("div",{className:"resource_cards--attributes--9cUYC"},ev.createElement(e9.Ug,{resource:e,currentUserLiked:!1}),ev.createElement(e9.dF,{resource:e})))}function r_({title:e,resource:t,meta:a,showCTA:r=!0}){let n=(0,t6.a)(`(max-width: ${al.l1}px)`),i=ar(t),l=(0,ej.JP)(t),s=tq(t,a),o=r?ev.createElement(t5.Mo,{resource:t}):null,c=(0,ej.O7)({resource:t}),d=ev.createElement(e3.po,{className:"hero_section--learnMore--a7m3e text--fontPos13--xW8hS text--_fontBase--QdLsd",href:c,trackingEventName:"community_collections",trackingProperties:{href:c},target:"_blank"},ev.createElement(eq.Tx,{id:"community.collections.learn_more"}));return ev.createElement(a5,{title:e},n?ev.createElement("div",null,ev.createElement(rs,{resource:t,title:null==s?void 0:s.title,description:null==s?void 0:s.description})):ev.createElement("div",{className:"hero_section--section--xyS5J"},ev.createElement(tD.j,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},ev.createElement("div",{className:aZ},ev.createElement(t7.C$,{resource:t,CTAButton:o,learnMore:d,title:null==s?void 0:s.title,description:null==s?void 0:s.description,openInNewTab:!0})),ev.createElement("div",{className:l!==aa.Pk.THUMBNAIL||i?aq:aY},ev.createElement(a1,{resource:t,is16to9AspectRatio:i})))))}var rp=a(61232),rg=a(47455);let rE=a(958966);function rh(){let e={id:rg.EN.communityResourceInReviewBanner,bannerType:rg.$.WARN,icon:rE,mainText:(0,eq.t)("community.collections.unpublished_banner.this_page_is_not_published"),description:(0,eq.t)("community.collections.unpublished_banner.only_admins_can_see_this_page"),dismissible:!1,positionStatic:!0};return ev.createElement(rp.i,{content:e,onDismiss:ex.ZT})}function rf({title:e,description:t,resources:a,meta:r}){return ev.createElement(a5,{title:e,description:t},ev.createElement("div",{className:"resource_bundle_section--resources--h-L7L"},a.map(e=>{let t=tq(e,r);return ev.createElement(rs,{resource:e,title:null==t?void 0:t.title,description:null==t?void 0:t.description,key:e.id})})))}var rv=a(795153),rb=a(302341),ry=a(198348);let rw=new class{constructor(){this.CollectionPageSchemaValidator=(0,ry.PP)()}getCollectionPageByUrlSlug(e,t){return this.CollectionPageSchemaValidator.validate(async({xr:a})=>{let r=await a.get(`/api/collection_pages/${e}?is_template_url=${t}`);return r})}},rT=new class{constructor(){this.CollectionPageSchemaValidator=(0,ry.PP)()}getCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>{let a=await t.get(`/api/admin/collection_pages/${e}`);return a})}updateCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>{let a=await t.put(`/api/admin/collection_pages/${e.urlSlug}`,ry.yA.toAPIParameters(e.collectionPage||{}));return a})}deleteCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>{let a=await t.del(`/api/admin/collection_pages/${e.urlSlug}`);return a})}createCollectionPage(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>{let a=await t.post("/api/admin/collection_pages",ry.yA.toAPIParameters(e.collectionPage||{}));return a})}},rx=rv.t1.Query({fetch:async({urlSlug:e,isTemplateUrl:t})=>{let a=await rw.getCollectionPageByUrlSlug(e,t);return a.data.meta}});function rN(){let{urlSlug:e}=(0,eR.UO)(),[{data:t,status:a}]=(0,ez.aM)(rx({urlSlug:e,isTemplateUrl:function(e){try{return/^\/community\/templates\/.+$/.test(new URL(e).pathname)}catch{return!1}}(ew.default.location.href)}),{enabled:(0,eT.BZ)().cmty_collections_v2});return"loading"===a?null:(0,eT.BZ)().cmty_collections_v2&&t?(document.title=t.meta_title||"Collection | Figma Community",ev.createElement(ev.Fragment,null,ev.createElement(rC,{collection:t}),!(0,ey.P)()&&ev.createElement(tU,null))):ev.createElement(ty,null)}function rC({collection:e,preview:t=!1}){return ev.createElement(e3.Ui,{name:"community_collections",properties:{urlSlug:e.url_slug,title:e.title}},!("published"===e.publishing_status&&e.latest_published_at)&&ev.createElement(rh,null),ev.createElement("div",{className:"collection_page--page--XgZLM"},ev.createElement("section",{className:"collection_page--headerSection--qYnly"},ev.createElement("div",{className:"collection_page--header--XaFVY"},ev.createElement("div",{className:"collection_page--headerInfo--VzudZ"},!t&&ev.createElement(t2,{pathname:ew.default.location.pathname}),ev.createElement("h1",{className:"collection_page--title--gNu9m text--fontPos48--H177Q text--_fontBase--QdLsd"},e.title),ev.createElement(t9,{collection:e}),ev.createElement("div",{className:"collection_page--description--xFS-k text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.description)),ev.createElement("div",{className:"collection_page--headerImage--gReUX"},!!e.header_img_url&&ev.createElement("img",{src:e.header_img_url,alt:"collection header"})))),!!e.sections.length&&ev.createElement("section",{className:"collection_page--pageSections--mndLy"},e.sections.map((e,a)=>e.section_type===tW.BUNDLE_SECTION&&e.resources?ev.createElement(rf,{title:e.title||"",description:e.description||"",resources:e.resources,meta:e.meta,key:a}):e.section_type===tW.HERO_SECTION&&e.resource?ev.createElement(r_,{title:e.title||"",resource:e.resource,meta:e.meta,showCTA:!t,key:a}):void 0)),!!e.faqs&&ev.createElement(t8,{faqs:e.faqs})))}function rS(){return ev.createElement("svg",{className:"svg",width:"38",height:"57",viewBox:"0 0 38 57",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M19 28.5c0-5.247 4.253-9.5 9.5-9.5 5.247 0 9.5 4.253 9.5 9.5 0 5.247-4.253 9.5-9.5 9.5-5.247 0-9.5-4.253-9.5-9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#1abcfe",stroke:"none"}),ev.createElement("path",{d:"M0 47.5C0 42.253 4.253 38 9.5 38H19v9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 57 0 52.747 0 47.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#0acf83",stroke:"none"}),ev.createElement("path",{d:"M19 0v19h9.5c5.247 0 9.5-4.253 9.5-9.5C38 4.253 33.747 0 28.5 0H19z",fillRule:"nonzero",fillOpacity:"1",fill:"#ff7262",stroke:"none"}),ev.createElement("path",{d:"M0 9.5C0 14.747 4.253 19 9.5 19H19V0H9.5C4.253 0 0 4.253 0 9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#f24e1e",stroke:"none"}),ev.createElement("path",{d:"M0 28.5C0 33.747 4.253 38 9.5 38H19V19H9.5C4.253 19 0 23.253 0 28.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#a259ff",stroke:"none"}))}rv.t1.Query({fetch:async({urlSlug:e})=>{let t=await rT.getCollectionPageByUrlSlug(e);return t.data.meta}}),rv.t1.Mutation(async({urlSlug:e,collectionPage:t})=>{let a=await rT.updateCollectionPageByUrlSlug({urlSlug:e,collectionPage:t});return a.data.meta}),rv.t1.Mutation(async({urlSlug:e})=>{let t=await rT.deleteCollectionPageByUrlSlug({urlSlug:e});return t.data.meta}),rv.t1.Mutation(async e=>{let t=await rT.createCollectionPage({collectionPage:e});return t.data.meta}),rv.t1.PaginatedQuery({fetch:(0,rb.T5)(()=>"/api/admin/collection_pages",20)});var rk=a(104529),rI=a(31642),rL=((n=rL||{}).COMPLETE="complete",n.UPLOADING="uploading",n.ERRORS="errors",n);let rR="index--stateBadge__complete--8-pYW index--stateBadge--AoGlq text--fontPos11--2LvXf text--_fontBase--QdLsd",rA="index--stateBadge__errors--7h4Ke index--stateBadge--AoGlq text--fontPos11--2LvXf text--_fontBase--QdLsd";function rO({state:e,numErrors:t}){return e===rL.COMPLETE?ev.createElement("div",{className:rR},ev.createElement(eq.Tx,{id:"community.seller.complete"})):e===rL.UPLOADING?ev.createElement("div",{className:"index--stateBadge__uploading--iS-ST index--stateBadge--AoGlq text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"community.seller.uploading"})):e===rL.ERRORS?ev.createElement("div",{className:rA},ev.createElement(eq.Tx,{id:"community.seller.num_errors",num:t})):void(0,eL.vE)(e)}function rD({state:e,numErrors:t}){return"sent"===e?ev.createElement("div",{className:rR,"data-table-badge":!0},ev.createElement(eq.Tx,{id:"community.seller.email_sent"})):"not_sent"===e?ev.createElement("div",{className:"index--stateBadge__neutral--UK3NJ index--stateBadge--AoGlq text--fontPos11--2LvXf text--_fontBase--QdLsd","data-table-badge":!0},ev.createElement(eq.Tx,{id:"community.seller.email_not_sent"})):"failed"===e?ev.createElement("div",{className:rA,"data-table-badge":!0},ev.createElement(eq.Tx,{id:"community.seller.email_failed"})):void(0,eL.vE)(e)}var rF=a(985417);let rM="promo_code_manager--promoCodeManagerBackdrop--17b95",rP="promo_code_manager--tab--QjtGH",rB="promo_code_manager--selectedTab--wtQ-C";function rU({closeModal:e}){return ev.createElement("svg",{className:"promo_code_manager--exit--BcCVz",onClick:e,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 15.2931L11.3535 10.6466L10.6464 11.3537L15.2929 16.0002L10.6464 20.6466L11.3535 21.3537L16 16.7073L20.6464 21.3537L21.3535 20.6466L16.7071 16.0002L21.3535 11.3538L20.6464 10.6467L16 15.2931Z",fill:"black",fillOpacity:"0.9"}))}let rV=a(574749);function rW({promo_code:e,resource:t,updatePromoCodeRow:a}){var r;let[n,i]=ev.useState(e.ext_user_unique_id),l=-1===(r=e.duration)?(0,eq.t)("community.seller.promo_code_duration_forever"):(0,eq.t)("community.seller.promo_code_duration",{num:r}),s=null===e.email_sent_at?ev.createElement(rD,{state:"not_sent"}):ev.createElement(rD,{state:"sent"});return ev.createElement("tr",null,ev.createElement("td",null,ev.createElement("input",{type:"text",value:n,onInput:e=>{i(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&e.target.blur()},onBlur:r=>{if(n!==e.ext_user_unique_id){let r=confirm((0,eq.t)("community.seller.confirm_promo_code_email_change",{old_email:e.ext_user_unique_id,new_email:n}));if(r){let r=(0,ej.yA)(t);rI.ZP.put(`/api/community/promo_codes/${r}/${t.id}/${e.promo_code}`,{email:n}).then(()=>{a({...e,ext_user_unique_id:n})}).catch(t=>{i(e.ext_user_unique_id),alert(t.message)})}else i(e.ext_user_unique_id)}}})),ev.createElement("td",null,l),ev.createElement("td",null,e.percent_off,"%"),ev.createElement("td",null,s),ev.createElement("td",{className:e.used_at?"promo_code_manager--usedAtTrue--l8Yrz":""},e.used_at?(0,eq.t)("community.seller.yes"):(0,eq.t)("community.seller.no")),ev.createElement("td",null,e.promo_code))}function rG({resource:e,closeModal:t}){let[a,r]=ev.useState([]),[n,i]=ev.useState("all"),[l,s]=ev.useState(null),[o,c]=ev.useState(!1);ev.useEffect(()=>{let t={};l&&(t.query=l),"all"!==n&&(t.filter_by=n),c(!0),r([]);let a=(0,ej.yA)(e);rk.i.getPromoCodes({resourceType:a,resourceId:e.id,searchParams:t}).then(({data:e})=>{c(!1),r(e.meta.promo_codes)})},[e,l,n]);let d=(0,ej.$o)(e);return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:rM,onClick:e=>{-1!==e.target.className.indexOf(rM)&&t()},role:"button",tabIndex:0},ev.createElement("div",{className:"promo_code_manager--promoCodeManager--UuraD"},ev.createElement("div",{className:"promo_code_manager--searchHeader--kRkiF"},ev.createElement("div",{className:"promo_code_manager--resourceIcon--JLHtN",style:{backgroundImage:`url(${d.redirect_icon_url||d.redirect_snapshot_url})`}}),ev.createElement("div",{className:"promo_code_manager--searchContainer--aURGp"},ev.createElement(eD.n,{svg:rV}),ev.createElement("input",{type:"text",placeholder:"Search by email",onInput:(0,rF.D)(500,e=>s(e.target.value))})),ev.createElement(rU,{closeModal:e=>{t(),e.stopPropagation()}})),ev.createElement("div",{className:"promo_code_manager--tabHeader--ARR7n"},ev.createElement("div",{className:"all"===n?rB:rP,onClick:()=>i("all"),role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.seller.tab_all"})),ev.createElement("div",{className:"sent"===n?rB:rP,onClick:()=>i("sent"),role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.seller.tab_sent"})),ev.createElement("div",{className:"failed"===n?rB:rP,onClick:()=>i("failed"),role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.seller.tab_failed"}))),ev.createElement("div",{className:"promo_code_manager--tableWrapper--1GWtu"},ev.createElement("table",null,ev.createElement("thead",null,ev.createElement("tr",null,ev.createElement("th",null,ev.createElement(eq.Tx,{id:"community.seller.customer_emails"})),ev.createElement("th",null,ev.createElement(eq.Tx,{id:"community.seller.duration"})),ev.createElement("th",null,ev.createElement(eq.Tx,{id:"community.seller.discount"})),ev.createElement("th",null,ev.createElement(eq.Tx,{id:"community.seller.email_status"})),ev.createElement("th",null,ev.createElement(eq.Tx,{id:"community.seller.used"})),ev.createElement("th",null,ev.createElement(eq.Tx,{id:"community.seller.promo_code"})))),ev.createElement("tbody",null,a.map(t=>ev.createElement(rW,{key:t.ext_user_unique_id,promo_code:t,resource:e,updatePromoCodeRow:e=>r(a.map(t=>t.promo_code===e.promo_code?e:t))})))),o&&ev.createElement(eJ.$j,null)))))}function rj({resource:e,setModalState:t}){let a=0===e.promo_code_stats.num_total?null:rL.COMPLETE,[r,n]=ev.useState(a),i=ev.useRef(null),[l,s]=ev.useState(e.promo_code_stats),[o,c]=ev.useState(null),d=(0,ej.$o)(e),m=t=>{let a=new FileReader;n(rL.UPLOADING),c(null),a.addEventListener("load",t=>{rI.ZP.post(`/api/community/promo_codes/${(0,ej.yA)(e)}/${e.id}`,{records:t.target.result}).then(({data:e})=>{let{meta:t}=e;s({num_email_sent:l.num_email_sent,num_total:l.num_total+t.num_records_created}),n(rL.COMPLETE)}).catch(({data:e})=>{var t,a;n(rL.ERRORS),(null==(t=e.failure_info)?void 0:t.failures)?c(null==(a=e.failure_info)?void 0:a.failures):e.message&&c([e.message])})}),a.readAsText(t)};return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"index--eligibleResourceRow--HYQ-T"},ev.createElement("div",{className:"index--resourceIcon--g7EAZ",style:{backgroundImage:`url(${d.redirect_icon_url||d.redirect_snapshot_url})`}}),ev.createElement("div",null,ev.createElement("div",{className:"index--resourceTitle--5ZObA text--fontPos18--rYXJb text--_fontBase--QdLsd"},d.name,null!==r&&ev.createElement(rO,{state:r,numErrors:null==o?void 0:o.length})),ev.createElement("div",{className:"index--resourcePromoCodeStats--Kk41A"},ev.createElement(eq.Tx,{id:"community.seller.num_records_created",num:l.num_total}),", ",ev.createElement(eq.Tx,{id:"community.seller.num_emails_sent",num:l.num_email_sent}))),ev.createElement("div",{className:"index--rightAligned--eT5hj"},ev.createElement("div",{className:"index--manageButton--ZvkZM text--fontPos14--OL9Hp text--_fontBase--QdLsd",onClick:()=>t(e),role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.seller.manage_promo_codes"})),ev.createElement("button",{className:"index--uploadCSVButton--y138R resource_page--_button--bbmLM text--fontPos14--OL9Hp text--_fontBase--QdLsd",onClick:()=>{i.current&&i.current.click()}},ev.createElement(eq.Tx,{id:"community.seller.upload_csv"})),ev.createElement("input",{ref:i,className:"index--uploadInput__hidden--AB27B",onChange:e=>{var t;(null==(t=e.target.files)?void 0:t[0])&&m(e.target.files[0])},type:"file",accept:".csv"}))),o&&ev.createElement("div",{className:"index--rowErrors--xe7aE text--fontPos11--2LvXf text--_fontBase--QdLsd"},o.map((e,t)=>{let a=e.split(":");return ev.createElement("div",{key:t,className:"index--rowError--u6IZw"},ev.createElement("div",{className:"index--rowErrorLineNo--cIAhT"},a.pop()+":"),ev.createElement("div",null,a.join("")))})))}function rH({resources:e}){let[t,a]=ev.useState(null);return ev.createElement("div",{className:"index--eligibleResourceTable--TsJF9"},e.map(e=>ev.createElement(rj,{key:e.id,resource:e,setModalState:e=>a(e)})),null!==t&&ev.createElement(rG,{resource:t,closeModal:()=>a(null)}))}let r$=a(958966),rz=()=>{let e=document.createElement("a"),t=new Blob(["ext_user_unique_id,percent_off,duration\nsomeone@dev.figma.com,50,12"],{type:"text/csv"});e.href=URL.createObjectURL(t),e.download="figma_promo_codes.csv",document.body.appendChild(e),e.click()};function rK(){let[{plugins:e,widgets:t},a]=ev.useState({plugins:[],widgets:[]});ev.useEffect(()=>{rk.i.getPromoCodesEligibleResources().then(e=>{let{meta:t}=e.data;a(t)})},[]);let r=ev.createElement(rp.i,{content:{id:rg.EN.GeneratePromoCodesBanner,bannerType:rg.$.INFO,icon:r$,mainText:ev.createElement("span",null,ev.createElement(eq.Tx,{id:"community.seller.note"})),description:ev.createElement("span",null,ev.createElement(eq.Tx,{id:"community.seller.generate_promo_codes_notice"})),dismissible:!1,positionStatic:!0,button:{buttonText:ev.createElement(eq.Tx,{id:"community.seller.download_csv_template"}),className:"index--downloadCSVButton--IDYWI",onClick:()=>{rz()}}},editorType:ao.gg.DESIGN,onDismiss:ex.ZT});return ev.createElement("div",{className:"index--generatePromoCodesView--kA3B3 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ev.createElement("div",{className:"index--figmaLogoHeader--ar-C8"},ev.createElement(rS,null)),ev.createElement("h1",{className:"index--h1--TtCcU text--fontPos20--Bcz97 text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"community.seller.migrate_your_figma_resources"})),ev.createElement("div",{className:"index--description--ZlIES"},ev.createElement(eq.Tx,{id:"community.seller.migrate_your_figma_resources__description",email:ev.createElement("a",{href:"mailto:support@figma.com"},"support@figma.com")}),ev.createElement("div",{className:"index--bannerWrapper--zA02f"},r)),ev.createElement(rH,{resources:[...e,...t]}))}var rZ=a(241051),rq=a(411047),rY=a(680356);let rJ=a(232796).U;var rQ=a(749375),rX=a(215698),r0=a(218609);let r1=(0,r0.wV)("VIEW_PLUGIN",(e,{pluginId:t,isWidget:a})=>rI.ZP.post(`/api/${a?"widgets":"plugins"}/${t}/view`,{pluginId:t}));var r2=a(532444),r3=a(159774),r4=a(163381),r8=a(995971),r5=a(505335),r9=a(337167);let r6=a(356405).Y;var r7=a(644383),ne=a(286071),nt=a(54055),na=a(496478),nr=a(793169);function nn({resource:e,containerClassName:t}){let a=(0,eb.I0)(),r=(0,eb.v9)(e=>e.authedActiveCommunityProfile),n=(0,eb.v9)(t=>(0,na.to)(t,e)),i=ev.useCallback(()=>{a((0,ne.Rp)({hub_file_id:(0,e4.sg)(e)?e.id:void 0,widget_id:(0,e4._4)(e)?e.id:void 0,plugin_id:(0,e4.bH)(e)?e.id:void 0})),a(r7.R.enqueue({message:(0,eq.t)("community.detail_view.accepted_creator_invite")}))},[a,e]),l=ev.useCallback(()=>{a((0,ne.UL)({hub_file_id:(0,e4.sg)(e)?e.id:void 0,widget_id:(0,e4._4)(e)?e.id:void 0,plugin_id:(0,e4.bH)(e)?e.id:void 0})),a(r7.R.enqueue({message:(0,eq.t)("community.detail_view.declined_creator_invite")}))},[a,e]);return!r||(0,nt.Kk)(r)||!na.dQ.includes(n)?null:ev.createElement("div",{className:t},ev.createElement(nr.Lz,{onClickAccept:i,onClickDecline:l,label:(0,eq.t)("community.detail_view.you_have_been_added_as_a_creator_of_this_resource")}))}var ni=a(149034);function nl({resource:e,containerClassName:t}){let a=(0,eb.I0)(),r=(0,eb.v9)(t=>(0,e4._4)(e)||(0,e4.bH)(e)?(0,ni.eK)(t,e):void 0);return(0,e4.sg)(e)||void 0===r||!(0,ni.vy)(r)?null:ev.createElement("div",{className:t},ev.createElement(nr.Lz,{onClickAccept:()=>{a((0,ne.Dr)({widget_id:(0,e4._4)(e)?e.id:void 0,plugin_id:(0,e4.bH)(e)?e.id:void 0,src:ne.FM.COMMUNITY_PAGE})),a(r7.R.enqueue({message:(0,eq.t)("community.detail_view.accepted_publisher_invite")}))},onClickDecline:()=>{a((0,ne.UT)({widget_id:(0,e4._4)(e)?e.id:void 0,plugin_id:(0,e4.bH)(e)?e.id:void 0,src:ne.FM.COMMUNITY_PAGE})),a(r7.R.enqueue({message:(0,eq.t)("community.detail_view.declined_publisher_invite")}))},label:(0,eq.t)("community.detail_view.you_have_been_added_as_a_publisher_of_this_resource")}))}var ns=a(746600),no=a(400275),nc=a(680145),nd=a(289629),nm=a(329660),nu=a(508887),n_=a(162586),np=a(67237);function ng(e){return ev.useMemo(()=>[{category:{urlSlug:"libraries",text:(0,eq.t)("categories.libraries")},dropdownCategories:[{urlSlug:"ui-kits",text:(0,eq.t)("categories.ui_kits")},{urlSlug:"wireframes",text:(0,eq.t)("categories.wireframes")}]},{category:{urlSlug:"design-templates",text:(0,eq.t)("categories.design_templates")},dropdownCategories:[{urlSlug:"desktop-apps-websites",text:(0,eq.t)("categories.desktop_apps_websites")},{urlSlug:"mobile-apps",text:(0,eq.t)("categories.mobile_apps")},{urlSlug:"presentations",text:(0,eq.t)("categories.presentations")},{urlSlug:"portfolios-resumes",text:(0,eq.t)("categories.portfolios_resumes")}]},e?{category:{urlSlug:"design-tools",text:(0,eq.t)("categories.design_tools")},dropdownCategories:[{urlSlug:"accessibility",text:(0,eq.t)("categories.accessibility")},{urlSlug:"design-systems",text:(0,eq.t)("categories.design_systems")},{urlSlug:"editing-effects",text:(0,eq.t)("categories.editing_effects")},{urlSlug:"file-organization",text:(0,eq.t)("categories.file_organization")},{urlSlug:"import-export",text:(0,eq.t)("categories.import_export")},{urlSlug:"prototyping-animation",text:(0,eq.t)("categories.prototyping_animation")}]}:null,e?{category:{urlSlug:"visual-assets",text:(0,eq.t)("categories.visual_assets")},dropdownCategories:[{urlSlug:"illustrations",text:(0,eq.t)("categories.illustrations")},{urlSlug:"shapes-colors",text:(0,eq.t)("categories.shapes_colors")}]}:null,{category:{urlSlug:"whiteboarding",text:(0,eq.t)("categories.whiteboarding")},dropdownCategories:[{urlSlug:"brainstorming",text:(0,eq.t)("categories.brainstorming")},{urlSlug:"diagramming",text:(0,eq.t)("categories.diagramming")},{urlSlug:"fun-games",text:(0,eq.t)("categories.fun_games")},{urlSlug:"strategic-planning",text:(0,eq.t)("categories.strategic_planning")},{urlSlug:"team-meetings",text:(0,eq.t)("categories.team_meetings")}]},{category:{urlSlug:"more",text:(0,eq.t)("categories.more")},dropdownCategories:[{urlSlug:"education",text:(0,eq.t)("categories.education")},{urlSlug:"development",text:(0,eq.t)("categories.development")},{urlSlug:"icons",text:(0,eq.t)("categories.icons")},e?null:{urlSlug:"design-tools",text:(0,eq.t)("categories.design_tools")},e?null:{urlSlug:"visual-assets",text:(0,eq.t)("categories.visual_assets")}].filter(e=>null!=e)}].filter(e=>null!=e),[e])}let nE="tags_container--tagsHeader--6f339 text--fontPos14--OL9Hp text--_fontBase--QdLsd",nh="tags_container--tagsContainer--M7709",nf="tags_container--tag--40TSY text--fontPos13--xW8hS text--_fontBase--QdLsd";function nv({parentCategorySlug:e,childCategorySlug:t,rdpImpressionId:a}){let r=function(){let e=ng(!0);return ev.useMemo(()=>{let t={};return e.forEach(({category:e,dropdownCategories:a})=>{t[e.urlSlug]=e.text,a.forEach(e=>{t[e.urlSlug]=e.text})}),t},[e])}(),n=e?r[e]:null,i=t?r[t]:null;return(i||n)&&(0,r4.NN)(!1)?ev.createElement("div",{className:ek.cx.mb32.$},ev.createElement("h3",{className:nE},ev.createElement(eq.Tx,{id:"community.detail_view.category"})),ev.createElement("div",{className:nh},!!n&&ev.createElement(e3.po,{href:`/community/category/${e}`,trackingEventName:"cmty_category",trackingProperties:{name:"rdp_pill_clicked",category_slug:e,category_text:n,rdpImpressionId:a}},ev.createElement("div",{className:nf},n)),!!i&&ev.createElement(e3.po,{href:`/community/category/${t}`,trackingEventName:"cmty_category",trackingProperties:{name:"rdp_pill_clicked",category_slug:t,category_text:i,rdpImpressionId:a}},ev.createElement("div",{className:nf},i)))):ev.createElement(ev.Fragment,null)}function nb({resource:e}){return null}var ny=a(312677),nw=a(170949),nT=a(327251),nx=a(5453),nN=a(654230);let nC="library_detail_page_viewer--libraryViewerComponentsViewContainer--9vgG2",nS="library_detail_page_viewer--libraryViewerComponentsSideBar--GOu-N",nk="library_detail_page_viewer--libraryViewerComponentsSideBarButtonSelected--6mlp8",nI="library_detail_page_viewer--libraryViewerComponentsSideBarButton--OBVic text--fontPos11--2LvXf text--_fontBase--QdLsd",nL="library_detail_page_viewer--libraryViewerComponentsSection--gxcEf",nR="library_detail_page_viewer--libraryViewerStylesViewContainer--2Nbhg",nA="library_detail_page_viewer--loadingSpinner--WhwNN",nO=a(207569);function nD(){return ev.createElement(eD.n,{svg:nO,useOriginalSrcFills_DEPRECATED:!0,className:"library_detail_page_viewer--libraryViewerEmptyIcon--8tSPM"})}var nF=a(30067),nM=a(112088),nP=a(590602),nB=a(166885),nU=a(859401),nV=a(236893),nW=a(305305),nG=a(901116);function nj({libraryId:e}){let[t,a]=ev.useState(r8.h1.COMPONENTS),r=(0,nu.Hr)(),[n,i]=ev.useState(""),[l]=(0,nT.Z)(n,300,{trailing:!0,leading:!1}),[s]=(0,ez.aM)((0,nF.YF)(e),{enabled:r()}),[o]=(0,ez.aM)((0,nF.Sp)({hubFileId:e}),{enabled:r()}),c=ev.useMemo(()=>{let e="loaded"===o.status?o.data:[];return n0(e)},[o]),{itemsByFrameId:d,topLevelComponents:m,frameIds:u}=ev.useMemo(()=>{let e="loaded"===s.status?s.data:[];return nX(e)},[s]);return ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerContainer--ZPI5T"},ev.createElement(nq,{selectedTabType:t,setSelectedTabType:a,query:l,setSearchQuery:i}),0===l.trim().length&&t===r8.h1.COMPONENTS&&ev.createElement(nH,{frameIds:u,itemsByFrameId:d,topLevelComponents:m,isLoading:"loading"===s.status}),0===l.trim().length&&t===r8.h1.STYLES&&ev.createElement(nK,{foldersAndStylesByType:c,isLoading:"loading"===o.status}),l.length>0&&ev.createElement(nJ,{query:l,libraryId:e,selectedTabType:t}))}function nH(e){let{frameIds:t,itemsByFrameId:a,topLevelComponents:r,isLoading:n,numSearchResultsText:i}=e,l=(0,re.X)(al.l1),[s,o]=ev.useState(r.length>0||0===t.length?null:t[0]),c=ev.useRef({}),d=ev.useRef(null),m=ev.useRef(null),u=ev.useRef(null),_=ev.useCallback(e=>{let t=c.current[e];if(t&&d.current){let e=t.offsetTop-d.current.offsetTop-t.offsetHeight;d.current.scrollTo({top:e})}},[]);ev.useEffect(()=>{let e=u.current,t=m.current;e&&t&&(e.offsetTop<t.scrollTop?t.scrollTo({behavior:"smooth",top:e.offsetTop}):e.offsetTop>t.scrollTop+t.offsetHeight&&t.scrollTo({behavior:"smooth",top:e.offsetTop-t.offsetTop-t.offsetHeight/2}))},[s]),ev.useEffect(()=>{if(!window.IntersectionObserver||!d.current||!c.current)return;let e={},a=d.current.offsetHeight;e={root:d.current,rootMargin:`0px 0px -${a/2}px 0px`,threshold:[.6]};let r=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&o(e.target.id)})},e);for(let e of t){let t=c.current[e];t&&r.observe(t)}return()=>{r.disconnect()}},[t,c,d,o]);let p=ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentsContent--gNXgS",style:{paddingBottom:t.length>2?"72px":"12px"},ref:d},i,r.length>0&&ev.createElement("div",{className:nL},ev.createElement(n$,{items:r})),t.map(e=>{var t;let r=a[e],n=r[0];return n?ev.createElement("div",{className:nL},ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentsSectionHeader--jYgrv text--fontPos13--xW8hS text--_fontBase--QdLsd",id:e,ref:t=>c.current[e]=t},null==(t=n.containing_frame)?void 0:t.name),ev.createElement(n$,{items:r})):null})),g=ev.useCallback(e=>{_(e),o(e)},[_]),E=ev.createElement("div",{className:nS,ref:m},t.map(e=>{var t;let r=e===s,n=null==(t=a[e][0].containing_frame)?void 0:t.name;return n&&ev.createElement("div",{ref:r?u:void 0,className:ek.cx.wFull.$,key:e},ev.createElement("button",{className:tQ()(nI,{[nk]:r}),onClick:t=>{t.preventDefault(),g(e)}},n))}));return n?ev.createElement("div",{className:nC},!l&&E,ev.createElement(ax.TK,{className:nA})):ev.createElement("div",{className:nC},!l&&E,p)}function n$({items:e}){let t=e.map(e=>ev.createElement(nz,{component:e,key:(0,nM.bk)(e)}));return ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentTileGroup--tCcv3"},t)}function nz({component:e}){return ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentTile--WaCas","data-tooltip-type":aN.fR.TEXT,"data-tooltip":e.name},ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentThumbnailWrapper--ml0xl"},ev.createElement(nU.W,{className:"library_detail_page_viewer--libraryViewerComponentThumbnail--JyBXn",src:e.thumbnail_url,draggable:!1})))}function nK({foldersAndStylesByType:e,isLoading:t,numSearchResultsText:a}){if(t)return ev.createElement("div",{className:nR},ev.createElement(ax.TK,{className:nA}));let r=[];for(let t of e.values())for(let[e,a]of t){if(0===a.length)continue;let t=e.styles.join("-");r.push(ev.createElement(nZ,{folder:e,styleList:a,key:t})),r.push(ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionDivider--kdu6h",key:t.concat("-divider")}))}return r.pop(),ev.createElement("div",{className:nR},a,r)}function nZ({folder:e,styleList:t}){return ev.createElement(ev.Fragment,null,e.name&&ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionHeader--yEtSN text--fontPos13--xW8hS text--_fontBase--QdLsd"},null==e?void 0:e.name),ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesList--vITQn"},t.map(e=>ev.createElement("div",{key:e.key,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":e.name},ev.createElement(nW.qG,{dsStyle:e,size:nW.UG.Large,disableTooltip:!0})))))}function nq({selectedTabType:e,setSelectedTabType:t,query:a,setSearchQuery:r}){return ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerHeader--NXhqE"},ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerTabsContainer--nb66T"},ev.createElement(nQ,{tab:r8.h1.COMPONENTS,selectedTab:e,onClick:()=>{t(r8.h1.COMPONENTS)}},(0,eq.t)("community.detail_view.library_viewer.components_tab")),ev.createElement(nQ,{tab:r8.h1.STYLES,selectedTab:e,onClick:()=>{t(r8.h1.STYLES)}},(0,eq.t)("community.detail_view.library_viewer.styles_tab"))),ev.createElement(nY,{query:a,setSearchQuery:r}))}function nY({query:e,setSearchQuery:t}){let a=ev.useRef(null),r=ev.useCallback(e=>{t(e)},[t]),n=ev.useCallback(()=>{r("")},[r]);return ev.createElement(nN.E1,{ref:a,className:"library_detail_page_viewer--libraryViewerSearchBar--G1BI5",focusOnMount:!1,query:e,placeholder:(0,eq.t)("community.detail_view.library_viewer.search_placeholder"),clearSearch:n,onChange:r,hideXIcon:!0})}function nJ({query:e,libraryId:t,selectedTabType:a}){let r=(0,re.X)(al.l1),n=a===r8.h1.COMPONENTS,i=n?[nB.h3.COMPONENT,nB.h3.STATE_GROUP]:[nB.h3.STYLE],[l]=(0,ez.aM)((0,nP.wH)({query:e,libraryId:t,assetTypes:i})),{foldersAndStylesByType:s,itemsByFrameId:o,topLevelComponents:c,frameIds:d,hasSearchResults:m,numSearchResults:u}=ev.useMemo(()=>{let e={},t=[],a=[],r=new Map;if(n){let r=nX(l.data);e=r.itemsByFrameId,t=r.topLevelComponents,a=r.frameIds}else r=n0(l.data);let i=l.data&&l.data.length>0,s=l.data?l.data.length:0;return{foldersAndStylesByType:r,itemsByFrameId:e,topLevelComponents:t,frameIds:a,hasSearchResults:i,numSearchResults:s}},[l,n]);if("loaded"===l.status&&!m)return ev.createElement("div",{className:n?nC:nR},n&&!r&&ev.createElement("div",{className:nS},ev.createElement("div",{className:tQ()(ek.cx.wFull.$,nI,nk)},ev.createElement(eq.Tx,{id:"community.detail_view.library_viewer.search_no_results"}))),ev.createElement("div",{className:"library_detail_page_viewer--libraryViewerEmptyState--dPR2o"},ev.createElement(nD,null),ev.createElement("div",{className:ek.cx.flexRow.$},ev.createElement(eq.Tx,{id:"search.empty_state.no_results_matching",searchQuery:ev.createElement("span",{className:ek.cx.fontBold.$},e)}))));let _=ev.createElement("div",{className:n?ek.cx.flexRow.mb8.$:ek.cx.flexRow.mb16.$},ev.createElement(eq.Tx,{id:"community.detail_view.library_viewer.search_results_num",numResults:u,query:ev.createElement("span",{className:ek.cx.fontBold.$},e)}));return n?ev.createElement(nH,{frameIds:d,itemsByFrameId:o,topLevelComponents:c,isLoading:"loading"===l.status,numSearchResultsText:_}):ev.createElement(nK,{foldersAndStylesByType:s,isLoading:"loading"===l.status,numSearchResultsText:_})}class nQ extends nG.O{constructor(){super(...arguments),this.styleOverrides=()=>({base:"library_detail_page_viewer--libraryViewerTab--Mt9n3 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",selected:"library_detail_page_viewer--libraryViewerTabSelected--huJ28",unselected:"library_detail_page_viewer--libraryViewerTabUnselected--ii259"}),this.applyDefaultStyles=()=>!1}}function nX(e){var t;let a={},r=[],n=[];if(e&&e.length>0){for(let n of e){let e=n.containing_frame;e&&e.nodeId&&e.nodeId!==n.node_id?(a[t=e.nodeId]??(a[t]=[]),a[e.nodeId].push(n)):r.push(n)}n=Object.keys(a),(0,nx.po)(n,e=>{var t;return null==(t=a[e][0].containing_frame)?void 0:t.name}),(0,nx.aV)(r,"name"),n.map(e=>{let t=a[e];(0,nx.aV)(t,"name")})}return{itemsByFrameId:a,topLevelComponents:r,frameIds:n}}function n0(e){if(!e||0===e.length)return new Map;let t=(0,nM.Fz)(e),a=new Map;return nM.fY.map(e=>{let r=t.get(e);if(r){(0,nM.rq)(r);let t=(0,nV.BA)(r,e),n=new Map;for(let e of(n.set(t,t.styles),t.subfolders))n.set(e,(0,nV.mb)(e));a.set(e,n)}}),a}var n1=a(220518),n2=a(925960),n3=a(369874),n4=a(804160),n8=a(339531),n5=a(296237),n9=a(517506),n6=a(519781),n7=a(44667),ie=a(299482),it=a(291904),ia=a(512010),ir=a(505468);let ii=a(174341),il={listStyleType:"disc",marginLeft:"1.5em"};function is({securityFormResponse:e,isWidget:t}){return e.status===ao.Ri.PENDING?ev.createElement(n7.X,{variant:"brand",orientation:"horizontal",iconSrc:ii,dataTestId:"pending-response-banner"},ev.createElement("div",{className:ek.cx.preWrap.overflowBreakWord.$},(0,eq.t)("community.detail_view.data_security_modal_pending",{date:e.updatedAt}))):e.status===ao.Ri.APPROVED?ev.createElement("div",{className:ek.cx.gap4.flex.$},t?ev.createElement(eq.Tx,{id:"community.detail_view.data_security_modal_badge_info_widget"}):ev.createElement(eq.Tx,{id:"community.detail_view.data_security_modal_badge_info_plugin"})):e.status===ao.Ri.REJECTED?ev.createElement(n7.X,{variant:"warning",orientation:"horizontal",iconSrc:ii,dataTestId:"rejected-response-banner"},ev.createElement("div",{className:ek.cx.preWrap.overflowBreakWord.$},(0,eq.t)("community.detail_view.data_security_modal_rejected",{date:e.updatedAt}))):null}let io=(0,it.Y3)(function({securityFormResponse:e,isWidget:t}){let a=(0,eb.I0)(),r=ev.createElement(eA.Z6,{href:"https://help.figma.com/hc/articles/16354660649495",target:"_blank",trusted:!0},ev.createElement(eq.Tx,{id:"community.detail_view.data_security_modal_assessment_link"})),n=t?ev.createElement(eq.Tx,{id:"community.detail_view.data_security_modal_explanation_widget",assessmentProgramLink:r}):ev.createElement(eq.Tx,{id:"community.detail_view.data_security_modal_explanation_plugin",assessmentProgramLink:r});return ev.createElement(ir.u_,{size:600,title:(0,eq.t)("community.detail_view.data_security"),dispatch:a},ev.createElement(n6.ol,{dispatch:a}),ev.createElement("div",{"data-testid":"program-explanation"},n),ev.createElement("div",{className:ek.cx.mt16.$},ev.createElement(is,{securityFormResponse:e,isWidget:t})),ev.createElement("div",{className:ek.cx.pt24.$},ev.createElement(ic,{securityFormResponse:e})))},"DATA_SECURITY_MODAL");function ic({securityFormResponse:e}){return ev.createElement("div",{className:ek.cx.colorBgSecondary.$},ev.createElement("div",{className:ek.cx.py4.px20.$},e.responses.map((e,t)=>{let a=function(e){if("text"===e.inputType)return[];for(let t of e.options)if(t.isSelected&&t.subQuestions)return t.subQuestions??[];return[]}(e);return ev.createElement("div",{className:ek.cx.mb24.$,key:`q-${t}`},ev.createElement("div",{className:"data_security_modal--gridContainer--4yiTg"},e.prompt&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.fontSemiBold.$},(0,ia.f)(id(e.prompt))," "),ev.createElement("div",{className:ek.cx.$},ev.createElement(ip,{question:e}))),(null==a?void 0:a.length)>0&&a.map((e,t)=>ev.createElement(ev.Fragment,{key:t},e.prompt?ev.createElement("ul",{style:ie.sx.add({listStyle:"disc",verticalAlign:"baseline"}).$},ev.createElement("li",{className:ek.cx.fontSemiBold.ml16.$},(0,ia.f)(function(e){let t=e.indexOf("For example,");return -1!==t?e.substring(0,t):e}(id(e.prompt??""))))):ev.createElement("div",{key:t}),ev.createElement(ip,{question:e})))))})))}function id(e){let t=/^\d+\./;return t.test(e)?e.replace(t,""):e}function im(e){let{value:t}=e;return ev.createElement("div",{className:ek.cx.flex.flexColumn.gap8.$},ev.createElement("ul",{className:ek.cx.italic.$},`"${t}"`))}function iu(e){let{options:t}=e;return ev.createElement("div",{className:ek.cx.flex.flexColumn.gap16.$},ev.createElement(ev.Fragment,null,t.map((e,t)=>e.isSelected?ev.createElement("div",{className:ek.cx.flex.flexColumn.$,key:`option-${t}`},ev.createElement("div",null,e.label)):null)))}function i_(e){let{options:t}=e,a=t.filter(e=>e.isSelected);return 0===a.length?null:ev.createElement("div",{className:ek.cx.flex.flexColumn.gap16.$},ev.createElement("ul",null,a.map((e,t)=>ev.createElement("li",{key:`option-${t}`,style:a.length>1?il:void 0},ev.createElement("div",{className:ek.cx.flex.flexColumn.$,key:`option-${t}`},ev.createElement("div",null,e.label))))))}function ip(e){let{question:t}=e;switch(t.inputType){case"single_select":return ev.createElement(iu,{options:t.options});case"multi_select":return ev.createElement(i_,{options:t.options});case"text":return ev.createElement(im,{value:t.value??""});default:(0,eL.vE)(t)}}var ig=a(721127);let iE=a(665229);var ih=((i=ih||{}).COMMUNITY_DETAIL="community_detail",i.ADMIN_REVIEW="admin_review",i.ADMIN_MANAGE="admin_manage",i);function iv({securityFormResponse:e,entryPoint:t,isWidget:a}){let r=(0,eb.I0)();if(!e)return null;let n=function(e,t){let{status:a,updatedAt:r}=e;return a===ao.Ri.REJECTED?"admin_manage"===t?ev.createElement("div",{className:ek.cx.flex.gap4.$},ev.createElement(eq.Tx,{id:"community.badge.extension_security_updated_on",date:r}),ev.createElement(eD.n,{svg:iE,"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":aN._7.EXTENSION_SECURITY_FORM_REJECTED,className:"extension_security_response--infoIcon--miNLG"})):null:a===ao.Ri.APPROVED?ev.createElement(eq.Tx,{id:"community.badge.extension_security_approved"}):a===ao.Ri.PENDING?"admin_manage"===t?ev.createElement(eq.Tx,{id:"community.badge.extension_security_updated_on",date:r}):ev.createElement(eq.Tx,{id:"community.badge.extension_security_pending"}):void(0,eL.vE)(a)}(e,t);if(!n)return null;let i=e.status===ao.Ri.REJECTED?ev.createElement(n9.t,null):ev.createElement(n9._,null);return ev.createElement("div",{className:ek.cx.flex.$,"data-testid":"extension-security-response-status"},ev.createElement("div",{className:ek.cx.flex.itemsStart.pt4.$},i),ev.createElement("button",{className:"community_detail"===t?"extension_security_response--communitySecurityText--8N545 extension_security_response--extensionSecurityText--kCA-d":"extension_security_response--adminSecurityText--xRb4T extension_security_response--extensionSecurityText--kCA-d","data-testid":"extension-trust-security-response-button",onClick:()=>{r((0,ig.K4)({type:io,data:{securityFormResponse:e,isWidget:a}})),(0,eK.L9)("Admin Plugin Review Modal",{entryPoint:t,isWidget:a,status:e.status,extensionId:e.pluginId,action:"Security form response status"})}},n))}var ib=a(236750),iy=a(569522);function iw(){return ev.createElement("div",{className:ek.cx.flex.gap8.itemsCenter.font13.$},ev.createElement(iy.Ik,null),ev.createElement("div",null,(0,eq.t)("community.detail_view.made_for_codegen")))}var iT=((l=iT||{}).FREE_HUB_FILE_LICENSE="https://creativecommons.org/licenses/by/4.0/",l.FREE_PLUGIN_LICENSE="https://www.figma.com/community-resource-license/",l.FREE_RESOURCE_LICENSE="https://www.figma.com/community-free-resource-license/",l.PAID_RESOURCE_LICENSE="https://www.figma.com/community-paid-resource-license/",l.APPLE_RESOURCE_LICENSE="https://developer.apple.com/apple-design-resources-license/",l);function ix({isMonetizedResource:e,isHubFile:t,isAppleResource:a,isFigmaResource:r}){return r?null:ev.createElement("div",{className:"metadata--licensing--0Rs3a"},ev.createElement(eq.Tx,{id:"community.detail_view.licensed_under_license_type",licenseType:ev.createElement(iN,{isMonetizedResource:e,isHubFile:t,isAppleResource:a})}))}function iN({isMonetizedResource:e,isHubFile:t,isAppleResource:a}){let r={"https://creativecommons.org/licenses/by/4.0/":"CC BY 4.0","https://www.figma.com/community-resource-license/":(0,eq.t)("community.detail_view.plugin_license"),"https://www.figma.com/community-free-resource-license/":(0,eq.t)("community.detail_view.free_plugin_license"),"https://www.figma.com/community-paid-resource-license/":(0,eq.t)("community.detail_view.paid_resource_license"),"https://developer.apple.com/apple-design-resources-license/":(0,eq.t)("community.detail_view.apple_resource_license")},n="https://www.figma.com/community-resource-license/";return n=a?"https://developer.apple.com/apple-design-resources-license/":e?"https://www.figma.com/community-paid-resource-license/":t?"https://creativecommons.org/licenses/by/4.0/":"https://www.figma.com/community-free-resource-license/",ev.createElement(eA.UU,{href:n,trusted:!0},r[n])}let iC=a(331094).K;var iS=a(475179);function ik(e){let t=(0,iS.R3)(e);return t?ev.createElement("div",{className:ek.cx.flex.itemsCenter.gap8.$},ev.createElement(iS.FE,null,t),ev.createElement(eq.Tx,{id:"community.detail_view.made_by_a_figma_partner"})):null}function iI(e){return ev.createElement("div",{className:"resource_page_metadata_badge--badgesContainer--heM3E text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children)}var iL=a(348209),iR=a(661539);function iA(e){let{hubFileEditorType:t,pluginEditorType:a}=e;if(!t&&!a)return null;let r=(0,eq.t)("community.detail_view.made_for_figma_design");if(t||(null==a?void 0:a.length)===1){let e=t||(null==a?void 0:a[0]);r=(()=>{switch(e){case iL.lt.FIGJAM:case iR.IP.FIGJAM:return(0,eq.t)("community.detail_view.made_for_fig_jam");case iR.IP.INSPECT:case iR.IP.DEV:return(0,eq.t)("community.detail_view.made_for_dev_mode");case iL.lt.FIGMA:case iR.IP.FIGMA:default:return(0,eq.t)("community.detail_view.made_for_figma_design")}})()}return(null==a?void 0:a.includes(iR.IP.FIGJAM))&&(null==a?void 0:a.includes(iR.IP.FIGMA))&&(0,n8.l9)(a)?r=(0,eq.t)("community.detail_view.universal"):(null==a?void 0:a.includes(iR.IP.FIGJAM))&&(null==a?void 0:a.includes(iR.IP.FIGMA))?r=(0,eq.t)("community.detail_view.made_for_figma_design_and_figjam"):(null==a?void 0:a.includes(iR.IP.FIGJAM))&&(0,n8.l9)(a)?r=(0,eq.t)("community.detail_view.made_for_fig_jam_and_dev_mode"):(null==a?void 0:a.includes(iR.IP.FIGMA))&&(0,n8.l9)(a)&&(r=(0,eq.t)("community.detail_view.made_for_figma_design_and_dev_mode")),ev.createElement("div",{className:ek.cx.flex.gap8.itemsCenter.font13.$},ev.createElement(iy.Td,{editorType:t??a,is16x16:!0}),ev.createElement("div",null,r))}var iO=a(620370);let iD=a(174341);function iF({monetizedResourceMetadata:e,isFreemium:t,isOffPlatform:a}){if(t&&e){let t=(0,nd.M)(e);return ev.createElement(eq.Tx,{id:"community.detail_view.in_app_purchases",priceString:t})}return a?ev.createElement("div",{className:"metadata--paymentInfoContainer--NiHuJ"},ev.createElement(eq.Tx,{id:"community.detail_view.third_party_badge.off_platform"}),ev.createElement(eD.n,{svg:iD,className:"metadata--infoIcon--LE6OB","data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-show-immediately":!0})):null}function iM(e){let{updatedAt:t,paymentInfo:a,supportContact:r,creatorPolicyData:n,license:i}=e,[l,s]=ev.useState(!1),o=r;return r&&((0,n1.Jh)(r)?o=`mailto:${r}`:r.startsWith("https://")||r.startsWith("http://")||(o=`//${r}`)),ev.createElement(iO.M,null,ev.createElement("div",null,ev.createElement(eq.Tx,{id:"community.detail_view.last_updated_at_time_stamp",timeStamp:ev.createElement(n2.Lt,{date:t})})),r&&ev.createElement("div",{className:"metadata--supportInfo--bQ8pM ellipsis--ellipsis--Tjyfa"},ev.createElement(eq.Tx,{id:"community.detail_view.support_contact",supportContact:ev.createElement("a",{href:o||void 0,className:"metadata--shareLinkText--IDDPA",target:"_blank",rel:"nooppener noreferrer"},r)})),a,i,(0,eT.BZ)().cmty_hub_file_creator_policy&&(null==n?void 0:n.policyText)&&ev.createElement("span",null,ev.createElement("span",{role:"button",onClick:()=>{s(!0)},tabIndex:0,className:"metadata--creatorPolicyButton---0Cls metadata--shareLinkText--IDDPA"},ev.createElement(eq.Tx,{id:"community.detail_view.creator_policy"})),l&&ev.createElement(ib.ge,{title:(0,eq.t)("community.detail_view.creator_policy"),maxWidth:450,onClose:()=>{s(!1)},isCloseHidden:!1,allowScroll:!0,containerClassName:"metadata--creatorPolicyModalContainer--ViWny"},ev.createElement("div",{className:"metadata--creatorPolicyModalContents--IzL0k"},ev.createElement("div",{className:"metadata--creatorPolicyModalCreatorName--uXQp-"},ev.createElement(eq.Tx,{id:"community.detail_view.creator_policy_publisher_name",publisherName:n.publisherName}))))))}function iP({resource:e}){var t;let a=(0,n4.j)(e.id,!0),r=(0,e4._4)(e);return ev.createElement(ev.Fragment,null,!(0,e4.sg)(e)&&a.loaded&&(null==(t=a.data)?void 0:t.status)===ao.Ri.APPROVED&&ev.createElement(iv,{securityFormResponse:a.data,entryPoint:ih.COMMUNITY_DETAIL,isWidget:r}))}function iB({resource:e}){let{madeForBadge:t,version:a,networkAccess:r}=(()=>{if((0,e4.sg)(e))return{madeForBadge:ev.createElement(iA,{hubFileEditorType:(0,ej.rD)(e.viewer_mode)}),version:(0,ej.$o)(e),networkAccess:void 0};let t=(0,ej.$o)(e),a=t.manifest;return{madeForBadge:ev.createElement(iA,{pluginEditorType:a.editorType}),version:t,networkAccess:a.networkAccess}})(),n=(0,e4.vu)(e),i=n&&(0,e4.F4)(e),l=(0,e4.v9)(e),s=e.community_publishers.accepted.reduce((e,t)=>e.concat(t.badges),[]),o=[...new Set(e.badges.concat(s))];return ev.createElement("div",{className:"metadata--metadataContainer--lqQo2 text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"metadata-container"},ev.createElement(iI,null,t,!(0,e4.sg)(e)&&(0,n8.Uo)(a)&&ev.createElement(iw,null),ev.createElement(ik,{badges:o}),ev.createElement(iP,{resource:e}),!(0,e4.sg)(e)&&ev.createElement(n5.X,{networkAccess:r,isWidget:e.is_widget,isLearnMoreLinkVisible:!0})),ev.createElement(iM,{updatedAt:a.created_at,supportContact:e.support_contact,license:ev.createElement(ix,{isMonetizedResource:(0,e4.vu)(e),isHubFile:(0,e4.sg)(e),isAppleResource:(0,n3.p9)(e),isFigmaResource:(0,n3.lt)(e)}),paymentInfo:ev.createElement(iF,{monetizedResourceMetadata:e.monetized_resource_metadata,isFreemium:i,isOffPlatform:l}),creatorPolicyData:{policyText:a.creator_policy??null,publisherName:e.publisher.name}}),(0,nc.j)()?ev.createElement(iC,{resource:e}):null,(0,nc.j)()?ev.createElement(nr.Z7,null):ev.createElement("a",{href:"mailto:content-reviews@figma.com",className:"metadata--flagAsInappropriate--D5SPq"},ev.createElement(eq.Tx,{id:"community.detail_view.report_resource"})))}var iU=a(602799),iV=a(918629),iW=a(110077);let iG="related_content--relatedContentTile--gwfdU",ij="related_content--relatedContentTileTitle--DJQmt text--fontPos13--xW8hS text--_fontBase--QdLsd",iH=(e,t)=>1===e.length&&e[0]===al.Oh.ml_model_v0?(0,eq.t)("community.related_content.more_resources_to_explore"):1===e.length&&e[0]===al.Oh.by_creator?t.accepted.length>1?(0,eq.t)("community.related_content.more_by_these_creators"):(0,eq.t)("community.related_content.more_by_this_creator"):(0,eq.t)("community.related_content.more_like_this");function i$({resource:e,rdpImpressionId:t}){let a=(0,ej.$o)(e),r=e.thumbnail_url,n=!!e.thumbnail_is_set,i=e.viewer_mode===ao.Zs.WHITEBOARD,l=(0,ej.O7)({resource:e});return ev.createElement(eI.Ve,{to:l,className:iG,onClick:()=>iZ(e,t)},ev.createElement("div",{className:n?"related_content--relatedContentTileImageThumbnailIsSet--ceK9X related_content--relatedContentTileImage--0IZ1a":"related_content--relatedContentTileImage--0IZ1a",style:{backgroundColor:(0,iV.Y)(e.client_meta)}},ev.createElement(ad.Pk,{hubFileId:e.id,image:r,isWhiteboard:i,isSet:n,alt:a.name,resizedThumbnailUrls:e.resized_thumbnail_urls}),ev.createElement(iy.Td,{editorType:e.viewer_mode===ao.Zs.WHITEBOARD?iL.lt.FIGJAM:iL.lt.FIGMA})),ev.createElement("div",{className:ij},a.name))}function iz({resource:e,rdpImpressionId:t}){let a=(0,ej.$o)(e),r=a.redirect_icon_url,n=(0,ej.O7)({resource:e});return ev.createElement(eI.Ve,{to:n,className:iG,onClick:()=>iZ(e,t)},ev.createElement("div",{className:"related_content--relatedContentTilePluginContentWrapper--ie8pw"},ev.createElement(iy.Td,{editorType:a.manifest.editorType}),ev.createElement(iW.d,{className:"related_content--relatedContentPluginTileImage--4Jsqh",plugin:a}),ev.createElement("div",{className:"related_content--relatedContentPluginTileImageBlurry--z0-ki related_content--relatedContentPluginTileImage--4Jsqh",style:{backgroundImage:`url(${r})`}})),ev.createElement("div",{className:ij},a.name))}function iK({resource:e,rdpImpressionId:t}){let a=(0,ej.$o)(e),r=a.redirect_snapshot_url,n=(0,ej.O7)({resource:e});return ev.createElement(eI.Ve,{to:n,className:iG,onClick:()=>iZ(e,t)},ev.createElement("div",{className:"related_content--relatedContentWidgetTileImage--rY25h related_content--relatedContentTileImage--0IZ1a"},ev.createElement("img",{src:r,alt:a.name,loading:"lazy"})),ev.createElement("div",{className:ij},a.name))}let iZ=(e,t)=>{var a;(0,eK.L9)("Community Related Content Clicked",{community_resource:(0,ej.yA)(e),community_resource_id:e.id,related_content_type:null==(a=e.related_content)?void 0:a.types.join(","),rdp_impression_id:t})};function iq({resource:e,content:t,types:a,creators:r,rdpImpressionId:n}){ev.useEffect(()=>{(0,eK.L9)("Community Related Content Viewed",{communityResource:(0,ej.yA)(e),communityResourceId:e.id,relatedContentType:a,rdp_impression_id:n,itemsImpressed:t.map(e=>e.id).join(",")})},[t.map(e=>e.id).join(",")]);let i=iH(a,r);return ev.createElement("div",{className:"related_content--relatedContent--TYPp2"},ev.createElement("div",{className:"related_content--relatedContentHeader--gjj-d text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ev.createElement("div",{className:"related_content--relatedContentTitle--uylYw"},i)),ev.createElement("div",{className:"related_content--relatedContentTilesContainer--L8KiC"},t.map(e=>{let t=e.id;return(0,e4.sg)(e)?ev.createElement(i$,{key:t,resource:e,rdpImpressionId:n}):(0,e4.bH)(e)?ev.createElement(iz,{key:t,resource:e,rdpImpressionId:n}):ev.createElement(iK,{key:t,resource:e,rdpImpressionId:n})})))}var iY=a(628505);function iJ({tags:e,resourceType:t,optionalTitle:a,disableHeader:r}){return 0===e.length?ev.createElement(ev.Fragment,null):ev.createElement(ev.Fragment,null,!r&&ev.createElement("h3",{className:nE},a||ev.createElement(eq.Tx,{id:"community.detail_view.tags"})),ev.createElement("div",{className:nh},e.map(e=>{let a=`/community/tag/${e}`;return t!==rQ.x.BrowseResourceTypes.MIXED&&(a+=`/${t}`),ev.createElement(eI.Ve,{key:e,to:a,onClick:()=>{(0,eK.L9)("Tag clicked",{text:e,tab:t})}},ev.createElement("div",{className:nf},e))})))}function iQ({resource:e}){let[t,a]=ev.useState(!1),{versions:r}=e,n=(0,n8.hb)(e);return ev.createElement("div",{className:"version_history--versionHistory--yOsFW text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ev.createElement("div",{className:"version_history--header--jdIyg"},ev.createElement(iW.d,{className:"version_history--icon--pnnmo",plugin:n}),ev.createElement("span",{className:"version_history--title--1a95q text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"community.plugins.version_history"}))),ev.createElement("div",null,Object.keys(r).map(parseFloat).sort((e,t)=>e>t?-1:1).map(e=>r[e]).filter(e=>!!e).map(e=>{let t=!e.release_notes,a=new Date(e.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"});return ev.createElement("div",{className:t?"version_history--releaseSectionEmpty--t8k4f":"version_history--releaseSection--mOmlB",key:e.id},ev.createElement("span",{className:"version_history--versionName--PC5Ws"},ev.createElement(eq.Tx,{id:"community.plugins.version_version_on_date",createdAt:a,versionName:e.version})),ev.createElement("span",{className:"version_history--versionDescription--bzh-V"},e.release_notes))}).slice(0,t?1/0:2),!t&&Object.keys(r).length>2&&ev.createElement("div",{className:"version_history--showAll--b8ClA",onClick:()=>a(!0),role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.plugins.see_all"}))))}var iX=a(411215);function i0({resource:e,rdpImpressionId:t}){return e.related_content&&0!==e.related_content.content.length?ev.createElement(ev.Fragment,null,ev.createElement(iq,{resource:e,content:e.related_content.content,types:e.related_content.types,creators:e.community_publishers,rdpImpressionId:t}),ev.createElement("hr",null)):null}function i1({resource:e,rdpImpressionId:t}){let a=(0,ej.$o)(e),r=(0,e4.sg)(e)&&e.viewer_mode===ao.Zs.WHITEBOARD&&(0,e4.vu)(e),n=(0,eC.it)("resource_refresh_embed_placement"),i=(0,e4.sg)(e)&&!r&&(0,nm.$7)(n.getConfig),{externalCommentScrollRef:l}=ev.useContext(r5.Y),s=(0,ej.nD)(e)&&(0,nu.RM)();return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:iX.hk,ref:l},ev.createElement(rr,{description:a.description}),!i&&s&&ev.createElement(nj,{libraryId:e.id}),i&&ev.createElement(ev.Fragment,null,ev.createElement("h3",{className:ek.cx.font14.fontSemiBold.mb16.$},(0,eq.t)("community.embed.preview_title")),ev.createElement(ah,{enableEmbedOnSmallScreens:!0,resource:e}),ev.createElement("hr",{className:ek.cx.my24.$})),ev.createElement(i0,{resource:e,rdpImpressionId:t}),(0,ej.yA)(e)===e4._g.PLUGIN&&ev.createElement(iQ,{resource:e}),ev.createElement(r6,{resource:e})),ev.createElement("div",{className:iX.PZ},ev.createElement(nb,{resource:e}),ev.createElement(iJ,{tags:e.tags||[],resourceType:(0,ej.Up)(e)+"s"}),ev.createElement(iY.O,{resource:e}),ev.createElement(iB,{resource:e})))}function i2(e,t){if(e.preventDefault(),t===r8.OX.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let a=document.getElementById(t);if(a){let e=r8.yd,t=a.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}}function i3(e){let t=(0,e4.sg)(e)&&e.viewer_mode===ao.Zs.WHITEBOARD&&(0,e4.vu)(e),a=(0,ej.JP)(e)!==aa.Pk.EMBED;return(0,e4.sg)(e)&&!t&&a&&!0}function i4({resource:e,rdpImpressionId:t}){let[a,r]=(0,r9.KO)(np.I),n=(0,ej.$o)(e),i=i3(e),{externalCommentScrollRef:l}=ev.useContext(r5.Y),s=(0,r4.So)();return ev.useEffect(()=>{let e=()=>{let e=document.getElementById(r8.OX.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,ej.ah)(t,window.innerHeight,window.scrollY)?r(r8.OX.CommentsView):r(r8.OX.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]),ev.createElement(ev.Fragment,null,ev.createElement(nn,{resource:e,containerClassName:iX.NH}),ev.createElement(nl,{resource:e,containerClassName:iX.NH}),ev.createElement("div",{className:iX._n},ev.createElement("button",{onClick:e=>i2(e,r8.OX.DescriptionView)},ev.createElement("div",{className:tQ()(iX.Eh,{[iX.ZU]:a===r8.OX.DescriptionView})},(0,eq.t)("community.resource_page.about"))),(0,nt.ku)(e)&&ev.createElement("button",{onClick:e=>i2(e,r8.OX.CommentsView)},ev.createElement("div",{className:tQ()(iX.Eh,{[iX.ZU]:a===r8.OX.CommentsView})},ev.createElement(eq.Tx,{id:s?"community.resource_page.comments_and_reviews":"community.resource_page.comments",numComments:ev.createElement("span",{className:tQ()(iX.LZ,{[iX.Pb]:a===r8.OX.CommentsView})},e.comment_count)})))),ev.createElement("div",{className:iX.G5},ev.createElement("div",{className:iX.CP})),ev.createElement("div",{className:iX.NH},ev.createElement("div",{className:iX.hk,ref:l,id:r8.OX.DescriptionView},n.description&&ev.createElement(rr,{description:n.description,hideDivider:!0}),i&&ev.createElement(ev.Fragment,null,ev.createElement("h3",{className:ek.cx.font14.fontSemiBold.mb16.$},(0,eq.t)("community.embed.preview_title")),ev.createElement(ah,{enableEmbedOnSmallScreens:!0,resource:e}),ev.createElement("hr",{className:ek.cx.my24.$})),ev.createElement(i0,{resource:e,rdpImpressionId:t}),(0,ej.yA)(e)===e4._g.PLUGIN&&ev.createElement(iQ,{resource:e}),ev.createElement("div",{id:r8.OX.CommentsView},ev.createElement(r6,{resource:e}))),ev.createElement("div",{className:iX.PZ},ev.createElement(nb,{resource:e}),ev.createElement(nv,{parentCategorySlug:e.parent_category_slug,childCategorySlug:e.category_slug,rdpImpressionId:t}),ev.createElement(iJ,{tags:e.tags||[],resourceType:(0,ej.Up)(e)+"s"}),ev.createElement(iY.O,{resource:e}),ev.createElement(iB,{resource:e}))))}function i8({resource:e,rdpImpressionId:t}){let[a,r]=(0,r9.KO)(np.I),n=(0,ej.yA)(e),i=i3(e),l=(0,ej.$o)(e),s=(0,r4.So)();return ev.useEffect(()=>{let e=()=>{let e=document.getElementById(r8.OX.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,ej.ah)(t,window.innerHeight,window.scrollY)&&r(r8.OX.CommentsView)}else r(r8.OX.DescriptionView)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]),ev.createElement(ev.Fragment,null,ev.createElement(nn,{resource:e,containerClassName:iX.NH}),ev.createElement(nl,{resource:e,containerClassName:iX.NH}),ev.createElement("div",{className:iX._n},ev.createElement("button",{onClick:e=>i2(e,r8.OX.DescriptionView)},ev.createElement("div",{className:tQ()(iX.Eh,{[iX.ZU]:a===r8.OX.DescriptionView})},(0,eq.t)("community.resource_page.about"))),(0,nt.ku)(e)&&ev.createElement("button",{onClick:e=>i2(e,r8.OX.CommentsView)},ev.createElement("div",{className:tQ()(iX.Eh,{[iX.ZU]:a===r8.OX.CommentsView})},ev.createElement(eq.Tx,{id:s?"community.resource_page.comments_and_reviews":"community.resource_page.comments",numComments:ev.createElement("span",{className:tQ()(iX.LZ,{[iX.Pb]:a===r8.OX.CommentsView})},e.comment_count)})))),ev.createElement("div",{className:iX.G5},ev.createElement("div",{className:iX.CP})),ev.createElement("div",{className:iX.NH},ev.createElement("div",{className:iX.jj,"data-mobile-view":!0,id:r8.OX.DescriptionView},l.description&&ev.createElement(rr,{description:l.description}),i&&ev.createElement(ev.Fragment,null,ev.createElement("h3",{className:ek.cx.font14.fontSemiBold.mb16.$},(0,eq.t)("community.embed.preview_title")),ev.createElement(ah,{enableEmbedOnSmallScreens:!0,resource:e}),ev.createElement("hr",{className:ek.cx.my24.$})),ev.createElement(nb,{resource:e}),ev.createElement("div",{className:ek.cx.mb32.$},ev.createElement(nv,{parentCategorySlug:e.parent_category_slug,childCategorySlug:e.category_slug,rdpImpressionId:t})),e.tags&&e.tags.length>0&&ev.createElement(ev.Fragment,null,ev.createElement(iJ,{tags:e.tags,resourceType:(0,ej.DX)(e,{plural:!0})}),ev.createElement("hr",null)),ev.createElement(i0,{resource:e,rdpImpressionId:t}),n===e4._g.PLUGIN&&ev.createElement(iQ,{resource:e}),ev.createElement("div",{id:r8.OX.CommentsView},ev.createElement(r6,{resource:e})),ev.createElement(iY.O,{resource:e}),ev.createElement(iB,{resource:e}))))}function i5({resource:e}){if(!(0,eT.BZ)().cmty_likes)return null;if(!(0,nc.j)())return ev.createElement(ny.j,null);{let t=(0,e4.sg)(e)?r2.V4.COMMUNITY_HUB_FILE:(0,e4._4)(e)?r2.V4.COMMUNITY_HUB_WIDGET:r2.V4.COMMUNITY_HUB_PLUGIN;return ev.createElement(n_.S,{resource:e,viewContext:t})}}function i9({resource:e,rdpImpressionId:t}){let a=(0,ej.yA)(e),r=(0,ej.$o)(e),n=(0,ns.i)(e),i=(0,nd._c)(e,n)?ev.createElement(iU.i,{resource:e}):(0,ej.bg)(e)?ev.createElement(no.c,{hubFile:e}):null,{externalCommentScrollRef:l}=ev.useContext(r5.Y),s=ev.useMemo(()=>({...e,saved_at:null}),[e]),o=(0,nc.j)()?"mobile_logged_in":"mobile_logged_out",c=(0,e4.bH)(e)||(0,e4._4)(e)?ev.createElement(ev.Fragment,null,ev.createElement(i5,{resource:e}),ev.createElement(nw.Pm,{resource:s,viewContext:o})):ev.createElement(ev.Fragment,null,ev.createElement(i5,{resource:e}),ev.createElement(nw.k$,{resource:s,viewContext:o}),i);return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:iX.jj,"data-mobile-view":!0,ref:l},ev.createElement(rr,{description:r.description}),ev.createElement(ai.ZP,{showIf:e=>e<al.l1},ev.createElement("div",{className:iX._Z},c)),ev.createElement("hr",null),ev.createElement(nl,{resource:e}),ev.createElement(nb,{resource:e}),ev.createElement("div",{className:ek.cx.mb32.$},ev.createElement(nv,{parentCategorySlug:e.parent_category_slug,childCategorySlug:e.category_slug,rdpImpressionId:t})),e.tags&&e.tags.length>0&&ev.createElement(ev.Fragment,null,ev.createElement(iJ,{tags:e.tags,resourceType:(0,ej.DX)(e,{plural:!0})}),ev.createElement("hr",null)),ev.createElement(i0,{resource:e,rdpImpressionId:t}),a===e4._g.PLUGIN&&ev.createElement(iQ,{resource:e}),ev.createElement(r6,{resource:e}),ev.createElement(iY.O,{resource:e}),ev.createElement(iB,{resource:e})))}function i6({resource:e,rdpImpressionId:t}){let a=(0,re.X)(al.l1),r=(0,r4.bW)(e),n=r?ev.createElement(i4,{resource:e,rdpImpressionId:t}):ev.createElement(i1,{resource:e,rdpImpressionId:t}),i=r?ev.createElement(i8,{resource:e,rdpImpressionId:t}):ev.createElement(i9,{resource:e,rdpImpressionId:t});return ev.createElement(ev.Fragment,null,a&&ev.createElement(t5.Zy,{resource:e}),ev.createElement("div",{className:!a&&r?"":iX.Vn},ev.createElement(ai.ZP,{showIf:e=>e<al.l1},ev.createElement(i9,{resource:e,rdpImpressionId:t})),ev.createElement(ai.ZP,{showIf:e=>e<al.a4&&e>=al.l1},i),ev.createElement(ai.ZP,{showIf:e=>e>=al.a4},n)))}let i7=async(e,t)=>{let a=r8.t[e];return await fetch(`/api/${a}/${t}/versions`).then(e=>e.json())},le={file:{},plugin:{},widget:{}},lt=async(e,t)=>{if(le[e][t])return le[e][t];let{meta:a}=await i7(e,t),r=r8.t[e],n=[rQ.x.BrowseResourceTypes.PLUGINS,rQ.x.BrowseResourceTypes.WIDGETS].indexOf(r)>-1?a.plugin:a;return le[e][n.id]=n,n};function la({resource:e,rdpImpressionId:t}){return ev.createElement(ev.Fragment,null,ev.createElement(rJ,{resource:e}),ev.createElement(aQ,{resource:e}),ev.createElement(i6,{resource:e,rdpImpressionId:t}))}function lr({resource:e,rdpImpressionId:t}){return ev.createElement(ev.Fragment,null,ev.createElement(t5.Zy,{resource:e}),ev.createElement(ah,{key:e.id,resource:e}),ev.createElement(i6,{resource:e,rdpImpressionId:t}))}function ln({resource:e,rdpImpressionId:t}){let a=(0,r4.bW)(e);return a?ev.createElement(la,{resource:e,rdpImpressionId:t}):ev.createElement(lr,{resource:e,rdpImpressionId:t})}function li({resource:e,rdpImpressionId:t}){return ev.createElement(ev.Fragment,null,ev.createElement(ah,{key:e.id,resource:e}),ev.createElement(i6,{resource:e,rdpImpressionId:t}))}function ll(){let[{apiResourceType:e,resourceId:t},a]=ev.useState({apiResourceType:(0,ej.Wv)()[0],resourceId:(0,ej.Wv)()[1]}),[r,n]=ev.useState(null);ev.useEffect(()=>ej.OG.listen(()=>{let[e,t]=(0,ej.Wv)();-1!==ej.q9.indexOf(e)&&(a(a=>a.apiResourceType===e&&a.resourceId===t?(document.body.removeAttribute("data-hide"),a):(document.body.setAttribute("data-hide","true"),{apiResourceType:e,resourceId:t})),setTimeout(()=>window.scrollTo(0,0),100))}),[]),ev.useEffect(()=>{if(!e||!t||!le[e]){ej.OG.replace(location.pathname+location.search);return}lt(e,t).then(t=>{e===e4.Xh.WIDGET?t=(0,r3.db)(t):e===e4.Xh.PLUGIN&&(t=(0,r3.db)(t)),n(t),document.title=(0,ej.$o)(t).name+"\xa0| Figma Community",document.body.removeAttribute("data-hide")})},[e,t]);let i=ev.useRef(null),l=ev.useCallback(()=>{i.current&&i.current.scrollIntoView({behavior:"smooth"})},[i]),s=(0,eb.I0)();if(ev.useEffect(()=>{r&&s((0,e4.sg)(r)?(0,rX.CU)({hubFileId:r.id}):r1({pluginId:r.id,isWidget:(0,e4._4)(r)}))},[s,r]),!r)return ev.createElement(ev.Fragment,null);let o=function(e){let t=(0,e4.vu)(e);return(0,e4.sg)(e)?{name:r2.V4.COMMUNITY_HUB_FILE,properties:{hubFileId:e.id,isMonetized:t}}:(0,e4._4)(e)?{name:r2.V4.COMMUNITY_HUB_WIDGET,properties:{widgetId:e.id,isMonetized:t}}:{name:r2.V4.COMMUNITY_HUB_PLUGIN,properties:{pluginId:e.id,isMonetized:t}}}(r),c=(0,rY.k)();return ev.createElement("div",{className:"resource_page--resourcePage--n6Aio text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ev.createElement(e3.Ui,{name:o.name,properties:o.properties},ev.createElement(r5.Y.Provider,{value:{onScrollToRatings:l,externalCommentScrollRef:i}},ev.createElement(ai.ZP,{showIf:e=>e>=al.yj},ev.createElement(ln,{resource:r,rdpImpressionId:c})),ev.createElement(ai.ZP,{showIf:e=>e<al.yj&&e>=al.l1},ev.createElement(ln,{resource:r,rdpImpressionId:c})),ev.createElement(ai.ZP,{showIf:e=>e<al.l1},ev.createElement(li,{resource:r,rdpImpressionId:c})))))}function ls(e){return ev.useEffect(()=>{e$.nT.initialRenderDurationMs=Math.round(window.performance.now()-e$.nT.domContentLoadedMs),e$.nT.isFastma=ej.yu,e$.nT.timeToLoadMs=Math.round(performance.now()),e$.nT.report(),(0,eH.EB)({name:"Community Hub"})},[]),ev.useEffect(()=>{e.loggedOut||ej.OG.replace(location.pathname+(location.search||""))},[e.loggedOut]),ev.createElement(eb.zt,{store:e.store},ev.createElement("div",{"data-testid":"community-app",className:"community_app--communityApp--kXC00"},ev.createElement(eR.F0,{history:ej.OG},ev.createElement(e.Navbar,null),ev.createElement(eR.rs,null,ev.createElement(eR.AW,{path:"/community/generate_promo_codes"},ev.createElement(rK,null)),(0,eT.BZ)().cmty_collections_v2&&ev.createElement(eR.AW,{path:"/community/templates/:urlSlug"},ev.createElement(rN,null)),ev.createElement(eR.AW,{path:"/community/collections/:urlSlug"},(0,eT.BZ)().cmty_collections_v2?ev.createElement(rN,null):ev.createElement(ty,null)),ev.createElement(eR.AW,{path:"/community/collections/"},ev.createElement(tw,null)),ev.createElement(eR.AW,{path:"/community/file/*"},ev.createElement(ll,null)),ev.createElement(eR.AW,{path:"/community/plugin/*"},ev.createElement(ll,null)),ev.createElement(eR.AW,{path:"/community/widget/*"},ev.createElement(ll,null)),ev.createElement(eR.AW,{path:"/community*"},ev.createElement(e.FeedView,null))),ev.createElement(eG,null),!1,ev.createElement(rZ.ZP,null))))}e$.nT.domContentLoadedMs=Math.round(window.performance.now());var lo=a(306973),lc=a(151163),ld=a(768358),lm=a(290686),lu=a(406271),l_=a(404231);let lp={files:a(558813),plugins:a(90350),widgets:a(857518),profiles:a(308714),mixed:a(207569)};function lg(e){if(e.isError)return null;let t=ev.createElement("span",{className:"empty_search_state--bold--s4eFD"},e.query);switch(e.resourceType){case rQ.x.SearchResourceTypes.FILES:if(e.view.price===l_.L.FREE)return ev.createElement(eq.Tx,{id:"community.search.empty_state_hub_files_free",query:t});if(e.view.price===l_.L.PAID)return ev.createElement(eq.Tx,{id:"community.search.empty_state_hub_files_paid",query:t});return ev.createElement(eq.Tx,{id:"community.search.empty_state_hub_files",query:t});case rQ.x.SearchResourceTypes.PLUGINS:if(e.view.price===l_.L.FREE)return ev.createElement(eq.Tx,{id:"community.search.empty_state_public_plugins_free",query:t});if(e.view.price===l_.L.PAID)return ev.createElement(eq.Tx,{id:"community.search.empty_state_public_plugins_paid",query:t});return ev.createElement(eq.Tx,{id:"community.search.empty_state_public_plugins",query:t});case rQ.x.SearchResourceTypes.WIDGETS:if(e.view.price===l_.L.FREE)return ev.createElement(eq.Tx,{id:"community.search.empty_state_public_widgets_free",query:t});if(e.view.price===l_.L.PAID)return ev.createElement(eq.Tx,{id:"community.search.empty_state_public_widgets_paid",query:t});return ev.createElement(eq.Tx,{id:"community.search.empty_state_public_widgets",query:t});case rQ.x.SearchResourceTypes.PROFILES:return ev.createElement(eq.Tx,{id:"community.search.empty_state_creators",query:t});case rQ.x.SearchResourceTypes.MIXED:default:if(e.view.price===l_.L.FREE)return ev.createElement(eq.Tx,{id:"community.search.no_resources_matching_free",query:t});if(e.view.price===l_.L.PAID)return ev.createElement(eq.Tx,{id:"community.search.no_resources_matching_paid",query:t});return ev.createElement(eq.Tx,{id:"community.search.no_resources_matching",query:t})}}function lE(e){return ev.createElement("div",{className:"empty_search_state--emptyState--2TAUS search_results_view--emptyState--nKgFF tiles_view--emptyState--uQFY5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(eD.n,{className:"empty_search_state--emptyStateIllustrations--BnydB search_results_view--emptyStateIllustrations--lO7cp",svg:lp[e.resourceType],useOriginalSrcFills_DEPRECATED:!0}),ev.createElement("div",{className:"empty_search_state--emptyStateTextWrapper--n2j3d search_results_view--emptyStateTextWrapper--cDRSr"},ev.createElement("div",{className:"empty_search_state--emptyStateText--Bv9hN search_results_view--emptyStateText--Wonq4 ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(lg,{...e}))))}var lh=a(271748);function lf({category:e,tagsFromResources:t,resourceType:a}){let[r,n]=ev.useState([]),i=function(){let e=ng(!0);return ev.useMemo(()=>{let t=new Set;return e.forEach(e=>{let{category:a,dropdownCategories:r}=e;t.add(a.urlSlug),r.forEach(e=>{t.add(e.urlSlug)})}),t},[e])}(),l=!!(e&&!i.has(e));ev.useEffect(()=>{e&&l&&lh.j.getBySlug({slug:e}).then(e=>{var t,a;return n((null==(a=null==(t=e.data)?void 0:t.meta)?void 0:a.tags)??[])}).catch(()=>n([]))},[e,l]);let s=l?r:t;return s.length>0?ev.createElement("div",null,ev.createElement("hr",null),ev.createElement(iJ,{tags:s.slice(0,10),resourceType:a,optionalTitle:(0,eq.t)("community.right_bar.related_tags")})):ev.createElement(ev.Fragment,null)}var lv=a(559341),lb=a(9247),ly=a(810373);let lw=(0,r9.cn)({}),lT=(0,r9.cn)({idx:-1}),lx=(0,r9.cn)({}),lN=(0,r9.cn)({idx:-1}),lC=e=>"model"in e;var lS=a(367720);function lk(e){let t=e===lS.OT.LANDING?lx:lw,a=e===lS.OT.LANDING?lN:lT,[r,n]=(0,r9.KO)(t),[i,l]=(0,r9.KO)(a),s=ev.useMemo(()=>["files","plugins","widgets","creators"].reduce((e,t)=>{let a=((null==r?void 0:r[t])??[]).map((e,a)=>({type:t,idx:a})).slice(0,4);return e.concat(a)},[]),[r]),o=ev.useMemo(()=>s.findIndex(e=>e.type===(null==i?void 0:i.type)&&e.idx===(null==i?void 0:i.idx)),[s,i]);return{renderedOrder:s,renderedSelectedIdx:o,resources:r,setResources:n,selectedIdx:i,setSelectedIdx:l}}var lI=a(455322),lL=a(955687),lR=a(70918),lA=a(395566),lO=a(143506),lD=a(838691);let lF=e=>"files"===e?ej.Mf.FILE:"widgets"===e?ej.Mf.WIDGET:ej.Mf.PLUGIN;var lM=a(435437),lP=a(740280),lB=a(485773),lU=a(97032);let lV="search_dropdown--resourceRow--P-Lig",lW="search_dropdown--meta--a-aV4",lG="search_dropdown--pluginOrWidgetTilePreview--Rfef1",lj="search_dropdown--section--VJbkB",lH="search_dropdown--sectionTitle--x7FyO",l$="search_dropdown--title--eiIIy",lz="search_dropdown--authorRow--Uk00Y",lK="search_dropdown--authorRowText--vsAii",lZ="search_dropdown--authorRowAvatar--jFZyx",lq="search_dropdown--resourceRowExtension--v4dY8 search_dropdown--resourceRow--P-Lig",lY="search_dropdown--hover--stEGe";function lJ({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){return e&&0!==e.length?ev.createElement("div",{className:lj},ev.createElement("div",{className:lH},ev.createElement(eq.Tx,{id:"community.view_bar.creators"})),ev.createElement(lQ,{profiles:e.map(e=>e.model),onResourceClick:t,onResourceHover:a,selectedIdx:r})):null}function lQ({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){return ev.createElement("div",{className:"search_dropdown--resourceRowProfiles--bz2ck"},e.map((e,n)=>ev.createElement("div",{onMouseEnter:()=>a(n),key:e.id,className:tQ()({[lY]:r===n})},ev.createElement(lX,{profile:e,onResourceClick:t}))))}function lX({profile:e,onResourceClick:t}){return ev.createElement("div",{className:"search_dropdown--profile--HRd2s",key:e.id},ev.createElement(eI.Ve,{to:`/@${e.profile_handle}`,className:"search_dropdown--resourceRowProfile--HScpw",onClick:()=>{document.activeElement.blur(),t()}},ev.createElement(lB.q,{adtlClassName:"search_dropdown--profileRowAvatar--TOSBT",entity:e,size:40}),ev.createElement("div",{className:"search_dropdown--profileRowName--oRTAf ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},e.name),ev.createElement("div",{className:"search_dropdown--profileRowProfileHandle--DuEYR ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},"@",e.profile_handle)))}function l0({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,eb.v9)(e=>e.authedActiveCommunityProfile),i=(0,e2.X)(!0);return e&&0!==e.length?ev.createElement("div",{className:lj},ev.createElement("div",{className:lH},ev.createElement(eq.Tx,{id:"community.view_bar.widgets"})),e.slice(0,4).map((e,l)=>{let s=(0,ej.$o)(e);return ev.createElement("div",{onMouseEnter:()=>a(l),key:e.id,className:tQ()({[lY]:r===l})},ev.createElement(eI.Ve,{to:(0,ej.O7)({resource:e,trackingInfo:i}),className:lq,onClick:()=>{document.activeElement.blur(),t()}},ev.createElement(iW.d,{plugin:s,className:lG,alt:s.name,onError:e=>e.target.src=ej.iP}),ev.createElement("div",{className:lW},ev.createElement("div",{className:l$},s.name),ev.createElement("div",{className:lz},e.community_publishers.accepted.map(e=>ev.createElement(lB.q,{key:e.id,entity:e,size:16,adtlClassName:lZ})),ev.createElement("div",{className:lK},(0,eJ.f3)(e)))),(0,lU.jS)({resource:e,authedActiveCommunityProfile:n})))})):null}function l1({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,eb.v9)(e=>e.authedActiveCommunityProfile),i=(0,e2.X)(!0);return e&&0!==e.length?ev.createElement("div",{className:lj},ev.createElement("div",{className:lH},ev.createElement(eq.Tx,{id:"community.view_bar.plugins"})),e.slice(0,4).map((e,l)=>{let s=(0,ej.$o)(e);return ev.createElement("div",{onMouseEnter:()=>a(l),key:e.id,className:tQ()({[lY]:r===l})},ev.createElement(eI.Ve,{to:(0,ej.O7)({resource:e,trackingInfo:i}),className:lq,onClick:()=>{document.activeElement.blur(),t()}},ev.createElement("img",{src:s.redirect_icon_url,className:lG,alt:s.name,onError:e=>e.target.src=ej.iP}),ev.createElement("div",{className:lW},ev.createElement("div",{className:l$},s.name),ev.createElement("div",{className:lz},e.community_publishers.accepted.map(e=>ev.createElement(lB.q,{key:e.id,entity:e,size:16,adtlClassName:lZ})),ev.createElement("div",{className:lK},(0,eJ.f3)(e)))),(0,lU.jS)({resource:e,authedActiveCommunityProfile:n})))})):null}let l2=(e,t)=>{let a=e.toLowerCase().indexOf(t);if(-1===a)return e;let r=e.substring(0,a),n=e.substring(a,a+t.length),i=a+t.length===e.length?"":e.substring(a+t.length,e.length);return ev.createElement("span",null,r,ev.createElement("strong",null,n),i)};function l3({query:e,suggestions:t}){return t.length?ev.createElement("div",{className:lj},t.map(t=>ev.createElement(eI.Ve,{to:(0,ej.Ly)({path:lF(t.type),id:t.id,name:t.name}),className:lV,key:`${t.id}-${t.type}`},l2(t.name,e)))):null}function l4({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,eb.v9)(e=>e.authedActiveCommunityProfile),i=(0,e2.X)(!0);return e&&0!==e.length?ev.createElement("div",{className:lj},ev.createElement("div",{className:lH},ev.createElement(eq.Tx,{id:"community.view_bar.files"})),e.slice(0,4).map((e,l)=>{let s=(0,ej.$o)(e);return ev.createElement("div",{onMouseEnter:()=>a(l),key:e.id,className:tQ()({[lY]:r===l})},ev.createElement(eI.Ve,{to:(0,ej.O7)({resource:e,trackingInfo:i}),className:lV,onClick:()=>{document.activeElement.blur(),t()}},ev.createElement("img",{src:e.thumbnail_url,className:"search_dropdown--fileTilePreview--uCbva",alt:s.name,onError:e=>e.target.src=ej.iP}),ev.createElement("div",{className:lW},ev.createElement("div",{className:l$},s.name),ev.createElement("div",{className:lz},e.community_publishers.accepted.map(e=>ev.createElement(lB.q,{key:e.id,entity:e,size:16,adtlClassName:lZ})),ev.createElement("div",{className:lK},(0,eJ.f3)(e)))),(0,lU.jS)({resource:e,authedActiveCommunityProfile:n})))})):null}let l8=function(e,t){let a;return(...t)=>new Promise(r=>{clearTimeout(a),a=setTimeout(()=>{r(e.apply(e,t))},250)})}((e,t)=>t((0,lO.b)().filter({query:e,sort_by:lD.A.Search.RELEVANCY}).searchResourcesAndProfiles({resourceType:"mixed",limit:8,isPreview:!0,profileLimit:3})),0);function l5(e){var t,a,r,n;let{query:i,context:l,smallWidth:s,clearSearchInput:o}=e,[c,d]=ev.useState([]),{resources:m,setResources:u,selectedIdx:_,setSelectedIdx:p}=lk(l),g=(0,eb.I0)(),E=(0,e2.X)(!0),h=null==E?void 0:E.searchSessionId,f=ev.useCallback(()=>{g(lm.C.sessionSeeMoreClick({})),(0,eK.L9)("search_show_all_clicked",{query:i,scope:"community",entry_point:"community",...E})},[g,i,E]);ev.useEffect(()=>{i&&(i.length>1&&i.length<20&&(0,eT.BZ)().exp_community_search_suggest&&lP.D_.getCommunityResourcesSuggestQuery({query:i}).then(e=>{d(e.data.meta.results)}).catch(()=>{}),l8(i,g).then(([e,t])=>{let a=e.data.meta.results.map(e=>e.model);u({files:a.filter(e=>(0,lM.r2)(e)),plugins:a.filter(e=>(0,lM.T4)(e)).map(r3.db),widgets:a.filter(e=>(0,lM.E0)(e)).map(r3.db),creators:t.data.meta.results.slice(0,3)}),p({idx:-1});let r=l===lS.OT.LANDING?"searchPreviewLanding":"searchPreview";(0,eK.L9)("search_query_result",{query:i,responseCounts:a.length,scope:"community",entry_point:"community",context:r,searchSessionId:h})}).catch(()=>{}))},[i,g,h,l,u,p]);let v=ev.useCallback(e=>{(0,eK.L9)("search_result_clicked",{query:i,resourceType:e,scope:"community",is_preview:!0,entry_point:"community",...E}),o(),u({}),g(lm.C.endSession())},[i,g,E,u,o]),b=ev.useCallback((e,t)=>{m[t]&&!((m[t]??[]).length<e)&&p({idx:e,type:t})},[m,p]);if(!i)return null;let y=(null==(t=m.files)?void 0:t.length)||(null==(a=m.widgets)?void 0:a.length)||(null==(r=m.plugins)?void 0:r.length)||(null==(n=m.creators)?void 0:n.length)||c.length,w=(0,lI.Gs)({...lI.Sl,query:i});return ev.createElement("div",{className:tQ()("search_dropdown--searchDropdown--HqMrn",{"search_dropdown--searchDropdownLanding--HJ002":l===lS.OT.LANDING,"search_dropdown--categoryNavSearchDropdown--luKXm":s})},ev.createElement(l3,{query:i,suggestions:c}),ev.createElement(l4,{resources:m.files,onResourceClick:()=>v("files"),onResourceHover:e=>b(e,"files"),selectedIdx:(null==_?void 0:_.type)==="files"?null==_?void 0:_.idx:null}),ev.createElement(l1,{resources:m.plugins,onResourceClick:()=>v("plugins"),onResourceHover:e=>b(e,"plugins"),selectedIdx:(null==_?void 0:_.type)==="plugins"?null==_?void 0:_.idx:null}),ev.createElement(l0,{resources:m.widgets,onResourceClick:()=>v("widgets"),onResourceHover:e=>b(e,"widgets"),selectedIdx:(null==_?void 0:_.type)==="widgets"?null==_?void 0:_.idx:null}),ev.createElement(lJ,{profiles:m.creators,onResourceClick:()=>v("profiles"),onResourceHover:e=>b(e,"creators"),selectedIdx:(null==_?void 0:_.type)==="creators"?null==_?void 0:_.idx:null}),y?ev.createElement("div",{className:"search_dropdown--searchAllLink--VCaxM text--fontPos12--YsUAh text--_fontBase--QdLsd"},ev.createElement(eI.Ve,{to:w,onClick:f},ev.createElement(eq.Tx,{id:"community.search.show_all_search_results"}))):null)}let l9="search_input--searchBoxContainer--im-rr dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",l6=a(244573),l7=a(830630);function se(e){let{onSubmit:t,pathname:a,isMobile:r}=e,n=(0,lI.pK)(a),i=n===lI.uw.SEARCH,[l,s]=ev.useState("");ev.useEffect(()=>{let e=(0,lI.bz)();e&&(0,lS.TC)(e)&&e.query&&s(e.query)},[]);let o=(0,lv.Z)(t,r?600:400),c=ev.useCallback(()=>{s("")},[]);!function(e,t){let a=(0,lb.D)(e);ev.useEffect(()=>{e!==lI.uw.SEARCH&&a!==e&&t()},[e,t,a])}(a,c);let d=(0,eq.t)("community.search.placeholder.search_for_a_resource");if(r)return ev.createElement(sa,{onChange:s,onSubmit:o,query:l,inSearchPath:i,inputPlaceholder:d});{let e=l&&!i&&window.innerWidth>800?ev.createElement(l5,{query:l,clearSearchInput:c,context:lS.OT.NAV}):null;return ev.createElement(lA.Lt,{preview:e,className:l9,disableRepositioning:!0},ev.createElement(st,{onChange:s,onSubmit:o,query:l,inSearchPath:i,inputPlaceholder:d,context:lS.OT.NAV}))}}function st(e){let{query:t,inSearchPath:a,onChange:r,onSubmit:n,context:i}=e,l=(0,eb.I0)(),s=ev.useRef(null),{renderedOrder:o,renderedSelectedIdx:c,resources:d,setResources:m,selectedIdx:u,setSelectedIdx:_}=lk(i),p=ev.useCallback(()=>{_({idx:-1})},[_]),g=(0,e2.X)(!0);return ev.createElement("div",{className:"search_input--searchBox--03-WO text--fontPos13--xW8hS text--_fontBase--QdLsd",tabIndex:0,onFocus:()=>{null!==s.current&&s.current.focus(),l(lm.C.startSearch({entryPoint:"community"}))}},ev.createElement(t3.JO,{icon:"search-large-32"}),ev.createElement("input",{type:"text",value:t,spellCheck:!1,placeholder:e.inputPlaceholder||(0,eq.t)("community.search.search_community"),ref:s,onChange:e=>{let t=e.currentTarget.value;r(t),a&&t&&n(t)},onBlur:p,onKeyDown:e=>{var i,p,E,h;let f=e.currentTarget.value.trim();if("Enter"===e.key){if(e.preventDefault(),c>=0&&u.type){let e=null==(i=d[u.type])?void 0:i[u.idx],a=lC(e)?`/@${e.model.profile_handle}`:(0,ej.O7)({resource:e,trackingInfo:g});(0,eI.T8)(a),null==(p=s.current)||p.blur(),r(""),m({}),l(lm.C.endSession()),(0,eK.L9)("search_result_clicked",{query:t,resourceType:null==(E=o[c])?void 0:E.type,scope:"community",is_preview:!0,index:c,entry_point:"community_via_enter",...g})}else n(f),a&&!f?l(lm.C.endSession()):!a&&f&&l(lm.C.sessionEnteredSearchViewViaEnter({entryPoint:"community"}))}else if("Escape"===e.key)null==(h=s.current)||h.blur();else if(e.keyCode===ly.sr.RIGHT_ARROW||e.keyCode===ly.sr.DOWN_ARROW||e.keyCode===ly.sr.LEFT_ARROW||e.keyCode===ly.sr.UP_ARROW){e.preventDefault();let t=c===o.length-1?c:c+1,a=c<=0?c:c-1;switch(e.keyCode){case ly.sr.RIGHT_ARROW:case ly.sr.DOWN_ARROW:_(o[t]||{idx:-1});break;case ly.sr.LEFT_ARROW:case ly.sr.UP_ARROW:_(o[a]||{idx:-1})}}},required:!0}),t&&t.length>0&&ev.createElement(eD.n,{svg:l7,className:"search_input--closeIcon--9YDAe",onClick:()=>{r(""),a&&n(""),l(lm.C.endSession())}}))}function sa(e){let{query:t,inSearchPath:a,onChange:r,onSubmit:n}=e,i=ev.useRef(null),l=(0,eb.I0)(),[s,o]=ev.useState(!1);return ev.createElement("div",{className:"search_input--mobileSearchContainer--lpxm7 text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement("button",{onClick:()=>{var e;s?l(lm.C.endSession()):(null==(e=i.current)||e.focus(),l(lm.C.startSearch({entryPoint:"community"}))),o(!s)}},ev.createElement(eD.n,{className:"search_input--searchIcon--qJgOx",svg:l6})),ev.createElement("div",{className:"search_input--searchInput--oFDQ-"},ev.createElement("input",{type:"text",value:t,spellCheck:!1,ref:i,placeholder:e.inputPlaceholder||(0,eq.t)("community.search.search_community"),onChange:e=>{let t=e.currentTarget.value;r(t),a&&t&&n(t)},onKeyDown:e=>{var t,r;let s=e.currentTarget.value.trim();"Enter"===e.key?(e.preventDefault(),n(s),null==(t=i.current)||t.blur(),a&&!s?l(lm.C.endSession()):!a&&s&&l(lm.C.sessionEnteredSearchViewViaEnter({entryPoint:"community"}))):"Escape"===e.key&&(null==(r=i.current)||r.blur())},required:!0}),ev.createElement("button",{className:"search_input--clearInput--2nSCV",onClick:e=>{r(""),e.preventDefault()}},"\xd7")))}let sr=()=>{let e=(0,eR.k6)(),t=(0,lI.uy)(),a=!!(t&&(0,lS.TC)(t));return{history:e,onSubmit:r=>{r.length?e.push(function({query:e,view:t,inSearchPath:a}){let r={...lI.Sl,editor_type:(null==t?void 0:t.editor_type)||lI.Sl.editor_type,resourceType:(null==t?void 0:t.resourceType)||lI.Sl.resourceType,price:(null==t?void 0:t.price)||lI.Sl.price,query:e};return a&&(r.sort_by=(null==t?void 0:t.sort_by)||lI.Sl.sort_by),(0,lI.Gs)(r)}({query:r,view:t,inSearchPath:a})):a&&e.push("/community")},inSearchPath:a}};function sn(e){let{history:t,onSubmit:a}=sr(),r=e.isMobile??eN.ZP.mobile;return ev.createElement(se,{isMobile:r,onSubmit:a,pathname:t.location.pathname})}function si(){let{onSubmit:e,inSearchPath:t}=sr(),[a,r]=ev.useState(""),n=(0,lv.Z)(e,400),i=ev.useCallback(()=>{r("")},[]),l=(0,lR.dO)();if(!l)return null;let s=(0,lL.E)("exp_community_search_landing",l).defaultValue(!1).treatment("variant",!0).get();if(s){let e=a&&!t&&window.innerWidth>800?ev.createElement(l5,{query:a,clearSearchInput:i,context:lS.OT.LANDING}):null;return ev.createElement("div",{className:"search_input--landingSearchContainer--WHHxn"},ev.createElement(lA.Lt,{preview:e,className:l9,disableRepositioning:!0},ev.createElement(st,{onChange:r,onSubmit:n,query:a,inSearchPath:t,inputPlaceholder:(0,eq.t)("community.search.search_everything_in_community"),context:lS.OT.LANDING})))}return null}var sl=a(495006),ss=a(774119),so=a(702348),sc=a(693693),sd=a(723259),sm=a(312616),su=a(201248),s_=a(362568),sp=a(498266);let sg="seen_community_devmode_filter_onboarding",sE="editor_type_filter_clicked",sh="community_feed_product_filter";function sf(){return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"community_devmode_filter_onboarding--titleText--KExCB"},(0,eq.t)("community.landing_page.devmode_filter_tooltip.title")),ev.createElement("div",{className:"community_devmode_filter_onboarding--bodyText--v4Nma"},(0,eq.t)("community.landing_page.devmode_filter_tooltip.description")))}function sv(){let e=(0,so.I)({id:sd.G.CommunityDevModeFilterOnboarding,priority:su.b4.DEFAULT_MODAL,queueOnBlock:!0}),t=(0,sm.p)(sg);return((0,eZ.O)(()=>{t||e.show()}),(0,sc.J)(e.uniqueId,[sE],()=>{e.complete()}),e.isShowing)?ev.createElement(s_.a,{isShowing:e.isShowing,modalType:sp.w8.POINTER,onboardingKey:sh,trackingContextName:"Community Dev Mode Filter Onboarding",element:sf,userFlagOnShow:sg,onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete,width:250,shouldNotWrapInParagraphTag:!0}):null}var sb=a(149935);let sy=ev.memo(function(){return ev.createElement(ev.Fragment,null,ev.createElement(sb.V,null,ev.createElement(sv,null)))});function sw(){return ev.createElement("svg",{width:"472",height:"195",viewBox:"0 0 472 195",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("rect",{x:"156.25",y:"38.625",width:"77.125",height:"77.125",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"233.375",y:"38.625",width:"77.125",height:"77.125",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"387.625",y:"7.1875",width:"77.125",height:"77.125",fill:"#FFC700"}),ev.createElement("line",{x1:"464.562",y1:"2.76204",x2:"464.562",y2:"88.9962",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"469.371",y1:"84.1871",x2:"383.379",y2:"84.1871",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"387.386",y1:"2.00374",x2:"387.386",y2:"88.9963",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"471.375",y1:"6.01131",x2:"381.375",y2:"6.01131",stroke:"#1ABCFE",strokeWidth:"4.00748"}),ev.createElement("rect",{x:"460.555",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"460.555",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"383.379",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"383.379",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"2",y:"115.75",width:"77.125",height:"77.125",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"79.125",y:"115.75",width:"77.125",height:"77.125",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"156.25",y:"115.75",width:"77.125",height:"77.125",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"310.5",y:"115.75",width:"77.125",height:"77.125",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"387.625",y:"115.75",width:"77.125",height:"77.125",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M443.301 75.5558L406.702 53.9287L415.066 97.4249L423.825 78.5966L443.301 75.5558Z",fill:"#0FA958",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function sT(){return ev.createElement("svg",{width:"467",height:"164",viewBox:"0 0 467 164",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 464.75 6.9375)",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 310.5 6.9375)",fill:"#5551FF"}),ev.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 233.375 84.0625)",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 79.125 6.9375)",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 464.75 84.0625)",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 156.25 84.0625)",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 156.25 6.9375)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ev.createElement("line",{x1:"310.125",y1:"2.76204",x2:"310.125",y2:"88.9962",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"314.934",y1:"84.1871",x2:"228.941",y2:"84.1871",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"232.949",y1:"2.00374",x2:"232.949",y2:"88.9963",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"316.938",y1:"6.01131",x2:"226.938",y2:"6.01131",stroke:"#1ABCFE",strokeWidth:"4.00748"}),ev.createElement("rect",{x:"306.117",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"306.117",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"228.941",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"228.941",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M288.864 71.7589L252.264 50.1318L260.629 93.628L269.388 74.7998L288.864 71.7589Z",fill:"#FFC700",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function sx(){return ev.createElement("svg",{width:"473",height:"154",viewBox:"0 0 473 154",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("rect",{x:"2",y:"2.125",width:"208.314",height:"149.75",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"209.439",y:"2.125",width:"117.322",height:"149.75",fill:"black",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"325.888",y:"2.125",width:"73.4513",height:"149.75",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"398.464",y:"2.125",width:"39.871",height:"149.75",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"460",y:"2.125",width:"10.3354",height:"149.75",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"438.544",y:"2.125",width:"21.456",height:"149.75",fill:"black",stroke:"black",strokeWidth:"4"}))}function sN(){return ev.createElement("svg",{width:"473",height:"154",viewBox:"0 0 473 154",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("rect",{x:"-2",y:"2",width:"208.314",height:"149.75",transform:"matrix(-1 0 0 1 469 0.125)",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"-2",y:"2",width:"117.322",height:"149.75",transform:"matrix(-1 0 0 1 261.561 0.125)",fill:"black",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"-2",y:"2",width:"73.4513",height:"149.75",transform:"matrix(-1 0 0 1 145.112 0.125)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"-2",y:"2",width:"39.871",height:"149.75",transform:"matrix(-1 0 0 1 72.5356 0.125)",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"-2",y:"2",width:"10.3354",height:"149.75",transform:"matrix(-1 0 0 1 11 0.125)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"-2",y:"2",width:"21.456",height:"149.75",transform:"matrix(-1 0 0 1 32.4561 0.125)",fill:"black",stroke:"black",strokeWidth:"4"}))}function sC(){return ev.createElement("svg",{width:"537",height:"451",viewBox:"0 0 537 451",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M11.3019 135.706L133.568 250.696L18.7181 295.903L133.568 275.354L0 406.867L174.703 275.354L258.934 450.795L221.928 275.354H343.166L212.681 250.696L330.836 144.869L181.857 232.417V0L151.305 224.618L11.3019 135.706Z",fill:"url(#paint0_radial_103_24084)"}),ev.createElement("path",{d:"M373.8 169.202L340.564 90.6895L351.161 173.056L304.659 163.682L346.826 186.543L293.842 255.422L365.13 200.03L536.64 338.644L392.104 186.543L451.35 179.318H389.695L451.35 134.04L373.8 169.202Z",fill:"url(#paint1_radial_103_24084)"}),ev.createElement("circle",{cx:"458.033",cy:"308.894",r:"5",stroke:"#00B6FF",strokeWidth:"3"}),ev.createElement("circle",{cx:"282.28",cy:"301.394",r:"5",stroke:"#00B6FF",strokeWidth:"3"}),ev.createElement("circle",{cx:"362.949",cy:"246.645",r:"5",stroke:"#00B6FF",strokeWidth:"3"}),ev.createElement("mask",{id:"path-6-inside-1_103_24084",fill:"white"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M394.22 255.553C401.807 257.55 407.405 264.494 407.405 272.753C407.405 274.634 407.114 276.448 406.576 278.15L414.841 286.465L403.482 297.894L395.276 289.638C393.533 290.217 391.669 290.53 389.733 290.53C381.193 290.53 374.068 284.436 372.42 276.334L364.031 246.894L394.22 255.553Z"})),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M394.22 255.553C401.807 257.55 407.405 264.494 407.405 272.753C407.405 274.634 407.114 276.448 406.576 278.15L414.841 286.465L403.482 297.894L395.276 289.638C393.533 290.217 391.669 290.53 389.733 290.53C381.193 290.53 374.068 284.436 372.42 276.334L364.031 246.894L394.22 255.553Z",fill:"black"}),ev.createElement("path",{d:"M394.22 255.553L393.393 258.437L393.424 258.446L393.456 258.454L394.22 255.553ZM406.576 278.15L403.715 277.245L403.168 278.977L404.448 280.265L406.576 278.15ZM414.841 286.465L416.969 288.58L419.071 286.465L416.969 284.35L414.841 286.465ZM403.482 297.894L401.354 300.008L403.482 302.149L405.609 300.008L403.482 297.894ZM395.276 289.638L397.404 287.523L396.094 286.206L394.331 286.791L395.276 289.638ZM372.42 276.334L375.36 275.736L375.337 275.623L375.306 275.512L372.42 276.334ZM364.031 246.894L364.858 244.01L359.666 242.52L361.146 247.716L364.031 246.894ZM410.405 272.753C410.405 263.109 403.866 254.99 394.984 252.652L393.456 258.454C399.747 260.11 404.405 265.879 404.405 272.753H410.405ZM409.436 279.055C410.066 277.063 410.405 274.945 410.405 272.753H404.405C404.405 274.324 404.162 275.832 403.715 277.245L409.436 279.055ZM416.969 284.35L408.703 276.035L404.448 280.265L412.714 288.58L416.969 284.35ZM405.609 300.008L416.969 288.58L412.714 284.35L401.354 295.779L405.609 300.008ZM393.148 291.753L401.354 300.008L405.609 295.779L397.404 287.523L393.148 291.753ZM389.733 293.53C391.995 293.53 394.177 293.164 396.221 292.486L394.331 286.791C392.888 287.27 391.344 287.53 389.733 287.53L389.733 293.53ZM369.481 276.931C371.404 286.391 379.726 293.53 389.733 293.53L389.733 287.53C382.66 287.53 376.731 282.48 375.36 275.736L369.481 276.931ZM375.306 275.512L366.916 246.071L361.146 247.716L369.535 277.156L375.306 275.512ZM363.204 249.777L393.393 258.437L395.047 252.669L364.858 244.01L363.204 249.777Z",fill:"white",mask:"url(#path-6-inside-1_103_24084)"}),ev.createElement("path",{d:"M367.264 250.143L389.735 272.754",stroke:"white",strokeWidth:"3",strokeLinecap:"square"}),ev.createElement("ellipse",{cx:"389.734",cy:"272.752",rx:"4.81949",ry:"4.84851",fill:"white"}),ev.createElement("path",{d:"M272.238 393.9C294.732 391.899 334.115 378.874 311.688 342.79C295.857 317.321 285.747 304.98 286.497 305.858C297.105 318.265 323.138 341.176 339.969 336.402C356.8 331.628 361.085 283.532 362.997 252.463C365.32 277.522 366.906 336.522 394.8 342.868C422.243 349.111 450.082 317.3 455.043 312.928C442.807 331.127 424.316 351.43 441.424 379.972",stroke:"#00B6FF",strokeWidth:"3"}),ev.createElement("defs",null,ev.createElement("radialGradient",{id:"paint0_radial_103_24084",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(183.912 250.696) rotate(121.695) scale(220.979 253.632)"},ev.createElement("stop",{stopColor:"#FFC700"}),ev.createElement("stop",{offset:"0.494792",stopColor:"#0FA958"}),ev.createElement("stop",{offset:"1",stopColor:"#5551FF"})),ev.createElement("radialGradient",{id:"paint1_radial_103_24084",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(362.722 183.171) rotate(82.355) scale(144.826 152.449)"},ev.createElement("stop",{offset:"0.385417",stopColor:"#FFC700"}),ev.createElement("stop",{offset:"1",stopColor:"#F24E1E"}))))}function sS(){return ev.createElement("svg",{width:"1007",height:"1093",viewBox:"0 0 1007 1093",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M260.143 521.692L479.291 587.106L234.859 770.317L498.091 623.995L443.116 1070.24L560.336 642.077L881.672 822.209L610.845 578.704L771.227 469.052L621.977 526.901L786.897 352.502L563.506 517.379L593.509 351.799L529.208 502.686L379.469 287.177L501.865 527.345L166.001 224.874L485.471 557.147L260.143 521.692Z",fill:"url(#paint0_radial_103_24085)"}),ev.createElement("g",{filter:"url(#filter0_d_103_24085)"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M302.781 607.509L256.003 584.469L306.264 563.842L292.821 585.477L302.781 607.509Z",fill:"#699BF7"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M302.781 607.509L256.003 584.469L306.264 563.842L292.821 585.477L302.781 607.509Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ev.createElement("g",{filter:"url(#filter1_d_103_24085)"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M380.833 595.712L329.686 585.564L372.896 552.632L365.511 577.009L380.833 595.712Z",fill:"#0FA958"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M380.833 595.712L329.686 585.564L372.896 552.632L365.511 577.009L380.833 595.712Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ev.createElement("g",{filter:"url(#filter2_d_103_24085)"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M357.792 656.145L331.265 611.253L384.616 621.513L361.522 632.256L357.792 656.145Z",fill:"#FFC700"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M357.792 656.145L331.265 611.253L384.616 621.513L361.522 632.256L357.792 656.145Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ev.createElement("g",{filter:"url(#filter3_d_103_24085)"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M459.247 558.782L409.878 575.567L430.833 525.442L436.626 550.245L459.247 558.782Z",fill:"#FF8577"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M459.247 558.782L409.878 575.567L430.833 525.442L436.626 550.245L459.247 558.782Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ev.createElement("g",{filter:"url(#filter4_d_103_24085)"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M257.111 654.631L228.113 611.294L281.955 618.552L259.498 630.571L257.111 654.631Z",fill:"#A259FF"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M257.111 654.631L228.113 611.294L281.955 618.552L259.498 630.571L257.111 654.631Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ev.createElement("g",{filter:"url(#filter5_d_103_24085)"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M208.888 596.282L163.468 570.668L214.802 552.877L200.173 573.729L208.888 596.282Z",fill:"#F24E1E"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M208.888 596.282L163.468 570.668L214.802 552.877L200.173 573.729L208.888 596.282Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ev.createElement("defs",null,ev.createElement("filter",{id:"filter0_d_103_24085",x:"252.355",y:"560.693",width:"60.6101",height:"61.9267",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ev.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ev.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ev.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ev.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ev.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ev.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ev.createElement("filter",{id:"filter1_d_103_24085",x:"326.131",y:"548.626",width:"61.493",height:"61.2878",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ev.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ev.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ev.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ev.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ev.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ev.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ev.createElement("filter",{id:"filter2_d_103_24085",x:"328.281",y:"609.152",width:"64.1537",height:"63.2747",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ev.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ev.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ev.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ev.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ev.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ev.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ev.createElement("filter",{id:"filter3_d_103_24085",x:"407.211",y:"520.583",width:"59.4585",height:"69.392",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ev.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ev.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ev.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ev.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ev.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ev.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ev.createElement("filter",{id:"filter4_d_103_24085",x:"225.016",y:"609.363",width:"64.7163",height:"61.4958",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ev.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ev.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ev.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ev.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ev.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ev.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ev.createElement("filter",{id:"filter5_d_103_24085",x:"159.833",y:"549.941",width:"61.8401",height:"61.6191",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ev.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ev.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ev.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ev.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ev.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ev.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ev.createElement("radialGradient",{id:"paint0_radial_103_24085",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(496.741 590.327) rotate(48.298) scale(348.57 458.853)"},ev.createElement("stop",{stopColor:"#C7B9FF"}),ev.createElement("stop",{offset:"0.442708",stopColor:"#A259FF"}),ev.createElement("stop",{offset:"1",stopColor:"#F24E1E"}))))}function sk(){return ev.createElement("svg",{width:"521",height:"319",viewBox:"0 0 521 319",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("circle",{cx:"385.693",cy:"125.504",r:"123.504",fill:"#F24E1E",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M52.9055 139.988C27.9488 177.475 -6.64662 251.82 54.6258 249.304C115.898 246.788 178.221 199.847 194.166 170.276C173.436 208.721 184.926 263.226 254.88 251.083C316.952 240.309 364.773 188.366 388.297 166.014",stroke:"#699BF7",strokeWidth:"40",strokeLinecap:"round",strokeLinejoin:"round"}),ev.createElement("path",{d:"M52.9055 139.988C27.9488 177.475 -6.64662 251.82 54.6258 249.304C115.898 246.788 178.221 199.847 194.166 170.276C173.436 208.721 184.926 263.226 254.88 251.083C316.952 240.309 364.773 188.366 388.297 166.014",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{cx:"387.312",cy:"166.185",r:"6",transform:"rotate(-9.84695 387.312 166.185)",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{cx:"193.181",cy:"170.447",r:"6",transform:"rotate(-9.84695 193.181 170.447)",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"491.568",y:"190.826",width:"30.2725",height:"127.353",transform:"rotate(30 491.568 190.826)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M400.38 197.37C401.812 204.318 407.964 209.543 415.336 209.543C417.009 209.543 418.618 209.274 420.124 208.777L427.215 215.868L437.032 206.051L429.89 198.91C430.356 197.447 430.607 195.889 430.607 194.272C430.607 187.165 425.754 181.193 419.181 179.488L393.124 172.059L400.38 197.37Z",fill:"white"}),ev.createElement("path",{d:"M393.124 172.059L419.181 179.488C425.754 181.193 430.607 187.165 430.607 194.272C430.607 195.889 430.356 197.447 429.89 198.91L437.032 206.051L427.215 215.868L420.124 208.777C418.618 209.274 417.009 209.543 415.336 209.543C407.964 209.543 401.812 204.318 400.38 197.37L393.124 172.059ZM393.124 172.059L415.271 194.206",stroke:"#010101",strokeWidth:"4.03072"}),ev.createElement("path",{d:"M417.985 197.307C416.359 198.934 413.722 198.934 412.095 197.307C410.469 195.681 410.469 193.044 412.095 191.417C413.722 189.791 416.359 189.791 417.985 191.417C419.612 193.044 419.612 195.681 417.985 197.307Z",fill:"#010101"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M229.57 196.12L198.234 177.603L205.395 214.844L212.895 198.723L229.57 196.12Z",fill:"#FFC700",stroke:"#010101",strokeWidth:"4",strokeLinecap:"square"}))}function sI(){return ev.createElement("svg",{width:"637",height:"493",viewBox:"0 0 637 493",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M242.772 199.176L252.022 208.426C253.199 209.603 253.199 211.522 252.022 212.699L219.832 244.889L203.944 247.254L206.309 231.366L238.499 199.176C239.686 197.999 241.595 197.999 242.772 199.176Z",fill:"white",stroke:"#010101",strokeWidth:"3.96975",strokeMiterlimit:"10"}),ev.createElement("path",{d:"M245.239 219.502L231.716 205.979",stroke:"#010101",strokeWidth:"3.96975",strokeMiterlimit:"10"}),ev.createElement("path",{d:"M532.457 107.727C548.515 86.3731 567.225 75.0246 583.592 79.4101C612.631 87.1912 623.295 141.558 607.41 200.842C591.525 260.125 555.107 301.877 526.067 294.095C509.7 289.71 499.171 270.527 495.941 244.005C479.884 265.359 461.173 276.707 444.807 272.322C428.44 267.936 417.91 248.753 414.681 222.232C398.623 243.585 379.913 254.933 363.546 250.548C347.179 246.163 336.65 226.979 333.42 200.458C317.363 221.811 298.652 233.16 282.285 228.774C253.246 220.993 242.582 166.626 258.467 107.343C274.352 48.059 310.771 6.30786 339.81 14.0889C356.177 18.4744 366.706 37.6577 369.936 64.1791C385.993 42.8256 404.704 31.4772 421.071 35.8627C437.437 40.2481 447.967 59.4314 451.196 85.9528C467.254 64.5993 485.965 53.2509 502.331 57.6364C518.698 62.0218 529.228 81.2051 532.457 107.727Z",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M9.63464 342.858L195.981 255.931L401.597 254.09L426.517 364.125L239.429 447.779L34.5546 452.894L9.63464 342.858Z",fill:"#FFC700",stroke:"black",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:"10 10"}),ev.createElement("circle",{cx:"196.113",cy:"253.995",r:"6",transform:"rotate(-7.60757 196.113 253.995)",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M447.446 278.889L416.111 260.373L423.272 297.613L430.771 281.493L447.446 278.889Z",fill:"#F24E1E",stroke:"#010101",strokeWidth:"4",strokeLinecap:"square"}),ev.createElement("circle",{cx:"402.247",cy:"254.603",r:"6",transform:"rotate(-7.60757 402.247 254.603)",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M133.241 273.047C166.416 277.441 196.871 254.11 201.265 220.935V220.935C205.659 187.761 182.328 157.306 149.153 152.912V152.912C115.978 148.518 85.5232 171.849 81.1294 205.024V205.024C76.7355 238.198 100.067 268.653 133.241 273.047V273.047Z",fill:"#F24E1E",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}),ev.createElement("circle",{cx:"115.939",cy:"225.334",r:"6.45657",transform:"rotate(-61.7169 115.939 225.334)",fill:"black"}),ev.createElement("circle",{cx:"137.589",cy:"185.095",r:"6.45657",transform:"rotate(-61.7169 137.589 185.095)",fill:"black"}),ev.createElement("path",{d:"M161.201 175.804C181.733 186.851 189.421 212.451 178.374 232.983C167.327 253.515 141.727 261.203 121.195 250.156",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function sL(){return ev.createElement("svg",{width:"844",height:"366",viewBox:"0 0 844 366",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("line",{x1:"35.2456",y1:"139.013",x2:"35.2456",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"113.179",y1:"139.013",x2:"113.179",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"191.112",y1:"139.013",x2:"191.112",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"269.045",y1:"139.013",x2:"269.045",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"346.979",y1:"139.013",x2:"346.979",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"424.913",y1:"139.013",x2:"424.913",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"502.845",y1:"139.013",x2:"502.845",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"580.779",y1:"139.013",x2:"580.779",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"623",y1:"191.511",x2:"7.02628e-08",y2:"191.511",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"623",y1:"269.444",x2:"7.02628e-08",y2:"269.444",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("path",{d:"M65.4941 327.517C113.327 378.566 230.289 316.421 315.476 231.234C421.959 124.751 572.474 -19.274 534.232 119.137C495.989 257.548 534.214 269.718 572.65 250.706C642.363 216.225 829.282 85.5026 823.317 2",stroke:"#699BF7",strokeWidth:"40"}),ev.createElement("path",{d:"M65.4941 327.517C113.327 378.566 230.289 316.421 315.476 231.234C421.959 124.751 572.474 -19.274 534.232 119.137C495.989 257.548 534.214 269.718 572.65 250.706C642.363 216.225 829.282 85.5026 823.317 2",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M574.755 42.7954L476.867 227.568",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{cx:"532.653",cy:"119.466",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{cx:"529.495",cy:"64.0318",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M564.832 273.997L509.497 244.032",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M384.243 135.254L247.411 325.065",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{cx:"315.827",cy:"230.336",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{cx:"536.863",cy:"259.105",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{cx:"68.4764",cy:"185.777",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M73.3884 191.04L144.962 277.7",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"380.033",y:"130.343",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"240.394",y:"325.065",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"503.181",y:"236.3",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"564.229",y:"273.49",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"472.306",y:"225.073",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"571.597",y:"38.0688",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("rect",{x:"144.962",y:"277.7",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M357.264 258.676L321.34 237.448L329.55 280.141L338.147 261.661L357.264 258.676Z",fill:"#FF8577",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function sR(){return ev.createElement("svg",{width:"672",height:"328",viewBox:"0 0 672 328",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("line",{x1:"93.0057",y1:"71.0366",x2:"93.0057",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"170.939",y1:"71.0366",x2:"170.939",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"248.872",y1:"71.0366",x2:"248.872",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"326.806",y1:"71.0366",x2:"326.806",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"404.739",y1:"71.0366",x2:"404.739",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"482.673",y1:"71.0366",x2:"482.673",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"560.605",y1:"71.0366",x2:"560.605",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"638.539",y1:"71.0366",x2:"638.539",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"671.786",y1:"123.534",x2:"57",y2:"123.534",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("line",{x1:"671.786",y1:"201.467",x2:"57",y2:"201.467",stroke:"#FF8577",strokeWidth:"2"}),ev.createElement("path",{d:"M58.2804 22.7119L61.298 25.3185C69.9321 32.7766 82.5891 33.3689 91.8903 26.7502L95.141 24.4369L96.0406 28.3084C98.6146 39.3855 108.504 47.258 119.944 47.3364L123.942 47.3638L122.38 51.0213C117.91 61.4864 121.255 73.632 130.463 80.3775L133.681 82.7351L130.254 84.7817C120.449 90.6375 115.971 102.417 119.431 113.253L120.64 117.04L116.657 116.694C105.26 115.704 94.6704 122.618 91.0604 133.406L89.7987 137.176L86.781 134.569C78.1469 127.111 65.49 126.519 56.1888 133.138L52.938 135.451L52.0384 131.58C49.4645 120.502 39.5751 112.63 28.1355 112.552L24.1374 112.524L25.6995 108.867C30.1689 98.4015 26.8245 86.256 17.6161 79.5104L14.3977 77.1528L17.8248 75.1062C27.6304 69.2505 32.1084 57.471 28.6484 46.6348L27.4392 42.8476L31.4222 43.1937C42.8186 44.184 53.4086 37.27 57.0187 26.4822L58.2804 22.7119Z",fill:"black"}),ev.createElement("line",{x1:"141.187",y1:"3.2513",x2:"141.187",y2:"147.72",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"146.075",y1:"143.187",x2:"2.00378",y2:"143.187",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"6.01119",y1:"2.00374",x2:"6.01119",y2:"147.72",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"148.078",y1:"6.01106",x2:"4.57764e-05",y2:"6.01106",stroke:"black",strokeWidth:"4.00748"}),ev.createElement("rect",{x:"137.18",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"137.18",y:"139.18",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"2.00374",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"2.00374",y:"139.18",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"542.577",y1:"121.081",x2:"542.577",y2:"325.085",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"547.841",y1:"320.516",x2:"344.394",y2:"320.516",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"348.401",y1:"119.333",x2:"348.401",y2:"325.085",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("line",{x1:"549.845",y1:"123.34",x2:"342.39",y2:"123.34",stroke:"black",strokeWidth:"4.00748"}),ev.createElement("rect",{x:"538.57",y:"119.333",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"538.57",y:"316.509",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"344.394",y:"119.333",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("rect",{x:"344.394",y:"316.509",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ev.createElement("path",{d:"M446.118 146.843L494.54 164.468L520.306 209.094L511.357 259.841L471.883 292.964H420.353L380.878 259.841L371.93 209.094L397.695 164.468L446.118 146.843Z",fill:"#FF8577",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M177.183 146.845C177.183 152.244 179.645 157.068 183.507 160.256C184.791 161.315 184.791 163.618 183.507 164.678C179.645 167.865 177.183 172.689 177.183 178.088C177.183 187.686 184.963 195.467 194.561 195.467C199.96 195.467 204.784 193.005 207.972 189.142C209.031 187.859 211.334 187.859 212.394 189.142C215.581 193.005 220.405 195.467 225.804 195.467C235.402 195.467 243.183 187.686 243.183 178.088C243.183 172.689 240.721 167.865 236.858 164.678C235.575 163.618 235.575 161.315 236.858 160.256C240.721 157.068 243.183 152.244 243.183 146.845C243.183 137.248 235.402 129.467 225.804 129.467C220.405 129.467 215.581 131.929 212.394 135.791C211.334 137.075 209.031 137.075 207.972 135.791C204.784 131.929 199.96 129.467 194.561 129.467C184.963 129.467 177.183 137.248 177.183 146.845Z",fill:"#A259FF"}),ev.createElement("path",{d:"M236.858 164.677C240.721 167.865 243.183 172.689 243.183 178.088C243.183 187.686 235.402 195.466 225.804 195.466C220.405 195.466 215.581 193.004 212.394 189.142C211.334 187.858 209.031 187.858 207.972 189.142C204.784 193.004 199.96 195.466 194.561 195.466C184.963 195.466 177.183 187.686 177.183 178.088C177.183 172.689 179.645 167.865 183.507 164.677C184.791 163.618 184.791 161.315 183.507 160.255C179.645 157.068 177.183 152.244 177.183 146.845C177.183 137.247 184.963 129.466 194.561 129.466C199.96 129.466 204.784 131.928 207.972 135.791C209.031 137.074 211.334 137.074 212.394 135.791",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 237.92 161.337)",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 185.894 161.337)",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 185.894 161.338)",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 210.183 189.335)",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 210.183 137.176)",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M261.062 199.952C262.617 207.497 269.297 213.17 277.303 213.17C279.119 213.17 280.867 212.878 282.502 212.339L290.202 220.039L300.862 209.379L293.107 201.624C293.613 200.036 293.886 198.344 293.886 196.587C293.886 188.871 288.615 182.385 281.478 180.534L253.183 172.467L261.062 199.952Z",fill:"white"}),ev.createElement("path",{d:"M253.183 172.467L281.478 180.534C288.615 182.385 293.886 188.871 293.886 196.587C293.886 198.344 293.613 200.036 293.107 201.624L300.862 209.379L290.202 220.039L282.502 212.339C280.867 212.878 279.119 213.17 277.303 213.17C269.297 213.17 262.617 207.497 261.062 199.952L253.183 172.467ZM253.183 172.467L277.232 196.516",stroke:"#010101",strokeWidth:"4.37696"}),ev.createElement("path",{d:"M280.18 199.883C278.414 201.65 275.55 201.65 273.784 199.883C272.018 198.117 272.018 195.254 273.784 193.488C275.55 191.721 278.414 191.721 280.18 193.488C281.946 195.254 281.946 198.117 280.18 199.883Z",fill:"#010101"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.658 157.595L68.7344 136.367L76.9446 179.06L85.5417 160.58L104.658 157.595Z",fill:"#699BF7",stroke:"#010101",strokeWidth:"4",strokeLinecap:"square"}))}(e=>{e.Left=function(){return ev.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{"clip-path":"url(#clip0_1398_87343)"},ev.createElement("rect",{width:"472",height:"140",fill:"#A259FF"}),ev.createElement("path",{d:"M251 39.6665C274.932 39.6665 294.333 20.2655 294.333 -3.66684L207.667 -3.66684C207.667 20.2655 227.068 39.6665 251 39.6665Z",fill:"#C7B9FF",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M229.667 155L229.667 126.667C229.667 115.069 239.069 105.667 250.667 105.667C262.265 105.667 271.667 115.069 271.667 126.667L271.667 155L229.667 155Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M249.667 103.667C285.013 103.667 313.667 75.0132 313.667 39.667L185.667 39.667C185.667 75.0132 214.321 103.667 249.667 103.667Z",fill:"#F24E1E",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M449.895 169.389H451.895V167.389V119.725V117.725H449.895H319.166H317.166V119.725V167.389V169.389H319.166H449.895ZM292.967 114.467L293.955 119.631L296.649 115.116L304.137 102.567L317.846 98.8076L322.384 97.5631L318.339 95.1594L289.369 77.9473L285.548 75.6772L286.383 80.0425L292.967 114.467Z",fill:"#C7B9FF",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_1398_87343"},ev.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return ev.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{"clip-path":"url(#clip0_1398_87333)"},ev.createElement("rect",{width:"472",height:"140",fill:"#A259FF"}),ev.createElement("path",{d:"M226.957 53.3712L222.013 58.3412L217.043 53.3712C204.404 40.7347 187.262 33.6358 169.389 33.6358C151.516 33.6358 134.375 40.7347 121.735 53.3712C109.099 66.0109 102 83.1521 102 101.025C102 118.898 109.099 136.039 121.735 148.679L126.705 153.649L121.735 158.592C109.424 171.298 102.602 188.335 102.742 206.026C102.881 223.718 109.971 240.645 122.481 253.155C134.991 265.665 151.918 272.755 169.609 272.894C187.301 273.034 204.338 266.212 217.043 253.9L222.013 248.93L226.957 253.9C239.596 266.537 256.738 273.636 274.611 273.636C292.484 273.636 309.625 266.537 322.265 253.9C334.901 241.261 342 224.119 342 206.246C342 188.373 334.901 171.232 322.265 158.592L317.295 153.649L322.265 148.679C334.576 135.973 341.398 118.936 341.259 101.245C341.119 83.5538 334.029 66.6265 321.519 54.1165C309.009 41.6064 292.082 34.5167 274.391 34.3773C256.699 34.2378 239.662 41.0599 226.957 53.3712Z",fill:"#FFC700",stroke:"black","stroke-width":"2.66667","stroke-miterlimit":"10"}),ev.createElement("path",{d:"M24.6543 25.6665L23.3209 25.6665L23.3209 26.9998L23.3209 74.664L23.3209 75.9973L24.6543 75.9973L155.383 75.9973L156.717 75.9973L156.717 74.664L156.717 26.9998L156.717 25.6665L155.383 25.6665L24.6543 25.6665ZM180.928 80.0476L180.269 76.605L178.473 79.6148L170.847 92.3941L156.88 96.2243L153.854 97.0539L156.551 98.6564L185.521 115.868L188.069 117.382L187.512 114.472L180.928 80.0476Z",fill:"#F24E1E",stroke:"black","stroke-width":"2.66667","stroke-linecap":"square"})),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_1398_87333"},ev.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(ei||(ei={})),(e=>{e.Left=function(){return ev.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{"clip-path":"url(#clip0_1398_87265)"},ev.createElement("rect",{width:"472",height:"140",fill:"#5551FF"}),ev.createElement("g",{"clip-path":"url(#clip1_1398_87265)"},ev.createElement("rect",{width:"472",height:"140",fill:"#5551FF"}),ev.createElement("path",{d:"M216.98 91.371C203.817 78.2406 203.356 55.1192 213.28 29.0543C187.149 38.9545 163.97 38.4947 150.806 25.3639C137.644 12.2341 137.182 -10.8858 147.104 -36.9493C120.976 -27.0514 97.7993 -27.5122 84.637 -40.6419C60.2075 -65.0111 79.5285 -123.795 127.792 -171.938C176.055 -220.082 234.984 -239.356 259.413 -214.987C272.575 -201.857 273.037 -178.737 263.115 -152.673C289.243 -162.571 312.42 -162.11 325.582 -148.981C338.745 -135.85 339.207 -112.729 329.283 -86.664C355.413 -96.5642 378.593 -96.1044 391.756 -82.9736C404.919 -69.8436 405.381 -46.7231 395.458 -20.659C421.586 -30.5571 444.763 -30.0964 457.926 -16.9666C482.355 7.4026 463.034 66.1861 414.771 114.33C366.508 162.474 307.579 181.747 283.149 157.378C269.987 144.248 269.525 121.127 279.448 95.0634C253.32 104.962 230.143 104.501 216.98 91.371Z",fill:"#699BF7",stroke:"black","stroke-width":"4","stroke-linejoin":"bevel"}),ev.createElement("rect",{x:"180",y:"263",width:"243",height:"243",rx:"121.5",transform:"rotate(-180 180 263)",fill:"#F24E1E",stroke:"black","stroke-width":"4"}))),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_1398_87265"},ev.createElement("rect",{width:"472",height:"140",fill:"white"})),ev.createElement("clipPath",{id:"clip1_1398_87265"},ev.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return ev.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{"clip-path":"url(#clip0_1398_87129)"},ev.createElement("rect",{width:"472",height:"140",fill:"#5551FF"}),ev.createElement("path",{d:"M344.478 -7.11549L312.621 -38.8252L324.306 -50.4559L356.183 -18.7254L359.594 -15.3302V-20.1429L359.594 -64.9997H376.128V-20.1611V-15.3484L379.539 -18.7436L411.398 -50.4559L423.082 -38.8252L391.226 -7.11551L387.793 -3.69804H392.637H437.708L437.708 12.741H392.639H387.795L391.228 16.1585L423.088 47.8713L411.403 59.5019L379.539 27.784L376.128 24.3887V29.2014V74.0466H359.594V29.1832V24.3705L356.183 27.7657L324.3 59.5019L312.615 47.8713L344.475 16.1585L347.908 12.741H343.064H298V-3.69802H343.067H347.911L344.478 -7.11549Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M168.98 259.371C155.817 246.241 155.356 223.119 165.28 197.054C139.149 206.955 115.97 206.495 102.806 193.364C89.644 180.234 89.182 157.114 99.1044 131.051C72.9764 140.949 49.7993 140.488 36.637 127.358C12.2075 102.989 31.5285 44.2054 79.7916 -3.93848C128.055 -52.0824 186.984 -71.3557 211.413 -46.9865C224.575 -33.8568 225.037 -10.7368 215.115 15.3267C241.243 5.4288 264.42 5.88956 277.582 19.0193C290.745 32.1497 291.207 55.2711 281.283 81.336C307.413 71.4358 330.593 71.8956 343.756 85.0264C356.919 98.1564 357.381 121.277 347.458 147.341C373.586 137.443 396.763 137.904 409.926 151.033C434.355 175.403 415.034 234.186 366.771 282.33C318.508 330.474 259.579 349.747 235.149 325.378C221.987 312.248 221.525 289.127 231.448 263.063C205.32 272.962 182.143 272.501 168.98 259.371Z",fill:"#699BF7",stroke:"black","stroke-width":"4","stroke-linejoin":"bevel"})),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_1398_87129"},ev.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(el||(el={})),(e=>{e.Left=function(){return ev.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{"clip-path":"url(#clip0_1398_87379)"},ev.createElement("rect",{width:"472",height:"140",fill:"#0FA958"}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M252.19 108.907C255.189 103.713 253.409 97.0711 248.215 94.0723L183.806 56.8857L248.215 19.6991C253.409 16.7002 255.189 10.0586 252.19 4.86454C249.191 -0.329552 242.55 -2.10917 237.356 0.889641L172.945 38.077L172.945 -36.2968C172.945 -42.2944 168.083 -47.1564 162.086 -47.1564C156.088 -47.1564 151.226 -42.2944 151.226 -36.2968L151.226 38.0756L86.8181 0.889663C81.624 -2.10915 74.9824 -0.329529 71.9836 4.86455C68.9848 10.0586 70.7644 16.7003 75.9585 19.6991L140.368 56.8857L75.9588 94.0722C70.7647 97.071 68.9851 103.713 71.9839 108.907C74.9827 114.101 81.6243 115.88 86.8184 112.882L151.226 75.6959L151.226 150.068C151.226 156.066 156.088 160.928 162.086 160.928C168.083 160.928 172.945 156.066 172.945 150.068L172.945 75.6944L237.355 112.882C242.549 115.88 249.191 114.101 252.19 108.907Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M81.2996 103.705L243.098 10.9396",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M162.301 153.344L162.301 -39.5731",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M243.098 103.705L81.2992 10.9396",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"80.5331",cy:"9.95459",rx:"3.275",ry:"3.275",transform:"rotate(-60 80.5331 9.95459)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"243.192",cy:"9.95459",rx:"3.275",ry:"3.275",transform:"rotate(-60 243.192 9.95459)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"80.5331",cy:"103.839",rx:"3.275",ry:"3.275",transform:"rotate(-60 80.5331 103.839)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"243.192",cy:"103.839",rx:"3.275",ry:"3.275",transform:"rotate(-60 243.192 103.839)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"162.301",cy:"57.2265",rx:"3.275",ry:"3.275",transform:"rotate(180 162.301 57.2265)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M60.5349 126.638L59.4836 127.836L61.0658 127.639L73.4791 126.095L83.238 133.382L84.3815 134.236L84.2026 132.82L80.7086 105.168L80.5397 103.831L79.651 104.844L60.5349 126.638Z",fill:"#699BF7",stroke:"black","stroke-width":"1.21296","stroke-linecap":"square"}),ev.createElement("path",{d:"M261.665 78.6089L264.618 74.2591L259.52 75.5464L247.936 78.4721L237.84 72.7217L233.751 70.3925L234.912 74.953L241.789 101.964L242.885 106.271L245.382 102.594L261.665 78.6089Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M448.19 216.907C451.189 211.713 449.409 205.071 444.215 202.072L379.806 164.886L444.216 127.699C449.41 124.7 451.189 118.059 448.19 112.865C445.192 107.67 438.55 105.891 433.356 108.89L368.945 146.077L368.945 71.7032C368.945 65.7056 364.083 60.8436 358.086 60.8436C352.088 60.8436 347.226 65.7056 347.226 71.7032L347.226 146.076L282.818 108.89C277.624 105.891 270.983 107.67 267.984 112.865C264.985 118.059 266.765 124.7 271.959 127.699L336.368 164.886L271.959 202.072C266.765 205.071 264.985 211.713 267.984 216.907C270.983 222.101 277.625 223.88 282.819 220.882L347.226 183.696L347.226 258.068C347.226 264.066 352.088 268.928 358.086 268.928C364.083 268.928 368.945 264.066 368.945 258.068L368.945 183.694L433.356 220.882C438.55 223.88 445.191 222.101 448.19 216.907Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M277.3 211.705L439.098 118.94",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M358.301 261.344L358.301 68.4269",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M439.098 211.705L277.299 118.94",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"276.533",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 276.533 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"439.192",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 439.192 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"358.27",cy:"71.3432",rx:"3.275",ry:"3.275",transform:"rotate(180 358.27 71.3432)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M371.094 99.6343L373.385 104.367L374.818 99.3084L378.077 87.8131L388.105 81.9452L392.167 79.5684L387.637 78.2937L360.806 70.744L356.528 69.5401L358.464 73.5405L371.094 99.6343Z",fill:"#F24E1E",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_1398_87379"},ev.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return ev.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{"clip-path":"url(#clip0_1398_87420)"},ev.createElement("rect",{width:"472",height:"140",fill:"#0FA958"}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M200.19 216.907C203.189 211.713 201.409 205.071 196.215 202.072L131.806 164.886L196.216 127.699C201.41 124.7 203.189 118.059 200.19 112.865C197.192 107.67 190.55 105.891 185.356 108.89L120.945 146.077L120.945 71.7032C120.945 65.7056 116.083 60.8436 110.086 60.8436C104.088 60.8436 99.2262 65.7056 99.2262 71.7032L99.2262 146.076L34.8183 108.89C29.6243 105.891 22.9826 107.67 19.9838 112.865C16.985 118.059 18.7646 124.7 23.9587 127.699L88.3679 164.886L23.959 202.072C18.7649 205.071 16.9853 211.713 19.9841 216.907C22.9829 222.101 29.6246 223.88 34.8186 220.882L99.2262 183.696L99.2262 258.068C99.2262 264.066 104.088 268.928 110.086 268.928C116.083 268.928 120.945 264.066 120.945 258.068L120.945 183.694L185.356 220.882C190.55 223.88 197.191 222.101 200.19 216.907Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M29.2998 211.705L191.098 118.94",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M110.301 261.344L110.301 68.4269",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M191.098 211.705L29.2995 118.94",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"28.5333",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 28.5333 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"191.192",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 191.192 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"110.27",cy:"71.3432",rx:"3.275",ry:"3.275",transform:"rotate(180 110.27 71.3432)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M123.094 99.6343L125.385 104.367L126.818 99.3084L130.077 87.8131L140.105 81.9452L144.167 79.5684L139.637 78.2937L112.806 70.744L108.528 69.5401L110.464 73.5405L123.094 99.6343Z",fill:"#F24E1E",stroke:"black","stroke-width":"4","stroke-linecap":"square"}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M344.19 51.9068C347.189 46.7127 345.409 40.0711 340.215 37.0723L275.806 -0.114263L340.216 -37.3009C345.41 -40.2998 347.189 -46.9414 344.19 -52.1355C341.192 -57.3296 334.55 -59.1092 329.356 -56.1104L264.945 -18.923L264.945 -93.2968C264.945 -99.2944 260.083 -104.156 254.086 -104.156C248.088 -104.156 243.226 -99.2944 243.226 -93.2968L243.226 -18.9244L178.818 -56.1103C173.624 -59.1091 166.983 -57.3295 163.984 -52.1355C160.985 -46.9414 162.765 -40.2997 167.959 -37.3009L232.368 -0.114268L167.959 37.0722C162.765 40.071 160.985 46.7127 163.984 51.9067C166.983 57.1008 173.625 58.8804 178.819 55.8816L243.226 18.6959L243.226 93.0683C243.226 99.066 248.088 103.928 254.086 103.928C260.083 103.928 264.945 99.066 264.945 93.0683L264.945 18.6944L329.356 55.8817C334.55 58.8805 341.191 57.1009 344.19 51.9068Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M173.3 46.7046L335.098 -46.0604",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M254.301 96.3438L254.301 -96.5731",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M335.098 46.7046L173.299 -46.0604",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"172.533",cy:"46.8389",rx:"3.275",ry:"3.275",transform:"rotate(-60 172.533 46.8389)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"335.192",cy:"46.8389",rx:"3.275",ry:"3.275",transform:"rotate(-60 335.192 46.8389)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"254.301",cy:"0.226465",rx:"3.275",ry:"3.275",transform:"rotate(180 254.301 0.226465)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("ellipse",{cx:"254.301",cy:"93.8915",rx:"3.275",ry:"3.275",transform:"rotate(180 254.301 93.8915)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M151.487 68.7187L148.02 72.6713L153.238 72.0223L165.095 70.5473L174.404 77.4987L178.175 80.3143L177.585 75.6455L174.091 47.9929L173.534 43.5836L170.603 46.9248L151.487 68.7187Z",fill:"#699BF7",stroke:"black","stroke-width":"4","stroke-linecap":"square"}),ev.createElement("path",{d:"M353.665 21.6089L356.618 17.2591L351.52 18.5464L339.936 21.4721L329.84 15.7217L325.751 13.3925L326.912 17.953L333.789 44.9637L334.885 49.2706L337.382 45.5936L353.665 21.6089Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_1398_87420"},ev.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(es||(es={})),(e=>{e.Left=function(){return ev.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{"clip-path":"url(#clip0_1398_87353)"},ev.createElement("rect",{width:"472",height:"140",fill:"#C7B9FF"}),ev.createElement("rect",{x:"-2",y:"2",width:"346",height:"120",transform:"matrix(-1 0 0 1 313 68)",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ev.createElement("rect",{x:"-2",y:"2",width:"119.361",height:"119.361",transform:"matrix(-1 0 0 1 352.312 28.8362)",fill:"#0FA958",stroke:"black","stroke-width":"4"}),ev.createElement("rect",{x:"416.607",y:"-31.0491",width:"119.361",height:"119.361",transform:"rotate(90 416.607 -31.0491)",fill:"#699BF7"}),ev.createElement("rect",{x:"428.647",y:"79.8606",width:"20.4918",height:"20.4918",transform:"rotate(90 428.647 79.8606)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("rect",{x:"305.287",y:"80.2695",width:"20.4918",height:"20.4918",transform:"rotate(90 305.287 80.2695)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("rect",{x:"416.607",y:"-31.0491",width:"119.361",height:"119.361",transform:"rotate(90 416.607 -31.0491)",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M460.572 -13.3277H462.572V-11.3277V27.5356V29.5356H460.572H353.981H351.981V27.5356V-11.3277V-13.3277H353.981H460.572ZM332.257 31.7537L333.244 26.5897L335.939 31.1045L341.968 41.2087L353.003 44.2345L357.541 45.479L353.495 47.8827L329.874 61.9167L326.053 64.1868L326.888 59.8215L332.257 31.7537Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_1398_87353"},ev.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return ev.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("g",{"clip-path":"url(#clip0_1398_87366)"},ev.createElement("rect",{width:"472",height:"140",fill:"#C7B9FF"}),ev.createElement("rect",{x:"-2",y:"2",width:"119.361",height:"119.361",transform:"matrix(-1 0 0 1 120.967 88.1804)",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ev.createElement("rect",{x:"-2",y:"2",width:"119.361",height:"119.361",transform:"matrix(-1 0 0 1 160.312 48.8362)",fill:"#0FA958",stroke:"black","stroke-width":"4"}),ev.createElement("rect",{x:"506",y:"-11",width:"119",height:"401",transform:"rotate(90 506 -11)",fill:"#699BF7"}),ev.createElement("rect",{x:"112.68",y:"100.319",width:"20.4918",height:"20.4918",transform:"rotate(90 112.68 100.319)",fill:"white",stroke:"black","stroke-width":"4"}),ev.createElement("rect",{x:"506",y:"-11",width:"119",height:"401",transform:"rotate(90 506 -11)",stroke:"black","stroke-width":"4"}),ev.createElement("path",{d:"M268.572 6.67235H270.572V8.67235V47.5356V49.5356H268.572H161.981H159.981V47.5356V8.67235V6.67235H161.981H268.572ZM140.257 51.7537L141.244 46.5897L143.939 51.1045L149.968 61.2087L161.003 64.2345L165.541 65.479L161.495 67.8827L137.874 81.9167L134.053 84.1868L134.888 79.8215L140.257 51.7537Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ev.createElement("defs",null,ev.createElement("clipPath",{id:"clip0_1398_87366"},ev.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(eo||(eo={}));let sA="category_banner--categoryHeader--4BBTx text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI",sO="category_banner--categoryDescription--8mD9D text--fontPos16--oMC-G text--_fontBase--QdLsd",sD="category_banner--inspiration--3bIzd",sF="category_banner--jamSessions--vJ4cZ";function sM({category:e,isRedesignEnabled:t}){let a,r;let{title:n,subhead:i}=function(e){switch(e){case lS.Rj.inspiration:return{title:(0,eq.t)("community.categories.inspiration"),subhead:(0,eq.t)("community.categories.banner.inspiration")};case lS.Rj.jamSessions:return{title:(0,eq.t)("community.categories.team_syncs"),subhead:(0,eq.t)("community.categories.banner.jam_sessions")};case lS.Rj.designSystems:return{title:(0,eq.t)("community.categories.design_systems"),subhead:(0,r4.uE)(!1)?(0,eq.t)("categories.design_systems_subheader"):(0,eq.t)("community.categories.banner.design_systems")};case lS.Rj.visualAssets:return{title:(0,eq.t)("community.categories.visual_assets"),subhead:(0,r4.uE)(!1)?(0,eq.t)("categories.visual_assets_subheader"):(0,eq.t)("community.categories.banner.visual_assets")};case lS.Rj.development:return{title:(0,eq.t)("community.categories.development"),subhead:(0,r4.uE)(!1)?(0,eq.t)("categories.development_subheader"):(0,eq.t)("community.categories.banner.development")};case lS.Rj.accessibility:return{title:(0,eq.t)("categories.accessibility"),subhead:(0,eq.t)("categories.accessibility_subheader")};case lS.Rj.brainstorming:return{title:(0,eq.t)("categories.brainstorming"),subhead:(0,eq.t)("categories.brainstorming_subheader")};case lS.Rj.classroomActivities:return{title:(0,eq.t)("categories.classroom_activities"),subhead:(0,eq.t)("categories.classroom_activities_subheader")};case lS.Rj.designTemplates:return{title:(0,eq.t)("community.categories.design_templates"),subhead:(0,eq.t)("categories.design_templates_subheader")};case lS.Rj.designTools:return{title:(0,eq.t)("community.categories.design_tools"),subhead:(0,eq.t)("categories.design_tools_subheader")};case lS.Rj.desktopAppsWebsites:return{title:(0,eq.t)("categories.desktop_apps_websites"),subhead:(0,eq.t)("categories.desktop_apps_websites_subheader")};case lS.Rj.diagramming:return{title:(0,eq.t)("categories.diagramming"),subhead:(0,eq.t)("categories.diagramming_subheader")};case lS.Rj.editingEffects:return{title:(0,eq.t)("categories.editing_effects"),subhead:(0,eq.t)("categories.editing_effects_subheader")};case lS.Rj.education:return{title:(0,eq.t)("community.categories.education"),subhead:(0,eq.t)("categories.education_subheader")};case lS.Rj.fileOrganization:return{title:(0,eq.t)("categories.file_organization"),subhead:(0,eq.t)("categories.file_organization_subheader")};case lS.Rj.fontsTypography:return{title:(0,eq.t)("categories.fonts_typography"),subhead:(0,eq.t)("categories.fonts_typography_subheader")};case lS.Rj.funGames:return{title:(0,eq.t)("categories.fun_games"),subhead:(0,eq.t)("categories.fun_games_subheader")};case lS.Rj.icons:return{title:(0,eq.t)("community.categories.icons"),subhead:(0,eq.t)("categories.icons_subheader")};case lS.Rj.illustrations:return{title:(0,eq.t)("categories.illustrations"),subhead:(0,eq.t)("categories.illustrations_subheader")};case lS.Rj.importExport:return{title:(0,eq.t)("categories.import_export"),subhead:(0,eq.t)("categories.import_export_subheader")};case lS.Rj.libraries:return{title:(0,eq.t)("categories.libraries"),subhead:(0,eq.t)("categories.libraries_subheader")};case lS.Rj.mobileApps:return{title:(0,eq.t)("categories.mobile_apps"),subhead:(0,eq.t)("categories.mobile_apps_subheader")};case lS.Rj.portfoliosResumes:return{title:(0,eq.t)("categories.portfolios_resumes"),subhead:(0,eq.t)("categories.portfolio_resumes_subheader")};case lS.Rj.presentations:return{title:(0,eq.t)("categories.presentations"),subhead:(0,eq.t)("categories.presentations_subheader")};case lS.Rj.prototypingAnimation:return{title:(0,eq.t)("categories.prototyping_animation"),subhead:(0,eq.t)("categories.prototyping_animation_subheader")};case lS.Rj.shapesColors:return{title:(0,eq.t)("categories.shapes_colors"),subhead:(0,eq.t)("categories.shapes_colors_subheader")};case lS.Rj.stockPhotography:return{title:(0,eq.t)("categories.stock_photography"),subhead:(0,eq.t)("categories.stock_photography_subheader")};case lS.Rj.strategicPlanning:return{title:(0,eq.t)("categories.strategic_planning"),subhead:(0,eq.t)("categories.strategic_planning_subheader")};case lS.Rj.teamMeetings:return{title:(0,eq.t)("categories.team_meetings"),subhead:(0,eq.t)("categories.team_meetings_subheader")};case lS.Rj.tutorials:return{title:(0,eq.t)("categories.tutorials"),subhead:(0,eq.t)("categories.tutorials_subheader")};case lS.Rj.uiKits:return{title:(0,eq.t)("categories.ui_kits"),subhead:(0,eq.t)("categories.ui_kits_subheader")};case lS.Rj.wireframes:return{title:(0,eq.t)("categories.wireframes"),subhead:(0,eq.t)("categories.wireframes_subheader")};case lS.Rj.whiteboarding:return{title:(0,eq.t)("community.categories.whiteboarding"),subhead:(0,eq.t)("categories.whiteboarding_subheader")};default:(0,eL.vE)(e)}}(e);if(t)return ev.createElement("div",{className:"category_banner--categoryBannerRedesign--Ri6Fg"},ev.createElement("div",{className:"category_banner--bannerContents--XqCpN"},ev.createElement("h1",{className:sA},n),ev.createElement("p",{className:sO},i)));switch(e){case lS.Rj.inspiration:r=eg,a=sD;break;case lS.Rj.jamSessions:r=eE,a=sF;break;case lS.Rj.libraries:case lS.Rj.uiKits:case lS.Rj.wireframes:r=eo,a="category_banner--uiLibraries--T5U0M";break;case lS.Rj.icons:r=es,a="category_banner--icons--IU4dA";break;case lS.Rj.designTemplates:case lS.Rj.mobileApps:case lS.Rj.desktopAppsWebsites:case lS.Rj.presentations:case lS.Rj.portfoliosResumes:r=ei,a="category_banner--designTemplates--iqlp-";break;case lS.Rj.development:r=ep,a="category_banner--development--OFgah";break;case lS.Rj.designTools:case lS.Rj.accessibility:case lS.Rj.prototypingAnimation:case lS.Rj.editingEffects:case lS.Rj.fileOrganization:case lS.Rj.importExport:case lS.Rj.designSystems:r=e_,a="category_banner--designSystems--uK9rN";break;case lS.Rj.visualAssets:r=eh,a="category_banner--visualAssets--2yC2P";break;case lS.Rj.stockPhotography:case lS.Rj.fontsTypography:case lS.Rj.shapesColors:case lS.Rj.illustrations:r=eg,a=sD;break;case lS.Rj.whiteboarding:case lS.Rj.teamMeetings:case lS.Rj.brainstorming:case lS.Rj.strategicPlanning:case lS.Rj.diagramming:case lS.Rj.funGames:r=eE,a=sF;break;case lS.Rj.education:case lS.Rj.tutorials:case lS.Rj.classroomActivities:r=el,a="category_banner--education--RSGHj";break;default:(0,eL.vE)(e)}return ev.createElement("div",{className:tQ()("category_banner--categoryBanner--Fb7-F",a)},(null==r?void 0:r.Left)&&ev.createElement("div",{className:"category_banner--leftAsset--IQySQ"},ev.createElement(r.Left,null)),(null==r?void 0:r.Right)&&ev.createElement("div",{className:"category_banner--rightAsset--2oXpu"},ev.createElement(r.Right,null)),ev.createElement("div",{className:"category_banner--center--LmTeM"},ev.createElement("h1",{className:sA},n),ev.createElement("p",{className:sO},i)))}let sP={inspiration:()=>ev.createElement("svg",{width:"1459",height:"324",viewBox:"0 0 1459 324",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M188.884 18.2137L181.546 24.0426C160.548 40.7201 130.751 40.9056 109.524 24.4909L102.105 18.7539L99.623 27.7521C92.5223 53.4977 68.5363 71.0281 41.6481 70.1236L32.2506 69.8074L35.5736 78.5379C45.0816 103.518 36.0691 131.697 13.7901 146.648L6.00358 151.874L13.8621 157.002C36.347 171.674 45.7505 199.739 36.5906 224.835L33.3892 233.606L42.7815 233.173C69.6548 231.933 93.8825 249.164 101.341 274.819L103.947 283.785L111.286 277.956C132.283 261.279 162.08 261.093 183.308 277.508L190.726 283.245L193.208 274.247C200.309 248.501 224.295 230.971 251.183 231.875L260.581 232.191L257.258 223.461C247.75 198.481 256.762 170.302 279.041 155.351L286.828 150.125L278.969 144.997C256.484 130.325 247.081 102.26 256.241 77.1642L259.442 68.3932L250.05 68.8263C223.176 70.0655 198.949 52.8352 191.491 27.1802L188.884 18.2137Z",fill:"#F5EAC1"}),ev.createElement("path",{d:"M1136.58 151.451L1130.5 150.482C1113.11 147.711 1099.81 133.365 1098.34 115.807L1097.83 109.671L1092.37 112.46C1076.76 120.438 1057.64 116.598 1046.15 103.177L1042.14 98.4869L1039.38 103.967C1031.5 119.648 1013.86 127.781 996.742 123.623L990.759 122.17L991.761 128.249C994.627 145.643 985.208 162.641 968.995 169.335L963.328 171.674L967.703 176.03C980.22 188.493 982.621 207.864 973.506 222.852L970.32 228.091L976.396 229.059C993.783 231.83 1007.09 246.176 1008.55 263.734L1009.06 269.87L1014.52 267.082C1030.14 259.103 1049.26 262.943 1060.75 276.364L1064.76 281.054L1067.51 275.574C1075.39 259.893 1093.03 251.761 1110.15 255.918L1116.14 257.371L1115.13 251.292C1112.27 233.898 1121.69 216.9 1137.9 210.206L1143.57 207.867L1139.19 203.511C1126.68 191.049 1124.28 171.677 1133.39 156.689L1136.58 151.451Z",fill:"#F5EAC1"}),ev.createElement("path",{d:"M397.23 28.8459L386.931 65.1193L424.18 59.2601L392.975 80.4273L425.276 99.8821L387.765 96.0387L400.003 131.704L373.739 104.649L360.189 139.837L357.46 102.229L324.461 120.475L346.545 89.9112L309.539 82.6771L346.102 73.4593L322.403 44.1303L356.337 60.5713L357.035 22.8707L372.462 57.2775L397.23 28.8459Z",fill:"#F5EAC1"}),ev.createElement("path",{d:"M640.41 134.329L568.617 171.87L632.8 221.307L553.673 203.917L571.063 283.044L521.626 218.861L484.085 290.654L487.47 209.709L412.565 240.575L467.188 180.744L389.968 156.24L470.27 145.518L426.866 77.1101L495.274 120.514L505.996 40.2114L530.5 117.432L590.331 62.8088L559.465 137.714L640.41 134.329Z",fill:"#F5EAC1"}),ev.createElement("path",{d:"M1296.83 279.147L1280.48 196.035L1205.9 236.207L1253.11 165.877L1171.97 141.552L1255.08 125.2L1214.91 50.6275L1285.24 97.8342L1309.57 16.6973L1325.92 99.8089L1400.49 59.6368L1353.29 129.968L1434.42 154.293L1351.31 170.644L1391.48 245.217L1321.15 198.01L1296.83 279.147Z",fill:"#F5EAC1"}),ev.createElement("path",{d:"M1445.71 196.33L1443.91 196.084C1438.77 195.377 1434.75 191.232 1434.21 186.064L1434.02 184.258L1432.43 185.115C1427.88 187.567 1422.21 186.557 1418.74 182.673L1417.53 181.315L1416.75 182.949C1414.53 187.623 1409.38 190.134 1404.3 189.017L1402.53 188.626L1402.86 190.413C1403.82 195.523 1401.15 200.596 1396.41 202.673L1394.75 203.399L1396.07 204.655C1399.84 208.25 1400.67 213.947 1398.08 218.425L1397.18 219.99L1398.97 220.237C1404.12 220.943 1408.13 225.088 1408.68 230.256L1408.87 232.062L1410.46 231.205C1415.01 228.753 1420.68 229.763 1424.15 233.647L1425.36 235.005L1426.14 233.371C1428.36 228.697 1433.51 226.187 1438.59 227.303L1440.36 227.694L1440.03 225.908C1439.07 220.797 1441.74 215.724 1446.48 213.647L1448.13 212.921L1446.81 211.665C1443.04 208.07 1442.21 202.373 1444.81 197.895L1445.71 196.33Z",fill:"#F5EAC1"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1425.59 78.6869L1401.63 64.5322L1407.11 93L1412.84 80.6771L1425.59 78.6869Z",fill:"#F24E1E",stroke:"black",strokeWidth:"3",strokeLinecap:"square"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.04591 251.421L31 237.266L25.5254 265.734L19.7928 253.411L7.04591 251.421Z",fill:"#FFC700",stroke:"black",strokeWidth:"3",strokeLinecap:"square"})),jamSessions:()=>ev.createElement("svg",{width:"1463",height:"246",viewBox:"0 0 1463 246",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M589.454 215.779C901.627 279.456 1071.64 104 1096.18 74C1120.72 44 1108.45 -14 1054.25 17C1000.05 48 812 379 1381 169",stroke:"#C7B9FF",strokeWidth:"15",strokeLinecap:"round"}),ev.createElement("path",{d:"M65 104C98 76.3331 189.2 19.3998 290 12.9998C390.8 6.59978 235.333 143 145 212",stroke:"#C7B9FF",strokeWidth:"15",strokeLinecap:"round"}),ev.createElement("circle",{cx:"65.0001",cy:"103.742",r:"8.11361",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M24.7973 86.5857C16.5726 84.8907 10.3886 77.6085 10.3886 68.8819C10.3886 66.9025 10.7067 64.9974 11.2947 63.2149L2.90114 54.8213L14.5211 43.2017L22.9741 51.6547C24.7056 51.1032 26.5504 50.8058 28.4646 50.8058C36.876 50.8058 43.9456 56.551 45.963 64.3315L54.7571 95.1743L24.7973 86.5857Z",fill:"#C7B9FF"}),ev.createElement("path",{d:"M54.7571 95.1743L45.963 64.3315C43.9456 56.551 36.876 50.8058 28.4646 50.8058C26.5504 50.8058 24.7056 51.1032 22.9741 51.6547L14.5211 43.2017L2.90114 54.8213L11.2947 63.2149C10.7067 64.9974 10.3886 66.9025 10.3886 68.8819C10.3886 77.6085 16.5726 84.8907 24.7973 86.5857L54.7571 95.1743ZM54.7571 95.1743L28.5422 68.9595",stroke:"#010101",strokeWidth:"3.89795"}),ev.createElement("path",{d:"M24.8718 65.7462C22.9466 67.6714 22.9466 70.7928 24.8718 72.718C26.7971 74.6433 29.9184 74.6433 31.8437 72.718C33.7689 70.7928 33.7689 67.6714 31.8437 65.7462C29.9184 63.821 26.7971 63.821 24.8718 65.7462Z",fill:"#010101"}),ev.createElement("path",{d:"M429 169C367 208 307.627 269.517 404.998 216.436C502.37 163.356 617.328 60.8719 662.636 16.2652",stroke:"#C7B9FF",strokeWidth:"15",strokeLinecap:"round",strokeLinejoin:"round"}),ev.createElement("circle",{cx:"660.745",cy:"18.1439",r:"8.11361",fill:"white",stroke:"black",strokeWidth:"4"}),ev.createElement("path",{d:"M1446.51 91.4852L1459.1 104.072C1460.7 105.674 1460.7 108.286 1459.1 109.887L1415.29 153.692L1393.67 156.91L1396.89 135.29L1440.7 91.4852C1442.31 89.8832 1444.91 89.8832 1446.51 91.4852Z",fill:"#C7B9FF",stroke:"black",strokeWidth:"4",strokeMiterlimit:"10"}),ev.createElement("path",{d:"M1449.87 119.144L1431.47 100.742",stroke:"black",strokeWidth:"4",strokeMiterlimit:"10"})),designSystems:()=>ev.createElement("svg",{width:"1464",height:"266",viewBox:"0 0 1464 266",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M1212.75 74.4323C1212.75 37.0856 1182.47 6.81006 1145.13 6.81006C1119.67 6.81005 1097.49 20.8803 1085.96 41.6693C1074.42 20.8803 1052.25 6.81005 1026.79 6.81005C989.443 6.81005 959.167 37.0856 959.167 74.4323L959.167 192.771C959.167 230.118 989.443 260.393 1026.79 260.393C1052.25 260.393 1074.42 246.323 1085.96 225.534C1097.49 246.323 1119.67 260.393 1145.13 260.393C1182.47 260.393 1212.75 230.118 1212.75 192.771L1212.75 74.4323Z",fill:"#CFE2FF"}),ev.createElement("path",{d:"M894.545 260.394C931.892 260.394 962.167 230.118 962.167 192.771C962.167 167.311 948.097 145.138 927.308 133.602C948.097 122.066 962.167 99.8924 962.167 74.4324C962.167 37.0857 931.892 6.81014 894.545 6.81014L776.206 6.81013C738.859 6.81013 708.584 37.0856 708.584 74.4324C708.584 99.8924 722.654 122.066 743.443 133.602C722.654 145.138 708.584 167.311 708.584 192.771C708.584 230.118 738.859 260.394 776.206 260.394L894.545 260.394Z",fill:"#CFE2FF"}),ev.createElement("path",{d:"M711.584 74.4324C711.584 37.0857 681.308 6.81018 643.961 6.81018C618.501 6.81018 596.328 20.8805 584.792 41.6694C573.256 20.8805 551.083 6.81018 525.623 6.81018C488.276 6.81018 458 37.0857 458 74.4324L458 192.771C458 230.118 488.276 260.394 525.623 260.394C551.083 260.394 573.256 246.323 584.792 225.534C596.328 246.323 618.501 260.394 643.962 260.394C681.308 260.394 711.584 230.118 711.584 192.771L711.584 74.4324Z",fill:"#CFE2FF"}),ev.createElement("path",{d:"M1395.71 260.394C1433.06 260.394 1463.33 230.118 1463.33 192.771C1463.33 167.311 1449.26 145.138 1428.47 133.602C1449.26 122.066 1463.33 99.8924 1463.33 74.4324C1463.33 37.0857 1433.06 6.81014 1395.71 6.81014L1277.37 6.81013C1240.03 6.81013 1209.75 37.0856 1209.75 74.4324C1209.75 99.8924 1223.82 122.066 1244.61 133.602C1223.82 145.138 1209.75 167.311 1209.75 192.771C1209.75 230.118 1240.03 260.394 1277.37 260.394L1395.71 260.394Z",fill:"#CFE2FF"}),ev.createElement("path",{d:"M73.6222 6.47272C36.2755 6.47272 5.99997 36.7482 5.99997 74.095C5.99997 99.555 20.0703 121.729 40.8592 133.264C20.0703 144.8 5.99997 166.974 5.99997 192.434C5.99997 229.781 36.2755 260.056 73.6222 260.056H191.961C229.308 260.056 259.583 229.781 259.583 192.434C259.583 166.974 245.513 144.8 224.724 133.264C245.513 121.729 259.583 99.555 259.583 74.095C259.583 36.7482 229.308 6.47272 191.961 6.47272L73.6222 6.47272Z",fill:"#CFE2FF"}),ev.createElement("rect",{x:"6.70825",y:"7.47266",width:"251.584",height:"251.584",stroke:"#18A0FB",strokeWidth:"2"}),ev.createElement("rect",{x:"10.4165",y:"11.1812",width:"9.4165",height:"9.4165",transform:"rotate(-180 10.4165 11.1812)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"}),ev.createElement("rect",{x:"264",y:"11.1812",width:"9.4165",height:"9.4165",transform:"rotate(-180 264 11.1812)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"}),ev.createElement("rect",{x:"10.4165",y:"264.765",width:"9.4165",height:"9.4165",transform:"rotate(-180 10.4165 264.765)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"}),ev.createElement("rect",{x:"264",y:"264.765",width:"9.4165",height:"9.4165",transform:"rotate(-180 264 264.765)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"})),visualAssets:()=>ev.createElement("svg",{width:"1508",height:"315",viewBox:"0 0 1508 315",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M242.538 163.371L237.078 157.94L242.538 152.479C256.421 138.593 264.22 119.76 264.22 100.124C264.22 80.4878 256.421 61.6555 242.538 47.7689V47.7689C228.651 33.8857 209.819 26.0865 190.183 26.0865C170.547 26.0865 151.714 33.8857 137.828 47.7689L132.367 53.2292L126.936 47.7689C112.977 34.243 94.2593 26.7479 74.8226 26.9011C55.386 27.0543 36.7889 34.8436 23.0446 48.5878C9.30042 62.332 1.51118 80.9292 1.35798 100.366C1.20478 119.803 8.69986 138.52 22.2257 152.479L27.6862 157.94L22.2257 163.371C8.34253 177.257 0.543337 196.09 0.543339 215.726C0.54334 235.362 8.34253 254.195 22.2257 268.081V268.081C36.1124 281.964 54.9447 289.764 74.581 289.764C94.2172 289.764 113.049 281.964 126.936 268.081L132.367 262.621L137.828 268.081C151.787 281.607 170.504 289.102 189.941 288.949C209.378 288.796 227.975 281.007 241.719 267.262C255.463 253.518 263.253 234.921 263.406 215.484C263.559 196.048 256.064 177.33 242.538 163.371V163.371Z",fill:"#C7B9FF"}),ev.createElement("path",{d:"M1183.43 163.371L1177.97 157.94L1183.43 152.479C1197.31 138.593 1205.11 119.76 1205.11 100.124C1205.11 80.4878 1197.31 61.6555 1183.43 47.7689V47.7689C1169.54 33.8857 1150.71 26.0865 1131.08 26.0865C1111.44 26.0865 1092.61 33.8857 1078.72 47.7689L1073.26 53.2292L1067.83 47.7689C1053.87 34.243 1035.15 26.7479 1015.71 26.9011C996.278 27.0543 977.681 34.8436 963.937 48.5878C950.193 62.332 942.404 80.9292 942.25 100.366C942.097 119.803 949.592 138.52 963.118 152.479L968.578 157.94L963.118 163.371C949.235 177.257 941.436 196.09 941.436 215.726C941.436 235.362 949.235 254.195 963.118 268.081V268.081C977.005 281.964 995.837 289.764 1015.47 289.764C1035.11 289.764 1053.94 281.964 1067.83 268.081L1073.26 262.621L1078.72 268.081C1092.68 281.607 1111.4 289.102 1130.83 288.949C1150.27 288.796 1168.87 281.007 1182.61 267.262C1196.36 253.518 1204.14 234.921 1204.3 215.484C1204.45 196.048 1196.96 177.33 1183.43 163.371V163.371Z",fill:"#C7B9FF"}),ev.createElement("path",{d:"M501.892 187.405C466.396 257.794 410.868 300.947 378.862 284.807C346.855 268.667 348.877 197.698 384.373 127.309C419.868 56.9209 475.396 13.7674 507.403 29.9076C539.409 46.0479 537.387 117.017 501.892 187.405Z",fill:"#C7B9FF"}),ev.createElement("path",{d:"M1442.78 187.405C1407.29 257.794 1351.76 300.947 1319.75 284.807C1287.75 268.667 1289.77 197.698 1325.27 127.309C1360.76 56.9209 1416.29 13.7674 1448.29 29.9076C1480.3 46.0479 1478.28 117.017 1442.78 187.405Z",fill:"#C7B9FF"}),ev.createElement("circle",{cx:"753.883",cy:"157.925",r:"131.839",fill:"#C7B9FF"})),development:()=>ev.createElement("svg",{width:"1470",height:"262",viewBox:"0 0 1470 262",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("rect",{y:"0.0859375",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"224",y:"0.0859375",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"283.5",y:"0.0859375",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"378.088",y:"0.0859375",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ev.createElement("rect",{width:"171.686",height:"26",rx:"13",transform:"matrix(-1 0 0 1 770.054 0.0859375)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 579.197 0.0859375)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 528.501 0.0859375)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 447.908 0.0859375)",fill:"#E5E5E5"}),ev.createElement("rect",{x:"786.973",y:"0.0859375",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1010.97",y:"0.0859375",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1070.47",y:"0.0859375",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1165.06",y:"0.0859375",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ev.createElement("rect",{width:"84.6588",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 0.0859375)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1366.17 0.0859375)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1315.47 0.0859375)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1234.88 0.0859375)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 47.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1246 47.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1186.5 47.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 1091.91 47.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{x:"699.946",y:"47.0859",width:"171.686",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"890.803",y:"47.0859",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"941.499",y:"47.0859",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1022.09",y:"47.0859",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 683.027 47.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 459.027 47.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 399.527 47.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 304.938 47.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{y:"47.0859",width:"84.6588",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"103.829",y:"47.0859",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"154.526",y:"47.0859",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"235.119",y:"47.0859",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{y:"94.0859",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"224",y:"94.0859",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"283.5",y:"94.0859",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"378.088",y:"94.0859",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ev.createElement("rect",{width:"171.686",height:"26",rx:"13",transform:"matrix(-1 0 0 1 770.054 94.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 579.197 94.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 528.501 94.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 447.908 94.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{x:"786.973",y:"94.0859",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1010.97",y:"94.0859",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1070.47",y:"94.0859",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1165.06",y:"94.0859",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ev.createElement("rect",{width:"84.6588",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 94.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1366.17 94.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1315.47 94.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1234.88 94.0859)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 141.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1246 141.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1186.5 141.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 1091.91 141.086)",fill:"#E5E5E5"}),ev.createElement("rect",{x:"699.946",y:"141.086",width:"171.686",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"890.803",y:"141.086",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"941.499",y:"141.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1022.09",y:"141.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 683.027 141.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 459.027 141.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 399.527 141.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 304.938 141.086)",fill:"#E5E5E5"}),ev.createElement("rect",{y:"141.086",width:"84.6588",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"103.829",y:"141.086",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"154.526",y:"141.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"235.119",y:"141.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 188.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1246 188.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1186.5 188.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 1091.91 188.086)",fill:"#E5E5E5"}),ev.createElement("rect",{x:"699.946",y:"188.086",width:"171.686",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"890.803",y:"188.086",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"941.499",y:"188.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1022.09",y:"188.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 683.027 188.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 459.027 188.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 399.527 188.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 304.938 188.086)",fill:"#E5E5E5"}),ev.createElement("rect",{y:"188.086",width:"135.355",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"154.526",y:"188.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"235.119",y:"188.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{y:"235.086",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"224",y:"235.086",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"283.5",y:"235.086",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"378.088",y:"235.086",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ev.createElement("rect",{width:"171.686",height:"26",rx:"13",transform:"matrix(-1 0 0 1 770.054 235.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 579.197 235.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 528.501 235.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 447.908 235.086)",fill:"#E5E5E5"}),ev.createElement("rect",{x:"786.973",y:"235.086",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1010.97",y:"235.086",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1070.47",y:"235.086",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ev.createElement("rect",{x:"1165.06",y:"235.086",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ev.createElement("rect",{width:"84.6588",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 235.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1366.17 235.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1315.47 235.086)",fill:"#E5E5E5"}),ev.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1234.88 235.086)",fill:"#E5E5E5"}))};function sB(){return ev.createElement("svg",{width:"1184",height:"295",viewBox:"0 0 1184 295",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M75.7461 191.521C154.454 118.349 215.495 50.7749 291.372 85.2805C338 106.485 355.642 176.088 305.924 219.099C349.842 181.107 406 49.0993 508 85.2805C572.99 108.334 585.608 180.397 560 219.099C608.673 172.524 671.254 69.4188 798.142 106.485C860.139 124.596 885.978 177.065 832.648 219.099C964.991 114.788 1010 106.485 1108.25 106.485",stroke:"#699BF7",strokeWidth:"150",strokeLinecap:"round",strokeLinejoin:"round"}))}let sU="category_pills--categoryPills--NvJUW",sV="category_pills--tagPill--B9Rpd text--fontPos18--rYXJb text--_fontBase--QdLsd",sW="category_pills--categoryPillWrapper--pY-nZ",sG="category_pills--categoryPill--8D9Dk text--fontPos18--rYXJb text--_fontBase--QdLsd",sj="category_pills--hashtag--oj-tu";function sH(e){let{onMouseEnter:t,onMouseLeave:a,hoverIndex:r}=e,n=e=>(0,lI.tW)({...(0,lI.bz)(),category:e}),i=e=>(0,lI.tW)({...(0,lI.bz)(),tags:[e]}),l=e=>()=>(0,eK.L9)("community_hub_landing_pill_clicked",{name:e}),s=-1===r?sB:Object.values(sP)[r];return ev.createElement("div",{className:"category_pills--categoryPillsScrollWrapper--mB4hZ"},ev.createElement(s,null),ev.createElement("div",{className:"category_pills--categoryPillsOverflowWrapper--8yftR"},ev.createElement("div",{className:sU},ev.createElement("div",{className:sW,onMouseEnter:()=>t(0),onMouseLeave:()=>a(-1)},ev.createElement(tY.rU,{className:tQ()(sG,"category_pills--categoryPill1--bqL7u"),to:n(lS.Rj.inspiration),onClick:l(lS.Rj.inspiration)},ev.createElement(eq.Tx,{id:"community.categories.inspiration"})),ev.createElement(()=>ev.createElement("svg",{width:"27",height:"39",viewBox:"0 0 27 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{left:"-10px"}},ev.createElement("path",{d:"M1 13.374C1 6.5395 6.54048 0.999023 13.375 0.999023C20.2095 0.999023 25.75 6.5395 25.75 13.374C25.75 17.611 23.6216 21.351 20.3711 23.5832C19.2107 24.38 18.9467 25.7943 18.8744 27.03C18.8361 27.6841 18.8481 28.3925 18.8675 29.1018C18.8718 29.2571 18.8764 29.4124 18.8811 29.568C18.8882 29.808 18.8954 30.0486 18.9013 30.2904H7.85764C7.85909 30.2455 7.86058 30.2002 7.86208 30.1543C7.89007 29.2997 7.92352 28.2781 7.87593 27.3867C7.83845 26.6848 7.75039 25.9592 7.5497 25.3166C7.35163 24.6823 7.00831 24.0154 6.37892 23.5832C3.1284 21.351 1 17.611 1 13.374Z",fill:"#FFC700",stroke:"black",strokeWidth:"2"}),ev.createElement("rect",{x:"7.875",y:"30.3115",width:"11.0625",height:"7.6875",fill:"#F5F5F5",stroke:"black",strokeWidth:"2"}),ev.createElement("rect",{x:"7.875",y:"34.0824",width:"11.0625",height:"3.9169",fill:"#F5F5F5",stroke:"black",strokeWidth:"2"})),null)),ev.createElement("div",{className:sW,onMouseEnter:()=>t(1),onMouseLeave:()=>a(-1)},ev.createElement(tY.rU,{className:tQ()(sG,"category_pills--categoryPill2--wxuPY"),to:n(lS.Rj.jamSessions),onClick:l(lS.Rj.jamSessions)},ev.createElement(eq.Tx,{id:"community.categories.team_syncs"})),ev.createElement(()=>ev.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{left:"-15px"}},ev.createElement("path",{d:"M8.5536 1.65821L1.65811 8.55372C0.780501 9.43133 0.780501 10.8621 1.65811 11.7397L25.6559 35.7375L37.5 37.5001L35.7374 25.6561L11.7396 1.65821C10.8546 0.780597 9.43121 0.780597 8.5536 1.65821Z",fill:"#A259FF",stroke:"#010101",strokeWidth:"2",strokeMiterlimit:"10"}),ev.createElement("path",{d:"M6.71445 16.8108L16.7959 6.72934",stroke:"#010101",strokeWidth:"2",strokeMiterlimit:"10"})),null)),ev.createElement("div",{className:sW,onMouseEnter:()=>t(2),onMouseLeave:()=>a(-1)},ev.createElement(tY.rU,{className:tQ()(sG,"category_pills--categoryPill3--kMg7b"),to:n(lS.Rj.designSystems),onClick:l(lS.Rj.designSystems)},ev.createElement(eq.Tx,{id:"community.categories.design_systems"})),ev.createElement(()=>ev.createElement("svg",{width:"39",height:"39",viewBox:"-5 0 44 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("rect",{width:"18.4775",height:"18.4775",transform:"matrix(-1 0 0 1 37.9993 19.5231)",fill:"#0FA958",stroke:"black",strokeWidth:"2"}),ev.createElement("rect",{width:"18.4775",height:"18.4775",transform:"matrix(-1 0 0 1 19.5217 1.04504)",fill:"#5551FF",stroke:"black",strokeWidth:"2"}),ev.createElement("rect",{width:"18.4775",height:"18.4775",transform:"matrix(-1 0 0 1 19.5217 19.5231)",fill:"#FFC700",stroke:"black",strokeWidth:"2"})),null)),ev.createElement("div",{className:sW,onMouseEnter:()=>t(3),onMouseLeave:()=>a(-1)},ev.createElement(tY.rU,{className:tQ()(sG,"category_pills--categoryPill4--A2OAr"),to:n(lS.Rj.visualAssets),onClick:l(lS.Rj.visualAssets)},ev.createElement(eq.Tx,{id:"community.categories.visual_assets"})),ev.createElement(()=>ev.createElement("svg",{width:"54",height:"41",viewBox:"0 0 54 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.70544 11.1925C1.70544 14.2998 3.1224 17.0762 5.34542 18.9107C6.08429 19.5205 6.08429 20.8461 5.34544 21.4558C3.12247 23.2903 1.70555 26.0667 1.70555 29.1739C1.70555 34.6979 6.18363 39.176 11.7076 39.176C14.8149 39.176 17.5913 37.7591 19.4258 35.5361C20.0355 34.7973 21.361 34.7973 21.9708 35.5361C23.8053 37.759 26.5816 39.1759 29.6888 39.1759C35.2128 39.1759 39.6909 34.6978 39.6909 29.1738C39.6909 26.0666 38.274 23.2902 36.0511 21.4557C35.3122 20.846 35.3122 19.5205 36.051 18.9108C38.2739 17.0763 39.6908 14.3 39.6908 11.1927C39.6908 5.66874 35.2127 1.19066 29.6887 1.19066C26.5815 1.19066 23.8052 2.60752 21.9707 4.83042C21.361 5.56924 20.0354 5.56922 19.4257 4.83038C17.5912 2.60738 14.8148 1.19043 11.7075 1.19043C6.18353 1.19043 1.70544 5.66851 1.70544 11.1925Z",fill:"#FF8577"}),ev.createElement("path",{d:"M36.0507 18.9108C35.3119 19.5205 35.3119 20.846 36.0507 21.4557C38.2736 23.2902 39.6906 26.0666 39.6906 29.1738C39.6906 34.6978 35.2125 39.1759 29.6885 39.1759C26.5812 39.1759 23.8049 37.759 21.9704 35.5361C21.3607 34.7973 20.0352 34.7973 19.4254 35.5361C17.5909 37.7591 14.8146 39.176 11.7073 39.176C6.18327 39.176 1.70518 34.6979 1.70518 29.1739C1.70518 26.0667 3.1221 23.2903 5.34507 21.4558C6.08393 20.8461 6.08392 19.5205 5.34506 18.9107C3.12204 17.0762 1.70508 14.2998 1.70508 11.1925C1.70508 5.66851 6.18316 1.19043 11.7072 1.19043C14.8145 1.19043 17.5908 2.60738 19.4254 4.83038C20.0351 5.56922 21.3606 5.56924 21.9703 4.83042",stroke:"black",strokeWidth:"2"}),ev.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 36.662 19.5335)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),ev.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 20.6981 6.28331)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),ev.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 6.71913 19.5335)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),ev.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 20.6981 35.6471)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),ev.createElement("path",{d:"M28.9806 26.7571C29.8755 31.0997 33.7205 34.3648 38.3281 34.3648C39.3732 34.3648 40.3791 34.1969 41.3202 33.8864L45.752 38.3182L51.8871 32.1829L47.4239 27.7198C47.7151 26.8055 47.8722 25.8315 47.8722 24.8208C47.8722 20.3796 44.8387 16.6469 40.7306 15.5817L24.4458 10.9385L28.9806 26.7571Z",fill:"white"}),ev.createElement("path",{d:"M24.4458 10.9385L40.7306 15.5817C44.8387 16.6469 47.8722 20.3796 47.8722 24.8208C47.8722 25.8315 47.7151 26.8055 47.4239 27.7198L51.8871 32.1829L45.752 38.3182L41.3202 33.8864C40.3791 34.1969 39.3732 34.3648 38.3281 34.3648C33.7205 34.3648 29.8755 31.0997 28.9806 26.7571L24.4458 10.9385ZM24.4458 10.9385L38.2871 24.7798",stroke:"#010101",strokeWidth:"2"}),ev.createElement("path",{d:"M39.9841 26.7178C38.9676 27.7343 37.3195 27.7343 36.303 26.7178C35.2865 25.7013 35.2865 24.0532 36.303 23.0367C37.3195 22.0202 38.9676 22.0202 39.9841 23.0367C41.0006 24.0532 41.0006 25.7013 39.9841 26.7178Z",fill:"#010101"})),null)),ev.createElement("div",{className:sW,onMouseEnter:()=>t(4),onMouseLeave:()=>a(-1)},ev.createElement(tY.rU,{className:tQ()(sG,"category_pills--categoryPill5--SmCTl"),to:n(lS.Rj.development),onClick:l(lS.Rj.development)},ev.createElement(eq.Tx,{id:"community.categories.development"})),ev.createElement(()=>ev.createElement("svg",{width:"61",height:"41",viewBox:"0 0 61 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M36.2556 1.09681C44.2775 1.09681 50.1487 7.51627 50.7359 14.543C56.0886 16.1282 60 21.064 60 26.9137C60 34.043 54.2016 39.8221 47.0486 39.8221H13.2312C5.9146 39.8221 0.999512 35.0384 0.999512 29.0651C0.999512 24.0698 4.5294 19.1616 9.63362 18.3082C9.63362 9.70275 17.5486 6.1171 23.3045 8.98537C25.4632 4.68233 30.1058 1.09668 36.2558 1.09668L36.2556 1.09681Z",fill:"#0FA958",stroke:"black",strokeWidth:"2"}),ev.createElement("path",{d:"M15.5087 23.5748L21.5532 17.5302L22.7621 18.7392L17.9265 23.5748L22.7621 28.4104L21.5532 29.6193L15.5087 23.5748Z",fill:"black",stroke:"black",strokeWidth:"0.740592"}),ev.createElement("path",{d:"M45.6095 23.5759L39.5649 29.6205L38.356 28.4116L43.1917 23.5759L38.356 18.7403L39.5649 17.5314L45.6095 23.5759Z",fill:"black",stroke:"black",strokeWidth:"0.740592"}),ev.createElement("rect",{x:"35.0591",y:"14.0024",width:"1.70966",height:"21.1997",transform:"rotate(30 35.0591 14.0024)",fill:"black",stroke:"black",strokeWidth:"0.740592"})),null))),ev.createElement("div",{className:sU},ev.createElement(tY.rU,{className:sV,to:i("icons"),onClick:l("icons")},ev.createElement("span",{className:sj},"#"),ev.createElement(eq.Tx,{id:"community.categories.icons"})),ev.createElement(tY.rU,{className:sV,to:i("accessibility"),onClick:l("accessibility")},ev.createElement("span",{className:sj},"#"),ev.createElement(eq.Tx,{id:"community.categories.accessibility"})),ev.createElement(tY.rU,{className:sV,to:i("web"),onClick:l("web")},ev.createElement("span",{className:sj},"#"),ev.createElement(eq.Tx,{id:"community.categories.web"})),ev.createElement(tY.rU,{className:sV,to:i("mobile"),onClick:l("mobile")},ev.createElement("span",{className:sj},"#"),ev.createElement(eq.Tx,{id:"community.categories.mobile"})),ev.createElement(tY.rU,{className:sV,to:i("wireframe"),onClick:l("wireframe")},ev.createElement("span",{className:sj},"#"),ev.createElement(eq.Tx,{id:"community.categories.wireframe"})))))}function s$({categorySlug:e}){if(!e)return ev.createElement(ev.Fragment,null);let t=function(e){let t=ng(!0);return ev.useMemo(()=>{for(let a=0;a<t.length;a++)if(t[a].category.urlSlug===e)return[...t[a].dropdownCategories];return[]},[t,e])}(e);return ev.createElement("div",{className:"subcategories_container--subcategoriesContainer--5JvxS"},t.map(e=>{let t=`/community/category/${e.urlSlug}`;return ev.createElement(eI.Ve,{key:e.urlSlug,to:t},ev.createElement("div",{className:"subcategories_container--subcategory--fewxy text--fontPos14--OL9Hp text--_fontBase--QdLsd"},e.text))}))}let sz="tag_and_search_header--tagOrSearchHeaderContainer--i-UIA text--fontPos16--oMC-G text--_fontBase--QdLsd",sK="tag_and_search_header--tagOrSearchHeaderInnerWrapper--Pb-dS",sZ=(e,t)=>e.resourceType===rQ.x.SearchResourceTypes.MIXED?ev.createElement(eq.Tx,{id:"community.landing_page.query_header__mixed",query:t}):e.resourceType===rQ.x.SearchResourceTypes.PLUGINS?ev.createElement(eq.Tx,{id:"community.landing_page.query_header__plugins",query:t}):e.resourceType===rQ.x.SearchResourceTypes.FILES?ev.createElement(eq.Tx,{id:"community.landing_page.query_header__files",query:t}):e.resourceType===rQ.x.SearchResourceTypes.WIDGETS?ev.createElement(eq.Tx,{id:"community.landing_page.query_header__widgets",query:t}):e.resourceType===rQ.x.SearchResourceTypes.PROFILES?ev.createElement(eq.Tx,{id:"community.landing_page.query_header__profiles",query:t}):ev.createElement(eq.Tx,{id:"community.landing_page.query_header",query:t});function sq({tags:e,view:t}){let a=sZ(t,e.map(e=>ev.createElement("strong",{key:e},"#",e)));return ev.createElement("div",{className:sz},ev.createElement("h1",{className:sK},a))}function sY({query:e,view:t,error:a}){return ev.createElement("div",{className:tQ()({[sz]:!0,"tag_and_search_header--mobileSearchHeaderContainer--gWJWx":eN.ZP.mobile})},ev.createElement("h1",{className:sK},a?ev.createElement(eq.Tx,{id:"community.error.could_not_complete_search",error:ev.createElement("strong",null,a)}):sZ(t,ev.createElement("strong",null,e))))}let sJ=["HubFile","Plugin","Widget","FreeHubFile","FreePlugin","FreeWidget","MonetizedHubFile","MonetizedPlugin","MonetizedWidget"],sQ=(e,t)=>{let a=t.getBoundingClientRect(),r=t.closest(`.${e6.rc}`).getBoundingClientRect();e.style.width=a.width+"px",e.style.height=a.height+"px",e.style.top=a.y-r.y+"px"};function sX({view:e,tagsFromResources:t,resourceCounts:a,history:r}){let n=[({active:e})=>ev.createElement("svg",{width:"19",height:"19",viewBox:"-1 -1 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e?ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM12 0C11.4477 0 11 0.447715 11 1V7C11 7.55228 11.4477 8 12 8H18C18.5523 8 19 7.55228 19 7V1C19 0.447715 18.5523 0 18 0H12Z",fill:"var(--color-icon-selected, #0D99FF)"}):ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM13 6V2H17V6H13ZM11 1C11 0.447715 11.4477 0 12 0H18C18.5523 0 19 0.447715 19 1V7C19 7.55228 18.5523 8 18 8H12C11.4477 8 11 7.55228 11 7V1Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),e=>ev.createElement("svg",{width:"18",height:"23",viewBox:"0 0 18 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M-0.000976562 0.00390625H11.4132L17.999 6.58969V22.0039H-0.000976562V0.00390625ZM1.99902 2.00391V20.0039H15.999V8.00391H9.99902V2.00391H1.99902ZM11.999 3.41812L14.5848 6.00391H11.999V3.41812Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),e=>ev.createElement("svg",{width:"18",height:"24",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C7.12831 2 6 3.10615 6 4.29412C6 4.80364 6.18423 5.32346 6.52975 5.77907C6.86869 6.22599 6.8635 6.76903 6.69667 7.1662C6.52648 7.57138 6.10414 8 5.46502 8H1.99902V21.9961H16V19.6417C15.4694 19.8705 14.8924 20 14.2942 20C11.6161 20 10 17.5466 10 15C10 12.4534 11.6161 10 14.2942 10C14.8924 10 15.4694 10.1295 16 10.3583V8H12.535C11.8959 8 11.4735 7.57138 11.3033 7.1662C11.1365 6.76903 11.1313 6.22599 11.4703 5.77907C11.8158 5.32346 12 4.80364 12 4.29412C12 3.10615 10.8717 2 9 2ZM4 4.29412C4 1.61609 6.45341 0 9 0C11.5466 0 14 1.61609 14 4.29412C14 4.89237 13.8705 5.46938 13.6417 6H16.125C17.1605 6 18 6.83947 18 7.875V11.465C18 12.1041 17.5714 12.5264 17.1662 12.6966C16.769 12.8635 16.226 12.8687 15.7791 12.5297C15.3235 12.1842 14.8037 12 14.2942 12C13.1062 12 12 13.1283 12 15C12 16.8717 13.1062 18 14.2942 18C14.8037 18 15.3235 17.8158 15.7791 17.4703C16.226 17.1313 16.769 17.1365 17.1662 17.3034C17.5714 17.4736 18 17.8959 18 18.535V22.1211C18 23.1566 17.1605 23.9961 16.125 23.9961H1.87402C0.838488 23.9961 -0.000976562 23.1566 -0.000976562 22.1211V7.875C-0.000976562 6.83947 0.838488 6 1.87402 6H4.35834C4.12951 5.46938 4 4.89237 4 4.29412Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),e=>ev.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.41421 10.5854L3.5146 8.485V5.51451V3.51451H5.5146H8.48509L10.5854 1.41421L11.9996 0L13.4138 1.41421L15.5141 3.51451H18.4846H20.4846V5.51451V8.485L22.585 10.5854L23.9992 11.9996L22.585 13.4138L20.4846 15.5142V18.4845V20.4845H18.4846H15.5143L13.4138 22.585L11.9996 23.9992L10.5854 22.585L8.48491 20.4845H5.5146H3.5146V18.4845V15.5142L1.41421 13.4138L0 11.9996L1.41421 10.5854ZM5.5146 8.485V5.51451H8.48509H9.31352L9.8993 4.92872L11.9996 2.82843L14.0999 4.92872L14.6857 5.51451H15.5141H18.4846V8.485V9.31343L19.0704 9.89921L21.1708 11.9996L19.0704 14.1L18.4846 14.6858V15.5142V18.4845H15.5143H14.6859L14.1001 19.0703L11.9996 21.1708L9.89912 19.0703L9.31334 18.4845H8.48491H5.5146V15.5142V14.6858L4.92882 14.1L2.82843 11.9996L4.92882 9.89921L5.5146 9.31343V8.485ZM13.2526 8.65802L13.9111 7.90544L12.4059 6.58843L11.7474 7.34101L8.24742 11.341L6.79623 12.9995H9H12.7962L10.7474 15.341L10.0889 16.0936L11.5941 17.4106L12.2526 16.658L15.7526 12.658L17.2038 10.9995H15H11.2038L13.2526 8.65802Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),e=>ev.createElement("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 6C14 8.20914 12.2091 10 10 10C7.79086 10 6 8.20914 6 6C6 3.79086 7.79086 2 10 2C12.2091 2 14 3.79086 14 6ZM16 6C16 9.31371 13.3137 12 10 12C6.68629 12 4 9.31371 4 6C4 2.68629 6.68629 0 10 0C13.3137 0 16 2.68629 16 6ZM2.25203 22C3.14012 18.5495 6.27232 16 10 16C13.7277 16 16.8599 18.5495 17.748 22H2.25203ZM10 14C14.8379 14 18.8734 17.4355 19.8 22C19.9311 22.6462 20 23.3151 20 24H18H2H0C0 23.3151 0.0688605 22.6462 0.200036 22C1.12658 17.4355 5.16208 14 10 14Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"}))],i=ev.useRef(null);ev.useEffect(()=>{if(i.current&&e.resourceType){let e=i.current.parentNode.querySelector(`.${e6.bB}`);sQ(i.current,e)}},[e.resourceType]);let l=[[rQ.x.BrowseResourceTypes.MIXED,(0,eq.t)("community.view_bar.all")],[rQ.x.BrowseResourceTypes.FILES,(0,eq.t)("community.view_bar.files_and_templates")],[rQ.x.BrowseResourceTypes.PLUGINS,(0,eq.t)("community.view_bar.plugins")],[rQ.x.BrowseResourceTypes.WIDGETS,(0,eq.t)("community.view_bar.widgets")]];return"string"==typeof e.query&&l.push(["profiles",(0,eq.t)("community.view_bar.creators")]),ev.createElement("div",{className:e6.rc},ev.createElement("div",{className:e6.WA,ref:i}),ev.createElement("ul",null,l.map(([t,i],l)=>{let s=(0,lI.tW)({...(0,lI.bz)(),resourceType:t}),o=n[l],c="query"in e?ev.createElement("span",{className:e6.ph},a[t]??0):null;return ev.createElement("a",{key:t,href:s,onClick:a=>{a.preventDefault(),r.push(s),(0,eK.L9)("resource_type_filter_changed",{resource_type:t,from:e.resourceType})}},ev.createElement("li",{className:e.resourceType===t?e6.bB:""},ev.createElement(o,{active:e.resourceType===t}),ev.createElement("span",{className:e6.K0},i),c))})),(0,lS.KF)(e)&&ev.createElement(lf,{category:e.category,resourceType:e.resourceType,tagsFromResources:t}))}function s0({onUpdate:e,initialValues:t,resourceType:a}){let r=a===rQ.x.BrowseResourceTypes.MIXED||a===rQ.x.BrowseResourceTypes.PLUGINS,n=a===rQ.x.BrowseResourceTypes.FILES,i=[[{key:ss.R.Editors.ALL,label:(0,eq.t)("community.landing_page.sort.all_products")},{key:ss.R.Editors.FIGMA,label:(0,eq.t)("community.view_bar.figma")},r?{key:ss.R.Editors.DEV_MODE,label:(0,eq.t)("community.view_bar.dev_mode")}:null,n?{key:ss.R.Editors.PROTOTYPE,label:(0,eq.t)("community.view_bar.figma_prototype")}:null,{key:ss.R.Editors.FIGJAM,label:(0,eq.t)("community.view_bar.fig_jam")}].filter(Boolean)];return ev.createElement(lA.Fj,{name:(0,eq.t)("community.landing_page.dropdown_filter__editor"),onUpdate:e,options:i,initialValues:t,adtlClassName:tQ()({[e6.GL]:!0,[e6.yV]:!0}),dataOnboardingKey:sh,onClick:()=>{(0,eK.L9)(sE)}})}function s1({shouldShowOnDesktop:e,onUpdate:t,initialValues:a,isSearchView:r,editorType:n}){let i=[[{key:rQ.x.BrowseResourceTypes.MIXED,label:(0,eq.t)("community.view_bar.all_resources")},{key:rQ.x.BrowseResourceTypes.FILES,label:(0,eq.t)("community.view_bar.files")},{key:rQ.x.BrowseResourceTypes.PLUGINS,label:(0,eq.t)("community.view_bar.plugins")},{key:rQ.x.BrowseResourceTypes.WIDGETS,label:(0,eq.t)("community.view_bar.widgets")}]];return r&&i[0].push({key:"profiles",label:(0,eq.t)("community.view_bar.creators")}),r||n!==ss.R.Editors.DEV_MODE||(i[0]=[{key:rQ.x.BrowseResourceTypes.PLUGINS,label:(0,eq.t)("community.view_bar.plugins")}]),ev.createElement(lA.Fj,{name:(0,eq.t)("community.landing_page.dropdown_filter__resource_type"),onUpdate:t,options:i,initialValues:a,adtlClassName:tQ()({[e6.GL]:!0,[e6.S2]:!e})})}function s2({onUpdate:e,initialValues:t,isSearchView:a}){let r=!a&&(0,nc.j)(),n=[[{key:sl.I.ALL,label:(0,eq.t)("community.view_bar.all_creators")},r?{key:sl.I.FOLLOWING,label:(0,eq.t)("community.view_bar.following")}:null,{key:sl.I.FIGMA_PARTNER,label:(0,eq.t)("community.view_bar.figma_partners_only")}].filter(Boolean)];return ev.createElement(lA.Fj,{name:(0,eq.t)("community.landing_page.dropdown_filter__creators"),onUpdate:e,options:n,initialValues:t,adtlClassName:tQ()({[e6.GL]:!0,[e6.Hm]:!0})})}let s3=ev.forwardRef(function({view:e,onUpdate:t},a){let r=(0,lS.TC)(e),n=[[r?{key:lD.A.Search.RELEVANCY,label:(0,eq.t)("community.landing_page.sort.relevancy")}:null,{key:lD.A.Shared.POPULAR,label:(0,eq.t)("community.landing_page.sort.trending")},{key:lD.A.Shared.ALL_TIME,label:(0,eq.t)("community.curated_page.popular")},{key:lD.A.Shared.PUBLISHED_AT,label:(0,eq.t)("community.landing_page.sort.recent")}].filter(Boolean)];return r&&e.price!==l_.L.FREE&&(n[0]=n[0].concat([{key:lD.A.Shared.PRICE_DESC,label:(0,eq.t)("community.landing_page.sort.price_high_to_low")},{key:lD.A.Shared.PRICE_ASC,label:(0,eq.t)("community.landing_page.sort.price_low_to_high")}])),ev.createElement("div",{className:e6.RN,ref:a,"data-resource-type":e.resourceType},ev.createElement("div",{className:e6.Tx},(null==e?void 0:e.resourceType)!=="profiles"&&ev.createElement(s0,{onUpdate:([a])=>{t("editor_type",a),(0,eK.L9)("editor_type_filter_changed",{editor_type:a,from:e.editor_type})},initialValues:e.editor_type?[e.editor_type]:[],resourceType:e.resourceType}),ev.createElement(s1,{shouldShowOnDesktop:(0,lI.Vg)(e),onUpdate:([a])=>{t("resourceType",a),(0,eK.L9)("resource_type_filter_changed",{resource_type:a,from:e.resourceType})},initialValues:[e.resourceType],isSearchView:"query"in e,editorType:e.editor_type}),ev.createElement(lA.Fj,{name:(0,eq.t)("community.landing_page.dropdown_filter__paid"),onUpdate:([a])=>{t("price",a),(0,eK.L9)("price_filter_changed",{price:a,from:e.price}),a===l_.L.FREE&&(e.sort_by===lD.A.Shared.PRICE_ASC||e.sort_by===lD.A.Shared.PRICE_DESC)&&t("sort_by",lD.A.Shared.POPULAR)},adtlClassName:tQ()({[e6.GL]:!0}),initialValues:[e.price],options:[[{key:l_.L.ALL,label:(0,eq.t)("community.landing_page.sort.paid_and_free")},{key:l_.L.PAID,label:(0,eq.t)("community.landing_page.sort.paid")},{key:l_.L.FREE,label:(0,eq.t)("community.landing_page.sort.free")}]]}),ev.createElement(s2,{onUpdate:([a])=>{t("creators",a),(0,eK.L9)("creators_filter_changed",{creators:a,from:e.creators})},initialValues:e.creators?[e.creators]:[],isSearchView:"query"in e})),(null==e?void 0:e.resourceType)!=="profiles"&&"sort_by"in e&&ev.createElement(lA.Fj,{name:(0,eq.t)("community.curated_page.sort"),onUpdate:([e,a])=>{t("sort_by",e),t("following",null==a?void 0:a.following),(0,eK.L9)("ranking_type_filter_changed",{ranking_type:e,is_following:!!(null==a?void 0:a.following)})},initialValues:[e.sort_by,{following:!!e.following}],options:n}))});function s4({onButtonClick:e}){return ev.createElement("button",{className:e6.jW,onClick:e,"aria-label":(0,eq.t)("community.category_page.filter")},ev.createElement(eq.Tx,{id:"community.category_page.filter"}),ev.createElement(lu.J,{icon:"filter-32",fill:"default"}))}function s8({view:e,onUpdate:t}){let[a,r]=ev.useState(!1),n=[[{key:lD.A.Shared.POPULAR,label:(0,eq.t)("community.landing_page.sort.trending")},{key:lD.A.Shared.ALL_TIME,label:(0,eq.t)("community.curated_page.popular")},{key:lD.A.Shared.PUBLISHED_AT,label:(0,eq.t)("community.landing_page.sort.recent")}]];return ev.createElement("div",{className:ek.cx.flex.justifyBetween.pb12.$},ev.createElement("div",{className:ek.cx.flexColumn.gap2.relative.$},ev.createElement(s4,{onButtonClick:()=>r(!a)}),a&&ev.createElement("div",{className:ek.cx.h10.w10.absolute.$})),ev.createElement(lA.Fj,{name:(0,eq.t)("community.curated_page.sort"),onUpdate:([e,a])=>{t("sort_by",e),t("following",null==a?void 0:a.following),(0,eK.L9)("ranking_type_filter_changed",{ranking_type:e,is_following:!!(null==a?void 0:a.following)})},initialValues:[e.sort_by,{following:!!e.following}],options:n,showBorder:!0}))}let s5=new Date;function s9(){let e,t;let[a,r]=ev.useState(-1);switch(a){case 0:e=ev.createElement(eq.Tx,{id:"community.landing_page.word.spark"}),t=ev.createElement(eq.Tx,{id:"community.categories.banner.inspiration"});break;case 1:e=ev.createElement(eq.Tx,{id:"community.landing_page.word.fun"}),t=ev.createElement(eq.Tx,{id:"community.categories.banner.jam_sessions"});break;case 2:e=ev.createElement(eq.Tx,{id:"community.landing_page.word.structure"}),t=ev.createElement(eq.Tx,{id:"community.categories.banner.design_systems"});break;case 3:e=ev.createElement(eq.Tx,{id:"community.landing_page.word.life"}),t=ev.createElement(eq.Tx,{id:"community.categories.banner.visual_assets"});break;case 4:e=ev.createElement(eq.Tx,{id:"community.landing_page.word.power"}),t=ev.createElement(eq.Tx,{id:"community.categories.banner.development"});break;default:e=null,t=null}return ev.createElement(ev.Fragment,null,ev.createElement(ai.ZP,{showIf:e=>e<1024},ev.createElement("h1",{className:e6.qr},ev.createElement(eq.Tx,{id:"community.landing_page.welcome_to_figma_community"})),ev.createElement("h2",{className:e6.$I},ev.createElement(eq.Tx,{id:"community.landing_page.subhead.explore_thousands_of_free_and_paid_templates_widgets_and_plugins"}))),ev.createElement(ai.ZP,{showIf:e=>e>=1024},e?ev.createElement("h1",{className:e6.qr},ev.createElement(eq.Tx,{id:"community.landing_page.add_a_little_magic",magic:ev.createElement("span",{"data-color":["--color-text-assistive","--color-text-figjam","--color-text-brand","--color-text-danger","--color-text-success"][a]||"--color-bg-brand",className:e6.mg},e)})):ev.createElement("h1",{className:e6.qr},ev.createElement(eq.Tx,{id:"community.landing_page.welcome_to_figma_community"})),ev.createElement("h2",{className:e6.$I},t||(0,eq.t)("community.landing_page.subhead.explore_thousands_of_free_and_paid_templates_widgets_and_plugins"))),ev.createElement(si,null),ev.createElement(sH,{onMouseEnter:e=>{r(e),s5=new Date},onMouseLeave:()=>{let e=new Date;setTimeout(()=>{e>s5&&r(-1)},300)},hoverIndex:a}))}let s6={files:0,plugins:0,widgets:0,mixed:0,profiles:0},s7=function(){let e=[],t={};return{push:(a,r)=>{let n=a.pathname+a.search,i=t[n];if(i||e.push(n),t[n]={scrollPosition:0,...i||{},state:r},e.length>10){let a=e.shift();delete t[a]}},get:e=>{let a=e.pathname+e.search,r=t[a];if(r)return r},setScroll:(e,a)=>{let r=e.pathname+e.search,n=t[r];return!!n&&(n.scrollPosition=a,!0)}}}();function oe({next_page:e,onClick:t,isMoreToFetch:a}){if(!a||!e)return null;let r=new URL(location.href),n=new URLSearchParams(r.search);return n.set("next_page",btoa(e)),r.search=n.toString(),ev.createElement("div",{className:e6.M0},ev.createElement(eA.pJ,{innerText:"View more resources"},ev.createElement("a",{onClick:t,href:r.toString()},ev.createElement(eq.Tx,{id:"community.landing_page.view_more_resources"}))))}class ot extends ev.Component{constructor(e){super(e),this.feedAppWrapper=null,this.hasLoadedFirstTimeForView=!1,this.impressedResourcesForView=new Set,this.impressedResourcesLoggingBuffer=[],this.state={resources:[],resourceCounts:s6,searchResponse:void 0,searchError:void 0,shelves:void 0,pagination:void 0,tags:[],profiles:[],isActivelyLoadingRequest:!1},this.feedContentRef=ev.createRef(),this.filterControlsRef=ev.createRef(),document.title=(0,ej.Kw)(this.props.view),this.sendResourceImpressions=(0,ld.D)(()=>{if(0===this.impressedResourcesLoggingBuffer.length)return;let{view:e}=this.props,{trackingContext:t,properties:a}=this.getTrackingProps();(0,eK.L9)("hub_impressed_resources",{impressedItems:this.impressedResourcesLoggingBuffer.map(({id:e})=>e),impressedItemTypes:this.impressedResourcesLoggingBuffer.map(({type:e})=>e),sort:e.sort_by,resourceType:e.resourceType,trackingContext:t,...a}),this.impressedResourcesLoggingBuffer=[]},1e3)}componentDidMount(){this.queryWithParamsAndUpdateState(void 0),(0,lS.TC)(this.props.view)&&this.props.dispatch(lm.C.startSearch({entryPoint:"community"})),this.scrollFunction=(0,ld.D)(()=>{s7.setScroll(this.props.history.location,window.scrollY)},50),window.addEventListener("scroll",this.scrollFunction)}showFeedAsTable(){var e,t;return(null==(e=this.props.view)?void 0:e.resourceType)===rQ.x.BrowseResourceTypes.PLUGINS||(null==(t=this.props.view)?void 0:t.resourceType)===rQ.x.SearchResourceTypes.PROFILES}componentDidUpdate(e,t){(0,eb.wU)(this.props.view,e.view)?(s7.push(this.props.history.location,this.state),s7.setScroll(this.props.history.location,window.scrollY)):(this.hasLoadedFirstTimeForView=!1,this.queryWithParamsAndUpdateState(e.view),document.title=(0,ej.Kw)(this.props.view),this.sendAndResetResourceImpressions())}componentWillUnmount(){(0,lS.TC)(this.props.view)&&this.props.dispatch(lm.C.endSession()),this.sendAndResetResourceImpressions(),window.removeEventListener("scroll",this.scrollFunction)}isMoreToFetch(){var e,t;if(!this.hasLoadedFirstTimeForView)return!0;if(null==(e=this.state.pagination)?void 0:e.next_page){let e=null==(t=this.state.pagination)?void 0:t.next_page.split("?")[1],a=new URLSearchParams(e),r=sJ.some(e=>!!a.get(`${e}[id_cursor]`));return r}return!1}parseSearchResponse([e,t]){var a;let r;let n=e.map(e=>{let t=e.model;return"is_widget"in t?(t.is_widget,(0,r3.db)(t)):t}),i={files:[],plugins:[],widgets:[],mixed:n};n.forEach(e=>{"is_widget"in e?e.is_widget?i.widgets.push(e):i.plugins.push(e):i.files.push(e)}),r=this.props.view.resourceType===rQ.x.SearchResourceTypes.PROFILES?t:i[(null==(a=this.props.view)?void 0:a.resourceType)??rQ.x.BrowseResourceTypes.MIXED];let l=Object.keys(i).reduce((e,t)=>(e[t]=i[t].length,e),{});return l.profiles=t.length,{resources:r,resourceCounts:l}}asyncFetchAdditionalSearchResources(){let{dispatch:e,view:t,searchSessionId:a}=this.props,r=e((0,lO.b)().filter(t).searchResources({resourceType:"files"})),n=e((0,lO.b)().filter(t).searchResources({resourceType:"plugins"})),i=e((0,lO.b)().filter(t).searchResources({resourceType:"widgets"}));Promise.all([r,n,i]).then(([e,r,n])=>{if(!this.state.searchResponse)return;let i=[...e.data.meta.results,...r.data.meta.results,...n.data.meta.results],l=this.state.searchResponse[0].reduce((e,t)=>(e[t.model.id]=!0,e),{});i=i.filter(e=>!l[e.model.id]).sort((e,t)=>e.score>t.score?-1:1),this.state.searchResponse[0]=[...this.state.searchResponse[0],...i];let{resources:s,resourceCounts:o}=this.parseSearchResponse(this.state.searchResponse);(0,eK.L9)("search_query_result",{query:t.query,responseCounts:this.state.searchResponse[0].length,scope:"community",entry_point:"community",context:"searchView",searchSessionId:a}),this.setState({searchResponse:[this.state.searchResponse[0],this.state.searchResponse[1]],resources:s,resourceCounts:o})}).catch(()=>{})}querySearch(){var e;let{view:t,dispatch:a}=this.props;null==(e=this.feedAppWrapper)||e.setAttribute("data-hide","true");let r=(0,lO.b)().filter(t);return a(r.searchResourcesAndProfiles({resourceType:"mixed"})).then(e=>{let t=[e[0].data.meta.results,e[1].data.meta.results],{resources:a,resourceCounts:r}=this.parseSearchResponse(t);this.asyncFetchAdditionalSearchResources(),this.setState({searchResponse:t,searchError:void 0,resources:a,resourceCounts:r},()=>{var e;null==(e=this.feedAppWrapper)||e.removeAttribute("data-hide")})}).catch(e=>{(0,lS.TC)(this.props.view)&&this.setState({searchError:e.message||(0,eq.t)("community.error.search_request_failed"),resources:[]})})}queryBrowse(){var e,t,a;let r;let{view:n}=this.props,i=(0,lO.b)().filter(n),l=Promise.resolve(this.state.shelves),s=this.hasLoadedFirstTimeForView&&(null==(e=this.state.pagination)?void 0:e.next_page);return s?r=(0,rI.b$)(null==(t=this.state.pagination)?void 0:t.next_page):(null==(a=this.feedAppWrapper)||a.setAttribute("data-hide","true"),r=i.browse(n.resourceType),l=this.state.shelves?l:e0.w.getCommunityShelves().then(e=>e.data.meta)),Promise.all([r,l]).then(e=>{let[t,a]=e;a&&a.length>0&&(0,eH.EB)({name:"community-landing-shelves-loaded"});let r=(a??[]).filter(eX);if(!t)throw Error("Error handling response");let{data:i}=t,{meta:l,pagination:o}=i,{resources:c}=l;this.setState({resources:s?[...this.state.resources,...c]:c,shelves:r,pagination:o,tags:(0,ej.Cw)(c).filter(e=>{var t;return(null==(t=n.tags)?void 0:t.indexOf(e))===-1}),searchError:void 0},()=>{var e;null==(e=this.feedAppWrapper)||e.removeAttribute("data-hide")})})}shouldSearch(e,t){return!(0,lS.TC)(e)||e.resourceType===t.resourceType||(0,lI.Gs)({...e,resourceType:"profiles"})!==(0,lI.Gs)({...t,resourceType:"profiles"})}async queryWithParamsAndUpdateState(e){var t,a;if(!this.props.view||this.state.isActivelyLoadingRequest||!this.isMoreToFetch())return;let r=this.hasLoadedFirstTimeForView&&(null==(t=this.state.pagination)?void 0:t.next_page);if(!r){let e=s7.get(this.props.history.location);if(e){this.setState(e.state,()=>window.scrollTo(0,e.scrollPosition||0)),null==(a=this.feedAppWrapper)||a.removeAttribute("data-hide"),this.hasLoadedFirstTimeForView=!0;return}}this.setState({isActivelyLoadingRequest:!0});let n=(0,lS.TC)(this.props.view);try{n?e&&!this.shouldSearch(e,this.props.view)&&this.state.searchResponse?this.setState({resources:this.parseSearchResponse(this.state.searchResponse).resources,searchError:void 0}):await this.querySearch():await this.queryBrowse(),this.hasLoadedFirstTimeForView=!0}catch(e){}this.setState({isActivelyLoadingRequest:!1})}resetScrollPosition(){var e;let t=(null==(e=this.feedContentRef.current)?void 0:e.getBoundingClientRect().top)||0,a=this.filterControlsRef.current?this.filterControlsRef.current.getBoundingClientRect().top+this.filterControlsRef.current.getBoundingClientRect().height:0,r=t-a;r<0&&window.scrollTo({top:window.scrollY+r,behavior:"smooth"})}addResourceImpression(e){let t=e.id,a=(0,ej.yA)(e),r=`${t}-${a}`;this.impressedResourcesForView.has(r)||(this.impressedResourcesForView.add(r),this.impressedResourcesLoggingBuffer.push({id:e.id,type:(0,ej.yA)(e)}),this.sendResourceImpressions())}sendAndResetResourceImpressions(){this.sendResourceImpressions.flush(),this.impressedResourcesForView.clear()}getTrackingProps(){let{view:e}=this.props,t=e.category,a=e.tags,r=!!(null==a?void 0:a.length),n=e.query;return"string"==typeof n?{trackingContext:r2.V4.COMMUNITY_HUB_SEARCH,properties:{searchQuery:n}}:t?{trackingContext:r2.V4.COMMUNITY_HUB_CATEGORY,properties:{category:t}}:r?{trackingContext:r2.V4.COMMUNITY_HUB_TAG,properties:{tags:a.join(",")}}:{trackingContext:r2.V4.COMMUNITY_HUB,properties:{}}}render(){var e;let{view:t}=this.props;if(!t){if(ej.yu)throw Error("This should never happen. Fastma should always have a `view`.");return ev.createElement(ev.Fragment,null)}let a=t.category,r=a&&Object.values(lS.Rj).includes(a)?a:null,n=!!a,i=n&&(0,r4.vz)(!1),l=t.tags,s=!!(null==l?void 0:l.length),o=t.query,c="string"==typeof o,{resourceType:d}=t,m=(n||s||c)&&this.hasLoadedFirstTimeForView&&0===this.state.resources.length,u="";m&&(u=a||o||l.join(", ")||"");let{trackingContext:_,properties:p}=this.getTrackingProps();return ev.createElement(e3.Ui,{name:_,properties:p},ev.createElement(e1.F,null),ev.createElement("div",{ref:e=>this.feedAppWrapper=e},r?ev.createElement(sM,{category:r,isRedesignEnabled:i}):null,s&&ev.createElement(sq,{tags:l,view:t}),(0,lS.TC)(t)&&ev.createElement(sY,{query:t.query,view:t,error:this.state.searchError}),ev.createElement("div",{className:e6.vC},!i&&ev.createElement(sX,{view:t,tagsFromResources:this.state.tags,resourceCounts:this.state.resourceCounts,history:this.props.history}),ev.createElement("div",{className:tQ()(e6.LR,{[e6.x5]:i})},!i&&ev.createElement(s3,{ref:this.filterControlsRef,view:t,onUpdate:(e,t)=>{this.props.history.replace((0,lI.tW)({...(0,lI.bz)(),[e]:t})),this.resetScrollPosition()}}),i&&ev.createElement(ev.Fragment,null,ev.createElement(s$,{categorySlug:r}),ev.createElement(s8,{view:t,onUpdate:(e,t)=>{this.props.history.replace((0,lI.tW)({...(0,lI.bz)(),[e]:t})),this.resetScrollPosition()}})),ev.createElement("div",{ref:this.feedContentRef},m?ev.createElement(lE,{resourceType:d,query:u,view:t,isError:!!this.state.searchError}):ev.createElement(tt,{onIntersectionChange:(e,t)=>{t.isIntersecting&&this.addResourceImpression(e)},adtlClassName:te(this.showFeedAsTable()?"rows":"compact"),resources:this.state.resources,showAsTable:this.showFeedAsTable(),showMoreCallback:(0,eT.BZ)().cmty_footer?ex.ZT:()=>this.queryWithParamsAndUpdateState(),viewContext:"communityFeed"})),!this.state.isActivelyLoadingRequest&&(0,eT.BZ)().cmty_footer&&ev.createElement(oe,{next_page:null==(e=this.state.pagination)?void 0:e.next_page,onClick:e=>{e.preventDefault(),this.queryWithParamsAndUpdateState()},isMoreToFetch:this.isMoreToFetch()}),this.state.isActivelyLoadingRequest&&ev.createElement(eJ.$j,null)))),(0,eT.BZ)().cmty_footer&&!(0,ey.P)()&&ev.createElement("div",{className:e6.dK},ev.createElement(tU,null)))}}ot.displayName="FeedPage";class oa extends ot{componentDidMount(){this.queryWithParamsAndUpdateState(this.props.view),this.scrollFunction=(0,ld.D)(()=>{s7.setScroll(this.props.history.location,window.scrollY)},50),window.addEventListener("scroll",this.scrollFunction)}render(){var e;let{view:t}=this.props;if(!t){if(ej.yu)throw Error("This should never happen. Fastma should always have a `view`.");return ev.createElement(ev.Fragment,null)}return ev.createElement(e3.Ui,{name:r2.V4.COMMUNITY_HUB_LANDING},ev.createElement(e1.F,null),ev.createElement(sy,null),ev.createElement("div",{ref:e=>this.feedAppWrapper=e},ev.createElement("div",{className:e6.Cg},ev.createElement("div",{className:e6.LR},ev.createElement("div",{className:e6.g_},ev.createElement(s9,null)),this.state.shelves&&this.state.shelves.length>0&&ev.createElement("div",{className:e6.g_},ev.createElement("h2",{className:e6._u},ev.createElement(eq.Tx,{id:"community.view_bar.discover_whats_new"}),ev.createElement(e3.po,{className:e6.Mg,trackingEventName:"community_collections",trackingProperties:{name:"see_all_cta_clicked"},href:"/community/collections"},ev.createElement(eq.Tx,{id:"community.curated_page.see_all"}))),ev.createElement(tI,{shelf:this.state.shelves[0],key:this.state.shelves[0].id,size:"half"}),ev.createElement(tL,{href:"https://www.figma.com/community-creators",title:(0,eq.t)("community.shelves.fund_your_creativity"),subtitle:(0,eq.t)("general.learn_more"),size:"half"})),ev.createElement("h2",{className:e6._u},ev.createElement(eq.Tx,{id:"community.landing_page.by_the_community_for_the_community"})),ev.createElement(s3,{ref:this.filterControlsRef,view:t,onUpdate:(e,t)=>{this.props.history.replace((0,lI.tW)({...(0,lI.bz)(),[e]:t})),this.resetScrollPosition()}}),ev.createElement("div",{ref:this.feedContentRef,className:e6.MR},ev.createElement(tt,{onIntersectionChange:(e,t)=>{t.isIntersecting&&this.addResourceImpression(e)},adtlClassName:te(this.showFeedAsTable()?"rows":"normal"),resources:this.state.resources,showAsTable:this.showFeedAsTable(),showMoreCallback:(0,eT.BZ)().cmty_footer?ex.ZT:()=>this.queryWithParamsAndUpdateState(),viewContext:"communityFeed"})),!this.state.isActivelyLoadingRequest&&ev.createElement(oe,{next_page:null==(e=this.state.pagination)?void 0:e.next_page,onClick:e=>{e.preventDefault(),this.queryWithParamsAndUpdateState()},isMoreToFetch:this.isMoreToFetch()}),this.state.isActivelyLoadingRequest&&ev.createElement(eJ.$j,null)))),(0,eT.BZ)().cmty_footer&&!(0,ey.P)()&&ev.createElement("div",{className:e6.dK},ev.createElement(tU,null)))}}var or=a(84315);let on=a(250973);function oi(){let e=(0,eb.I0)(),t=(0,nt.d8)();return(null==t?void 0:t.primary_user_id)?ev.createElement(ev.Fragment,null):ev.createElement("div",{className:"admin_profile_banner--root--HDfDA"},ev.createElement("span",{className:"admin_profile_banner--text--cpDIW text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},(null==t?void 0:t.org_id)?ev.createElement(eq.Tx,{id:"community.banner.browsing_community_as_the_current_profile_name_organization",profileName:null==t?void 0:t.name}):ev.createElement(eq.Tx,{id:"community.banner.browsing_community_as_the_current_profile_name_team",profileName:null==t?void 0:t.name})),ev.createElement("div",{className:"admin_profile_banner--closeIconContainer--bm5wf",onClick:()=>{e((0,or.J3)())}},ev.createElement(eD.n,{svg:on,className:"admin_profile_banner--close--ib2wO"})))}var ol=a(65373),os=a(418465),oo=a(547699),oc=a(65249),od=a(111120),om=a(153574),ou=a(685056),o_=a(536562),op=a(767831),og=a(198456);let oE="seen_account_profile_switcher_onboarding",oh=(0,o_.n_)(oE),of=(0,o_.n_)("file_browser_onboarded");function ov(){let e=(0,r9.Dv)(oh),t=(0,r9.Dv)(of),a=(0,r9.Dv)(ou.JT),r=Date.now(),n=()=>r-12096e5,i=(0,so.I)({id:sd.G.AccountProfileSwitcherPointer,priority:su.b4.OVERRIDING_MODAL},[e,t,a]);return(0,eZ.O)(()=>{i.show({canShow:(e,t,a)=>!e&&t&&null!=a&&a.getTime()<n()})}),ev.createElement(s_.a,{onboardingKey:og.ip,modalType:sp.w8.DRAGGABLE,currentStepIndex:0,totalNumSteps:1,isShowing:i.isShowing,onClickPrimaryCta:i.complete,onClose:i.complete,onManualDismiss:i.complete,element:()=>ev.createElement(ob,null),trackingContextName:"File Browser Account Profile Switcher Overlay",userFlagOnShow:oE,title:ev.createElement("div",{className:ek.cx.ml8.$},ev.createElement(oc.x,{fontSize:13},ev.createElement(eq.Tx,{id:"rcs.account_profile_switcher.title"}))),additionalButton:{onClickBehavior:"link",label:ev.createElement(eq.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/articles/1500005165741"},ctaText:(0,eq.t)("rcs.got_it")})}function ob(){return ev.createElement(op.cn,null,ev.createElement(oc.x,{fontSize:11},ev.createElement(eq.Tx,{id:"rcs.account_profile_switcher.description"})))}var oy=a(53499),ow=a(239019),oT=a(379183);function ox(){let e=(0,nt.hC)(),t=(0,lR.XU)(),a=(0,nt.d8)(),r=e&&!!a,n=(0,nt.HS)(),i=ev.useRef(null),l=(0,eb.v9)((0,om.o)(oT.Q)),s=(0,eb.I0)(),[o,c]=(0,r9.KO)(oy.Z);return ev.useLayoutEffect(()=>{var e;c(null==(e=i.current)?void 0:e.getBoundingClientRect())},[c]),ev.createElement(ev.Fragment,null,!e&&ev.createElement(sb.V,null,ev.createElement(ov,null)),ev.createElement(ow.P,{buttonClassName:"account_switcher--accountDropdownButton--JVtb0",ref:i,onClick:()=>{l||s(od.SP({type:oT.Q}))},isShowingDropdown:l,"aria-label":(0,eq.t)("navbar.settings_dropdown.button_label")},ev.createElement("div",{className:"account_switcher--dropdownButtonContent--GPGDx","data-onboarding-key":og.ip,"data-testid":"ProfileButton"},ev.createElement("div",{className:ek.cx.relative.inlineFlex.$},ev.createElement(oo.Yt,{user:r&&(0,nt.Kk)(a)?n:t,size:oo.DZ.MEDIUM})),ev.createElement(oc.x,{fontSize:13,fontWeight:"medium",truncate:!0},r&&(0,nt.Kk)(a)?a.name:t.name),r&&(0,nt.Kk)(a)&&ev.createElement(os.Ct,{className:tQ()("account_switcher--adminBadge--ys5HM",ek.cx.mr0.$),color:os.JV.TERTIARY,text:(0,eq.t)("navbar.community.admin_label")}))),i.current&&l&&ev.createElement(oT.I,{targetRect:i.current.getBoundingClientRect(),dispatch:s}))}var oN=a(804089),oC=a(801998),oS=a(330509);function ok(e){return ev.createElement("div",{className:tQ()("red_dot--redDot--pc7zb",e.redDotClassName)})}function oI(e){return ev.createElement("div",{className:tQ()("seasonal_red_dot--seasonalRedDot--QWiyC",e.redDotClassName)},"\u2764\uFE0F")}function oL(e){return ev.createElement("div",{className:tQ()("notification_bell--redDotAndBellContainer--6eZoQ",{"notification_bell--bellRing--RWk0e":e.useAnimation&&e.hasNotifications,"notification_bell--redDotAndBellContainerActive--bHSAN":e.isActive})},ev.createElement(t3.JO,{icon:"bell-32"}),e.hasNotifications&&(e.seasonal?ev.createElement(oI,{redDotClassName:"notification_bell--seasonalRedDotPosition--FLROR"}):ev.createElement(ok,{redDotClassName:"notification_bell--redDotPosition---RAxj"})))}function oR(e){var t,a;let r;let n=(0,eb.v9)(e=>e.userNotifications),i=(0,lR.XU)(),l=(0,nt.hC)(),s=(0,nt.d8)();r=l?!!s&&!!n.communityProfileBellStates[s.id]:!!(null==(a=null==(t=n.userBellStates)?void 0:t[i.id])?void 0:a[oS.U8]);let o=!e.hideNotificationsOverride&&n&&r;return ev.createElement(oL,{hasNotifications:o,isActive:e.isActive,seasonal:!!(0,eT.BZ)().notif_bell_seasonal,useAnimation:!!(0,eT.BZ)().notif_bell_animation})}let oA="sidebar-user-notifications-dropdown";function oO(){let e=(0,eb.I0)(),t=(0,nt.hC)(),a=(0,eb.v9)((0,om.o)(oA)),r=ev.useRef(null),n=(0,eb.v9)(e=>(0,oC.kL)(e));return ev.createElement("div",null,ev.createElement("button",{"data-onboarding-key":og.MF,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":n?(0,eq.t)("navbar.navbar.notifications_disabled_tooltip"):void 0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300,ref:r,className:ek.cx.bRadius4.overflowHidden.flexShrink0.$,onClick:()=>{var t;let n=null==(t=r.current)?void 0:t.getBoundingClientRect();n&&!a&&(e(od.SP({type:oA,data:{targetRect:n}})),(0,eK.L9)("notification_dropdown_opened",{source:"Web"}))},onMouseDown:oN.UW,disabled:n},ev.createElement(oR,{isActive:a,hideNotificationsOverride:a})),a&&ev.createElement(oS.zN,{containerClassName:"notifications--centerDropdown--R3Lp-",inCommunity:t}))}function oD({hideNotifications:e=!1}){let t=(0,nt.hC)(),a=(0,nt.d8)(),r=t&&!(0,nt.ok)(a),n=!e&&!r&&(!(0,eT.BZ)().file_browser_enable_mweb||!eN.tS);return ev.createElement("div",{className:ek.cx.justifyBetween.flex.flexRow.itemsCenter.pt8.ml8.mr8.mb8.lh0.$},ev.createElement(ox,null),n&&ev.createElement(oO,null))}var oF=a(637635),oM=a(597837),oP=a(204829),oB=a(865497),oU=a(698605);let oV=ev.forwardRef(function(e,t){let{disabled:a,onClick:r,onMouseDown:n,onKeyDown:i,icon:l,recordingKey:s,children:o,onFocus:c,onBlur:d,width:m="hug-contents","data-tooltip":u,"data-tooltip-type":_,"data-onboarding-key":p,dataTestId:g}=e,E=oP.Wn(s,"click",r||ex.ZT),h=s?E:r,f=oP.Wn(s,"mousedown",n||ex.ZT),v=s?f:n,b=ev.useCallback(e=>{var t;null!=(t=oB.p)&&t(e)||(null==i||i(e),e.keyCode===ly.sr.ESCAPE&&e.currentTarget.blur())},[i]);return ev.createElement("button",{disabled:a,onClick:h,onMouseDown:v,onKeyDown:b,className:function({width:t,children:a}){let r=["text_button_with_background_color-tsx--buttonBase--L9fQ- button--buttonBase---72nl",(0,oU.Vg)(e.parentBackgroundColor)?"text_button_with_background_color-tsx--buttonTextForDarkBackground--NCLkV":"text_button_with_background_color-tsx--buttonTextForLightBackground--4bWE9"];switch(a||r.push("text_button_with_background_color-tsx--withNoChildren--ateNw"),t){case"hug-contents":r.push("text_button_with_background_color-tsx--buttonHugContents--C16Ql");break;case"fill-parent":r.push("text_button_with_background_color-tsx--buttonFillParent--wURWE")}return tQ()(r)}({width:m,children:o}),onFocus:c,onBlur:d,ref:t,"data-tooltip":u,"data-tooltip-type":_,"data-onboarding-key":p,"data-testid":g},l&&ev.createElement("div",{className:"text_button_with_background_color-tsx--iconContainer--rVHx1"},ev.createElement(t3.JO,{icon:l})),o&&ev.createElement(oc.x,{fontSize:11,fontWeight:"regular",truncate:!0},o))});function oW(e){let t=t=>{if(t.target instanceof HTMLInputElement)return;let a=eN.ZP.mac&&t.metaKey&&!t.shiftKey&&!t.altKey||eN.ZP.windows&&!t.metaKey&&!t.shiftKey&&t.altKey;eN.ZP.mac&&e.isLeftEnabled&&"["===t.key&&a?e.onLeftClick():eN.ZP.mac&&e.isRightEnabled&&"]"===t.key&&a?e.onRightClick():e.isLeftEnabled&&"ArrowLeft"===t.key&&a?e.onLeftClick():e.isRightEnabled&&"ArrowRight"===t.key&&a&&e.onRightClick()};ev.useEffect(()=>(window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}));let a={icon:"chevron-left-32",variant:"text",disabled:!e.isLeftEnabled,onClick:e.onLeftClick,dataTestId:"file-browser-desktop-navigation-chevrons-left"},r={icon:"chevron-right-32",variant:"text",disabled:!e.isRightEnabled,onClick:e.onRightClick,dataTestId:"file-browser-desktop-navigation-chevrons-right"};return e.parentBackgroundColor?ev.createElement("div",{className:ek.cx.flex.flexRow.$},ev.createElement(oV,{parentBackgroundColor:e.parentBackgroundColor,...a}),ev.createElement(oV,{parentBackgroundColor:e.parentBackgroundColor,...r})):ev.createElement("div",{className:ek.cx.flex.flexRow.$},ev.createElement(oM.z,{...a}),ev.createElement(oM.z,{...r}))}var oG=a(217810);let oj=ev.createContext({canGoBack:!1,canGoForward:!1,goBack:()=>{},goForward:()=>{}}),oH=()=>(0,oG.LG)(ev.useContext(oj),"Must be wrapped within <FileBrowserNavigationContext.Provider>");function o$(){let e=(0,r9.Dv)(oF.b);return!!ey.YO&&!e}function oz({parentBackgroundColor:e}){let{goBack:t,goForward:a,canGoBack:r,canGoForward:n}=oH();return ev.createElement(oW,{onLeftClick:t,onRightClick:a,isLeftEnabled:r,isRightEnabled:n,parentBackgroundColor:e})}var oK=a(483752);let oZ="community_nav_heading--titleText--k-KMb text--fontPos13--xW8hS text--_fontBase--QdLsd",oq="community_nav_heading--titleTextDisabled--83pxo",oY="community_nav_heading--titleTextDesktopMargin--dhJKl";function oJ(){let e=(0,eb.I0)(),t=(0,lc.v)(),a=(0,lI.$l)()&&t;return ev.createElement("div",{className:tQ()(oZ,{[oq]:a,[oY]:ey.YO}),onClick:()=>{(0,lI.$l)()?window.scrollTo({top:0,behavior:"smooth"}):e(od.fv({view:"communityHub",subView:"landing",tab:null,category:oK.aj}))}},ev.createElement(eq.Tx,{id:"navbar.navbar.community_title"}))}var oQ=a(501713),oX=a(811327);function o0(e){return ev.createElement(oX.I,{className:ek.cx.h48.$,...e})}let o1=a(830553),o2=a(214928);function o3(){let e=(0,eb.I0)();return ev.createElement(o0,{onboardingKey:oQ.Di,svg:o1,fallbackSvg:o2,enabled:!0,textStyle:ek.cx.font13.pl8.pr16.$,onClick:t=>{if(t.stopPropagation(),t.preventDefault(),(0,eK.L9)("community_browser_navbar_action_clicked"),t.metaKey)return;let a={view:"communityHub",subView:"searchAndBrowse",data:lI.zK};e(od.fv(a))}})}var o4=a(704933),o8=a(435804),o5=a(450473),o9=a(157607),o6=a(587487);let o7="community_universal_publish_button--publishContextAction--tVL00 action--root--VrwWJ chevron--chevronContainer--0MO2x";function ce(){let e=(0,eb.I0)(),t="CommunityUniversalPublishButtonTooltipKey",a=(0,lR.XU)(),r=(0,eb.v9)(e=>!e.currentUserOrgId||!!(0,nt.h_)(e)[e.currentUserOrgId]),[n,i]=ev.useState(!1),l=ev.useRef(),s=(0,o8.A6)();return r?ev.createElement("div",{className:o7},ev.createElement("div",{className:"subView"in s&&("hubFile"===s.subView||"plugin"===s.subView||"widget"===s.subView)?"community_universal_publish_button--publishButton__DARK---hRGw community_universal_publish_button--publishButton--DVld4":"community_universal_publish_button--publishButton--DVld4",role:"button",tabIndex:0,onClick:()=>{(0,eK.L9)("community_publish_modal",{user:a.id,step:o4.h.OPENED}),e(ig.K4({type:o5.W,data:{source:e4.M4.NAVBAR}}))}},ev.createElement(eq.Tx,{id:"navbar.navbar.publish_button_label"}))):ev.createElement("div",{className:o7,"data-onboarding-key":t,onMouseEnter:()=>{l.current&&clearTimeout(l.current),i(!0)},onMouseLeave:()=>{l.current=setTimeout(()=>i(!1),300)}},ev.createElement("div",{className:"community_universal_publish_button--publishButtonDisabled--Q-O8h community_universal_publish_button--publishButton--DVld4",role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"navbar.navbar.publish_button_label"})),n&&ev.createElement(o6.Qm,{targetKey:t,width:264,className:"community_universal_publish_button--disabledPublishButtonTooltip--TsDUX pointer_modal--pointerModal--wrpFz text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",shouldCenterArrow:o9.Ht.FALLBACK,backgroundColor:"var(--color-bg-tooltip, #000)"},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"navbar.navbar.disabled_publish_button_label"}))))}var ct=a(686096),ca=a(795596),cr=a(85808),cn=a(502594),ci=a(561237),cl=a(15888),cs=a(125865);function co(e){let t=(0,eb.I0)(),a=(0,lR.XU)(),r=(0,eb.v9)(e=>e.userNotifications.userBellStates),n=(0,eb.v9)(e=>e.userNotifications.communityProfileBellStates),i=(0,eb.v9)(e=>e.selectedView.view),[l,s]=(0,ev.useState)(new Map),[o,c]=(0,ev.useState)(!0);(0,eZ.O)(()=>{c(!0),m()});let d=e=>{let t=new Map;e.forEach(e=>{t.set(e.notification_id,e)}),s(t),c(!1)},m=(0,ld.D)(()=>{var l;if(e.inCommunity){if(a&&a.community_profile_id){let e=n[a.community_profile_id];if(e){let e={isBellStateHigh:!1,userInitiated:!0,profileId:a.community_profile_id};t((0,cn.j)(e))}ci.g.getCommunityServerDriven({currentView:i}).then(({data:e})=>{let t=e.meta;d(t)}).catch(e=>{t(r7.R.enqueue({message:(0,eq.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),t(od.kp())})}}else{let n=e.currentOrgId,s=n||ca.fd,o=a&&(null==(l=null==r?void 0:r[a.id])?void 0:l[s]);if(o){let e={isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:s,userId:null==a?void 0:a.id};t((0,cn.Z)(e))}ci.g.getServerDriven({currentOrgId:n||"",currentView:i}).then(({data:e})=>{let t=e.meta;d(t)}).catch(e=>{t(r7.R.enqueue({message:(0,eq.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),t(od.kp())})}},800,!0);return ev.createElement("div",{className:e.containerClassNameOverride?e.containerClassNameOverride:tQ()(0!==l.size||o?cs.tR:cs.LG,e.containerClassName,{[cs.FC]:e.arrowRight}),onMouseDown:e=>{e.stopPropagation()}},ev.createElement(cc,{notifications:[...l.values()],title:e.title,isFetchingNotifications:o,inCommunity:e.inCommunity,fillParent:e.fillParent,showHeaderOnlyWhenUnread:e.showHeaderOnlyWhenUnread,updateNotificationCallback:(e,t)=>{s(new Map(l.set(e,t)))},containerClassNameOverride:e.containerClassNameOverride,titleFn:e.titleFn,markAllAsReadFn:()=>{let a=e.inCommunity?"/api/user_notifications/community/mark_read":"/api/user_notifications/mark_read",r={current_org_id:e.currentOrgId,currentView:i,source:ey.Gu?"desktopbell":"web"};rI.ZP.post(a,r).then(()=>{let e=Array.from(l,([e,t])=>(t.is_unread=!1,[e,t]));s(new Map(e))}).catch(()=>{t(r7.R.enqueue({message:(0,eq.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})}}),e.renderDropdownChevron&&ev.createElement("div",{className:cs.LW},ev.createElement("div",{className:cs.VI})))}function cc(e){let t=()=>!e.isFetchingNotifications&&0!==e.notifications.length&&e.notifications.some(e=>e.is_unread);return ev.createElement(ev.Fragment,null,(!e.showHeaderOnlyWhenUnread||t())&&ev.createElement("div",{className:cs.Fs,onClick:e=>{e.stopPropagation()}},ev.createElement("div",{className:cs.Q6},e.title||e.titleFn&&e.titleFn(e.notifications)||(0,eq.t)("user_notifications.notifications")),t()&&ev.createElement(eA.rU,{onClick:e.markAllAsReadFn,className:cs.p4,trusted:!0},ev.createElement(eq.Tx,{id:"user_notifications.dropdown.mark_all_as_read"}))),e.isFetchingNotifications?ev.createElement("div",{className:cs.xf},ev.createElement(ax.TK,null)):0===e.notifications.length?ev.createElement("div",{className:cs.yR},ev.createElement(eq.Tx,{id:"user_notifications.dropdown.no_notifications"})):ev.createElement(cr.l,{className:`${e.fillParent?"":cs.Lw}`},ev.createElement("div",null,e.notifications.map((t,a)=>ev.createElement(cl.P,{key:a,notification:t,updateNotificationCallback:e.updateNotificationCallback})))))}let cd=a(285624),cm="navbar-user-notifications-dropdown";function cu(){var e,t;let a=(0,eb.I0)(),r=(0,eb.v9)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===cm}),n=(0,lR.XU)(),i=(0,eb.v9)(e=>(0,ct.Sj)(e)),l=(0,eb.v9)(e=>e.userNotifications),s=(0,eb.v9)(e=>e.currentUserOrgId),o=(0,eb.v9)(e=>e.orgById),c=(0,eb.v9)(e=>e.userStateLoaded),d=(0,nt.hC)(),m=(0,nt.d8)(),u=(0,eb.v9)(e=>(0,oC.kL)(e)),_=!1;if(d)m&&(_=l&&!r&&!!l.communityProfileBellStates[m.id]);else{let a=s||ca.fd;_=l&&!r&&!!(null==(t=null==(e=l.userBellStates)?void 0:e[n.id])?void 0:t[a])}return ev.createElement("div",{"data-onboarding-key":og.MF,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":u?(0,eq.t)("navbar.navbar.notifications_disabled_tooltip"):void 0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},ev.createElement("div",{className:u?"notification_button--disabledMainRedDotAndTopBarActionContainer--amipL notification_button--mainRedDotAndTopBarActionContainer--vWJzZ red_dot--redDotAndIconContainer--6eFns":"notification_button--mainRedDotAndTopBarActionContainer--vWJzZ red_dot--redDotAndIconContainer--6eFns"},ev.createElement(o0,{enabled:c,svg:cd,svgStyle:_&&(0,eT.BZ)().notif_bell_animation&&"notification_button--bellRing--YE7yB"||void 0,onClick:()=>{if(r){a(od.kp());return}a(od.SP({type:cm})),(0,eK.L9)("notification_dropdown_opened",{source:"Web"})}},_&&((0,eT.BZ)().notif_bell_seasonal?ev.createElement("div",{className:"notification_button--seasonalNotificationRedDot--ccYlF"},"\u2764\uFE0F"):ev.createElement("div",{className:"notification_button--mainNotificationRedDot--OgWnZ red_dot--baseRedDot--AZelu"}))),r&&ev.createElement("div",{className:"notification_button--notificationsDropdownContainer--nnjAP"},ev.createElement(co,{currentOrgId:s,orgById:o,inCommunity:d,title:i,arrowRight:!0}))))}var c_=a(15014);let cp=(0,o_.n_)(oQ.t1);function cg(){let e=(0,r9.Dv)(ou.vL),t=(0,r9.Dv)(cp),a=(0,so.I)({id:sd.G.CommunityProfileAdminDropdownOnboarding,priority:su.b4.SECONDARY_MODAL,queueOnBlock:!0},[t]);return(0,eZ.O)(()=>{e&&a.show({canShow:e=>!e})}),(0,sc.J)(a.uniqueId,[al.CY.PROFILE_ADMIN_MENU_OPEN,"Lost DOM Target"],()=>{a.isShowing&&a.complete()}),ev.createElement(s_.a,{isShowing:a.isShowing,trackingContextName:"Community Profile Admin Dropdown Pointer",element:oQ.uX,userFlagOnShow:oQ.t1,modalType:sp.w8.SELF_CONTAINED,onClickPrimaryCta:ex.ZT,onClose:a.complete,onManualDismiss:a.complete})}function cE(){return ev.createElement(ev.Fragment,null,ev.createElement(sb.V,null,ev.createElement(cg,null)))}var ch=a(555532);let cf=a(624336);function cv(){let e=(0,eb.I0)(),t=(0,nt.d8)(),a=(0,eb.v9)(e=>(0,c_.L)(e,e.authedActiveCommunityProfile)),r=(0,eb.v9)(e=>e.selectedView.view),n=ev.useRef(null),i=(0,eb.v9)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===ch.Ex});return t?ev.createElement(e3.Ui,{name:"community-profile-admin-dropdown"},ev.createElement("div",{className:"profile_admin_context--profileContextAction--C2jJh action--root--VrwWJ chevron--chevronContainer--0MO2x",onClick:()=>{var t;let a=null==(t=n.current)?void 0:t.getBoundingClientRect();a&&!i&&((0,nt.XF)("toolbar",r),e(od.SP({type:ch.Ex,data:{targetRect:a}})))}},ev.createElement("div",{className:"profile_admin_context--profileContextDropdown---KKRL"},(0,nt.Kk)(t)?ev.createElement(eq.Tx,{id:"navbar.navbar.browse_as_community_profile",activeCommunityProfile:a}):ev.createElement(eq.Tx,{id:"navbar.navbar.browse_as_admin"}),ev.createElement("div",{className:"profile_admin_context--profileContextChevron--ntSvM profile_admin_context--chevronContainer--MDHO4","data-onboarding-key":oQ.C4,ref:n},ev.createElement(eD.n,{className:"profile_admin_context--profileChevronIcon--W9t-M",svg:cf}))),ev.createElement(ch.aL,null),ev.createElement(cE,null))):null}function cb(e){let t=(0,nt.d8)(),a=!e.inCommunity,r=(0,re.X)(600),n=(0,eb.v9)(e=>"search"===e.selectedView.view),i=(0,eb.v9)(e=>Object.keys((0,nt.h_)(e)).length+Object.keys((0,nt.hu)(e,e.user.id)).length>0);return ev.createElement("div",{className:ek.cx.flex.itemsCenter.flexRow.$},e.inCommunity&&(!e.isMobile||!r)&&i&&ev.createElement(cv,null),e.isMobile&&ev.createElement(e.SearchComponent,{isMobile:e.isMobile}),e.inCommunity&&!e.isMobile&&!!t&&!n&&ev.createElement(ce,null),!e.inCommunity&&ev.createElement(o3,null),a&&ev.createElement(cu,null))}function cy({CommunityHeadingComponent:e=oJ,SearchComponent:t=ol.QZ}){let a=(0,nt.hC)(),r=(0,re.X)(760),n=!!ey.YO,i=(0,eb.v9)(e=>e.communityHub.showingCommunityAdminBanner),[l,s]=(0,r9.KO)(oy.Z),o=ev.useRef(null);return ev.useLayoutEffect(()=>{var e;s(null==(e=o.current)?void 0:e.getBoundingClientRect())},[s]),ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"navbar--navbarContainer--TcAQk"},ev.createElement("div",{className:"navbar--leftNav--8v0ZB"},ev.createElement("div",{className:"navbar--accountAndNotificationsContainer--CQt6v"},ev.createElement(oD,{hideNotifications:r})),a&&n&&ev.createElement("div",{className:"navbar--navigationChevronsContainer--7KQiM"},ev.createElement(oz,null)),a&&ev.createElement("div",{className:"navbar--communityHeadingContainer--L4G5H"},ev.createElement(e,null))),!r&&ev.createElement("div",{className:"navbar--searchComponentContainer--pubuF"},ev.createElement(t,null)),ev.createElement("div",{className:"navbar--rightActions--bGoir"},ev.createElement(cb,{inCommunity:a,profileEntryRef:o,SearchComponent:t,isMobile:r}))),a&&i&&ev.createElement(oi,null))}var cw=a(36940),cT=a(869949),cx=a(172497),cN=a(346887),cC=a(124040),cS=a(11802),ck=a(504552),cI=a(676848),cL=a(332224);function cR(){let e=!(0,re.X)((0,cx.F)(cL.Wy5)),t=ng(e);return ev.createElement("div",{className:ek.cx.flex.flexRow.justifyCenter.flexBasisAuto.$},t.map(({category:e,dropdownCategories:t},a)=>ev.createElement(cA,{parentCategory:e,dropdownCategories:t,key:a})))}function cA({parentCategory:e,dropdownCategories:t}){let[a,r]=ev.useState(!1),[n,i]=ev.useState(0),l=()=>{i(n+1),r(!1)},s=ev.createElement("div",{className:a?"nav_category_selector--navCategorySelectorTextHover--EsRcW nav_category_selector--navCategorySelectorText--TdbiR text--fontPos13--xW8hS text--_fontBase--QdLsd":"nav_category_selector--navCategorySelectorText--TdbiR text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.text);return ev.createElement("div",{onMouseEnter:()=>{r(!0)},onMouseMove:()=>{a||r(!0)},onMouseLeave:()=>{r(!1)}},ev.createElement(lA.ME,{key:`${e.urlSlug}-${n}`,preview:ev.createElement("div",{className:"nav_category_selector--navdropdownCategoriesContainer--JESG1"},t.map((e,t)=>ev.createElement(e3.Ui,{name:"Global Nav Category",properties:{slug:e.urlSlug},key:t},ev.createElement(e3.po,{trackingEventName:"community_global_nav_category_clicked",href:`/community/category/${e.urlSlug}`,onClick:l,className:"nav_category_selector--navDropdownCategory--laaCI text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.text))))},"more"===e.urlSlug?s:ev.createElement(e3.Ui,{name:"Global Nav Category",properties:{slug:e.urlSlug}},ev.createElement(e3.po,{trackingEventName:"community_global_nav_category_clicked",href:`/community/category/${e.urlSlug}`},s))))}let cO=a(860370),cD=a(923459),cF=a(574749),cM=a(357772);function cP({onLoginClick:e=()=>(0,rZ.Hn)(cT.zd.SIGN_IN,{preventDefaultRedirect:!0}),onSignUpClick:t=()=>(0,rZ.Hn)(cT.zd.SIGN_UP)}){let a=ev.useRef(null),r=(0,re.X)((0,cx.F)(cL.zH2)),n=(0,re.X)((0,cx.F)(cL.wg1)),i=(0,lI.bz)(location.pathname),l=(0,lS.TC)(i),[s,o]=ev.useState(!1),[c,d]=ev.useState(l?i.query:""),m=r?cM:cF,[u,_]=ev.useState(!1),p=ev.useCallback(()=>{d("")},[]),g=(0,eC.rm)("cmty_nav_signup_button"),E=g.getValue("use_start_for_free_text",!1),h=g.getValue("use_blue_background",!1),f=!n&&(0,r4.uE)(!1),v=(0,ck.VL)(),b=(0,eT.BZ)().exp_google_one_tap_v2&&(0,cS.xe)(v),y=f?(0,eq.t)("community.search.placeholder"):(0,eq.t)("community.search.placeholder.search_for_a_resource"),w=!f||u?ev.createElement("div",{className:"community_logged_out_nav--searchBox--bE4Wh",tabIndex:0,onFocus:()=>{null!==a.current&&a.current.focus()}},ev.createElement(eD.n,{svg:m}),ev.createElement("div",{key:""+r,className:r?"community_logged_out_nav--inputBoxMobile--p4YRd community_logged_out_nav--inputBox--Te-W7":"community_logged_out_nav--inputBox--Te-W7"},ev.createElement("input",{value:c,type:"text",placeholder:y,ref:a,onKeyUp:e=>{13===e.keyCode&&((0,eK.L9)("search_enter_search_view_via_enter",{entry_point:"fastma"}),location.href=(0,lI.Gs)({...lI.Sl,query:e.target.value.trim()}))},onChange:e=>d(e.target.value),onFocus:()=>{s||((0,eK.L9)("search_start",{entry_point:"fastma"}),o(!0))},required:!0}),!!c.length&&ev.createElement("div",{tabIndex:0,role:"button","aria-label":(0,eq.t)("community.search.clear"),className:"community_logged_out_nav--closeButton--F5gRH community_logged_out_nav--_button--NRif5",onClick:()=>{d("")}},ev.createElement(eD.n,{svg:cD})))):ev.createElement("div",{className:ek.cx.wFull.flex.justifyEnd.$,onClick:()=>{_(!0)},role:"button",tabIndex:0},ev.createElement(eD.n,{svg:m})),T=f&&window.innerWidth>800,x=ev.createElement(lA.Lt,{className:"community_logged_out_nav--searchInputDropdownWrapper--fLHQF dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",preview:c&&!l&&window.innerWidth>800&&ev.createElement(l5,{query:c,context:lS.OT.NAV,smallWidth:T,clearSearchInput:p}),disableRepositioning:!0},!f&&w,f&&ev.createElement("div",{className:ek.cx.flex.flexRow.justifyEnd.$},ev.createElement("div",{className:ek.cx.flex.alignCenter.$,style:{minWidth:u?220:0}},w)));return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"community_logged_out_nav--nav--HVdRr"},b&&ev.createElement("div",{className:"community_logged_out_nav--oneTapContainer--rzpp4"},ev.createElement(cI.K,{origin:cN.xx.COMMUNITY_FASTMA,iFrameHandler:e=>{(0,rZ.Hn)(),(0,rZ.C$)({name:cN.YW,userInfo:e,redirectUrl:ew.default.location.pathname,origin:cN.xx.COMMUNITY_FASTMA})}})),ev.createElement("div",{className:ek.cx.absolute.colorBg.zIndexMinus1.wFull.h48.bSolid.colorBorder.bb1.$}),ev.createElement("div",{className:ek.cx.flex.flexRow.mr4.$},ev.createElement("div",{className:"community_logged_out_nav--logoLinkWrapper--a02iE"},ev.createElement("a",{href:"/"},ev.createElement(rS,null))),ev.createElement("a",{href:"/community",className:"community_logged_out_nav--navCommunityText--WlcfX text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(eD.n,{svg:cO}),(0,eq.t)("community.community"))),ev.createElement("div",{className:"community_logged_out_nav--navbarCategorySearchContainer--eOYmR"},f&&ev.createElement("div",{className:ek.cx.hFull.flex1.$}),f&&ev.createElement(cR,null),ev.createElement("div",{className:f?ek.cx.flex1.hFull.flex.justifyEnd.$:ek.cx.flex1.hFull.flex.justifyCenter.$},f?ev.createElement("div",null,x):x)),ev.createElement("div",{className:"community_logged_out_nav--authButtonContainer--RMKTV"},ev.createElement(ai.ZP,{showIf:e=>e>600},ev.createElement(e3.XT,{className:"community_logged_out_nav--logInButton---e3KN community_logged_out_nav--_button--NRif5 text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{trackingDescriptor:cC.y.LOGGED_OUT_NAV_LOGIN},onClick:e,type:"button"},(0,eq.t)("community.signed_out_modal.log_in"))),ev.createElement(e3.XT,{className:h?"community_logged_out_nav--signUpButtonBlue--9CKcL text--fontPos11--2LvXf text--_fontBase--QdLsd community_logged_out_nav--_button--NRif5":"community_logged_out_nav--signUpButton--nn73B text--fontPos11--2LvXf text--_fontBase--QdLsd community_logged_out_nav--_button--NRif5",onClick:t,trackingProperties:{trackingDescriptor:cC.y.LOGGED_OUT_NAV_SIGN_UP},type:"button"},E?(0,eq.t)("community.start_for_free"):(0,eq.t)("community.signed_out_modal.sign_up")))))}var cB=a(799915);function cU(){let e=(0,eb.I0)();return ev.createElement(cP,{onLoginClick:()=>{if(eN.K1){window.location.href="/login";return}let t=(0,eq.t)("community.signed_out_modal.log_in");e(cw.Y.init({origin:"community_hub_signed_out_top_bar",formState:cT.zd.SIGN_IN,redirectUrl:window.location.href})),e(ig.K4({type:cB.m,data:{headerText:t}}))},onSignUpClick:()=>{if(eN.K1){window.location.href="/signup";return}let t=(0,eq.t)("community.signed_out_modal.create_an_account_to_join_the_figma_community");e(cw.Y.init({origin:"community_hub_signed_out_top_bar",formState:cT.zd.SIGN_UP,redirectUrl:window.location.href})),e(ig.K4({type:cB.m,data:{headerText:t}}))}})}function cV(){let e=(0,nc.j)();return e?ev.createElement(cy,{SearchComponent:sn,CommunityHeadingComponent:cG}):ev.createElement(cU,null)}function cW(){let e=(0,eR.k6)(),t=(0,lI.uy)(),a=t&&(0,lI.Vg)(t),r=(0,eb.I0)(),n=(0,e2.X)(),i=a?void 0:null==n?void 0:n.searchSessionId;return t?ev.createElement("div",null,ev.createElement(a?oa:ot,{view:t,history:e,dispatch:r,searchSessionId:i})):(console.warn("This should never happen: ReactRouterFeedView called without a view."),null)}function cG(){let e=(0,eR.TH)(),t=(0,lc.v)(),a=()=>(0,lI.$l)(e.pathname)&&t,[r,n]=ev.useState(a());return ev.createElement(tY.rU,{to:"/community",onMouseEnter:e=>{n(a())},className:tQ()(oZ,{[oq]:r,[oY]:!!ey.YO}),onClick:a=>{(0,lI.$l)(e.pathname)&&!t&&(window.scrollTo({top:0,behavior:"smooth"}),a.preventDefault())}},ev.createElement(eq.Tx,{id:"navbar.navbar.community_title"}))}var cj=a(331945),cH=a(401649),c$=a(82873),cz=a(378189),cK=a(394970);function cZ({plugin:e,onClick:t}){let a=(0,eb.I0)(),r=ev.useCallback(r=>{if(null==t||t(e.id),(0,ly.v8)(r)){ew.default.redirect((0,cH.BZ)(e.id),"_blank");return}let n=(0,e4._4)(e)?{view:"communityHub",subView:"widget",widgetId:e.id}:{view:"communityHub",subView:"plugin",publishedPluginId:e.id};a(od.fv(n))},[e,t,a]),n=(0,n8.hb)(e);return{onTileClicked:r,version:n}}let cq=(0,e3.z7)(function(e){var t,a;let{onTileClicked:r,version:n}=cZ(e);return ev.createElement(cK.TM,{onClick:r,image:ev.createElement(cK.Jr,null,ev.createElement(cK.he.BottomLeft,null,ev.createElement(iy.Td,{editorType:n.manifest.editorType})),ev.createElement("a",{href:(0,cH.BZ)(e.plugin.id)},ev.createElement(ad.j_,{plugin:e.plugin,showNewBadge:!!(e.lastViewedAtForNewBadge&&Date.parse(e.plugin.created_at)>Date.parse(e.lastViewedAtForNewBadge))}))),bottomRow:ev.createElement(ev.Fragment,null,ev.createElement(cK._W.MetadataContainer,null,ev.createElement(cK._W.PublisherAvatarWithDropdown,{publishers:null==(t=e.plugin.community_publishers)?void 0:t.accepted}),ev.createElement(cK._W.TextMetadataLayout,{primaryText:n.name,secondaryText:ev.createElement(cK._W.MetadataAuthorWithDropdown,{publishers:null==(a=e.plugin.community_publishers)?void 0:a.accepted})})),ev.createElement(cK._W.ResourceActionContainer,null,ev.createElement(cK._W.ButtonWrapper,null,(0,nt.g3)()&&ev.createElement(c$.oO,{metric:e.plugin.view_count})),ev.createElement(cK._W.ButtonWrapper,null,ev.createElement(cz.p,{resource:e.plugin}))))})});function cY(e){let t=(0,eb.v9)(t=>t.publishedPlugins[e.pluginId]);return t?ev.createElement(cq,{...e,plugin:t}):null}(0,e3.z7)(function(e){let{onTileClicked:t,version:a}=cZ(e);return ev.createElement(cK.TM,{onClick:t,image:ev.createElement(cK.Jr,null,ev.createElement(cK.he.TopLeft,null,ev.createElement(e9.MF,{resource:e.plugin})),ev.createElement(cK.he.BottomLeft,null,ev.createElement(iy.Td,{editorType:a.manifest.editorType})),ev.createElement("a",{href:(0,cH.BZ)(e.plugin.id)},ev.createElement(ad.j_,{plugin:e.plugin,showNewBadge:!!(e.lastViewedAtForNewBadge&&Date.parse(e.plugin.created_at)>Date.parse(e.lastViewedAtForNewBadge))}))),bottomRow:ev.createElement(ev.Fragment,null,ev.createElement(cK._W.MetadataContainer,null,ev.createElement(cK._W.TextMetadataLayout,{primaryText:a.name})),ev.createElement(cK._W.ResourceActionContainer,null,ev.createElement(cK._W.ButtonWrapper,null,(0,nt.g3)()&&ev.createElement(c$.oO,{metric:e.plugin.view_count})),ev.createElement(cK._W.ButtonWrapper,null,ev.createElement(cz.p,{resource:e.plugin}))))})});var cJ=a(608898),cQ=a(569065),cX=a(88578);let c0="community_shelf--resourcesGrid--UrNcm hub_file_tile_grid--resourcesGrid--4ldg0 hub_file_tile_grid--_resourcesGridTemplateColumns--CWRZf profile_resources_grid--_resourcesGridTemplateColumnsLarge--UlkLC";function c1(e){return ev.createElement("div",{className:"community_shelf--shelfHeader--JyiZv community_hub_landing--_horizontalPadding--9v1pd"},ev.createElement("div",null,!e.hideDescription&&ev.createElement("div",{className:"community_shelf--description--WPqm4 text--fontPos12--YsUAh text--_fontBase--QdLsd"},e.description),ev.createElement("div",{className:"community_shelf--title--HjnFS text--fontPos24--YppUD text--_fontBase--QdLsd"},e.title)),"rightSide"in e&&e.rightSide,"seeMoreString"in e&&ev.createElement("div",{className:e.seeMoreStringClassName||(e.showSeeMoreOnMobile?"community_shelf--customSeeAllLink--4rU5V community_shelf--seeAllLink--kt8AM text--fontPos13--xW8hS text--_fontBase--QdLsd":"community_shelf--seeAllLink--kt8AM text--fontPos13--xW8hS text--_fontBase--QdLsd"),onClick:e.onSeeMoreClick},e.seeMoreString))}c1.displayName="CommunityShelfHeader";let c2=(e,t,a)=>{let{hubFiles:r,plugins:n,widgets:i,profiles:l,shelfIds:s}=a.current;(0!==r.length||0!==n.length||0!==i.length||0!==l.length||0!==s.length)&&((0,eK.L9)("community_shelf_impressed",{hubFiles:r,plugins:n,widgets:i,profiles:l,shelfIds:s,userId:e,impressionAction:t}),a.current={hubFiles:[],plugins:[],widgets:[],profiles:[],shelfIds:[]})};function c3(e){let t=(0,lR.xJ)(),a=null==t?void 0:t.id,[r,n]=ev.useState(),[i,l]=ev.useState(),[s,o]=ev.useState(!1),c=ev.createRef(),d=ev.createRef(),m=(0,eb.v9)(e=>e.hubFiles),u=ev.useRef({hubFiles:[],plugins:[],widgets:[],profiles:[],shelfIds:[]});ev.useEffect(()=>{c.current&&n(c.current.clientHeight)},[c]),ev.useEffect(()=>{d.current&&l(d.current.scrollHeight)},[d]),ev.useEffect(()=>{s&&c2(a,"expand",u)},[s,a]),ev.useEffect(()=>{c2(a,"load",u);let e=(0,ld.D)(()=>c2(a,"scroll",u));return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[a]);let _=Math.floor(e.content.length/4),p=e.disableRotation?0:new Date().getDate()%_*4,g=ev.useMemo(()=>[...e.content.slice(p),...e.content.slice(0,p)],[e.content,p]);if(0===g.length)return ev.createElement(ev.Fragment,null);let E=e.viewExpandedOnly?e.content:g,h=E.map(e=>(0,nt.MA)(e)),f=new Set(h).size>1,v="community_shelf_resource_clicked",b=E.map((a,r)=>{let n,i,l,s;let o=h[r],d={userId:null==t?void 0:t.id,resourceType:o,resourceId:a.id,sourceType:o,sourceId:a.id,sourceShelfId:e.shelfId};return o===e4.mX.PROFILE?(n=ev.createElement(cX.h,{className:"community_shelf--profileWithResourcesTile--Osq0Z resource_tiles--hasBorder--bCCp6",profile:a,resources:a.preview_resources||[],trackingProperties:d,trackingEventName:v,resourceTrackingProperties:e=>({resourceType:(0,nt.MA)(e),resourceId:e.id})}),i=`profile-${a.id}`,l="community_shelf--creatorTileContainer--f86ht",s="profiles"):o===e4.mX.HUB_FILE?(n=ev.createElement(c4,{resource:m[a.id],trackingProperties:d,trackingEventName:v}),i=`community_shelf-${e.title}:hub_file-${a.id}`,s="hubFiles"):o===e4.mX.WIDGET?(n=ev.createElement(cJ.ob,{widgetId:a.id,viewContext:"Landing page shelf",trackingProperties:d,trackingEventName:v,lastViewedAtForNewBadge:e.lastViewedFeedAt}),i=`community_shelf-${e.title}:widget-${a.id}`,s="widgets"):(n=f?ev.createElement(cY,{pluginId:a.id,viewContext:"Landing page shelf",trackingProperties:d,trackingEventName:v,lastViewedAtForNewBadge:e.lastViewedFeedAt}):ev.createElement(cQ.cG,{plugin:a,trackingProperties:d,trackingEventName:v}),i=`community_shelf-${e.title}:plugin-${a.id}`,s="plugins"),ev.createElement("div",{ref:0===r?c:void 0,className:l,key:i},ev.createElement(at.X,{onIntersectionChange:e=>{e.boundingClientRect.y>0&&e.boundingClientRect.y<=window.innerHeight&&u.current&&u.current[s]&&u.current[s].push(a.id)}}),n)}),y=!!(i&&r&&i>r),w=e.seeMoreString||(y?s?(0,eq.t)("community.shelves.show_fewer"):(0,eq.t)("community.shelves.show_more"):"");return ev.createElement("div",{className:"community_shelf--shelf--nvZc0"},ev.createElement(at.X,{onIntersectionChange:t=>{t.boundingClientRect.y>0&&t.boundingClientRect.y<=window.innerHeight&&u.current.shelfIds.push(e.shelfId)}}),ev.createElement(c1,{title:e.title,hideDescription:e.hideDescription,description:e.description,seeMoreString:e.viewExpandedOnly?"":w,seeMoreStringClassName:e.seeMoreStringClassName||"",onSeeMoreClick:e.viewExpandedOnly?()=>{}:()=>{e.onSeeMoreClick?e.onSeeMoreClick():o(!s)},showSeeMoreOnMobile:!!e.onSeeMoreClick}),ev.createElement("div",{className:"community_shelf--resourcesGridContainer--rY8zg community_hub_landing--_horizontalPadding--9v1pd"},ev.createElement(ai.is,null,ev.createElement("div",{className:c0,ref:d},b,ev.createElement("div",{className:"community_shelf--mobileHorizontalScrollPadding--UeCw0"}))),ev.createElement(ai.c9,null,ev.createElement("div",{className:c0,style:e.viewExpandedOnly?void 0:s?{maxHeight:i}:{maxHeight:r},ref:d},b,ev.createElement(ad.Ur,{numResources:e.content.length,maxResources:6})))))}c3.displayName="CommunityShelfView";let c4=(0,e3.z7)(e9.XU);function c8(e){let t=(0,eb.I0)(),[a,r]=ev.useState([]),[n,i]=ev.useState(!1);ev.useEffect(()=>{i(!0),e0.w.getCommunityShelvesPreview({urlSlug:e.urlSlug}).then(({data:e})=>{let a=e.meta;a.forEach(e=>cj.z5(t,e.shelf_content)),r(a),i(!1)}).catch(e=>{let a=(0,eq.it)(e);a&&(t(r7.R.enqueue({message:(0,eq.t)("community.error.could_not_fetch_collections_refresh_to_try_again",{error:a}),error:!0})),i(!1))})},[t,e.urlSlug]);let l=ev.useCallback(()=>{t(od.fv({view:"communityHub",subView:"landing",category:oK.q5,tab:null,collection:void 0}))},[t]),s=ev.createElement("div",{className:"community_shelf--allCollectionsCta--gtgVg"},ev.createElement(eA.DF,{onClick:l},ev.createElement(eq.Tx,{id:"community.shelves.view_all_collections"})));return n?ev.createElement(ax.TK,{className:"community_shelf--loadingSpinnerContainer--RxcM8"}):ev.createElement(ev.Fragment,null,ev.createElement(c5,{shelves:a,viewExpandedOnly:e.viewExpandedOnly}),e.showViewAllCollectionsButton&&s)}function c5(e){return ev.createElement("div",{className:e.showLastBorder?void 0:"community_shelf--shelvesHideLastBorder--gTgVd"},e.shelves.map(t=>{if(eX(t))return ev.createElement(c3,{title:(0,eq.mz)(t.i18n_meta.title,t.title),description:(0,eq.mz)(t.i18n_meta.description,t.description),content:t.shelf_content,shelfId:t.id,key:t.id,viewExpandedOnly:e.viewExpandedOnly})}))}let c9="community_shelf_preview--adminLabel--Zz-n- text--fontPos11--2LvXf text--_fontBase--QdLsd",c6="community_shelf_preview--title--hWjRn text--fontPos48--H177Q text--_fontBase--QdLsd",c7="community_shelf_preview--subtitle--NziQW text--fontPos48--H177Q text--_fontBase--QdLsd",de="community_shelf_preview--titleContainer--qZery";function dt(e){return(0,eT.BZ)().community_hub_admin?(0,eT.BZ)().community_collections_admin?ev.createElement(ev.Fragment,null,ev.createElement("div",{className:de},ev.createElement("div",{className:c6},ev.createElement(eq.Tx,{id:"community.admin.preview"})),ev.createElement(os.Ct,{text:"Admin",color:os.JV.DANGER,className:c9})),ev.createElement("div",{className:c7},ev.createElement(eq.Tx,{id:"community.admin.shelf_preview"})),ev.createElement(c8,{urlSlug:e.urlSlug,viewExpandedOnly:!!e.urlSlug}),ev.createElement("div",{className:c7},ev.createElement(eq.Tx,{id:"community.admin.collection_preview"})),ev.createElement(tT,{urlSlug:e.urlSlug})):ev.createElement(ev.Fragment,null,ev.createElement("div",{className:de},ev.createElement("div",{className:c6},ev.createElement(eq.Tx,{id:"community.admin.preview"})),ev.createElement(os.Ct,{text:(0,eq.t)("general.admin"),color:os.JV.DANGER,className:c9})),ev.createElement(c8,{urlSlug:e.urlSlug,viewExpandedOnly:!!e.urlSlug})):ev.createElement(ev.Fragment,null)}var da=a(568157),dr=a(623046),dn=a(436649),di=a(363402),dl=a(313653),ds=a(828867);let dc=a(352874),dd=[{img:"https://static.figma.com/uploads/49e43aec887df7422ff9643d11465bcdeded548e",color:ta.HmU},{img:"https://static.figma.com/uploads/c00f8b3e0cd9a66eb8c4ee4e6d307fff82c9ab27",color:ta.HmU},{img:"https://static.figma.com/uploads/3f772c66c1cddf1d0b6c5f8f41395bcafd135566",color:ta.HmU},{img:"https://static.figma.com/uploads/960d3a00ab8d8c4db2f27b7814c911ae974c770b",color:ta.loC},{img:"https://static.figma.com/uploads/cda2753116908ec0abf57b611934479cebbcdbeb",color:ta.loC},{img:"https://static.figma.com/uploads/37f4db88a8104a239f3d761763f8d7e0826d7765",color:ta.loC}],dm=e=>{if(!e.id)return;let t=e.id.length>=4?e.id.slice(e.id.length-4):"0",a=dd[parseInt(t)%dd.length];return{backgroundImage:`url(${a.img})`,backgroundColor:a.color}};class du extends ev.Component{constructor(){super(...arguments),this.profileHeaderKey=(0,rY.k)(),this.triggerFileInputClick=()=>{this.fileInput.click()},this.fileInputRef=e=>{e&&(this.fileInput=e)},this.uploadCoverImage=e=>{this.props.dispatch(or.Wu({profileId:this.props.profileId,file:e,onSuccessCallback:this.onImageUploaded}))},this.onImageUploaded=()=>{this.profileHeaderKey=(0,rY.k)()},this.isLoading=()=>(0,dn.hg)(this.props.loadingState,or.Wu.loadingKeyForPayload({profileId:this.props.profileId})),this.onImageSelected=async()=>{try{if(null===this.fileInput.files||0===this.fileInput.files.length)throw Error("File not found");let e=this.fileInput.files[0];(0,nt.jq)(e);let t=await (0,na.Lv)(URL.createObjectURL(e));if(t.width>nt.NV||t.height>nt.zt)throw Error((0,eq.t)("community.profiles.cover_image_must_be_less_than_dimensions",{PROFILE_COVER_IMAGE_MAX_WIDTH:nt.NV,PROFILE_COVER_IMAGE_MAX_HEIGHT:nt.zt}));if(t.width<nt.Fj||t.height<nt.Wb)throw Error((0,eq.t)("community.profiles.cover_image_must_be_at_least_dimensions",{PROFILE_COVER_IMAGE_MIN_WIDTH:nt.Fj,PROFILE_COVER_IMAGE_MIN_HEIGHT:nt.Wb}));this.uploadCoverImage(e)}catch(e){this.props.dispatch(dl.l.error(e.message))}this.fileInput.value=""},this.getProfileHeaderImage=()=>{var e;return(null==(e=this.props.profile)?void 0:e.redirect_cover_image_url)?{backgroundImage:`url(${this.props.profile.redirect_cover_image_url}?${this.profileHeaderKey})`}:dm(this.props.profile)}}render(){let e=this.getProfileHeaderImage();return ev.createElement("div",{className:"profile_header--profileHeaderContainer--C-0mY",key:this.props.profile.cover_image_path||void 0,style:{backgroundColor:ta.a_n,...e}},ev.createElement("div",{className:"profile_header--profileHeaderAvatarContainer--1REx-"},ev.createElement(ds.Kn,{entity:{...this.props.profile,img_url:this.props.profile.img_urls["500_500"]||this.props.profile.img_url},size:96,className:"profile_header--avatarBackground--5XTWL"})),this.props.canEditProfile&&ev.createElement(ev.Fragment,null,ev.createElement("input",{type:"file",accept:"image/*",ref:this.fileInputRef,onChange:this.onImageSelected,style:{display:"none"}}),ev.createElement(eD.n,{svg:dc,className:"profile_header--uploadIcon--FFtoL",onClick:this.triggerFileInputClick}),this.isLoading()&&ev.createElement(ax.jz,null)))}}du.displayName="ProfileHeader";let d_=(0,eb.$j)(e=>{let t=e.communityHub.currentProfile,a=(0,nt.ID)(t,e);return{profile:t,canEditProfile:a,loadingState:e.loadingState,avatarEditorState:e.avatarEditorState}})(du);var dp=a(993394),dg=a(523495),dE=a(254984),dh=a(597085);let df=/(https?:\/\/)?(www\.)?figma.com\/@/;function dv(e){return ev.createElement(dE.Z,{options:{target:{url:"_blank"},attributes:{rel:"noopener nofollow ugc",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()}},className:"formatted_expanding_textarea--blueLink--GWaek blue_link--blueLink--9rlnd",format:e=>e.replace(df,"@")}},e)}class db extends oP.wA{constructor(e){super(e),this.onChange=e=>{this.setState({value:e.target.value})},this.onMouseDown=e=>{this.props.readOnly||e.preventDefault(),this.setState({isEditing:!0})},this.onFocus=()=>{this.state.isEditing||this.setState({isEditing:!0})},this.onSubmit=e=>{this.props.submit&&this.props.submit(e)},this.onBlur=()=>{this.setState({isEditing:!1})},this.state={value:this.props.value,isEditing:!1}}componentDidUpdate(e){this.props.value!==e.value&&this.setState({value:this.props.value})}renderFormattedValue(){return ev.createElement("div",{dir:"auto",className:"formatted_expanding_textarea--value--XJ2Gh"},this.props.formatter?this.props.formatter(this.state.value):this.state.value)}renderPlaceholder(){return ev.createElement("div",{className:"formatted_expanding_textarea--placeholder--JJ8AZ"},this.props.readOnly?"":this.props.placeholder)}render(){let e=!this.props.readOnly&&this.state.isEditing,t=["formatted_expanding_textarea--container--3NuYC text--fontPos13--xW8hS text--_fontBase--QdLsd",e?"formatted_expanding_textarea--editMode--wvP9s":"formatted_expanding_textarea--viewMode--GHMnM",this.props.readOnly?"formatted_expanding_textarea--readOnly--w19iZ":"formatted_expanding_textarea--canEdit--UVjHq",this.props.className||""].join(" ");return ev.createElement("div",{className:t,onMouseDown:this.onMouseDown,onFocus:this.onFocus,tabIndex:0},!e&&(this.state.value?this.renderFormattedValue():this.renderPlaceholder()),e&&ev.createElement(dh.C,{maxLength:this.props.maxLength||1e4,onChange:this.onChange,value:this.state.value,placeholder:this.props.placeholder,submit:this.onSubmit,onBlur:this.onBlur,selectOnMount:!0,className:"formatted_expanding_textarea--expandingTextarea--LLtsJ"}))}}db.displayName="FormattedExpandingTextarea";var dy=a(896858),dw=a(180447),dT=a(283537),dx=a(44571),dN=a(244311),dC=a(179640),dS=a(220949);let dk="community_hub_view_bar--stickyHeaderIsSticky--jlnEf";class dI extends ev.PureComponent{render(){return ev.createElement("div",{className:`community_hub_view_bar--viewBar--T8-MS ${this.props.className||""}`},this.props.children)}}let dL=(0,eb.$j)(e=>({user:e.user||null}))(dI);class dR extends ev.PureComponent{constructor(){super(...arguments),this.headerContentRef=ev.createRef(),this.onIntersectionChange=e=>{this.node&&(e.isIntersecting?this.node.classList.remove(dk):e.boundingClientRect.y<window.innerHeight&&this.node.classList.add(dk))}}render(){return ev.createElement("div",{className:["community_hub_view_bar--container--PBrf3",this.props.user?"community_hub_view_bar--viewBarSignedInSticky--swRMi":"community_hub_view_bar--viewBarSignedOutSticky--fpGkz"].join(" "),ref:e=>this.node=e},ev.createElement(at.X,{onIntersectionChange:this.onIntersectionChange,className:this.props.user?"community_hub_view_bar--scrollSentinelSignedIn--u73PI":"community_hub_view_bar--scrollSentinelSignedOut--9xL9d"}),ev.createElement(dL,null,ev.createElement("div",{ref:this.headerContentRef},this.props.children)))}}var dA=a(84554),dO=a(71732),dD=a(266280);function dF(){return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--title--IfgQI text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,eq.t)("community.seller.profiles.check_out_your_stats")),ev.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--description--2j8hj"},(0,eq.t)("community.seller.profiles.added_some_metrics")))}let dM="metrics_tab_onboarding_key";var dP=a(892826);let dB=(0,o_.n_)(oQ.br);function dU({onboardingKey:e}){let t=(0,r9.Dv)(dB),a=(0,so.I)({id:sd.G.CommunityMonetizationMetricsTabOnboarding,priority:su.b4.SECONDARY_MODAL,queueOnBlock:!1},[t]);return(0,eZ.O)(()=>{a.show({canShow:e=>!e})}),(0,sc.J)(a.uniqueId,"profile-metrics-tab-clicked",()=>{a.isShowing&&a.complete()}),ev.createElement(dP.R,{isShowing:a.isShowing,userFlagOnShow:oQ.br},ev.createElement(e3.Ui,{name:"Community monetization creator dashboard onboarding"},ev.createElement(o6.Qm,{targetKey:e,width:300,topPadding:16,shouldCenterArrow:o9.Ht.FALLBACK,dismissModal:a.complete},ev.createElement(dF,null))))}var dV=a(669277),dW=a(966922),dG=a(133354);let dj=(0,r0.u4)(async(e,t,{loadingKey:a})=>{var r;try{let n=rI.ZP.post("/api/community/seller/stripe_dashboard");(0,dW.m)(n,e,a);let i=await n;if(!(null==(r=null==i?void 0:i.data)?void 0:r.meta)){null==t||t.callback(!1);return}let l=i.data.meta;e.dispatch((0,dG.IO)({rawInput:l})),setTimeout(()=>{null==t||t.callback(!0)},1e3)}catch(e){null==t||t.callback(!1)}});var dH=a(862610),d$=a(310975),dz=a(508140);let dK=a(48381),dZ=(0,it.Y3)(function(){let e=(0,eb.I0)(),t=(0,lR.xJ)(),[a,r]=ev.useState([]),[n,i]=ev.useState(!0),[l,s]=ev.useState(!0),[o,c]=ev.useState(!1),[d,m]=ev.useState(!1),u=ev.useRef(null);(0,eZ.O)(()=>{rk.i.getCmtyCreatorPayoutStatements({userId:null==t?void 0:t.id}).then(({data:e})=>{i(!1),r(e.meta)}).catch(()=>{e(r7.R.enqueue({type:"get-payout-statements-error",message:(0,eq.t)("community.seller.payout_statement_error"),error:!0}))})});let _=e=>{let t=new Date(e.year,e.month-1);return t.toLocaleDateString(void 0,{year:"numeric",month:"long"})},p="creator_payout_statements_modal--scrollContainer--8j6P4";return d&&(l||(p+=" creator_payout_statements_modal--topBorder--OHBCp"),o||(p+=" creator_payout_statements_modal--bottomBorder--tNtIc")),ev.createElement(ir.cV,{dispatch:e,title:(0,eq.t)("community.seller.community_payout_statements"),titleClassName:"creator_payout_statements_modal--title--t9wed",confirmText:(0,eq.t)(0===a.length?"general.got_it":"general.done"),onConfirm:ex.ZT,hideConfirmationTitle:!0,hideCancel:!0},n?ev.createElement("div",{className:"creator_payout_statements_modal--loadingSpinner--HMTTZ"},ev.createElement(ax.TK,null)):ev.createElement("div",null,0===a.length&&ev.createElement("div",null,ev.createElement(eq.Tx,{id:"community.seller.no_payout_statements_yet"})),a.length>0&&ev.createElement(ev.Fragment,null,ev.createElement("div",null,ev.createElement(eq.Tx,{id:"community.seller.click_to_download_statements"})),ev.createElement(cr.l,{className:p,ref:u,onCanScrollChange:e=>{m(e)},onScroll:(e,t)=>{s(0===e),c(e+t.trackHeight>=t.scrollHeight)}},a.map(e=>ev.createElement("a",{className:"creator_payout_statements_modal--payoutStatementRow--4fDH3",key:`payout-statement-${e.year}-${e.month}`,href:e.signed_s3_url,download:`payout_statement_${e.year}_${e.month}.csv`},ev.createElement(eD.n,{svg:dK}),_(e)))))))},"CreatorPayoutStatementsModal");var dq=a(268509);let dY="profile_resources_grid--viewBar--ANbR9",dJ="profile_resources_grid--tabContainer--UsmoU",dQ="profile_resources_grid--tabLink--8x9Of text--fontPos14--OL9Hp text--_fontBase--QdLsd",dX="profile_resources_grid--tabBadge--l97Nx",d0="profile_resources_grid--labelBadgeContainer--gc9j0",d1="profile_resources_grid--selected--6CtGL",d2="profile_resources_grid--newBadge--LOtSf",d3="profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",d4="profile_resources_grid--profileDataReadOnly--Juje2 profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",d8="profile_resources_grid--followsData--WkXSx",d5="profile_resources_grid--followsDataCount--MoS2I",d9="profile_resources_grid--loadingContainer--hsPEQ",d6="profile_resources_grid--loadingMoreContainer--jp4W1 profile_resources_grid--loadingContainer--hsPEQ",d7="profile_resources_grid--profileResourcesGridOuterContainer--ynOxv",me="profile_resources_grid--profileMetricsStatsOuterContainer--FAXLb",mt="profile_resources_grid--profileMetricsTabLoadingButtonContent--lkd-l",ma="profile_resources_grid--profileMetricsTabLoadingButton--6tsqO",mr="profile_resources_grid--profileResourcesGridAndDataContainer--2gQaO",mn="profile_resources_grid--emptyStateContainer--EJug9",mi="profile_resources_grid--emptyStateHeader--c9srx text--fontPos14--OL9Hp text--_fontBase--QdLsd",ml="profile_resources_grid--emptyStateText--oEJHa",ms="profile_resources_grid--emptyStateMetricLabel--XqzzA",mo="profile_resources_grid--bannerContainer--eb6mO",mc="profile_resources_grid--stripeDashboardButtonContainer--1DAQE",md="profile_resources_grid--metricContainer--SuhZ3",mm="profile_resources_grid--creatorLink--Rmyz- text--fontPos13--xW8hS text--_fontBase--QdLsd",mu="profile_resources_grid--newBadgeContainer--tcbwu",m_="profile_resources_grid--lockIcon--4VJCL",mp="profile_metrics_stats--divider--U2a8K",mg=(0,cx.F)(cL.wg1),mE=a(545096);function mh({tooltipText:e}){return ev.createElement(dA.z,{query:`(min-width: ${mg}px)`},ev.createElement("span",{className:"profile_metrics_stats--infoTooltipContainer---MeEH","data-tooltip-type":aN.fR.TEXT,"data-tooltip":e,"data-tooltip-max-width":"250"},ev.createElement(eD.n,{svg:mE,className:"profile_metrics_stats--infoTooltip--lsZkn"})))}function mf({valueClassName:e,value:t,labelClassName:a,label:r,children:n}){return ev.createElement("div",{className:md},ev.createElement("div",{className:e},t),ev.createElement("div",{className:"profile_metrics_stats--metricLabelContainer--24AJ-"},ev.createElement("span",{className:a},r),n))}function mv(){return ev.createElement("div",{className:md},ev.createElement("div",{className:"profile_resources_grid--emptyStateMetric--ktaw6"}),ev.createElement("div",{className:ms}))}function mb({children:e}){return ev.createElement("div",{className:me},ev.createElement(mv,null),ev.createElement("div",{className:mp}),ev.createElement(mv,null),ev.createElement("div",{className:mp}),ev.createElement(mv,null),e)}function my({totalViewCount:e,metricValueStyle:t,metricLabelStyle:a,totalPurchases:r,totalEarned:n,children:i}){return ev.createElement("div",{className:me},ev.createElement(mf,{valueClassName:t,value:e,labelClassName:a,label:(0,eq.t)("community.seller.total_views")}),ev.createElement("div",{className:mp}),ev.createElement(mf,{valueClassName:t,value:r,labelClassName:a,label:(0,eq.t)("community.seller.total_purchases")},ev.createElement(mh,{tooltipText:(0,eq.t)("community.seller.total_purchases_includes")})),ev.createElement("div",{className:mp}),ev.createElement(mf,{valueClassName:t,value:n,labelClassName:a,label:(0,eq.t)("community.seller.total_earned")},ev.createElement(mh,{tooltipText:(0,eq.t)("community.seller.all_sales_before_figmas_fees")})),i)}var mw=a(687496);let mT="resource_stat_row--rowContainer--rapbF",mx="resource_stat_row--resourceMetadataContainer--bdvI3",mN="resource_stat_row--allStatContainer--vXmae",mC="resource_stat_row--statContainer--gp6KZ",mS="resource_stat_row--statValue--69Rff text--fontPos24--YppUD text--_fontBase--QdLsd",mk="resource_stat_row--statLabel--bgvwH text--fontPos13--xW8hS text--_fontBase--QdLsd",mI="resource_stat_row--verticalDivider--Whn5d",mL="resource_stat_row--textMetadataContainer--oQv9J",mR=(0,cx.F)(cL.Wy5);function mA({resource:e}){return"hub_file"===(0,ej.yA)(e)?ev.createElement(e9.XU,{resource:e,isMetaHidden:!0}):"plugin"===(0,ej.yA)(e)?ev.createElement(e9.J9,{resource:e,isMetaHidden:!0}):ev.createElement(e9.$Q,{resource:e,isMetaHidden:!0})}function mO({resource:e}){let{name:t,created_at:a}=(0,ej.$o)(e),r=new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),n=e.monetized_resource_metadata?(0,nd.rD)(e.monetized_resource_metadata):"",i=`/community/${(0,ej.DX)(e)}/${e.id}`;return ev.createElement("div",{className:mx},ev.createElement("div",{className:"resource_stat_row--thumbnailWrapper--M0vtN"},ev.createElement(mA,{resource:e})),ev.createElement(dA.z,{query:`(min-width: ${mR}px)`},ev.createElement("div",{className:mL},ev.createElement("div",null,ev.createElement(eI.Ve,{to:i,className:"resource_stat_row--resourceName--LFWUk text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),ev.createElement("div",{className:"resource_stat_row--publishDate--oDkDH text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,eq.t)("community.seller.last_updated_on",{date:r}))),ev.createElement("div",{className:"resource_stat_row--price--1YYVn text--fontPos14--OL9Hp text--_fontBase--QdLsd"},n))))}function mD({value:e,label:t}){return ev.createElement("div",{className:mC},ev.createElement("span",{className:mS},e),ev.createElement("span",{className:mk},t))}function mF(){return ev.createElement("div",{className:mC},ev.createElement("span",{className:mS},ev.createElement("div",{className:"profile_resources_grid--emptyStateStatsMetric--qs3QD"})),ev.createElement("span",{className:mk},ev.createElement("div",{className:ms})))}function mM(){return ev.createElement("div",{className:mx},ev.createElement("div",{className:"resource_stat_row--emptyThumbnailWrapper--NNO1Y resource_stat_row--thumbnailWrapper--M0vtN"},ev.createElement(ax.TK,null)),ev.createElement(dA.z,{query:`(min-width: ${mR}px)`},ev.createElement("div",{className:mL},ev.createElement("div",null,ev.createElement("div",{className:"resource_stat_row--emptyResourceName--gZCwX"}),ev.createElement("div",{className:"resource_stat_row--emptyPublishDate--WVyqw"})),ev.createElement("div",{className:"resource_stat_row--emptyPrice--HlOMG"}))))}function mP({resource:e}){return ev.createElement("div",{className:mT},ev.createElement(mM,null),ev.createElement("div",{className:mN},ev.createElement(mF,null),ev.createElement("div",{className:mI}),ev.createElement(mF,null),ev.createElement("div",{className:mI}),ev.createElement(mF,null),ev.createElement("div",{className:mI}),ev.createElement(mF,null)))}function mB({resource:e}){var t;let a=(0,eb.I0)(),{id:r,is_subscription:n}=e.monetized_resource_metadata,i=(0,dV.mU)(dH.CommunityResourceStat,{monetizedResourceMetadataId:r}),l=new mw.Lr("usd");if("loading"===i.status)return ev.createElement(mP,{resource:e});if("loaded"!==i.status||(null==(t=i.errors)?void 0:t.length))return a(r7.R.enqueue({message:(0,eq.t)("community.actions.unable_to_load_stats_for_a_resource"),error:!0})),ev.createElement(mP,{resource:e});{let t=i.data.communityM10nResourceStat,a={monetized_resource_metadata_id:null==t?void 0:t.monetizedResourceMetadataId,all_time_total_earned:parseInt((null==t?void 0:t.allTimeTotalEarned)||"0"),monthly_total_earned:parseInt((null==t?void 0:t.monthlyTotalEarned)||"0"),num_purchases:parseInt((null==t?void 0:t.numPurchases)||"0")};return ev.createElement("div",{className:mT},ev.createElement(mO,{resource:e}),ev.createElement("div",{className:mN},ev.createElement(mD,{label:(0,eq.t)("community.seller.views_label",{num:e.view_count}),value:e.view_count.toLocaleString()}),ev.createElement("div",{className:mI}),n?ev.createElement(mD,{label:(0,eq.t)("community.seller.subscribers_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}):ev.createElement(mD,{label:(0,eq.t)("community.seller.purchases_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}),ev.createElement("div",{className:mI}),ev.createElement(mD,{label:(0,eq.t)("community.seller.total_earned"),value:l.formatMoney(a.all_time_total_earned)}),ev.createElement("div",{className:mI}),ev.createElement(mD,{label:(0,eq.t)("community.seller.earned_this_month"),value:l.formatMoney(a.monthly_total_earned)})))}}function mU({paidResources:e}){return(0,eT.BZ)().cmty_m10n_turn_creator_dash_off?ev.createElement(ev.Fragment,null):ev.createElement("div",{className:"resource_stats_list--resourceStatsListContainer--3Xmb3"},ev.createElement("p",{className:"resource_stats_list--resourceCount--SHJGY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"community.seller.resources_for_sale",numResources:e.length})),e.map((e,t,a)=>ev.createElement("div",{key:e.id,className:"resource_stats_list--resourceStatContainer--GxfxK"},ev.createElement(mB,{resource:(0,e4.fu)(e)}),t<a.length-1&&ev.createElement("div",{key:`${e.id}-divider`,className:"resource_stats_list--divider--F4HpT"}))))}function mV(){return ev.createElement("svg",{width:"274",height:"133",viewBox:"0 0 274 133",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M124.179 65.3591C125.935 65.3591 127.359 63.9355 127.359 62.1795C127.359 60.4235 125.935 59 124.179 59C122.423 59 121 60.4235 121 62.1795C121 63.9355 122.423 65.3591 124.179 65.3591Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),ev.createElement("path",{d:"M149.861 62.1795C149.861 63.9355 148.437 65.3591 146.681 65.3591C144.925 65.3591 143.502 63.9355 143.502 62.1795C143.502 60.4235 144.925 59 146.681 59C148.437 59 149.861 60.4235 149.861 62.1795Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),ev.createElement("path",{d:"M123.092 73.4119V71.9119H120.092V73.4119C120.092 81.9723 127.032 88.9119 135.592 88.9119C144.152 88.9119 151.092 81.9723 151.092 73.4119V71.9119H148.092V73.4119C148.092 80.3154 142.496 85.9119 135.592 85.9119C128.688 85.9119 123.092 80.3154 123.092 73.4119Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),ev.createElement("path",{d:"M232.862 51.8912L214.45 64.9049L240.999 74.0556L209.704 95.1483L208.027 92.6606L234.332 74.931L207.938 65.8337L231.13 49.4413L232.862 51.8912Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M82.2828 0H148.05L185.283 38.0308V47.1645L188.993 45.3563L196.545 23.4452L218.456 30.9974L239.307 20.8359L249.468 41.6862L271.414 49.2505L263.85 71.1971L274 92.0236L253.173 102.174L245.609 124.12L223.663 116.556L202.812 126.717L192.651 105.867L185.283 103.327V133H82.2828V109.541L31.3574 128.076C27.4651 129.493 23.1613 127.486 21.7446 123.593L16.9646 110.46C16.4165 108.954 17.1953 107.612 18.0665 106.887C18.9369 106.163 20.3041 105.686 21.6406 106.175C24.3362 107.162 27.171 107.252 29.8132 106.29C36.5897 103.824 40.064 94.9827 36.8557 86.168C33.6474 77.3533 25.303 72.8139 18.5265 75.2803C15.8843 76.242 13.7706 78.1332 12.3398 80.6217C11.6304 81.8554 10.2763 82.3687 9.14412 82.3734C8.01076 82.3782 6.55152 81.8507 6.00341 80.3447L1.22339 67.2118C-0.193304 63.3194 1.8136 59.0156 5.70593 57.5989L18.1219 53.0799C18.1237 53.0772 18.1258 53.0738 18.1282 53.0695C18.1529 53.0257 18.1896 52.9235 18.1889 52.7663C18.1882 52.6115 18.1509 52.4593 18.0918 52.3414C18.0341 52.2263 17.9741 52.1774 17.9418 52.1588C14.9078 50.4143 12.5056 47.7738 11.2767 44.3974C8.07639 35.6046 14.0889 25.815 23.9574 22.2231C33.8259 18.6313 44.7244 22.2658 47.9247 31.0587C49.1536 34.435 49.0107 38.0019 47.8079 41.2884C47.7951 41.3234 47.7805 41.3994 47.8104 41.5248C47.8409 41.653 47.9101 41.7936 48.0091 41.9127C48.1096 42.0335 48.2035 42.0882 48.2505 42.1059C48.2551 42.1076 48.2589 42.1089 48.262 42.1098L62.0875 37.0777C65.9798 35.661 70.2836 37.6679 71.7003 41.5603L82.2828 70.6354V0ZM182.283 40.1429V48.6266V56.5V76.5V98V102.293V130H85.2828V108.449V107C85.2828 107 85.2828 102.5 85.2828 98.5V78.8779V3H145.919V40.1429H182.283ZM185.283 50.5018V100.154L194.803 103.435L204.195 122.706L223.466 113.314L243.75 120.306L250.742 100.021L269.989 90.6411L260.609 71.3943L267.601 51.1092L247.316 44.1175L237.924 24.847L218.654 34.2385L198.404 27.2591L191.424 47.5087L185.283 50.5018ZM68.8813 42.5863L82.2828 79.4069V106.348L30.3314 125.257C27.996 126.107 25.4137 124.903 24.5637 122.567L19.7881 109.447C19.789 109.443 19.7903 109.44 19.792 109.435C19.8097 109.388 19.8644 109.294 19.9852 109.194C20.1043 109.095 20.2449 109.025 20.3731 108.995C20.4985 108.965 20.5745 108.98 20.6095 108.992C23.896 110.195 27.4629 110.338 30.8392 109.109C39.6321 105.909 43.2666 95.0105 39.6748 85.1419C36.0829 75.2734 26.2933 69.2609 17.5005 72.4613C14.1241 73.6901 11.4836 76.0923 9.7391 79.1263C9.72052 79.1586 9.67163 79.2186 9.55647 79.2764C9.43858 79.3354 9.28639 79.3728 9.13155 79.3734C8.97443 79.3741 8.87215 79.3374 8.82842 79.3127C8.82414 79.3103 8.82071 79.3082 8.81802 79.3064L4.04247 66.1857C3.19245 63.8503 4.39659 61.268 6.73199 60.418L19.1602 55.8945C20.6662 55.3464 21.1936 53.8871 21.1889 52.7538C21.1841 51.6216 20.6709 50.2675 19.4371 49.5581C16.9487 48.1273 15.0575 46.0135 14.0958 43.3714C11.6294 36.5949 16.1688 28.2505 24.9835 25.0422C33.7981 21.8339 42.6392 25.3082 45.1057 32.0847C46.0673 34.7269 45.9772 37.5617 44.9907 40.2573C44.5015 41.5938 44.9788 42.961 45.7029 43.8314C46.4278 44.7026 47.7698 45.4814 49.2758 44.9333L63.1136 39.8968C65.449 39.0468 68.0312 40.2509 68.8813 42.5863ZM148.919 5.17631L180.215 37.1429H148.919V5.17631Z",fill:"var(--color-icon-disabled, #D9D9D9)"}))}function mW({paidResources:e,primaryUserId:t}){let a=(0,eb.I0)(),r=(0,lR.xJ)(),[n,i]=ev.useState(!1),[l,s]=ev.useState(!1),o=(0,dV.mU)(dH.UserMonetizationMetadata,{userId:t}),c=()=>{s(!0),a((0,ig.K4)({type:dz.T,data:{setupStripeCallback:e=>{i(!1),s(!1),e||a(dl.l.error((0,eq.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},d=()=>{i(!0),(0,eH.T6)({user_id:r.id},"stripe_dasbhboard_link_clicked"),a(dj({callback:e=>{i(!1),e||a(dl.l.error((0,eq.t)("community.seller.unable_to_open_stripe_dashboard")))}}))};function m(){let[e,t]=ev.useState(!1),i="stripe_button";return(null==r?void 0:r.stripe_account_status)&&(null==r?void 0:r.stripe_account_status)!==d$.Sc.NONE?(null==r?void 0:r.stripe_account_status)===d$.Sc.ENABLED||(null==r?void 0:r.stripe_account_status)===d$.Sc.DISABLED?ev.createElement("div",{className:mc},ev.createElement("button",{className:"profile_resources_grid--stripeDashboardButton--LHyS8 profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:d},ev.createElement("div",{className:mt},n&&ev.createElement("div",{className:ma},ev.createElement(ax.TK,{shouldMatchTextColor:!0})),ev.createElement(eq.Tx,{id:"community.seller.view_stripe_dashboard"}))),ev.createElement("button",{className:"profile_resources_grid--blueLink--WjRaq blue_link--blueLink--9rlnd",onClick:()=>{a((0,ig.K4)({type:dZ,data:{}}))}},ev.createElement(eq.Tx,{id:"community.seller.view_payout_statements"}))):ev.createElement("div",{className:mc},ev.createElement("button",{className:"profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",disabled:n,onClick:c},ev.createElement("div",{className:mt},n&&ev.createElement("div",{className:ma},ev.createElement(ax.TK,{shouldMatchTextColor:!0})),ev.createElement("div",null,u))),ev.createElement("div",{className:"profile_resources_grid--creatorAgreement--seV1h text--fontPos11--2LvXf text--_fontBase--QdLsd"},_)):ev.createElement("div",{className:mc,"data-onboarding-key":i,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)},ev.createElement("button",{className:"profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>t(!e)},ev.createElement(eq.Tx,{id:"community.seller.view_stripe_dashboard"})),e&&ev.createElement(o6.Qm,{targetKey:i,className:"profile_resources_grid--stripeSetupButtonDisabledTooltip--Yv-vM pointer_modal--pointerModal--wrpFz text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",shouldCenterArrow:o9.Ht.FALLBACK,backgroundColor:"var(--color-bg-tooltip, $figmaFGBlack)"},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"community.seller.switch_to_primary_account"}))))}let u=ev.createElement(eq.Tx,{id:"community.seller.set_up_stripe"}),_=ev.createElement(eq.Tx,{id:"community.seller.agree_to_figma_terms_of_service",link:dq.De});n?u=ev.createElement(eq.Tx,{id:"community.seller.stripe_loading_text"}):(null==r?void 0:r.stripe_account_status)===d$.Sc.STARTED_ONBOARDING&&(u=ev.createElement(eq.Tx,{id:"community.seller.finish_stripe_setup_button"}));let p="profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",g="profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd",E=ev.createElement(eq.Tx,{id:"community.seller.resource_metrics_coming_soon"}),h=ev.createElement(eq.Tx,{id:"community.seller.working_on_bringing_you_more_in_depth_metrics"});(null==r?void 0:r.stripe_account_status)!==d$.Sc.ENABLED&&(p="profile_resources_grid--metricValueDisabled--mYlXF profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",g="profile_resources_grid--metricLabelDisabled--dTvu- profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd");let f=e.length>0,v=e.reduce((e,t)=>e+t.view_count,0);return E=ev.createElement(eq.Tx,{id:"community.seller.youre_all_set_up_to_sell_on_community"}),h=ev.createElement(eq.Tx,{id:"community.seller.to_publish_your_first_resource"}),(null==r?void 0:r.stripe_account_status)!==d$.Sc.ENABLED&&(E=ev.createElement(eq.Tx,{id:"community.seller.resources_youre_selling_will_appear_here"}),h=ev.createElement(eq.Tx,{id:"community.seller.well_show_you_stripe_metrics"})),ev.createElement("div",{className:"profile_resources_grid--profileMetricsTabOuterContainer--d-PPR"},ev.createElement("div",{className:"profile_resources_grid--stripeBannerContainer--xRX1g"},ev.createElement(e1.F,{isFirstTimeLoading:l})),(()=>{var e,t;let r=ev.createElement(mb,null,ev.createElement(m,null));if((0,eT.BZ)().cmty_m10n_turn_creator_dash_off||"loading"===o.status)return r;if("loaded"!==o.status||(null==(e=o.errors)?void 0:e.length))return a(r7.R.enqueue({message:(0,eq.t)("community.actions.unable_to_load_creator_stats"),error:!0})),r;{let e=null==(t=o.data.userMonetizationMetadata)?void 0:t.stripeCmtyCreatorStatsMeta,a={num_purchases:(null==e?void 0:e.numPurchases)||0,all_time_total_earned:(null==e?void 0:e.allTimeTotalEarned)||0};return ev.createElement(my,{totalViewCount:v,metricValueStyle:p,metricLabelStyle:g,totalPurchases:a[d$.QE.NUM_PURCHASES],totalEarned:(0,nd.lb)(a[d$.QE.ALL_TIME_TOTAL_EARNED])},ev.createElement(m,null))}})(),ev.createElement("div",{className:"profile_resources_grid--divider--GZynB"}),f?ev.createElement(mU,{paidResources:e}):ev.createElement("div",{className:mn},ev.createElement("div",{className:"profile_resources_grid--profileMetricsStatsEmptyStateIcon--DvLAr"},ev.createElement(mV,null)),ev.createElement("div",{className:mi},E),ev.createElement("div",{className:ml},h)))}var mG=a(727803),mj=a(809377),mH=a(512512),m$=a(191635),mz=a(512169),mK=((s=mK||{}).COPY_LINK="Copy profile link",s.RESTRICT_USER="Restrict user",s.UNRESTRICT_USER="Unrestrict user",s);let mZ=e=>{switch(e){case"Copy profile link":return(0,eq.t)("community.profiles.copy_profile_link");case"Restrict user":return(0,eq.t)("community.profiles.restrict_user");case"Unrestrict user":return(0,eq.t)("community.profiles.unrestrict_user");default:return""}};function mq(){let e=(0,eb.I0)(),t=(0,lR.xJ)(),a=(0,eb.v9)(e=>{var t,a;return null==(a=null==(t=e.dropdownShown)?void 0:t.data)?void 0:a.profile}),r=(0,eb.v9)(e=>{var t,a;return null==(a=null==(t=e.dropdownShown)?void 0:t.data)?void 0:a.targetRect});if(!a)return ev.createElement(ev.Fragment,null);let n=a.is_restricted_by_current_user,i=()=>{e(mH.vQ({stringToCopy:`${window.location.origin}${(0,cH.J$)(a.profile_handle)}`}))},l=a=>{e(or.Au({blockedProfileId:a,profileId:(null==t?void 0:t.community_profile_id)||"",onSuccess:()=>{e(r7.R.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{c(a)}}})),(0,eK.L9)("comment_profile_restricted",{restricted_by_profile_id:null==t?void 0:t.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},s=()=>{e((0,ig.K4)({type:m$.U,data:{onBlock:()=>l(a.id),confirmationTitle:`Restrict ${a.name}?`,confirmButtonText:"Restrict"}}))},o=a=>{e(or.Au({blockedProfileId:a,profileId:(null==t?void 0:t.community_profile_id)||"",onSuccess:()=>{e(r7.R.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{c(a)}}})),(0,eK.L9)("comment_profile_restricted",{restricted_by_profile_id:null==t?void 0:t.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},c=a=>{e(or.yf({blockedProfileId:a,profileId:(null==t?void 0:t.community_profile_id)||"",onSuccess:()=>{e(r7.R.enqueue({message:"Unrestricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{o(a)}}})),(0,eK.L9)("comment_profile_unrestricted",{unrestricted_by_profile_id:null==t?void 0:t.community_profile_id,unrestricted_profile_id:a,entry_point:"profile_page"})}}))},d=[{displayText:mZ("Copy profile link")}];return((null==t?void 0:t.community_profile_id)&&a.entity_type===tV.Se.USER&&(n?d.push({displayText:mZ("Unrestrict user")}):d.push({displayText:mZ("Restrict user")})),r)?ev.createElement(mz.z,{dispatch:e,items:d,showPoint:!0,parentRect:r,onSelectItem:(e,t)=>{"Copy profile link"===e.displayText?i():"Restrict user"===e.displayText?s():"Unrestrict user"===e.displayText&&c(a.id)},minWidth:96}):null}mq.displayName="ProfileMoreActionsDropdown";let mY=a(267837);function mJ(e){let t=(0,mj.L)(),a=ev.useRef(null),r=!!(t&&t.type===mG.eR),n=(0,eb.I0)(),i=ev.useCallback(()=>{n(od.kp())},[n]);return ev.useEffect(()=>(window.addEventListener("scroll",i,!1),()=>{window.removeEventListener("scroll",i,!1)}),[i]),ev.createElement("div",null,ev.createElement(aC.hU,{svg:mY,ref:a,onClick:r=>{r.stopPropagation();let l=a.current;t?i():l&&n(od.SP({type:mG.eR,data:{profile:e.profile,targetRect:l.getBoundingClientRect()}}))},className:r?"profile_more_actions_button--iconButtonSelected--d85bU profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":"profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6","data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("community.profiles.profile_actions")}),r&&ev.createElement(mq,null))}mJ.displayName="ProfileMoreActionsButton";var mQ=a(458721);let mX=new class{constructor(){this.CommunityResourceSavesSchemaValidator=(0,ry.xC)(),this.getCommunityResourceSaves=e=>this.CommunityResourceSavesSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resource_saves",ry.yA.toAPIParameters(e))),this.CommunityUserResourceInstallsSchemaValidator=(0,ry.xC)(),this.getCommunityUserResourceInstalls=e=>this.CommunityUserResourceInstallsSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resources/installed/user",ry.yA.toAPIParameters(e))),this.migrateLikesToSaves=()=>rI.ZP.post("/api/migrate_likes"),this.ProfileHasLikesSchemaValidator=(0,ry.PP)(),this.profileHasLikes=()=>this.ProfileHasLikesSchemaValidator.validate(async({xr:e})=>await e.get("/api/profile/has_likes"))}};var m0=a(117986),m1=a(864974),m2=a(102677);let m3="ran_community_likes_to_saves_migration",m4=(0,r9.cn)(!1),m8=(0,o_.n_)(m3),m5=(0,r9.cn)(void 0),m9=ev.createContext(()=>{});function m6(e){let t=(0,r9.Dv)(m8),a=(0,r9.Dv)(m4),[r,n]=(0,r9.KO)(m5);return((0,eZ.O)(()=>{void 0===r&&mX.profileHasLikes().then(e=>{n(e.data.meta.has_liked)}).catch(e=>{(0,ae.Jz)(m0.k.COMMUNITY,e)})}),r)?ev.createElement(m9.Provider,{value:e.resetSavedResources},ev.createElement(sb.V,{featureFlag:"cmty_saves_like_migration"},ev.createElement(s_.a,{isShowing:!1===t.data&&!a,trackingContextName:"Community Profile Likes To Saves Migration Overlay",element:m7,modalType:sp.w8.SELF_CONTAINED,onClickPrimaryCta:ex.ZT,onClose:ex.ZT,onManualDismiss:ex.ZT}))):null}function m7(){let e=(0,eb.I0)(),[t,a]=(0,r9.KO)(m4),[r,n]=ev.useState(!1),i=ev.useContext(m9);return(0,eZ.O)(()=>{(0,eK.L9)("community_profile_likes_to_saves_migration_modal_shown")}),ev.createElement(ir.cV,{confirmationTitle:(0,eq.t)("community.like_migration.modal_title"),titleClass:ek.cx.colorText.font11.fontBold.$,className:tQ()([m2.oC,m2.c3,ek.cx.bottom0.right0.mr24.mb24.$]),allowBackgroundPassThrough:!0,size:"small",disableClickOutsideToHide:!0,dispatch:e,confirmText:(0,eq.t)("community.like_migration.restore"),cancelText:(0,eq.t)("community.like_migration.discard"),autoFocusCta:!1,isLoading:r,onConfirm:()=>{(0,eK.L9)("community_profile_likes_to_saves_migration_ran"),n(!0),e(r7.R.enqueue({message:(0,eq.t)("community.like_migration.restore_in_progress")})),mX.migrateLikesToSaves().then(()=>{e(m1.v({[m3]:!0})),i(),e(r7.R.clearAll())}).catch(t=>{(0,ae.Jz)(m0.k.COMMUNITY,t),e(r7.R.enqueue({message:(0,eq.t)("community.like_migration.error"),error:!0}))}).finally(()=>{n(!1)})},onCancel:()=>{(0,eK.L9)("community_profile_likes_to_saves_migration_dismissed"),e(m1.v({[m3]:!0}))},onCloseButtonClick:()=>{(0,eK.L9)("community_profile_likes_to_saves_migration_close_button_clicked"),a(!0)},tintedModalBackground:!1},ev.createElement("div",{className:ek.cx.colorText.mt24.font11.$},ev.createElement("p",{className:ek.cx.mb12.$},ev.createElement(eq.Tx,{id:"community.like_migration.modal_text",restoreString:ev.createElement("span",{className:ek.cx.fontBold.$},ev.createElement(eq.Tx,{id:"community.like_migration.restore"})),dismissString:ev.createElement("span",{className:ek.cx.fontBold.$},ev.createElement(eq.Tx,{id:"community.like_migration.discard"}))})),ev.createElement("p",null,ev.createElement(eq.Tx,{id:"community.like_migration.modal_text_timeline"}))))}let ue=mQ.s.byProperty("saved_at",mQ.s.BY_DATETIME);function ut(){let[e,t]=ev.useState([]),[a,r]=ev.useState([]),[n,i]=ev.useState([]),[l,s]=ev.useState([]),[o,c]=ev.useState(void 0),[d,m]=ev.useState(void 0),[u,_]=ev.useState(!1),[p,g]=ev.useState(!1),E=l=>{Promise.all([h(l),f(l)]).then(([o,c])=>{let d=(null==o?void 0:o.meta.hub_files)||[],m=(null==c?void 0:c.meta.plugins)||[],u=(null==c?void 0:c.meta.widgets)||[],_=e,p=a,g=n;(null==l?void 0:l.reset)&&(_=[],p=[],g=[]);let{mergedResults:E,unmergedResultsList:[h,f,v]}=(0,dp.rM)([[..._,...d],[...p,...m],[...g,...u]],ue);(null==l?void 0:l.reset)?s(E):s(e=>[...e,...E]),t(h),r(f),i(v)})},h=e=>{let t=o;if((null==e?void 0:e.reset)&&(t=void 0),null!==t&&!u)return _(!0),mX.getCommunityResourceSaves({cursor:t,pageSize:30}).then(e=>(c(e.data.pagination.nextPage),e.data)).finally(()=>{_(!1)})},f=e=>{let t=d;if((null==e?void 0:e.reset)&&(t=void 0),null!==t&&!p)return g(!0),mX.getCommunityUserResourceInstalls({cursor:t,pageSize:30}).then(e=>(m(e.data.pagination.nextPage),e.data)).finally(()=>{g(!1)})};(0,eZ.O)(()=>{E()});let v=u||p;return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:d9},ev.createElement("div",{className:d7},v||0!==l.length?ev.createElement(tt,{adtlClassName:te("profile"),resources:l,viewContext:"ProfileSavesView",showMoreCallback:E}):ev.createElement("div",{className:"profile_resources_grid--emptySavesTabContainer--4oQx-"},ev.createElement(ur,null)),ev.createElement("div",{className:d6},v&&ev.createElement(ax.TK,null)))),ev.createElement(m6,{resetSavedResources:()=>{E({reset:!0})}}))}function ua(){return ev.createElement("svg",{width:"86",height:"126",viewBox:"0 0 86 126",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.1772 97.1417L43 94.6L39.8228 97.1417L38.5735 95.58L43 92.0388L47.4266 95.58L46.1772 97.1417ZM36.6457 99.6835L35.3963 98.1217L29.042 103.205L30.2914 104.767L36.6457 99.6835ZM27.1142 107.309L25.8648 105.747L19.5105 110.83L20.7599 112.392L27.1142 107.309ZM17.5827 114.934L16.3333 113.372L9.97901 118.456L11.2284 120.017L17.5827 114.934ZM8.05125 122.559L6.80185 120.997L3.62469 123.539C2.96993 124.063 2 123.597 2 122.758V118.933H0V122.758C0 125.274 2.90979 126.672 4.87408 125.101L8.05125 122.559ZM0 115.108H2V107.457H0V115.108ZM0 103.632H2V95.9812H0V103.632ZM0 92.156H2V84.5054H0V92.156ZM0 80.6801H2V73.0296H0V80.6801ZM0 69.2043H2V61.5538H0V69.2043ZM0 57.7285H2V50.078H0V57.7285ZM0 46.2527H2V38.6022H0V46.2527ZM0 34.7769H2V27.1263H0V34.7769ZM0 23.3011H2V15.6505H0V23.3011ZM0 11.8253H2V8C2 6.90362 2.29224 5.88157 2.80175 5.00098L1.07063 3.99936C0.389718 5.1762 0 6.54259 0 8V11.8253ZM3.99936 1.07063L5.00097 2.80175C5.88157 2.29224 6.90362 2 8 2H11.8889V0H8C6.54259 0 5.1762 0.389719 3.99936 1.07063ZM15.7778 0V2H23.5556V0H15.7778ZM27.4444 0V2H35.2222V0H27.4444ZM39.1111 0H46.8889V2H39.1111V0ZM50.7778 0V2H58.5556V0H50.7778ZM62.4444 0V2H70.2222V0H62.4444ZM74.1111 0V2H78C79.0964 2 80.1184 2.29224 80.999 2.80175L82.0006 1.07063C80.8238 0.389718 79.4574 0 78 0H74.1111ZM84.9294 3.99936L83.1983 5.00097C83.7078 5.88157 84 6.90362 84 8V11.8253H86V8C86 6.54259 85.6103 5.1762 84.9294 3.99936ZM86 15.6505H84V23.3011H86V15.6505ZM86 27.1264H84V34.7769H86V27.1264ZM86 38.6022H84V46.2527H86V38.6022ZM86 50.078H84V57.7285H86V50.078ZM86 61.5538H84V69.2043H86V61.5538ZM86 73.0296H84V80.6802H86V73.0296ZM86 84.5054H84V92.156H86V84.5054ZM86 95.9812H84V103.632H86V95.9812ZM86 107.457H84V115.108H86V107.457ZM86 118.933H84V122.758C84 123.597 83.0301 124.063 82.3753 123.539L79.1981 120.997L77.9488 122.559L81.1259 125.101C83.0902 126.672 86 125.274 86 122.758V118.933ZM74.7716 120.017L76.021 118.456L69.6667 113.372L68.4173 114.934L74.7716 120.017ZM65.2401 112.392L66.4895 110.83L60.1352 105.747L58.8858 107.309L65.2401 112.392ZM55.7086 104.767L56.958 103.205L50.6037 98.1217L49.3543 99.6835L55.7086 104.767Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 49V60H44V49H55V47H44V36H42V47H31V49H42Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}))}function ur(){let e=(0,eb.I0)();return ev.createElement("div",{className:ek.cx.flex.itemsCenter.flexColumn.gap16.$},ev.createElement(ua,null),ev.createElement("div",{className:ek.cx.flex.flexColumn.gap8.alignCenter.$},ev.createElement("h2",{className:ek.cx.font14.fontMedium.$},ev.createElement(eq.Tx,{id:"community.saves.no_saves_title"})),ev.createElement("p",{className:ek.cx.font11.$},ev.createElement(eq.Tx,{id:"community.saves.no_saves_subtitle"}))),ev.createElement(eA.PL,{target:"_blank",onClick:()=>{e(od.fv({view:"communityHub",subView:"landing",tab:null}))}},ev.createElement(eq.Tx,{id:"community.explore_resources"})))}var un=a(805992),ui=a(573990);let ul=a(830553),us=a(214928);class uo extends ev.Component{constructor(){super(...arguments),this.getProfileLink=()=>{if(this.props.profile&&this.props.profile.profile_handle)return`figma.com/@${this.props.profile.profile_handle}`;let e=this.props.profile.id;return`figma.com/profile/${e}`},this.getProfileLinkText=()=>{let e=this.getProfileLink(),t=ev.createElement(eA.rU,{href:`https://${e}`,className:ui.p4,trusted:!0},e);return this.props.profile.primary_user_id?ev.createElement(eq.Tx,{id:"community.profiles.your_profile_is_visible_to_the_public_at",link:t}):this.props.profile.entity_type===tV.Se.TEAM?ev.createElement(eq.Tx,{id:"community.profiles.your_teams_profile_is_visible_to_the_public_at",link:t}):this.props.profile.entity_type===tV.Se.ORG?ev.createElement(eq.Tx,{id:"community.profiles.your_organizations_profile_is_visible_to_the_public_at",link:t}):void 0}}render(){return this.props.profile?ev.createElement("div",{className:this.props.className||""},ev.createElement("div",{className:ui.Cg},ev.createElement(un.f,{svg:ul,fallbackSvg:us,useOriginalSrcFills_DEPRECATED:!0,className:ui.kn}),ev.createElement("span",{className:ui.Fb},this.getProfileLinkText()))):null}}uo.displayName="PublicProfileBanner";let uc=a(639345),ud=a(207569),um=a(825307),uu=(0,cx.F)(cL.rQr),u_=(0,cx.F)(cL.zH2);function up(e){let{canEdit:t,canSellOnCommunity:a}=e,r=(0,lR.xJ)(),n=ev.useCallback(()=>{if(r)return(0,dx.C2)(r)},[r]);return r&&t?ev.createElement(ev.Fragment,null,a?ev.createElement("div",{role:"link",tabIndex:0,onClick:n,className:mm},ev.createElement(eq.Tx,{id:"community.profiles.contact_creator_support"})):ev.createElement("div",{className:"profile_resources_grid--sellOnCommunity--7r6cV"},ev.createElement(eA.UU,{href:"https://www.figma.com/community-creators",className:mm,target:"_blank",trusted:!0},ev.createElement(eq.Tx,{id:"community.profiles.interested_in_selling_your_resources"})))):ev.createElement(ev.Fragment,null)}function ug(e){let{canEdit:t,updateProfile:a,isViewingCurrentUserProfile:r,showFollowsModal:n}=e,i=(0,dT.Mq)(e.profile.id);return i?ev.createElement(uE,{profile:i,canEdit:t,updateProfile:a,isViewingCurrentUserProfile:r,showFollowsModal:n}):ev.createElement(ev.Fragment,null)}function uE(e){let{profile:t,canEdit:a,updateProfile:r,isViewingCurrentUserProfile:n}=e,i=e.profile.name,l=t.profile_handle||null,s=e=>a=>{e in t&&t[e]!==a&&r({[e]:a})},o=(a||t.pronouns)&&ev.createElement(db,{value:t.pronouns||"",placeholder:(0,eq.t)("community.profiles.pronouns_placeholder"),className:(a?d3:d4)+" profile_resources_grid--pronouns--L0rXv",submit:s("pronouns"),readOnly:!a,maxLength:24}),c=(a||t.description)&&ev.createElement(db,{value:t.description||"",placeholder:(0,eq.t)("community.profiles.add_a_description"),className:a?d3:d4,submit:s("description"),formatter:dv,readOnly:!a,maxLength:160}),d=(a||t.location)&&ev.createElement(db,{value:t.location||"",placeholder:(0,eq.t)("community.profiles.add_a_location"),className:a?d3:d4,submit:s("location"),readOnly:!a,maxLength:30}),m=(a||t.website)&&ev.createElement(db,{value:t.website||"",placeholder:(0,eq.t)("community.profiles.add_website_url"),className:a?d3:d4,submit:s("website"),formatter:dv,readOnly:!a,maxLength:100}),u=(a||t.twitter)&&ev.createElement(db,{value:t.twitter||"",placeholder:(0,eq.t)("community.profiles.add_twitter_handle"),className:a?d3:d4,submit:s("twitter"),formatter:e=>ej.Gz.test(e)?dv(`https://twitter.com/${e}`):dv(e),readOnly:!a,maxLength:100}),_=(a||t.instagram)&&ev.createElement(db,{value:t.instagram||"",placeholder:(0,eq.t)("community.profiles.add_instagram_handle"),className:a?d3:d4,submit:s("instagram"),formatter:e=>ej.QN.test(e)?dv(`https://www.instagram.com/${e}`):dv(e),readOnly:!a,maxLength:100}),p=ev.createElement(dD.e,{profile:t,followClassName:"profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",followingClassName:"profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",unfollowClassName:"profile_resources_grid--unfollowButton--MmYUn profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{viewingProfileId:t.id}}),g=(0,dg.K2)(t.follower_count),E=(0,dg.K2)(t.following_count),h=ev.createElement("div",{className:"profile_resources_grid--followsDataContainer--TnbJI"},ev.createElement("div",{className:d8,onClick:()=>e.showFollowsModal(di.sk.FOLLOWERS)},ev.createElement(eq.Tx,{id:"community.profiles.follower_count",followerCount:g,formattedFollowerCount:ev.createElement("span",{className:d5},g)})),t.primary_user_id&&ev.createElement("div",{className:d8,onClick:()=>e.showFollowsModal(di.sk.FOLLOWING)},ev.createElement(eq.Tx,{id:"community.profiles.following_count",followingCount:ev.createElement("span",{className:d5},E)}))),f=ev.createElement("div",{className:"profile_resources_grid--profileDataHandleAndFollow--6kpYs"},ev.createElement("div",{className:"profile_resources_grid--profileDataHandle--DB20D"},"@",l),t.current_user_is_followed&&ev.createElement(ad.Hx,null)),v=ev.createElement(mJ,{profile:t}),b=n?null:ev.createElement("div",{className:"profile_resources_grid--followMoreActionsContainer--uQNdm"},p,v),y=ev.createElement(up,{canEdit:a,canSellOnCommunity:(0,ej.nb)(t)});return ev.createElement("div",null,ev.createElement("h1",{className:"profile_resources_grid--profileDataName--xw46b text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},ev.createElement(dy.L,{truncate:"end",text:i}),ev.createElement(dw.b,{profile:t,tooltip:!0})),(0,nt.dS)()&&o,l&&f,b,c,h,d,m,u,_,y)}(e=>{let t={resources:null,loading:!1},a=class extends ev.Component{constructor(e){super(e),this.publicAuthoredPlugins=e=>Object.keys((0,n8.lS)(e,this.props.profileId)).map(t=>e[t]),this.publicAuthoredHubFiles=()=>Object.keys((0,dC.C6)(this.props.hubFiles,this.props.profileId)).map(e=>this.props.hubFiles[e]),this.authoredResources=()=>{let e=(0,n8.wc)((0,n8.pJ)(Object.values(this.props.publishedPlugins)),this.props.currentOrgId),t=(0,n8.wc)((0,n8.pJ)(Object.values(this.props.publishedWidgets)),this.props.currentOrgId),a=[...this.publicAuthoredPlugins(e),...this.publicAuthoredPlugins(t),...this.publicAuthoredHubFiles()];return(0,nx.tL)(a,e=>{let t=e.current_hub_file_version_id?e.current_hub_file_version_id:e.current_plugin_version_id||"";return e.versions[t].created_at})},this.isLoading=()=>{let e=this.props.profileId,t=dN.ge.loadingKeyForPayload({profileId:e}),a=dN.pF.loadingKeyForPayload({profileId:e}),r=rX.vH.loadingKeyForPayload(e),n=this.props.tab===di.sk.LIKES&&null===this.state.likedResourcesState.resources&&this.state.likedResourcesState.loading;return!((0,dn.B4)(this.props.loadingState,t||"")&&(0,dn.B4)(this.props.loadingState,a||"")&&(0,dn.B4)(this.props.loadingState,r||""))||n},this.redirectToLanding=()=>{this.props.dispatch(od.fv({view:"communityHub",subView:"landing",tab:null}))},this.filterPaidResources=e=>!!e.monetized_resource_metadata,this.state={likedResourcesState:t,didFetchFail:!1,isLoadingStripe:!1}}componentDidUpdate(e){e.tab===this.props.tab||this.props.tab!==di.sk.LIKES||null!==this.state.likedResourcesState.resources||this.state.likedResourcesState.loading||this.fetchNextLikedResources(),this.props.tab===di.sk.SAVES&&this.props.authedActiveCommunityProfileId!==this.props.profile.id&&this.props.dispatch(od.fv({...this.props.currentSelectedView,profileTab:di.sk.RESOURCES}))}componentDidMount(){this.props.tab!==di.sk.LIKES||null!==this.state.likedResourcesState.resources||this.state.likedResourcesState.loading||this.fetchNextLikedResources()}async fetchNextLikedResources(){if((0,dp.p$)(this.state.likedResourcesState)){this.setState({likedResourcesState:{...this.state.likedResourcesState,loading:!0},didFetchFail:!1});try{let e=await (0,dp.V6)(`/api/profile/${this.props.profile.id}/likes`,dp.h0,this.state.likedResourcesState,dp.wt),t=[],a=[],r=[];e.resources.forEach(e=>{e.type===e4._g.HUB_FILE?t.push(e):e.type===e4._g.PLUGIN?a.push(e):e.type===e4._g.WIDGET&&r.push(e)}),this.props.dispatch(rX.zQ(t)),this.props.dispatch(dN.zQ(a)),this.props.dispatch(dN.XE(r)),this.setState({likedResourcesState:{resources:[...this.state.likedResourcesState.resources||[],...e.resources],loading:!1,pagination:e.pagination},didFetchFail:!1})}catch{this.setState({didFetchFail:!0}),this.props.dispatch(dl.l.error((0,eq.t)("community.error.an_error_has_occurred_please_refresh_the_page_and_try_again")))}}}renderEmptyState(){let e,t,a,r;return this.props.tab===di.sk.LIKES?(e=(0,eq.t)("community.profiles.nothing_liked_yet"),t=(0,eq.t)("community.profiles.see_whats_being_created_in_figma"),a=ev.createElement(eA.PL,{target:"_blank",onClick:this.redirectToLanding},ev.createElement(eq.Tx,{id:"community.landing_page.explore"})),r=uc):(e=(0,eq.t)("community.profiles.nothing_published_yet"),t=(0,eq.t)("community.profiles.see_whats_being_created_in_figma"),a=ev.createElement(eA.PL,{target:"_blank",onClick:this.redirectToLanding},ev.createElement(eq.Tx,{id:"community.profiles.explore"})),r=ud),ev.createElement("div",{className:mn},ev.createElement(eD.n,{svg:r,useOriginalSrcFills_DEPRECATED:!0}),ev.createElement("div",{className:mi},e),ev.createElement("div",{className:ml},t),a)}render(){let e=[di.sk.RESOURCES,di.sk.FOLLOWERS,di.sk.FOLLOWING,di.sk.METRICS].includes(this.props.tab)?this.authoredResources():this.state.likedResourcesState.resources||[];return this.props.tab===di.sk.METRICS?ev.createElement(dr.u,{isLoading:this.isLoading(),className:d9},()=>ev.createElement(mW,{paidResources:e.filter(this.filterPaidResources),primaryUserId:this.props.profile.primary_user_id})):this.props.tab===di.sk.SAVES?ev.createElement(ut,null):ev.createElement(dr.u,{isLoading:this.isLoading(),className:d9},()=>e.length>0?ev.createElement("div",{className:d7},ev.createElement(tt,{adtlClassName:te("profile"),resources:e,viewContext:a.displayName,showMoreCallback:()=>{this.props.tab===di.sk.LIKES&&this.fetchNextLikedResources()}}),this.props.tab===di.sk.LIKES&&(0,dp.p$)(this.state.likedResourcesState)&&!this.state.didFetchFail&&ev.createElement("div",{className:d6},ev.createElement(ax.TK,null))):this.renderEmptyState())}};a.displayName="PublicProfileResourcesGrid",e.ConnectedPublicProfileResourcesGrid=(0,eb.$j)(e=>{var t;let a=e.communityHub.currentProfile;return{profile:a,currentUser:e.user||null,isWithinProfileScope:(0,nt.Ps)(a,e),publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,hubFiles:e.hubFiles,currentOrgId:e.currentUserOrgId||null,loadingState:e.loadingState,authedActiveCommunityProfileId:(null==(t=e.authedActiveCommunityProfile)?void 0:t.id)||null,currentSelectedView:e.selectedView}})(a)})(ec||(ec={}));let uh=ec.ConnectedPublicProfileResourcesGrid;(e=>{class t extends ev.Component{constructor(){super(...arguments),this.updateProfile=e=>{this.props.dispatch(or.aX({profileId:this.props.profileId,...e}))},this.onFilesPluginsTabClick=()=>{var e;(0,eK.L9)("Profile Resources Tab Clicked",{tabName:"resources",profileId:this.props.profileId,viewingUserId:null==(e=this.props.currentUser)?void 0:e.id}),this.props.dispatch(od.fv({...this.props.currentSelectedView,profileTab:di.sk.RESOURCES}))},this.onMetricsTabClick=()=>{var e;(0,eK.L9)("Profile Resources Tab Clicked",{tabName:"metrics",profileId:this.props.profileId,viewingUserId:null==(e=this.props.currentUser)?void 0:e.id}),(0,dS.m_)({id:"profile-metrics-tab-clicked"}),this.props.dispatch(od.fv({...this.props.currentSelectedView,profileTab:di.sk.METRICS}))},this.onSavesTabClick=()=>{var e;(0,dS.m_)({id:"cmty-profile-saves"}),(0,eK.L9)("Profile Resources Tab Clicked",{tabName:di.sk.SAVES,profileId:this.props.profileId,viewingUserId:null==(e=this.props.currentUser)?void 0:e.id}),this.props.dispatch(od.fv({...this.props.currentSelectedView,profileTab:di.sk.SAVES}))},this.showFollowsModal=e=>{this.props.dispatch(od.fv({...this.props.currentSelectedView,profileTab:e}))}}render(){let e=ev.createElement(uh,{...this.props,tab:this.props.profileTab}),t=this.props.profile.primary_user_id&&this.props.authedActiveCommunityProfileId===this.props.profile.id?ev.createElement(ev.Fragment,null,ev.createElement("button",{className:tQ()(dQ,dX,{[d1]:this.props.profileTab===di.sk.SAVES}),onClick:this.onSavesTabClick,tabIndex:0,"data-onboarding-key":"cmty-profile-save-tab"},ev.createElement(eq.Tx,{id:"community.profiles.saved"}),ev.createElement(eD.n,{svg:um,className:m_,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("community.only_visible_to_you")}))):ev.createElement(ev.Fragment,null),a=ev.createElement("div",{className:"profile_resources_grid--profileDataContainer--e4QVX text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(ug,{profile:this.props.profile,canEdit:this.props.canEdit,updateProfile:this.updateProfile,isViewingCurrentUserProfile:this.props.authedActiveCommunityProfileId===this.props.profile.id,showFollowsModal:this.showFollowsModal}),this.props.isWithinProfileScope&&this.props.communityStatusOnProfile!==na.xr.ADMIN_IN_DIFFERENT_WORKSPACE&&ev.createElement(dA.z,{query:`(min-width: ${u_}px)`},ev.createElement(uo,{profile:this.props.profile,className:mo})),!this.props.isWithinProfileScope&&ev.createElement(dO.n,{profile:this.props.profile,className:mo})),r=this.props.isWithinProfileScope&&(0,ej.v_)(this.props.currentUser),n=ev.createElement(dR,{user:this.props.currentUser},ev.createElement("div",{className:"profile_resources_grid--viewBarWrapper--CgSIp"},ev.createElement(ol.Uc,{className:dY,leftSide:ev.createElement("div",{className:dJ},ev.createElement("div",{className:tQ()(dQ,dX,{[d1]:this.props.profileTab===di.sk.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.profiles.resources"})),t,r&&ev.createElement(e3.Ui,{name:r2.V4.COMMUNITY_PROFILE_METRICS_TAB},ev.createElement("div",{className:d0},ev.createElement("div",{className:tQ()(dQ,dX,d2,{[d1]:this.props.profileTab===di.sk.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.seller.profiles.metrics"}),ev.createElement(eD.n,{svg:um,className:m_,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("community.only_visible_to_you")})),ev.createElement("div",{className:mu},ev.createElement(os.Ct,{text:(0,eq.t)("rcs.modal.new"),color:os.JV.BRAND,size:os.OD.LARGE}))))),rightSide:null}))),i=ev.createElement(ol.Uc,{className:dY,leftSide:ev.createElement("div",{className:dJ},ev.createElement("div",{className:tQ()(dQ,dX,{[d1]:this.props.profileTab===di.sk.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},ev.createElement(eq.Tx,{id:"community.profiles.resources"})),t,r&&ev.createElement(e3.Ui,{name:r2.V4.COMMUNITY_PROFILE_METRICS_TAB},ev.createElement(sb.V,null,ev.createElement(dU,{onboardingKey:dM})),ev.createElement("div",{className:d0},ev.createElement("div",{className:tQ()(dQ,dX,d2,{[d1]:this.props.profileTab===di.sk.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},ev.createElement("span",{"data-onboarding-key":dM},ev.createElement(eq.Tx,{id:"community.seller.profiles.metrics"})),ev.createElement(eD.n,{svg:um,className:m_})),ev.createElement("div",{className:mu},ev.createElement(os.Ct,{text:(0,eq.t)("rcs.modal.new"),color:os.JV.BRAND,size:os.OD.LARGE}))))),rightSide:null});return ev.createElement(ev.Fragment,null,ev.createElement(dA.z,{query:`(min-width: ${uu}px)`},i,ev.createElement("div",{className:mr},a,e)),ev.createElement(dA.z,{query:`(max-width: ${uu-1}px)`},ev.createElement("div",{className:mr},a,n,e)))}}t.displayName="PublicProfileResourcesGridAndData",e.ConnectedPublicProfileResourcesGridAndData=(0,eb.$j)((e,t)=>{var a,r;let n=e.communityHub.currentProfile,i=(0,nt.Ps)(n,e),l=null==(a=e.selectedView)?void 0:a.profileTab;return l&&(l!==di.sk.METRICS||i)||(l=di.sk.RESOURCES),{profile:n,currentUser:e.user||null,canEdit:(0,nt.ID)(n,e),isWithinProfileScope:i,currentSelectedView:e.selectedView,profileTab:l,communityStatusOnProfile:(0,na.y8)(e,n),authedActiveCommunityProfileId:(null==(r=e.authedActiveCommunityProfile)?void 0:r.id)||null}})(t)})(ed||(ed={}));let uf=ed.ConnectedPublicProfileResourcesGridAndData;var uv=a(126716);class ub extends ev.PureComponent{render(){return ev.createElement("div",null,this.props.topbar,ev.createElement("div",{className:"signed_out_view--content--Z2AJS"},this.props.content))}}ub.displayName="SignedOutPageView";class uy extends ev.Component{constructor(e){super(e),this.state={}}componentDidMount(){null==this.props.currentProfile?this.fetchProfile():this.onProfileLoad()}componentDidUpdate(e){var t;null!=this.props.currentProfile||this.state.profileFetchLoadingKey||this.fetchProfile(),this.state.profileFetchLoadingKey&&(0,dn.W_)(this.props.loadingState,this.state.profileFetchLoadingKey)&&(this.onProfileLoad(),this.setState({profileFetchLoadingKey:void 0}));let a=this.isFollowsListModalTab(e.currentSelectedView.profileTab)?e.currentSelectedView.profileTab:null,r=this.isFollowsListModalTab(this.props.currentSelectedView.profileTab)?this.props.currentSelectedView.profileTab:null;this.props.currentProfile&&a!==r&&r?this.props.dispatch((0,ig.K4)({type:uv.d,data:{currentSelectedView:this.props.currentSelectedView,profile:this.props.currentProfile,currentUserProfileId:(null==(t=this.props.currentUser)?void 0:t.community_profile_id)||null,authedActiveCommunityProfileId:this.props.authedActiveCommunityProfileId,dispatch:this.props.dispatch}})):!r&&a&&this.props.dispatch(ig.hV())}fetchProfile(){if(!this.props.handle){this.props.on404Redirect();return}let e={handle:this.props.handle,on404Redirect:this.props.on404Redirect};this.props.dispatch(or.Wy(e)),this.setState({profileFetchLoadingKey:or.Wy.loadingKeyForPayload(e)})}isFollowsListModalTab(e){let t=[di.sk.FOLLOWERS,di.sk.FOLLOWING];return t.includes(e)}onProfileLoad(){var e;if(this.props.currentProfile){if(!this.props.currentProfile.public_at)return this.props.on404Redirect();this.props.dispatch(ne.Rg(this.props.currentProfile.id)),this.isFollowsListModalTab(this.props.currentSelectedView.profileTab)&&this.props.dispatch((0,ig.K4)({type:uv.d,data:{currentSelectedView:this.props.currentSelectedView,profile:this.props.currentProfile,currentUserProfileId:(null==(e=this.props.currentUser)?void 0:e.community_profile_id)||null,authedActiveCommunityProfileId:this.props.authedActiveCommunityProfileId,dispatch:this.props.dispatch}}))}}renderToolbar(){return this.props.currentUser?ev.createElement("div",null):ev.createElement(cU,null)}renderProfile(e){return ev.createElement(e3.Ui,{name:r2.V4.COMMUNITY_HUB_PROFILE,properties:{handle:e.profile_handle,profileId:e.id}},ev.createElement("div",{className:this.props.currentUser?"community_hub_public_profile--signedInProfileContainer--8jWX9":"community_hub_public_profile--signedOutProfileContainer--nIxAf"},ev.createElement("div",null,ev.createElement(d_,{profileId:e.id}),ev.createElement(uf,{profileId:e.id})),(0,eT.BZ)().cmty_footer&&!(0,ey.P)()&&ev.createElement("div",{className:"community_hub_public_profile--footerContainer--L38Gh"},ev.createElement(tU,null)),ev.createElement(rZ.ZP,null)))}render(){return ev.createElement(dr.u,{className:"community_hub_public_profile--loadingContainer--GUi6s",isLoading:!this.props.currentProfile},()=>{let e=this.renderProfile(this.props.currentProfile);if(this.props.hideToolbar)return e;let t=this.renderToolbar();return this.props.currentUser?ev.createElement(da.S,{toolbar:t,header:this.props.header,content:e,collapseSidebarOnTabletView:!0}):ev.createElement(ub,{topbar:t,content:e})})}}uy.displayName="CommunityHubProfile";let uw=(0,eb.$j)((e,t)=>{var a,r,n,i;let l=(null==(r=null==(a=e.communityHub.currentProfile)?void 0:a.profile_handle)?void 0:r.toLowerCase())===(null==(n=t.handle)?void 0:n.toLowerCase())?e.communityHub.currentProfile:null;return{currentUser:e.user||null,currentProfile:l,currentSelectedView:e.selectedView,loadingState:e.loadingState,currentOrgId:e.currentUserOrgId,authedActiveCommunityProfileId:(null==(i=e.authedActiveCommunityProfile)?void 0:i.id)||null}})(uy),uT=e=>{if("handle"===e.subView)return ev.createElement(uw,{handle:e.handle,on404Redirect:()=>{ew.default.redirect("/404")}});{let{content:t,key:a}=uN(e);return ev.createElement(da.S,{toolbar:void 0,content:t,collapseSidebarOnTabletView:!0,key:a})}},ux=(0,eb.$j)(null,e=>({dispatch:e}))(({shouldUseReactRouterCommunityNavbar:e})=>{let t=(0,eb.oR)();return ev.createElement(ls,{store:t,FeedView:cW,Navbar:e?cV:function(){return null}})});function uN(e){let t="communityHub"!==e.view?{content:ev.createElement(ux,{shouldUseReactRouterCommunityNavbar:!1}),key:"searchAndBrowse"}:"plugin"===e.subView||"widget"===e.subView||"hubFile"===e.subView||"landing"===e.subView||"searchAndBrowse"===e.subView?{content:ev.createElement(ux,{shouldUseReactRouterCommunityNavbar:uC(e.subView)}),key:"searchAndBrowse"}:"hubFileEmbed"===e.subView||"monetizationRedirectView"===e.subView?{content:null,key:void 0}:"handle"===e.subView?{content:ev.createElement(uw,{handle:e.handle,on404Redirect:()=>{ew.default.redirect("/404")},hideToolbar:!0}),key:`handle-${e.handle}`}:"adminCollection"===e.subView?(0,eT.BZ)().community_hub_admin?{content:ev.createElement(dt,{urlSlug:e.urlSlug}),key:`adminCollection-${e.urlSlug||"all"}`}:{content:null,key:void 0}:(0,eL.vE)(e);return t.content?{...t,content:ev.createElement(lo.$,{commentIds:[],pages:[]},t.content)}:t}function uC(e){return["plugin","widget","hubFile","searchAndBrowse"].includes(e)}var uS=a(410152),uk=a(472923),uI=a(578375),uL=a(322186),uR=a(733609),uA=a(81340),uO=a(211879),uD=a(326714),uF=a(669981),uM=a(680809),uP=a(417704),uB=a(488160),uU=a(772485);function uV(){return ev.createElement("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("rect",{x:"103.455",y:"104.493",width:"45.149",height:"57.7907",transform:"rotate(-180 103.455 104.493)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("path",{d:"M62.927 51.7129L62.1419 53.2707C61.4075 54.7277 59.9255 55.6452 58.3065 55.6452L58.3065 69.0602L64.7265 69.0602C67.2802 69.0602 69.5893 67.5161 70.6011 65.1319L70.9455 64.3203C72.3165 61.0896 76.1951 59.8592 79.1294 61.7241L79.5218 61.9734C82.025 63.5643 85.327 62.7225 86.7961 60.119C89.265 55.7436 95.7823 57.0264 96.4672 62.0225L96.9648 65.6525C97.4083 68.888 100.242 71.296 103.455 71.296L103.455 55.6452L96.8671 55.6452C94.4158 55.6452 92.1537 54.3148 90.9442 52.1618C88.8389 48.414 83.8779 47.5225 80.6213 50.3066L76.8062 53.5682C74.6876 55.3794 71.4363 54.587 70.3692 51.9993C69.0244 48.7384 64.5137 48.5648 62.927 51.7129Z",fill:"#0FA958",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("path",{d:"M70.969 64.2606L70.5915 65.1502C69.5855 67.5209 67.2596 69.0605 64.6843 69.0605L58.3047 69.0605L58.3047 80.6868L59.0581 80.6868C61.8922 80.6868 64.4545 82.4015 65.5755 85.0483C68.0796 90.9608 76.3675 90.8321 78.6928 84.8445L81.4653 77.7057L83.2017 74.2078C85.6215 69.3331 92.6778 68.6256 94.878 73.6067C96.5009 77.2807 99.7887 77.7057 103.453 77.7057L103.453 71.2963L103.375 71.2963C100.144 71.2963 97.4095 68.9109 96.9707 65.71L96.4577 61.9683C95.7824 57.0421 89.2361 55.7916 86.7926 60.1221C85.331 62.7123 81.9965 63.5476 79.4863 61.9524L79.1249 61.7227C76.206 59.8677 72.3201 61.0769 70.969 64.2606Z",fill:"#699BF7",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("path",{d:"M81.0219 99.533L79.6441 97.4163C76.9124 93.2197 71.1826 92.2439 67.2157 95.2996C65.7149 96.4558 63.8736 97.0828 61.9791 97.0828L58.3047 97.0828L58.3047 80.6867L59.0582 80.6867C61.8922 80.6867 64.4545 82.4014 65.5755 85.0482C68.0796 90.9607 76.3675 90.832 78.6928 84.8445L81.4653 77.7056L83.2017 74.2077C85.6215 69.333 92.6799 68.6133 94.9513 73.7556C96.5742 77.4297 100.155 77.7056 103.453 77.7056L103.453 104.493L92.1662 104.493L90.1686 104.493C86.4771 104.493 83.0358 102.627 81.0219 99.533Z",fill:"#FFC700",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("rect",{x:"83.0745",y:"118.4",width:"35.3785",height:"4.67714",transform:"rotate(90 83.0745 118.4)",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("path",{d:"M86.9636 118.4L91.536 118.4L110.994 153.778L106.422 153.778L86.9636 118.4Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("path",{d:"M74.513 118.4L69.9405 118.4L50.4824 153.778L55.0549 153.778L74.513 118.4Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("path",{d:"M93.7464 118.715L67.7302 118.715L67.7302 114.175L93.7464 114.175V118.715Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("rect",{x:"82.8342",y:"28.2712",width:"4.54023",height:"4.54023",transform:"rotate(90 82.8342 28.2712)",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("path",{d:"M88.4946 32.7V37.2402L72.9817 37.2402L72.9817 32.7L88.4946 32.7Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 125.778 116.148)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 41.9258 29.3333)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 125.778 29.3333)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 41.9258 116.148)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("rect",{x:"-0.37037",y:"0.37037",width:"83.0506",height:"86.183",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 122.039 32.2269)",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ev.createElement("path",{d:"M140.148 103.224L140.518 103.224L140.518 102.854L140.518 93.7686L140.518 93.3982L140.148 93.3982L115.23 93.3982L114.86 93.3982L114.86 93.7686L114.86 102.854L114.86 103.224L115.23 103.224L140.148 103.224ZM109.545 85.8149L108.838 85.3945L108.992 86.2029L110.247 92.7643L110.43 93.7206L110.929 92.8845L112.359 90.4889L114.976 89.7712L115.816 89.5407L115.067 89.0956L109.545 85.8149Z",fill:"#699BF7",stroke:"var(--color-icon)","stroke-width":"0.740741","stroke-linecap":"square"}),ev.createElement("path",{d:"M19.9334 88.4856L19.563 88.4856L19.563 88.1153L19.563 79.0303L19.563 78.6599L19.9334 78.6599L44.8509 78.6599L45.2212 78.6599L45.2212 79.0303L45.2212 88.1153L45.2212 88.4856L44.8509 88.4856L19.9334 88.4856ZM50.5359 71.0766L51.2435 70.6562L51.0889 71.4646L49.8339 78.026L49.651 78.9823L49.1521 78.1462L47.7225 75.7506L45.1054 75.0329L44.2649 74.8025L45.0141 74.3573L50.5359 71.0766Z",fill:"#0FA958",stroke:"var(--color-icon)","stroke-width":"0.740741","stroke-linecap":"square"}),ev.createElement("path",{d:"M60.0677 5.49226L59.6973 5.49226L59.6973 5.86263L59.6973 14.9476L59.6973 15.318L60.0677 15.318L84.9851 15.318L85.3555 15.318L85.3555 14.9476L85.3555 5.86263L85.3555 5.49226L84.9851 5.49226L60.0677 5.49226ZM90.6702 22.9013L91.3778 23.3216L91.2232 22.5133L89.9682 15.9519L89.7853 14.9956L89.2864 15.8317L87.8568 18.2273L85.2396 18.945L84.3992 19.1754L85.1484 19.6206L90.6702 22.9013Z",fill:"#FFC700",stroke:"var(--color-icon)","stroke-width":"0.740741","stroke-linecap":"square"}))}let uW=(e,t)=>{let a=t.figjam_editor_onboarded||(0,uB.df)(t)||t.editor_community_duplicate_onboarded||t.orgs_onboarded||t.welcome_onboarded,r=(0,uP.BA)("after-auth-duplicate-file-id"),n=(0,uP.BA)("show_eula");r&&(n?e((0,ig.K4)({type:uU.U1,data:{hubFileId:r}})):a||e((0,ig.K4)({type:uj,data:{hubFileId:r}})))};function uG(e){return ev.createElement(e3.Ui,{name:"Continue Duplication after Verification Modal"},ev.createElement(ib.ge,{headerSize:"hidden",maxWidth:348,containerClassName:"continue_after_verification--modalContainer--L-0LF",innerContainerClassName:"continue_after_verification--innerModal--JmgbP",title:" ",onClose:e.onClose},ev.createElement("div",{className:ek.cx.mxAuto.$},ev.createElement(uV,null)),ev.createElement("h1",{className:"continue_after_verification--title---5Cuw"},ev.createElement(eq.Tx,{id:"community.duplicate_modal.youre_all_set"})),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"community.duplicate_modal.youve_verified_your_email_at",userEmail:ev.createElement("b",null,e.userEmail)})),ev.createElement(eA.BN,{fullWidth:!0,onClick:e.onDuplicateClick,type:"button",role:"button",trackingProperties:{trackingDescriptor:cC.y.CONTINUE_TO_FILE}},ev.createElement(eq.Tx,{id:"community.duplicate_modal.continue_to_file"}))))}let uj=(0,it.Y3)(function(e){let t=(0,eb.v9)(e=>{var t;return null==(t=e.user)?void 0:t.email}),a=(0,eb.I0)(),r=(0,eb.v9)(t=>t.hubFiles[e.hubFileId]),n=dn.Dm(rX.CI.loadingKeyForPayload({hubFileId:e.hubFileId})),i=(0,o8.A6)(),l=()=>{a(ig.hV())};return(ev.useEffect(()=>{r||a(rX.CI({hubFileId:e.hubFileId}))},[a,r,e.hubFileId]),n)?t&&(r||!n)?ev.createElement(uG,{onClose:l,userEmail:t,onDuplicateClick:()=>{a(m1.v({signed_up_from_community:!0}));let t=uF.t.onDuplicateHubFile(e=>{a((0,ig.K4)({type:uM.Q,data:{payload:e}}))},{isFreemiumPreview:e.isFreemiumPreview});l(),a(t(r)),new URLSearchParams(ew.default.location.search).has(al.fg)&&a(od.fv({...i,triggerFreemiumPreview:void 0}))}}):(l(),null):null},"ContinueAfterVerificationModal");var uH=a(249386),u$=a(413110),uz=a(375326),uK=a(62514),uZ=a(298331),uq=a(220958),uY=a(919325);function uJ({index:e}){let t=(0,eb.v9)(e=>!!e.payment.promo);return ev.createElement("div",{className:"team_creation_breadcrumbs--stepBreadcrumbs--oSUJJ step_breadcrumb--stepBreadcrumbs--E4Woe"},ev.createElement(uY.ut,{selected:1===e,number:1,text:(0,eq.t)("team_creation.name_your_team")}),ev.createElement(uY.ut,{selected:2===e,number:2,text:(0,eq.t)("team_creation.add_team_members")}),!t&&ev.createElement(uY.ut,{selected:3===e,number:3,text:(0,eq.t)("team_creation.finish_setup")}))}class uQ extends ev.Component{render(){return ev.createElement("div",{onClick:this.props.onClick},this.props.children)}}let uX=(0,e3.z7)(uQ);class u0 extends ev.PureComponent{render(){return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"full_width_page--closeMenu--2t7Eb"},this.props.menu),ev.createElement("div",{className:"full_width_page--fullWidthPage--I9-JZ overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",...this.props}))}}u0.displayName="FullWidthPageContent";let u1="add_collaborators--emailListItem--47Ymn",u2=a(328630);class u3 extends ev.PureComponent{constructor(e){super(e),this.team=()=>this.props.teams[this.props.selectedView.teamId],this.cancel=()=>{this.props.dispatch(od.fv({view:"team",teamId:this.team().id}))},this.updateEmail=(e,t)=>{if(t>=this.state.collaboratorEmails.length)return;let a=[...this.state.collaboratorEmails];a[t]=e,this.setState({collaboratorEmails:a})},this.addEmailInput=()=>{this.setState({collaboratorEmails:[...this.state.collaboratorEmails,""]})},this.nextView=()=>{let e=!!this.props.teamCreation.isEduTeam;this.props.payment.promo?this.props.dispatch(uz.nw({teamId:this.team().id,teamName:this.team().name,previousView:{view:"team",teamId:this.team().id}})):e?this.props.dispatch(u$.y4({teamId:this.team().id,showBreadcrumbs:!0})):this.props.dispatch(od.fv({view:"teamUpgrade",teamFlowType:di.wD.UPGRADE_EXISTING_TEAM,teamId:this.team().id,paymentStep:uD.KB.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:this.team().id},planType:di.rD.TEAM}))},this.dispatchSendInvites=()=>{this.props.dispatch((0,uZ.Pv)({emails:this.nonEmptyEmails(),resourceType:ao._g.TEAM,resourceIdOrKey:this.team().id,level:uq.V.EDITOR,onSuccess:()=>{this.props.dispatch(uK.K4({loading:!1})),this.nextView()}}))},this.nonEmptyEmails=()=>this.state.collaboratorEmails.filter(e=>e).map(e=>e.trim()),this.state={collaboratorEmails:["","",""]}}render(){let e=ev.createElement(uX,{onClick:this.cancel},ev.createElement(eD.n,{svg:u2,className:"add_collaborators--modalCloseX--q-kpi"}));return ev.createElement(e3.Ui,{name:"Add Collaborators",properties:{teamId:this.team().id}},ev.createElement("div",null,ev.createElement(u0,{menu:e},ev.createElement(uJ,{index:2}),ev.createElement(uY.rQ,null,ev.createElement(eq.Tx,{id:"team_creation.add_your_collaborators"})),ev.createElement(uY.hX,null,ev.createElement(eq.Tx,{id:"team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up"})),ev.createElement("div",{className:"add_collaborators--formContainer--C-iq0"},ev.createElement("div",{className:"add_collaborators--emailInputsContainer--8M7pc"},this.state.collaboratorEmails.map((e,t)=>ev.createElement(eA.Ev,{key:`collaborator-email-input-${t}`,className:u1,value:e,onChange:e=>this.updateEmail(e.target.value,t),maxLength:255,placeholder:(0,eq.t)("team_creation.email")}))),ev.createElement(eA.PL,{className:u1,onClick:this.addEmailInput},ev.createElement(eq.Tx,{id:"team_creation.add_another"})),ev.createElement("div",{className:"add_collaborators--spacing--ODn5D"}),ev.createElement("div",{className:"add_collaborators--ctaContainer--7S-6n"},ev.createElement(eA.OK,{disabled:0===this.nonEmptyEmails().length,onClick:this.dispatchSendInvites,trackingProperties:{numCollaborators:this.nonEmptyEmails().length}},ev.createElement(eq.Tx,{id:"team_creation.continue"})),ev.createElement(eA.Cr,{onClick:this.nextView,trusted:!0},ev.createElement(eq.Tx,{id:"team_creation.skip_for_now"})))))))}}var u4=a(888967),u8=a(187232),u5=a(138101),u9=a(489465),u6=a(609346),u7=a(810611),_e=a(202426),_t=a(196532),_a=a(956296),_r=a(249203),_n=a(656077);let _i=a(205985),_l=["recentFiles","folder","team","search","recentsAndSharing"];function _s(){let e=(0,eb.v9)(e=>e.autosave),t=(0,r9.Dv)(oF.b),a=(0,o8.A6)(),r=(0,_t.Mn)(),n=(0,as.QN)(),i=(0,u8.lC)(),l=(0,u6.r5)((0,u6.fv)((0,u6.vr)(e.unclaimedFilesWithChangesInIDB,r),n),n),s=e.unclaimedFilesCreatedOffline;return t||!i&&(0,eT.BZ)().fb_offline_notification||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(l.length>0||e.unclaimedFilesCreatedOffline.length>0)&&_l.includes(a.view)?ev.createElement(_c,{unsyncedFiles:l,localUnsyncedFiles:s}):null}let _o=!1;function _c(e){let t=(0,eb.I0)();ev.useEffect(()=>{let e=()=>{t(uS.Cq())};return _e.pk.register(_e.CP,e),function(){_e.pk.unregister(_e.CP,e),t(ig.h0({type:u5.TR.type}))}},[t]);let a=(0,o8.A6)(),[r,n]=ev.useState(!1);ev.useEffect(()=>{_o||(_o=!0,(0,u4.Bz)()),r||(n(!0),(0,eK.L9)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:a.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,r,a]);let i=(0,lR.xJ)(),l=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===l.length||!i)return ev.createElement(ev.Fragment,null);let s=l.length>1,o=l[0],c=(0,u7.KM)(o)?o.file.name:o.name,d=c.length>40?c.substring(0,40)+"\u2026":c,m=s?(0,eq.t)("autosave.notification.message.more_than_one_file"):(0,eq.t)("autosave.notification.message.one_file",{fileName:d}),u=s?ev.createElement(eq.Tx,{id:"autosave.notification.action_review"}):ev.createElement(eq.Tx,{id:"autosave.notification.action_open_to_sync"});return ev.createElement("div",{className:"autosave_notification--notification--ToLsu text--_negText--j9g-L"},ev.createElement(eD.n,{className:"autosave_notification--icon--wxeC6",svg:_i,width:"24",height:"24"}),ev.createElement("div",{className:"autosave_notification--message--8xxqE"},m),ev.createElement("div",{className:"autosave_notification--actions--Gv7Zu"},ev.createElement("div",{className:"autosave_notification--mainAction--O74k6 autosave_notification--action--jhiAG",onClick:()=>{s?t(ig.K4({type:u5.TR})):(0,u7.KM)(o)?ew.default.redirect((0,_r.BD)(o.file,!0),"_blank"):t(u9.mp({file:o,openNewFileIn:_n.JD.NEW_TAB,source:_a.j.AUTOSAVE_NOTIFICATION}))}},u),ev.createElement("div",{className:"autosave_notification--action--jhiAG",onClick:()=>{(0,eK.L9)("Autosave Notification Snooze",{files:l.length,firstFile:o.fileKey}),t(uS.mb(Date.now()))}},ev.createElement(eq.Tx,{id:"autosave.notification.action_later"}))))}var _d=a(792808),_m=a(857522),_u=a(727899);let __=a(328630),_p=e=>{let t=(0,eb.v9)(t=>{let a=_m.gI.loadingKeyForPayload({teamId:e});return t.loadingState[a]}),a=(0,eb.v9)(t=>t.teamUserByTeamId[e]||{}),r=(0,eb.I0)();ev.useEffect(()=>{r(_m.gI({teamId:e}))},[r,e]);let n=t!==_d.Q.SUCCESS;return ev.useEffect(()=>{if(!n){let e=Object.keys(a).length;r(u$.DY({numWhiteboardEditors:e})),r(u$.Rd({numDesignEditors:e}))}},[r,n,a]),n};function _g({selectedView:e}){let{teamId:t}=e,a=_p(t),r=(0,eb.I0)(),n=()=>{r(u$.Po({teamId:t,onCloseOrComplete:e.onCloseOrComplete}))};return ev.createElement(e3.Ui,{name:"Edu Review",properties:{teamId:t}},ev.createElement("div",null,ev.createElement(u0,{menu:ev.createElement(uX,{onClick:()=>{var a;r(od.fv({view:"team",teamId:t})),null==(a=e.onCloseOrComplete)||a.call(e)}},ev.createElement(eD.n,{svg:__,className:"edu_review--modalCloseX--TShDU"}))},ev.createElement("span",{className:e.showBreadcrumbs?void 0:"edu_review--hidden--5caDe"},ev.createElement(uJ,{index:3})),ev.createElement(uY.rQ,null,ev.createElement(eq.Tx,{id:"edu.almost_done_everything_look_good"})),ev.createElement(eA.Ki,{multiple:4}),ev.createElement(dr.u,{isLoading:a},()=>ev.createElement(_u.z,{selectedView:e,onClickConfirm:n,currency:(0,mw.x_)()})))))}var _E=a(600802),_h=a(292081),_f=a(706039),_v=a(614860),_b=a(525392),_y=a(818709),_w=a(787618);let _T="file_import_view--fileRowTitle--STMOV",_x="file_import_view--fileRows--SAJsk overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",_N="file_import_view--closeButton--b2Pxl close_button--modalUpperRightCorner--eKAQg",_C="import_progress_modal",_S=a(571491),_k=a(328630);function _I(e){let{file:t}=e,a="file_import_view--fileSpinnerIcon--Ecu15 file_import_view--fileStatusIcon--ZW6LM",r=null;(t.status===_b.DR.SUCCESS||t.status===_b.DR.WARNING)&&(a="file_import_view--fileCheckIcon--HdKFP file_import_view--fileStatusIcon--ZW6LM",r=_S),(t.status===_b.DR.FAILURE||t.status===_b.DR.CANCELED)&&(a="file_import_view--fileXIcon--JbqeW file_import_view--fileStatusIcon--ZW6LM",r=_k);let n="file_import_view--fileWaitingName--J18Db file_import_view--fileName--tx-wv";return t.status===_b.DR.WAITING&&(n="file_import_view--fileResolvedName--8zjNY file_import_view--fileName--tx-wv"),ev.createElement("div",{className:"file_import_view--fileImportRow--Zt06v"},r?ev.createElement(eD.n,{className:a,svg:r}):ev.createElement(ax.TK,{className:a}),ev.createElement("div",{className:n},t.name),t.message&&ev.createElement("div",{className:"file_import_view--fileImportMessage---cV3h"},Array.isArray(t.message)?t.message.map((e,t)=>ev.createElement("div",{key:t},e)):t.message,t.cta&&ev.createElement(eA.rU,{className:"file_import_view--fileImportMessageCTA--QZIFu",onClick:t.cta.action,trusted:!0},t.cta.text)))}let _L=(0,eb.$j)(e=>{var t,a;let r=null,n=null;return"folder"===e.selectedView.view&&null!=(r=e.selectedView.folderId&&(null==(t=e.folders[e.selectedView.folderId])?void 0:t.team_id))&&(n=e.teams[r]),{fileImport:e.fileImport,showingImportModal:(null==(a=e.modalShown)?void 0:a.type)===_h.B4,team:n,trackEvent:t=>{(0,eH.iP)(t,e)}}})(function(e){let t=e.fileImport.files,a=Object.keys(t).map(e=>parseInt(e)).sort((e,t)=>e-t),r=()=>{e.dispatch(ig.hV()),e.dispatch(uk.Ki()),e.trackEvent("Clicked file browser import done button")},n=()=>{e.dispatch(uk.GP()),e.trackEvent("Clicked file browser import cancel button")},i=()=>{e.dispatch(uk.Uw())},l=()=>{e.dispatch(uk.V9())},s=(t,a)=>{r(),null!=e.team&&e.dispatch((0,ig.K4)({type:_w.yd,data:{team:e.team,resource:_v.Q3.FILE,action:_y.XH.IMPORT_FILES,editorType:t,multipleResources:a>1,currentPlan:_f.V.Plan.STARTER,upsellPlan:_f.V.Plan.PRO}}))},o=Object.keys(e.fileImport.files).length,c=e.fileImport.queue.length,d=o-c,m=0,u=[],_=[],p=0;for(let a in e.fileImport.files){let e=Number(a),r=t[a];(r.status===_b.DR.SUCCESS||r.status===_b.DR.WARNING)&&m++,(0,_b.M5)(r.name)||(0,_b.z5)(r.name)||(0,_b.K3)(r.name)?(_.push(e),(0,_b.M5)(r.name)&&p++):u.push(e)}let g=0===u.length,E=0===_.length,h=g&&_.length===p,f=!g&&!E,v=g?ao.gg.WHITEBOARD:E?ao.gg.DESIGN:null,b=e.fileImport.isDraggingImport?"file_import_view--dragTargetDragging--CaCDm file_import_view--dragTargetNormal--lTGMM":"file_import_view--dragTargetNormal--lTGMM";switch(e.fileImport.step){case _b.s9.CONFIRM_PDF_IMPORT:return ev.createElement("div",null,(()=>{if(e.showingImportModal)return ev.createElement(e3.Ui,{name:_C},ev.createElement(ir.u_,{title:(0,eq.t)("file_browser.file_import_view.import_pd_fs_as_fig_jam_files"),disableClickOutsideToHide:c>0,tintedModalBackground:!0,dispatch:e.dispatch,className:"file_import_view--confirmationModal--c0T8i"},ev.createElement(n6.PZ,{onClick:e.fileImport.queue.length?n:r,className:_N,trackingProperties:{trackingDescriptor:cC.y.FILE_IMPORT_X_BUTTON,text:"dismiss"}}),ev.createElement("div",{className:"file_import_view--confirmationContent--8mgoE"},ev.createElement("div",{className:"file_import_view--confirmationTextRow--g3pc5"},h?ev.createElement(eq.Tx,{id:"file_browser.file_import_view.pd_fs_can_only_be_imported_as_new_fig_jam_files"}):ev.createElement(eq.Tx,{id:"file_browser.file_import_view.files_you_ve_selected_are_pd_fs_pd_fs_can_only_be_imported_to_fig_jam_for_now",numPDFFiles:p,numTotalFiles:a.length})),ev.createElement("div",{className:"file_import_view--confirmationButtons--qEMMH"},ev.createElement(eA.pJ,{onClick:i},h?ev.createElement(eq.Tx,{id:"file_browser.file_import_view.cancel"}):ev.createElement(eq.Tx,{id:"file_browser.file_import_view.don_t_import_pd_fs"})),ev.createElement(eA.RS,{onClick:l},h?ev.createElement(eq.Tx,{id:"file_browser.file_import_view.import"}):ev.createElement(eq.Tx,{id:"file_browser.file_import_view.import_all"}))))))})());case _b.s9.START:case _b.s9.FILE_IMPORT_WITH_CANCELED_PDF:case _b.s9.FILE_IMPORT_WITH_CONFIRMED_PDF:return ev.createElement("div",null,ev.createElement("div",{className:b}),(()=>{let a,i;if(e.showingImportModal)return a=o>1?0===c?ev.createElement(eq.Tx,{id:"file_browser.file_import_view.success_count_total_files_imported_successfully",succeededCount:m,total:o}):ev.createElement(eq.Tx,{id:"file_browser.file_import_view.importing_done_1_total_files",currentFileNum:d+1,total:o}):0===c&&1===m?ev.createElement(eq.Tx,{id:"file_browser.file_import_view.file_imported_successfully"}):0===c&&0===m?ev.createElement(eq.Tx,{id:"file_browser.file_import_view.file_import_failed"}):ev.createElement(eq.Tx,{id:"file_browser.file_import_view.importing_file"}),i=E?(0,eq.t)("file_browser.file_import_view.importing_to_figma_design"):g?(0,eq.t)("file_browser.file_import_view.importing_to_fig_jam"):(0,eq.t)("file_browser.file_import_view.importing"),ev.createElement(e3.Ui,{name:_C},ev.createElement(ir.u_,{title:i,disableClickOutsideToHide:c>0,tintedModalBackground:!0,dispatch:e.dispatch,onHide:r,className:"file_import_view--fileImportModal--Ntw6k"},ev.createElement(n6.PZ,{onClick:e.fileImport.queue.length?n:r,className:_N,trackingProperties:{trackingDescriptor:cC.y.FILE_IMPORT_X_BUTTON,text:"dismiss"}}),ev.createElement("div",{className:"file_import_view--fileRowSection--fgHBF"},f&&ev.createElement("div",{className:_T},ev.createElement(eq.Tx,{id:"file_browser.file_import_view.fig_jam"})),ev.createElement("div",{className:_x},_.map(e=>ev.createElement(_I,{key:`file-import-${e}`,file:t[e]}))),f&&ev.createElement("div",{className:_T},ev.createElement(eq.Tx,{id:"file_browser.file_import_view.figma_design"})),ev.createElement("div",{className:_x},u.map(e=>ev.createElement(_I,{key:`file-import-${e}`,file:t[e]})))),ev.createElement("div",{className:"file_import_view--footer--7JoDB"},ev.createElement("div",{className:ek.cx.colorText.$},a),0!==c?ev.createElement(eA.RS,{onClick:n,className:"file_import_view--footerButtonRed--yDQeP file_import_view--footerButton---M-gK"},ev.createElement(eq.Tx,{id:"file_browser.file_import_view.cancel"})):e.fileImport.failedOnFileLimit?ev.createElement("button",{type:"button",onClick:()=>s(v,o-m),className:"file_import_view--footerButtonBlue--4Ur9t file_import_view--footerButton---M-gK"},ev.createElement(eq.Tx,{id:"file_browser.file_import_view.next"})):ev.createElement(_E.DF,{onClick:r},ev.createElement(eq.Tx,{id:"file_browser.file_import_view.done"})))))})())}});var _R=a(614657),_A=a(596724),_O=a(273331);let _D=(0,e3.z7)(function(e){let t=e.Img;function a(){return ev.createElement("div",{className:ek.cx.flex.fontWhyte.font16.itemsCenter.$},ev.createElement("div",{className:_O.xz},ev.createElement(t,null)),ev.createElement("div",{className:ek.cx.flex.flexColumn.alignLeft.justifyCenter.lh24.flex1.$},ev.createElement("h3",{className:ek.cx.fontBold.colorText.$},e.title),ev.createElement("p",{className:ek.cx.colorTextSecondary.$},e.description)),ev.createElement(t3.JO,{icon:"chevron-right-32"}))}return"link"===e.type?ev.createElement("a",{href:e.href,onClick:e.onClick},ev.createElement(a,null)):ev.createElement("div",{role:"button",tabIndex:0,onClick:e.onClick},ev.createElement(a,null))});function _F(){let e=(0,eb.I0)(),t=eN.s?_A.l:_A.s;return ev.createElement("div",{className:ek.cx.flex.gap24.flexColumn.colorBorder.bt1.bb1.bSolid.py24.my32.$},ev.createElement(_D,{type:"button",onClick:()=>{rI.ZP.post("/api/mobile_redirect/login").then(()=>{e(r7.R.enqueue({message:(0,eq.t)("rcs.mobile.email_sent")}))}).catch(e=>{console.error(e)})},title:(0,eq.t)("file_browser.mobile_prompt_options.desktop_title"),description:(0,eq.t)("file_browser.mobile_prompt_options.desktop_description"),Img:()=>ev.createElement(t3.JO,{icon:"hyperlink-32"}),trackingProperties:{trackingDescriptor:cC.y.MOBILE_WEB_LOG_IN_DESKTOP}}),ev.createElement(_D,{type:"button",onClick:()=>e(od.fv({view:"communityHub",subView:"searchAndBrowse",data:lI.zK})),trackingProperties:{trackingDescriptor:cC.y.OPEN_IN_COMMUNITY},title:(0,eq.t)("file_browser.mobile_prompt_options.community_title"),description:(0,eq.t)("file_browser.mobile_prompt_options.community_description"),Img:()=>ev.createElement(t3.JO,{icon:"community-32"})}),ev.createElement(_D,{type:"link",href:t,onClick:ex.ZT,title:(0,eq.t)("file_browser.mobile_prompt_options.app_title"),description:(0,eq.t)("file_browser.mobile_prompt_options.app_description"),trackingProperties:{trackingDescriptor:cC.y.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},Img:()=>ev.createElement("img",{src:"https://static.figma.com/uploads/249f0f055b922ecef6bffc592a8420e7e6eddcea",alt:""})}))}function _M({title:e,subtitle:t}){return ev.createElement(e3.Ui,{name:"mobile file browser options screen"},ev.createElement("div",{className:_O.nb},ev.createElement(t3.JO,{icon:"logo-40-colored"}),ev.createElement("h1",{style:{fontSize:"32px"},className:ek.cx.fontMedium.$},e),t&&ev.createElement("h3",{className:ek.cx.font16.pt16.alignCenter.$},t),ev.createElement(_F,null)))}function _P({}){let e=(0,r9.Dv)(uH.s),t=(0,r9.Dv)(_R.N2),a=e?(0,eq.t)("rcs.mobile.account_created"):(0,eq.t)("rcs.mobile.welcome_back"),r=e?(0,eq.t)("rcs.mobile.youre_all_set"):"";return t?ev.createElement(_M,{title:a,subtitle:r}):ev.createElement(_R.Og,null)}var _B=a(176639),_U=a(539168);let _V=a(924896);function _W(){let e=(0,u8.lC)();return e||!(0,eT.BZ)().fb_offline_notification?null:ev.createElement(_G,null)}function _G(){let[e,t]=ev.useState(!0);return ev.createElement("div",{className:"offline_notification--notification--XupQR notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},ev.createElement(eD.n,{className:_U.qv,svg:_V,width:"24",height:"24"}),ev.createElement("div",{className:_U.yw},ev.createElement(eq.Tx,{id:e?"file_browser.offline_notification.youre_offline_message_body":"file_browser.offline_notification.youre_offline_message_body_no_create",youreOfflineMessagePrefix:ev.createElement("span",{className:"offline_notification--messageBold--nVjAP"},ev.createElement(eq.Tx,{id:"file_browser.offline_notification.youre_offline_message_prefix"}))})),e&&ev.createElement("div",{className:_U.Nw},ev.createElement(_j,{onClick:()=>t(!1)})))}function _j({onClick:e}){let t=(0,eb.I0)(),a=(0,_B.JX)();return ev.createElement("div",{className:"offline_notification--createFileButton--6xBMJ notification--action--v-pvn",role:"button",tabIndex:0,onClick:()=>{e(),t(u9.ae({state:a,editorType:ao.gg.DESIGN,team:void 0,from:_n.L7.OFFLINE_NOTIFICATION,openNewFileIn:_n.JD.SAME_TAB}))}},ev.createElement(eq.Tx,{id:"file_browser.offline_notification.create_file"}))}var _H=a(714288);function _$(e){return ev.createElement(ev.Fragment,null,ev.createElement(tD.j,{direction:"horizontal",horizontalAlignItems:"space-between","data-testid":"sidebar-subtotal-cost-row",height:"hug-contents"},ev.createElement(oc.x,{"data-testid":"sidebar-subtotal-summary-main-text",fontWeight:"regular",fontSize:13,i18nId:"pro_cart.info.subtotal"}),ev.createElement("span",{"data-testid":"sidebar-subtotal-summary-price-section"},ev.createElement(oc.x,{"data-testid":"sidebar-subtotal-summary-price-section-price-text",fontWeight:"regular",fontSize:13,children:e.formattedSubtotal}))),ev.createElement(oc.x,{fontWeight:"regular",color:"tertiary",fontSize:11,i18nId:"checkout.tax_disclaimer"})," ",ev.createElement(oc.x,{fontWeight:"medium",color:"tertiary",fontSize:11,i18nId:"checkout.review_in_tax_disclaimer"}))}var _z=a(45e4),_K=a(987004),_Z=a(180179),_q=a(617406),_Y=a(686246),_J=a(163853),_Q=a(822626),_X=a(293351),_0=a(925187);let _1=a(774298);var _2=((o=_2||{}).STARTER="starter",o.PRO="pro",o.ORG="org",o);function _3({type:e,teamName:t,setTeamName:a,onNext:r,upgradeExistingTeam:n,promo:i}){let l={starter:{title:ev.createElement(eq.Tx,{id:"all_carts.create_team.create_a_new_team"}),subtitle:ev.createElement(eq.Tx,{id:"all_carts.create_team.after_creating_a_team"}),placeholder:(0,eq.t)("pro_cart.create_team.enter_a_name_for_your_working_group"),next:ev.createElement(eq.Tx,{id:"all_carts.create_team.create_team"}),trackingDescriptor:cC.y.SEND_INVITES},pro:{title:ev.createElement(eq.Tx,{id:"pro_cart.create_team.create_a_professional_team"}),subtitle:ev.createElement(eq.Tx,{id:"pro_cart.create_team.itll_have_unlimited_files_and_collaborative_features"}),placeholder:(0,eq.t)("pro_cart.create_team.enter_a_name_for_your_working_group"),next:i?ev.createElement(eq.Tx,{id:"pro_cart.sidebar.next_review"}):ev.createElement(eq.Tx,{id:"pro_cart.create_team.next_set_editors.seat_rename"}),trackingDescriptor:i?cC.y.REVIEW:cC.y.SET_EDITORS},org:{title:ev.createElement(eq.Tx,{id:"org_self_serve.create_team_step.create_an_org_team"}),subtitle:ev.createElement(eq.Tx,{id:"org_self_serve.create_team_step.itll_have_unlimited_files_and_advanced_security"}),placeholder:(0,eq.t)("org_self_serve.create_team_step.enter_a_name_for_your_team"),next:ev.createElement(eq.Tx,{id:"org_self_serve.create_team_step.next_select_team"}),trackingDescriptor:cC.y.SELECT_TEAM}},s=l[e];return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:_0.nx},s.title),ev.createElement(eA.Ki,{multiple:.5}),ev.createElement("div",{className:_0.Kp},s.subtitle),ev.createElement("div",{className:_0.KC},ev.createElement(eD.n,{svg:_1,className:_0.g2}),ev.createElement(_X.Q,{className:_0.TM,onChange:e=>a(e.target.value),value:t,placeholder:s.placeholder})),ev.createElement(eA.RS,{className:_0.aL,onClick:r,trackingProperties:{trackingDescriptor:s.trackingDescriptor},disabled:!t.trim()},s.next),!!n&&ev.createElement(eA.Z6,{className:_0.fL,onClick:n,trusted:!0,trackingProperties:{trackingDescriptor:cC.y.UPGRADE_EXISTING_TEAM}},ev.createElement(eq.Tx,{id:"pro_cart.create_team.upgrade_an_existing_team_instead"})))}var _4=a(209467),_8=a(213104),_5=a(293135),_9=a(521384),_6=a(730799),_7=a(881209),pe=a(177026),pt=a(665146),pa=a(279539);let pr=a(715605),pn=a(935958),pi=e=>e.maxSeatsCount?Math.min(e.maxSeatsCount,99):99;function pl(e){let t=e.shouldShowJamboardOffer,a=t&&e.editorType===_K.Jk&&e.numEditors<=pa.CM;return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.flex.itemsCenter.$},ev.createElement("div",{className:"editor_counter--editorSeatCounter--Tp0cJ"},ev.createElement(e3.XT,{disabled:e.numEditors<=e.minSeatsCount,innerText:`remove additional ${e.editorType===_K.Jk?_K.Db:e.editorType} editor`,className:"editor_counter--minusButton--FeON3",onClick:e.decrementSeats,dataTestId:`remove-additional-${e.editorType}`},ev.createElement(eD.n,{svg:pn})),ev.createElement("input",{value:e.numEditors,maxLength:2,onChange:e.updateAdditionalSeatsText,className:"editor_counter--additionalSeatsInput--YnWjz",onFocus:e=>e.target.select()}),ev.createElement(e3.XT,{disabled:e.numEditors>=pi(e),innerText:`add additional ${e.editorType===_K.Jk?_K.Db:e.editorType} editor`,className:"editor_counter--plusButton--B1WY6",onClick:e.incrementSeats,dataTestId:`add-additional-${e.editorType}`},ev.createElement(eD.n,{svg:pr}))),a?ev.createElement(os.Ct,{color:os.JV.FIGJAM,text:ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.modal_offer_badge"})}):ev.createElement("div",null,ev.createElement("div",{className:"editor_counter--headerText--pKvwm"},e.headerText),e.headerFreeSubText&&ev.createElement("div",{className:"editor_counter--headerFreeSubText--RS3NU editor_counter--headerSubText--qB5dc editor_counter--headerText--pKvwm"},e.headerFreeSubText),e.headerSubText&&ev.createElement("div",{className:"editor_counter--headerSubText--qB5dc editor_counter--headerText--pKvwm"},e.headerSubText),e.clarificationText&&ev.createElement("span",{style:ie.sx.colorText.colorBgSecondary.h16.pl4.pr4.mt8.bRadius1.inlineBlock.add({fontSize:"9px"}).$},e.clarificationText))))}let ps=(e,t)=>a=>{if(""===a.target.value){e(0);return}let r=parseInt(a.target.value);isNaN(r)||(r>99?e(99):t&&r>t?e(t):e(r))};var po=a(415850);let pc="promo_awareness_banner",pd="seats available",pm="seats full",pu="jamboard",p_="/jamboard-terms",pp="/contact";function pg(e){return e.numOfferSeatsRemaining>0?ev.createElement(ph,{...e}):ev.createElement(pv,null)}function pE(e){return e.numOfferSeatsRemaining>0?ev.createElement(pf,{...e}):ev.createElement(pb,null)}function ph(e){return ev.createElement(e3.Ui,{name:pc,properties:{promotion:pu,promo_banner_state:pd}},ev.createElement(_H.f,{color:_H.Z.FIGJAM,text:ev.createElement("div",{className:ek.cx.alignLeft.$},ev.createElement("div",{className:ek.cx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_title.seat_rename",freeSeatsRemaining:e.numOfferSeatsRemaining})),ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_text",seeTermsLink:ev.createElement(e3.po,{target:"_blank",rel:"noopener",href:p_,style:ie.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_text.terms_and_conditions"})),contactSalesLink:ev.createElement(e3.po,{target:"_blank",rel:"noopener",href:pp,style:ie.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_text.contact_sales"}))}))}))}function pf(e){return ev.createElement(e3.Ui,{name:pc,properties:{promotion:pu,promo_banner_state:pd}},ev.createElement(_H.f,{color:_H.Z.FIGJAM,text:ev.createElement("div",{className:ek.cx.alignLeft.$},ev.createElement("div",{className:ek.cx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.title",freeSeatsRemaining:e.numOfferSeatsRemaining})),ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.text",seeTermsLink:ev.createElement(e3.po,{target:"_blank",rel:"noopener",href:p_,style:ie.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.terms_and_conditions"})),contactSalesLink:ev.createElement(e3.po,{target:"_blank",rel:"noopener",href:pp,style:ie.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.contact_sales"}))}))}))}function pv(){return ev.createElement(e3.Ui,{name:pc,properties:{promotion:pu,promo_banner_state:pm}},ev.createElement(_H.f,{color:_H.Z.WARNING,text:ev.createElement("div",{className:ek.cx.alignLeft.$},ev.createElement("div",{className:ek.cx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.hit_free_editor_limit_banner_title"})),ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.hit_free_editor_limit_banner.text",seeTermsLink:ev.createElement(ev.Fragment,null,ev.createElement("br",null),ev.createElement(e3.po,{target:"_blank",rel:"noopener",href:p_,trackingEventName:"See terms - Google Jamboard special offer",style:ie.sx.add({color:"var(--color-text-warning)",cursor:"pointer",userSelect:"auto"}).$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.hit_free_editor_limit_banner_text.see_terms"})))}))}))}function pb(){return ev.createElement(e3.Ui,{name:pc,properties:{promotion:pu,promo_banner_state:pm}},ev.createElement(_H.f,{color:_H.Z.WARNING,text:ev.createElement("div",{className:ek.cx.alignLeft.$},ev.createElement("div",{className:ek.cx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.out_of_seats_shortened_banner.title"})),ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.out_of_seats_shortened_banner.text",seeTermsLink:ev.createElement(ev.Fragment,null,ev.createElement("br",null),ev.createElement(e3.po,{target:"_blank",rel:"noopener",href:p_,trackingEventName:"See terms - Google Jamboard special offer",style:ie.sx.add({color:"var(--color-text-warning)",cursor:"pointer",userSelect:"auto"}).$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.out_of_seats_shortened_banner.see_terms"})))}))}))}function py(e){return ev.createElement(_H.f,{color:_H.Z.WARNING,text:ev.createElement("div",{className:ek.cx.alignLeft.$},ev.createElement("div",{className:ek.cx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.review_failed_to_redeem_banner_title"})),ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.review_failed_to_redeem_banner_text",goBackLink:ev.createElement("button",{onClick:e.onBack,style:ie.sx.add({color:"var(--color-text-warning)",cursor:"pointer",background:"transparent",userSelect:"auto"}).$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.review_failed_to_redeem_banner_go_back_link"}))}))})}var pw=a(375397),pT=a(281220);let px="org_self_serve_modals--modalContainer--SkTV6",pN="org_self_serve_modals--modalWrapperSmall--CTynF org_self_serve_modals--modalWrapper--x29v1",pC="org_self_serve_modals--modalHeader--TfjFf",pS="org_self_serve_modals--modalText--dkvyR",pk=a(250973);function pI(e){return ev.createElement("div",{style:{height:e.height||12}})}function pL(e){return ev.createElement(ib.ge,{containerClassName:px,headerSize:"hidden",isCloseHidden:!0,title:"",minWidth:349,maxWidth:349},ev.createElement("div",{className:pN},ev.createElement("div",{className:pC},ev.createElement(eq.Tx,{id:"org_self_serve.modals.invalid_email.figma_organization_only_allows_work_emails"})),ev.createElement("div",{className:pS},ev.createElement(eq.Tx,{id:"org_self_serve.modals.invalid_email.change_email_address_to_proceed"})),ev.createElement(pI,{height:12}),ev.createElement("a",{onClick:e.onFileBrowserClick},ev.createElement(eq.Tx,{id:"org_self_serve.modals.invalid_email.go_to_the_file_browser"}))))}function pR(e){return ev.createElement(ib.ge,{containerClassName:px,headerSize:"hidden",isCloseHidden:!0,title:"",minWidth:349,maxWidth:349},ev.createElement("div",{className:pN},ev.createElement("div",{className:pC},ev.createElement(eq.Tx,{id:"org_self_serve.modals.existing_org_admin.figma_organization_already_purchased"})),ev.createElement("div",{className:pS},ev.createElement(eq.Tx,{id:"org_self_serve.modals.existing_org_admin.if_you_need_another_organization",contactSales:ev.createElement("a",{onClick:e.onContactSales},ev.createElement(eq.Tx,{id:"org_self_serve.modals.existing_org_admin.contact_sales"}))})),ev.createElement(pI,{height:4}),ev.createElement(pI,{height:12}),ev.createElement("a",{onClick:e.onFileBrowserClick},ev.createElement(eq.Tx,{id:"org_self_serve.modals.existing_org_admin.go_to_the_file_browser"}))))}class pA extends ev.Component{render(){return ev.createElement(ib.ge,{containerClassName:px,headerSize:"hidden",onClose:this.props.onClose,title:"",minWidth:580,maxWidth:580},ev.createElement("div",{className:"org_self_serve_modals--modalWrapper--x29v1"},ev.createElement(eD.n,{className:"org_self_serve_modals--modalClose--mUT1H",svg:pk,onClick:this.props.onClose}),ev.createElement("div",{className:pC},ev.createElement(eq.Tx,{id:"org_self_serve.modals.true_up_edu.figma_grows_with_your_team"})),ev.createElement("div",{className:pS},ev.createElement(eq.Tx,{id:"org_self_serve.modals.true_up_edu.members_can_add_new_editors.seat_rename"})),ev.createElement(pI,{height:8}),ev.createElement("div",{className:"org_self_serve_modals--modalSubHeader--X8OcB"},ev.createElement(eq.Tx,{id:"org_self_serve.modals.true_up_edu.what_to_expect_at_true_up"})),ev.createElement("div",{className:pS},ev.createElement(eq.Tx,{id:"org_self_serve.modals.true_up_edu.true_up_explanation.seat_rename",seeFullDetails:ev.createElement("a",{href:"https://help.figma.com/hc/articles/360040328293",target:"_blank"},ev.createElement(eq.Tx,{id:"org_self_serve.modals.true_up_edu.see_full_details"}))}))))}}let pO=a(586324),pD=(0,it.Y3)(function(e){var t;let a=e.isProTeam?_z.as.exclude([_K.vX]):_z.as.excludeUnlessFlag([_K.vX],"org_checkout_with_dm"),[r,n]=(0,ev.useState)(a.dict(t=>{var a;return(null==(a=e.seatDataByLicenseType[t])?void 0:a.currentSeats)||0})),[i,l]=(0,ev.useState)(null),s=e=>{let t=r[e];void 0!==t&&t<99&&n({...r,[e]:t+1})},o=t=>{let a=e.seatDataByLicenseType[t],i=r[t];if(null==a||null==i)return;let l=a.minSeats;i>l&&n({...r,[t]:i-1})},c=(e,t)=>{if(""===e.target.value){t(0);return}let a=parseInt(e.target.value);isNaN(a)||t(a)},d=new mw.Lr(e.currency),m=(0,eb.v9)(e=>e.payment.billingPeriod),u=((0,pa.Fq)(m)&&e.isProTeam)??!1,_=(0,pa.X3)(r[_K.Jk]),p=(()=>{if(u){let e=(0,pa.pN)(r[_K.Jk]);return r[_K.Jk]-e}return r[_K.Jk]})(),g={[_K.dc]:{headerString:(0,eq.t)("all_carts.figma_design_editors.seat_rename"),shouldShowJamboardOffer:!1,totalSeatCount:r[_K.dc],shouldShowDevModeIncludedText:(0,eT.BZ)().org_checkout_with_dm??!1},[_K.Jk]:{headerString:(0,eq.t)("all_carts.figjam_editors.seat_rename"),shouldShowJamboardOffer:u,totalSeatCount:p,shouldShowDevModeIncludedText:!1},[_K.vX]:{headerString:(0,eq.t)("all_carts.dev_mode_only_seats"),shouldShowJamboardOffer:!1,totalSeatCount:r[_K.vX]??0,shouldShowDevModeIncludedText:!1}};return ev.createElement(ib.sv,{onSubmit:()=>{let t=!1;if(a.forEach(a=>{var n;let i=r[a],s=(null==(n=e.seatDataByLicenseType[a])?void 0:n.minSeats)||0;void 0!==i&&!1===t&&(i<s||i>99)&&(l(a),t=!0)}),t)return;let n=a.reduce((e,t)=>e+(r[t]||0),0);e.minTotalSeats&&n<e.minTotalSeats?l("total"):(e.dispatch(ig.hV()),e.updateAdditionalSeats(r))},confirmText:(0,eq.t)("all_carts.save"),cancelText:(0,eq.t)("all_carts.cancel"),title:(0,eq.t)("all_carts.add_additional_editors.seat_rename")},ev.createElement("div",{className:"org_self_serve_modals--bannerContainer--Rp9x3"},i&&ev.createElement("div",{className:"org_self_serve_modals--errorBanner--z5qtW"},ev.createElement(eD.n,{className:"org_self_serve_modals--errorSvg--ea54R",svg:pO}),ev.createElement("div",{className:"org_self_serve_modals--errorBannerText--I5ALS org_self_serve_modals--headerModalText--iULfc"},i===_K.dc&&ev.createElement(eq.Tx,{id:"all_carts.you_need_a_minimum_n_design_editors.seat_rename",minSeatsCount:e.seatDataByLicenseType[_K.dc].minSeats}),i===_K.Jk&&ev.createElement(eq.Tx,{id:"all_carts.you_need_a_minimum_n_whiteboard_editors.seat_rename",minSeatsCount:e.seatDataByLicenseType[_K.Jk].minSeats}),i===_K.vX&&ev.createElement(eq.Tx,{id:"all_carts.you_need_a_minimum_n_dev_mode_seats",minSeatsCount:(null==(t=e.seatDataByLicenseType[_K.vX])?void 0:t.minSeats)||0}),"total"===i&&!!e.minTotalSeats&&ev.createElement(eq.Tx,{id:"all_carts.you_need_a_minimum_n_editors.seat_rename",minSeatsCount:e.minTotalSeats})))),a.sort(_z.uE).map(t=>{let a=g[t],i=e.seatDataByLicenseType[t],l=r[t];return void 0===a||void 0===i||void 0===l?ev.createElement(ev.Fragment,null):ev.createElement("div",{key:t},ev.createElement(pI,{height:16}),ev.createElement("div",{className:"org_self_serve_modals--headerModalBoldText--TQeXR org_self_serve_modals--headerModalText--iULfc"},a.headerString),a.shouldShowDevModeIncludedText&&ev.createElement(ev.Fragment,null,ev.createElement(pI,{height:4}),ev.createElement(_6.F,null)),ev.createElement(pI,{height:12}),ev.createElement(pl,{"data-testid":t+"-editor_counter",editorType:t,incrementSeats:()=>s(t),decrementSeats:()=>o(t),numEditors:l,minSeatsCount:i.minSeats,headerText:d.formatMoney(a.totalSeatCount*i.seatUnitCostInCents*(e.showAnnualPrice?12:1)),headerSubText:(0,pT.du)(e.showAnnualPrice,a.totalSeatCount,!0,i.seatUnitCostInCents,e.currency,!e.isProTeam),updateAdditionalSeatsText:e=>c(e,e=>{n({...r,[t]:e})}),shouldShowJamboardOffer:a.shouldShowJamboardOffer}))}),u&&ev.createElement("div",null,ev.createElement(eA.Ki,{multiple:2}),ev.createElement("div",{className:ek.cx.mxAuto.$},ev.createElement(pE,{numOfferSeatsRemaining:_}))),ev.createElement(pI,{height:18}),ev.createElement("div",{className:"org_self_serve_modals--divider--XYAsr"}))},"AdditionalEditorsModal");function pF(e,t,a){let r=new mw.Lr(e),n=r.getPrices(),i=a.design,l=a.whiteboard;for(let e in t)t[e].designEditor&&i++,t[e].figjamEditor&&l++;let s=i*n.orgFigma*12,o=l*n.orgFigjam*12;return s+o}let pM={name:{width:"384px"},teams:{width:"300px"},designEditor:{width:"128px"},figjamEditor:{width:"64px",display:"flex",alignItems:"center"},editors:{display:"flex",marginRight:"-12px"}};var pP=((c=pP||{})[c.NONE=0]="NONE",c[c.DESIGN=1]="DESIGN",c[c.WHITEBOARD=2]="WHITEBOARD",c[c.TOTAL=3]="TOTAL",c);let pB=(0,it.Y3)(function({users:e,updateSelectedEditors:t,updateAdditionalEmptySeats:a,currency:r,minTotalSeats:n,dispatch:i,seatInfo:l}){let[s,o]=(0,ev.useState)(e),[c,d]=(0,ev.useState)({design:l.design.additionalSeatCount,whiteboard:l.whiteboard.additionalSeatCount}),m=(0,ev.useMemo)(()=>{let e=0,t=0,a=Object.values(s);for(let r of a)r.designEditor&&e++,r.figjamEditor&&t++;return(e+=c.design,t+=c.whiteboard,n&&e+t<n)?3:e<l.design.minCount||e>99?1:t<l.whiteboard.minCount||t>99?2:0},[c,s,n,l]),u=e=>{c[e]>=99||d(t=>({...t,[e]:t[e]+1}))},_=e=>{c[e]<=0||d(t=>({...t,[e]:t[e]-1}))},p=(e,t)=>{let a=""===e.target.value?0:parseInt(e.target.value);isNaN(a)||d(e=>({...e,[t]:a}))},g=new mw.Lr(r),E=(0,mw.Dj)(),h=({userId:e,type:t,newVal:a})=>{o(r=>({...r,[e]:{...r[e],[t]:a}}))},f=()=>{i(ig.hV())},v=Object.values(s).map(e=>{var t;return ev.createElement(pw.SC,{key:e.user.id,className:"org_self_serve_modals--tableRow--yZF3a"},ev.createElement("div",{style:ie.sx.add(pM.name).$},ev.createElement(ds.oJ,{entity:e.user,includeUserEmailAddress:!0,size:24})),ev.createElement("div",{style:ie.sx.add(pM.teams).$},e.teams.length>1?ev.createElement("div",null,ev.createElement("span",{className:"org_self_serve_modals--selectEditorModalTeamsCell--jZi8p",id:e.user.id,"data-tooltip-show-immediately":!0,"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":aN._7.ORG_UPGRADE_USER_INFO_EXTENDED,"data-tooltip-team-names":e.teams.map(e=>e.name).join(","),"data-tooltip-team-ids":e.teams.map(e=>e.id).join(","),"data-tooltip-show-right":!0,"data-tooltip-light-mode":!0},ev.createElement(oc.x,{color:"default",i18nId:"all_carts.editor_table.multiple_teams"}))):ev.createElement("div",{className:"org_self_serve_modals--teamCell--gyhfe"},ev.createElement("div",{style:ie.sx.add({backgroundColor:(0,po.hx)(e.teamIds[0],po.dn),minWidth:"10px",height:"10px",borderRadius:"2px"}).$}),ev.createElement(oc.x,{color:"default"},null==(t=e.teams[0])?void 0:t.name))),ev.createElement("div",{style:ie.sx.add(pM.designEditor).$},ev.createElement(pe.X,{checked:e.designEditor,onChange:t=>{h({userId:e.user.id,type:"designEditor",newVal:t.currentTarget.checked})}})),ev.createElement("div",{style:ie.sx.add(pM.figjamEditor).$},ev.createElement(eA.v_,{checked:e.figjamEditor,className:"org_self_serve_modals--figjamCheckbox--UMMiy",onChange:t=>{h({userId:e.user.id,type:"figjamEditor",newVal:t.currentTarget.checked})}})))});return ev.createElement(ir.Rj,{size:864,hide:()=>i(ig.hV()),className:"org_self_serve_modals--selectEditorsModal--XUq-n"},ev.createElement("div",{className:"org_self_serve_modals--selectEditorModalHeader--HPV-W org_self_serve_modals--headerModalText--iULfc"},ev.createElement(eq.Tx,{id:"all_carts.select_figma_editors.seat_rename"}),ev.createElement(n6.ol,{customStyle:{position:"initial"},dispatch:i,onClose:f})),ev.createElement(pw.SC,{header:!0,className:"org_self_serve_modals--headerRow--Ol2am"},ev.createElement(tD.j,null,ev.createElement(pw.qN,{style:ie.sx.add(pM.name).$},ev.createElement(oc.x,{color:"default",fontWeight:"regular",i18nId:"all_carts.editor_table.Name"})),ev.createElement(pw.qN,{style:ie.sx.add(pM.teams).$},ev.createElement(oc.x,{color:"default",fontWeight:"regular",i18nId:"all_carts.editor_table.Teams"})),ev.createElement(pw.qN,{style:ie.sx.add(pM.designEditor).$},ev.createElement(oc.x,{color:"default",fontWeight:"regular",i18nId:"general.figma_design"})),ev.createElement(pw.qN,{style:ie.sx.add(pM.figjamEditor).$},ev.createElement(oc.x,{color:"default",fontWeight:"regular",i18nId:"general.figjam"})))),ev.createElement(cr.l,{maxHeight:300},v),ev.createElement("div",{className:"org_self_serve_modals--selectEditorModalFooter--VUEx1"},ev.createElement("div",{className:"org_self_serve_modals--additionalSeatsTextWrapper--rCOEm"},ev.createElement(oc.x,{color:"default",fontWeight:"medium",i18nId:"all_carts.add_additional_editors.seat_rename"}),ev.createElement(oc.x,{fontWeight:"regular",color:"secondary",i18nId:"all_carts.add_additional_editors_description.seat_rename"})),ev.createElement("div",{style:pM.editors,"data-testid":"editor-counters"},ev.createElement(pl,{editorType:_K.dc,incrementSeats:()=>u(ao.gg.DESIGN),decrementSeats:()=>_(ao.gg.DESIGN),numEditors:c.design,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>p(e,ao.gg.DESIGN),shouldShowJamboardOffer:!1}),ev.createElement(pl,{editorType:_K.Jk,incrementSeats:()=>u(ao.gg.WHITEBOARD),decrementSeats:()=>_(ao.gg.WHITEBOARD),numEditors:c.whiteboard,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>p(e,ao.gg.WHITEBOARD),shouldShowJamboardOffer:!1}))),ev.createElement("div",{className:"org_self_serve_modals--selectEditorModalActions--BI57u org_self_serve_modals--selectEditorModalFooter--VUEx1"},0!==m?(()=>{switch(m){case 0:default:return;case 1:return ev.createElement(oc.x,{color:"danger",i18nId:"all_carts.you_need_a_minimum_n_design_editors.seat_rename",i18nParams:{minSeatsCount:l.design.minCount}});case 2:return ev.createElement(oc.x,{color:"danger",i18nId:"all_carts.you_need_a_minimum_n_whiteboard_editors.seat_rename",i18nParams:{minSeatsCount:l.whiteboard.minCount}});case 3:return ev.createElement(oc.x,{color:"danger",i18nId:"org_self_serve.purchase_summary.the_organization_plan_requires_at_least_count_editor_seats.seat_rename",i18nParams:{minCount:n}})}})():ev.createElement(oc.x,{fontWeight:"regular",color:"secondary",i18nId:"all_carts.new_total",i18nParams:{total:E?g.formatMoney(pF(r,s,c),{showCents:!0}):(0,mw.uP)(r,pF(r,s,c),{showCents:!0})}}),ev.createElement("div",{className:"org_self_serve_modals--buttonGroup--7lqAx"},ev.createElement(_E.PL,{onClick:f},(0,eq.t)("general.cancel")),ev.createElement(eA.DF,{onClick:()=>{0===m&&(a(c),t(s),i(ig.hV()))},disabled:0!==m},(0,eq.t)("all_carts.update")))))},"SelectEditorsModal"),pU="org_self_serve_figjam--stepContent--Fcgjx",pV="org_self_serve_figjam--stepContentTeamCreation--Hnw67",pW="org_self_serve_figjam--pageTitle--m-QT9",pG="org_self_serve_figjam--subText--PQn0t",pj="org_self_serve_figjam--summaryDivider--M3TXD",pH="org_self_serve_figjam--memberColumn--m3TLh",p$="org_self_serve_figjam--headerText---H57O",pz="org_self_serve_figjam--userRow--gu75I avatar--avatarWithHandle--Z3934",pK="org_self_serve_figjam--userRowTopMargin--di6Xr",pZ="org_self_serve_figjam--flex--ZfoO4",pq="org_self_serve_figjam--svgText--eUA7N org_self_serve_figjam--flex--ZfoO4",pY="org_self_serve_figjam--lineItem--9Stcs org_self_serve_figjam--flex--ZfoO4",pJ="org_self_serve_figjam--nextStep--H4Pxa",pQ="org_self_serve_figjam--helpIcon--7apPo",pX="org_self_serve_figjam--reviewItem--LD3wx",p0="org_self_serve_figjam--billingSubText--NGiXQ",p1="org_self_serve_figjam--billingItem--2zAGw",p2="org_self_serve_figjam--textLink--kH7Sp org_self_serve_figjam--billingSubText--NGiXQ",p3="org_self_serve_figjam--reviewSubTitle--melz8",p4="org_self_serve_figjam--plusSvg--G8rO4",p8="org_self_serve_figjam--editSvg--hk9Lw";function p5(e){return ev.createElement("div",{style:{height:e.height||12}})}function p9(e){var t;let[a,r]=(0,ev.useState)(!1),n=ev.createRef(),i=()=>{if(!(null==n?void 0:n.current))return;let e=n.current.getBoundingClientRect();r(e.bottom>window.innerHeight+25)};ev.useEffect(()=>(i(),window.addEventListener("scroll",i),function(){window.removeEventListener("scroll",i)}));let l=[...e.teamsToEditors.keys()],s=!!e.newTeamName,o=s?l.length+1:l.length,c=null==(t=l[l.length-1])?void 0:t.id,d=o<=5?"org_self_serve_figjam--teamTileLarge--hh-TM text--fontPos14--OL9Hp text--_fontBase--QdLsd":"org_self_serve_figjam--teamTileSmall--SiwnM org_self_serve_figjam--teamTileLarge--hh-TM text--fontPos14--OL9Hp text--_fontBase--QdLsd",m=e.newTeamName?ev.createElement(eq.Tx,{id:"org_self_serve.team_step.team_creation_header"}):ev.createElement(eq.Tx,{id:"org_self_serve.team_step.header"}),u=e.newTeamName?ev.createElement(eq.Tx,{id:"org_self_serve.team_step.team_creation_teams_shown_description"}):ev.createElement(eq.Tx,{id:"org_self_serve.team_step.teams_shown_description"});return ev.createElement("div",{className:tQ()(pU,pV)},ev.createElement("div",{className:pW},m),ev.createElement(p5,{height:4}),ev.createElement("div",{className:"org_self_serve_figjam--pageSubTitle--umjhu"},u),a&&ev.createElement("div",{className:"org_self_serve_figjam--showMoreContainer--Pr-V- visual_bell--messageContainer--fkhJH _overlayBase--_overlayBase--Rkj8l text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L"},ev.createElement("div",{className:"org_self_serve_figjam--showMoreMessage--dHOT9 visual_bell--message--lQw67 visual_bell--messageBase--Dg3ya ellipsis--ellipsis--Tjyfa"},ev.createElement(eq.Tx,{id:"org_self_serve.team_step.more_teams"})," \u2193")),ev.createElement("div",{className:o<=5?"org_self_serve_figjam--teamLargeTileContainer--K3Uwf":"org_self_serve_figjam--teamSmallTileContainer--MiVmD org_self_serve_figjam--teamLargeTileContainer--K3Uwf"},s&&ev.createElement(p6,{name:e.newTeamName||"",editors:0,team:null,checked:null!=e.newTeamName,tileClassName:d,tabIndex:0,disabled:!0}),l.map((t,a)=>ev.createElement(p6,{name:t.name,key:t.id,editors:e.teamsToEditors.get(t)||0,team:t,checked:e.selectedTeamIds.has(t.id),onClick:()=>e.onToggle(t.id),tileClassName:d,tabIndex:s?a+1:a,lastTeamRef:t.id===c?n:null}))))}function p6(e){var t;return null===e.team&&(0,eL.hu)(0===e.editors),ev.createElement("div",{onClick:e.onClick,key:(null==(t=e.team)?void 0:t.id)||e.name,className:e.tileClassName,role:"checkbox","aria-checked":e.checked,tabIndex:e.tabIndex,"aria-disabled":e.disabled},ev.createElement("div",{className:pq,ref:e.lastTeamRef},ev.createElement(ds.lO,{entity:e.team||{name:e.name},size:oo.DZ.LARGE}),ev.createElement("div",{className:"org_self_serve_figjam--teamText--kwOga"},ev.createElement("div",{className:"org_self_serve_figjam--teamName--RL-3Y text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.name),ev.createElement("div",{className:"org_self_serve_figjam--teamEditors--l10hE text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},ev.createElement(eq.Tx,{id:"org_self_serve.team_step.editor.seat_rename",editorCount:e.editors})))),ev.createElement("label",null,ev.createElement(pe.X,{checked:e.checked,disabled:e.disabled})))}class p7 extends ev.Component{render(){return ev.createElement("div",{className:tQ()(pU,pV)},ev.createElement("div",{className:pW},ev.createElement(eq.Tx,{id:"org_self_serve.details_step.tell_us_about_your_organization"})),ev.createElement("div",{className:"org_self_serve_figjam--detailsForm---syBr stripe--stripeCardAndAddress--b42eG org_self_serve_figjam--paymentForm--ohf1-"},ev.createElement(eA.hI,{htmlName:"actor_name",label:(0,eq.t)("org_self_serve.details_step.your_full_name"),value:this.props.orgDetails.actorName,onChange:this.props.onChangeFormInput}),ev.createElement(eA.hI,{htmlName:"actor_email",label:(0,eq.t)("org_self_serve.details_step.email_address"),value:this.props.orgDetails.actorEmail||"",disabled:!0,onChange:ex.ZT}),ev.createElement(eA.hI,{htmlName:"legal_org_name",label:(0,eq.t)("org_self_serve.details_step.legal_company_name"),value:this.props.orgDetails.legalOrgName,onChange:this.props.onChangeFormInput}),ev.createElement(eA.hI,{htmlName:"org_name",label:(0,eq.t)("org_self_serve.details_step.company_display_name"),placeholder:(0,eq.t)("org_self_serve.details_step.company_display_name_sub_text"),value:this.props.orgDetails.orgName,onChange:this.props.onChangeFormInput})))}}p7.displayName="OrgSelfServeDetailsStep";let ge=a(295799),gt=a(785601);function ga(e){let[t,a]=(0,ev.useState)(!1),[r,n]=(0,ev.useState)(!1),{getConfig:i}=(0,eC.it)("exp_starter_org_checkout_modal"),l=new mw.Lr(e.currency);return ev.createElement(cr.l,{className:tQ()(pU,pV),hideScrollbar:!0},ev.createElement("div",{className:pW},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.lets_make_sure_everythings_right"})),ev.createElement("div",{className:"org_self_serve_figjam--stepRect--N5ubT org_self_serve_figjam--boxBorder--uN5Ii"},ev.createElement("div",{className:"org_self_serve_figjam--reviewSummary--Iz0L4"},(()=>{let t=(0,n1.Gd)(e.user.email);return(0,eT.BZ)().pro_team_business_names?(0,pt.B)({displayName:e.orgName||e.legalOrgName,legalName:e.legalOrgName,variant:"org",domain:t,totalTeams:e.totalTeams}):ev.createElement(ev.Fragment,null,ev.createElement("div",{className:p3},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.organization_details"})),ev.createElement("div",{className:pX},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.company_name"})),ev.createElement("div",null,e.legalOrgName)),ev.createElement("div",{className:pX},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.company_display_name"})),ev.createElement("div",null,e.orgName||e.legalOrgName)),ev.createElement("div",{className:pX},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.domain"})),ev.createElement("div",null,t)),e.totalTeams>0&&ev.createElement("div",{className:pX},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.teams"})),ev.createElement("div",null,e.totalTeams)))})()),ev.createElement("div",{className:"org_self_serve_figjam--verticalDivider--Qwink"}),ev.createElement("div",null,r&&ev.createElement(pA,{onClose:()=>n(!1)}),ev.createElement("div",{className:"org_self_serve_figjam--billingDetails--B0jaT"},ev.createElement("div",{className:p3},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.next_quarterly_true_up_on_date",trueUpDate:new Date(e.trueUpDate)})),ev.createElement(p5,{height:16}),ev.createElement("div",{className:p$},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.what_is_a_true_up"})),ev.createElement("ul",null,ev.createElement("li",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.true_up_description.seat_rename"})),ev.createElement("li",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.true_up_description_2.seat_rename"})),ev.createElement("li",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.true_up_description_3.seat_rename"})),ev.createElement("li",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.true_up_description_4.seat_rename"}))),ev.createElement(eA.Cr,{onClick:()=>n(!0),className:p2,trusted:!0},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.learn_more_about_true_ups"})),ev.createElement(p5,{height:20}),ev.createElement("div",{className:pj}),ev.createElement(p5,{height:24}),ev.createElement("div",{className:p3},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.annual_renewal_on_date",renewalDate:new Date(e.renewalDate)})),ev.createElement(p5,{height:16}),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.annual_renewal_description.seat_rename"})),ev.createElement(p5,{height:20}),e.renderBillingItems(),ev.createElement("button",{className:`${p2} ${pq}`,onClick:e.showAdditionalEditorsModal},i().getValue("isVariant",!1)?ev.createElement(ev.Fragment,null,ev.createElement(eD.n,{className:p8,svg:gt}),ev.createElement(eq.Tx,{id:"org_self_serve.review_step.add_remove_editors.seat_rename"})):ev.createElement(ev.Fragment,null,ev.createElement(eD.n,{className:p4,svg:ge}),ev.createElement(eq.Tx,{id:"org_self_serve.review_step.add_additional_editors.seat_rename"}))),ev.createElement(p5,{height:20}),ev.createElement("div",{className:pj}),ev.createElement(p5,{height:16}),ev.createElement("div",{className:p1},ev.createElement("div",null,ev.createElement("div",{className:p$},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.subtotal"}))),ev.createElement("div",{className:p$},ev.createElement("div",{className:p$},l.formatMoney(e.subTotalCents,{showCents:!1})))),ev.createElement("div",{className:p1},ev.createElement("div",null,ev.createElement("div",{className:p$},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.tax"})),ev.createElement("div",{className:p0},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.tax_rate",taxRate:e.taxRate}))),ev.createElement("div",{className:p$},l.formatMoney(e.taxDueCents,{showCents:!1}))),ev.createElement("div",{className:p1},ev.createElement("div",null,ev.createElement("div",{className:"org_self_serve_figjam--boldText--yYGMx org_self_serve_figjam--headerText---H57O"},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.total_due_today"})),e.orgPayment.last4&&ev.createElement("div",{className:p0},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.card_ending_in_last4",last4:e.orgPayment.last4}))),ev.createElement("div",{className:p3},l.formatMoney(e.totalCents,{showCents:!1}))),ev.createElement(p5,{height:8}),ev.createElement("div",{className:pj})),ev.createElement(p5,{height:24}),ev.createElement("div",{className:"org_self_serve_figjam--confirmPaymentBox--R3qBc"},ev.createElement("div",{className:"org_self_serve_figjam--msaCheck--W-n5Y"},ev.createElement("input",{type:"checkbox",checked:t,className:"org_self_serve_figjam--teamCheck--KhnGi",onChange:()=>{a(!t)}}),ev.createElement("span",null,ev.createElement(eq.Tx,{id:"org_self_serve.review_step.i_agree_to_msa_and_renewal_links",msaLink:ev.createElement("a",{rel:"noopener noreferrer",className:p2,href:(0,eq.Re)("/ssa"),target:"_blank"},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.software_services_agreement"})),renewalLink:ev.createElement("a",{rel:"noopener noreferrer",className:p2,href:(0,eq.Re)("/renewal-and-cancellation"),target:"_blank"},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.renewal_and_cancellation_terms"}))}))),ev.createElement(eA.RS,{className:pJ,onClick:e.onSubmit,disabled:!t||e.loading,trackingProperties:e.ctaProperties},ev.createElement(eq.Tx,{id:"org_self_serve.review_step.complete_purchase"}))))))}let gr=a(589668);function gn(e){let t=new mw.Lr(e.currency);return ev.createElement("div",{className:"org_self_serve_figjam--confirmationPage--waE-r"},ev.createElement("div",{className:tQ()(pU,pV)},ev.createElement("div",{className:"org_self_serve_figjam--confirmationHeading--kkdEi"},ev.createElement(eD.n,{svg:gr,className:"org_self_serve_figjam--greenCheck--Ircn0",useOriginalSrcFills_DEPRECATED:!0,autosize:!0,width:"32px",height:"32px"}),ev.createElement("div",{className:pW},ev.createElement(eq.Tx,{id:"org_self_serve.confirmation_step.you_re_all_set"}))),ev.createElement("div",{className:"org_self_serve_figjam--confirmationBox--yEAyv org_self_serve_figjam--stepRect--N5ubT org_self_serve_figjam--boxBorder--uN5Ii"},ev.createElement("div",{className:"org_self_serve_figjam--confirmationPageText--WW-9c text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"org_self_serve.confirmation_step.order_confirmation_message"})),ev.createElement(p5,{height:24}),ev.createElement("div",{className:pj}),ev.createElement(p5,{height:24}),ev.createElement("div",{className:"org_self_serve_figjam--flexBox--hjnmD"},ev.createElement("div",{className:"org_self_serve_figjam--confirmationCharge--zR2dL org_self_serve_figjam--confirmationPageText--WW-9c text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"org_self_serve.confirmation_step.total_amount_to_be_charged_to_card_ending_in_last4",last4:e.orgPayment.last4}),ev.createElement("span",{className:"org_self_serve_figjam--confirmationAmountDue--eZtFY"},t.formatMoney(e.totalCents,{showCents:!1}))),ev.createElement(p5,{height:24}),ev.createElement("div",{className:pj}),ev.createElement(p5,{height:32}),ev.createElement("div",{className:"org_self_serve_figjam--confirmationRow--99eHT"},!e.orgMigrated&&ev.createElement(ev.Fragment,null,ev.createElement(ax.TK,null),ev.createElement("div",{className:"org_self_serve_figjam--confirmationLoadingText--rrHze org_self_serve_figjam--msaLabelText--J-OnT"},ev.createElement(eq.Tx,{id:"org_self_serve.confirmation_step.we_re_setting_up_your_organization"}))),ev.createElement(eA.DF,{disabled:!e.orgMigrated,className:"org_self_serve_figjam--confirmationHomeButton--QDKb- text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L",onClick:e.onFileBrowserClick},ev.createElement(eq.Tx,{id:"org_self_serve.confirmation_step.go_to_the_file_browser"})))))))}var gi=a(432578);let gl=a(239722),gs=a(250215),go=a(295799),gc=a(785601),gd=a(131282);function gm(e,t){let a={},r=e.filter(e=>t.has(e.team.id));for(let e of r){let t=[{users:e.designEditors,propKey:"designEditor"},{users:e.figjamEditors,propKey:"figjamEditor"}],r={};t.forEach(({users:t,propKey:n})=>{for(let i of t){if((0,n1.Rn)(i.email))return;a[i.id]||(a[i.id]={user:i,teamIds:[],designEditor:!1,figjamEditor:!1,teams:[]}),i.id in r||(r[i.id]=new Set),a[i.id][n]=!0,r[i.id].has(e.team.id)||(a[i.id].teamIds.push(e.team.id),a[i.id].teams.push(e.team),r[i.id].add(e.team.id))}})}return a}let gu=()=>{let e=(0,eC.rm)("exp_starter_org_checkout_modal");return!!e.getValue("isVariant",!1)};class g_ extends ev.Component{constructor(e){var t,a;super(e),this.effectiveStep=()=>{var e;return this.props.step===uO.S$.Initial||this.props.step===uO.S$.ChoosePlan?(null==(e=this.props.newTeamProps)?void 0:e.teamFlowType)===di.wD.CREATE_AND_UPGRADE?uO.S$.CreateTeam:this.state.eligibleUpgrades.length>0||this.props.newTeamProps?uO.S$.TeamSelect:uO.S$.Details:this.props.step},this.setStep=e=>{this.props.dispatch(od.fv({view:"orgSelfServe",step:e,orgMigrated:!1,newTeamProps:this.props.newTeamProps,upsellSource:this.props.upsellSource})),this.setState(e=>({payment:{...e.payment,card:null}}))},this.onSubmit=()=>{var e;let t=this.effectiveStep();switch(t){case uO.S$.CreateTeam:(null==(e=this.state.newTeamName)?void 0:e.trim())&&this.setStep(uO.S$.TeamSelect);break;case uO.S$.AddCollaborators:this.setStep(uO.S$.Details);break;case uO.S$.PseudoCreateTeam:this.setStep(uO.S$.TeamSelect);break;case uO.S$.TeamSelect:this.setStep(uO.S$.Details);break;case uO.S$.Details:this.setStep(uO.S$.Payment);break;case uO.S$.Payment:this.onSubmitPaymentAndAddress();break;case uO.S$.Review:this.onSubmitPurchaseOrder();break;case uO.S$.Confirmation:break;default:(0,eL.vE)(t)}},this.ctaProperties=()=>{let e=this.designEditorCount(),t=this.figJamEditorCount(),a={[_K.z9.DESIGN]:this.totalDesignSeatsCount(),[_K.z9.FIGJAM]:this.totalFigJamSeatsCount(),[_K.z9.DEV_MODE]:this.totalDevModeSeatsCount()};return{numEditors:e,numFigJamEditors:t,numMigratedTeams:this.state.selectedTeamIds.size+(this.state.newTeamName?1:0),numTotalDesignSeats:a[_K.z9.DESIGN],totalFigJamSeats:a[_K.z9.FIGJAM],totalDevModeSeats:a[_K.z9.DEV_MODE],proposedSubtotal:_z.as.reduce((e,t)=>e+=(a[t]??0)*(_9.vk[t]??0),0)/100,domain:(0,n1.Gd)(this.props.user.email),currency:this.state.currency,upsellSource:this.props.upsellSource}},this.renderNextButton=()=>{var e,t;let a;let r="usd"!==this.state.currency&&!this.state.hasInternationalCurrenciesForOrg,n="usd"===this.state.currency||this.state.hasInternationalCurrenciesForOrg?null:(0,eq.t)("org_self_serve.disabled_button_tooltip_for_currency_localization"),i=this.effectiveStep();switch(i){case uO.S$.CreateTeam:case uO.S$.PseudoCreateTeam:a=(0,eq.t)("org_self_serve.create_team_step.next_select_team"),r=!this.state.newTeamName;return;case uO.S$.AddCollaborators:a=(0,eq.t)("org_self_serve.create_team_step.next_select_team");return;case uO.S$.TeamSelect:a=(0,eq.t)("org_self_serve.details_step.next_organization_details");break;case uO.S$.Details:a=(0,eq.t)("org_self_serve.payment_step.next_payment");let l=null==(e=this.state.orgDetails.legalOrgName)?void 0:e.length,s=null==(t=this.state.orgDetails.actorName)?void 0:t.length;r=r||!l||!s||l<1||s<1;break;case uO.S$.Payment:r=r||this.state.apiPending,a=(0,eq.t)("org_self_serve.review_step.next_review");break;case uO.S$.Review:case uO.S$.Confirmation:return null;default:(0,eL.vE)(i)}return ev.createElement("div",{className:"org_self_serve_figjam--nextStepContainer--iounX","data-tooltip":n,"data-tooltip-type":aN.fR.TEXT},ev.createElement(eA.RS,{className:pJ,disabled:r,onClick:()=>this.onSubmit(),trackingProperties:this.ctaProperties()},a))},this.onTeamToggle=e=>{this.state.selectedTeamIds.has(e)?this.setState(t=>(t.selectedTeamIds.delete(e),{selectedTeamIds:t.selectedTeamIds,selectedEditors:gm(this.state.eligibleUpgrades,t.selectedTeamIds)})):this.setState(t=>({selectedTeamIds:t.selectedTeamIds.add(e),selectedEditors:gm(this.state.eligibleUpgrades,t.selectedTeamIds.add(e))}))},this.onCardReady=e=>{let t={...this.state.payment,card:e};this.setState({payment:t})},this.onAddressChange=e=>{let t={...this.state.payment,address:e};this.setState({payment:t})},this.onClearToken=()=>{let e={...this.state.payment,token:null};this.setState({payment:e})},this.onVatIdChange=e=>{this.setState({vatId:e})},this.onRegionalVatIdChange=e=>{this.setState({regionalVatId:e})},this.onVatValidationFail=e=>{this.setState({apiPending:!1,paymentError:e})},this.onChangeNewTeamName=e=>{this.setState({newTeamName:e.trim()})},this.onChangeOrgDetails=e=>{let t=e.target.name,a=e.target.value;if(!t){e.preventDefault(),console.error("HTMLInputElement is missing name attribute:",e.target);return}let r=this.state.orgDetails;switch(t){case"actor_name":r.actorName=a.trim();break;case"legal_org_name":r.legalOrgName=a.trim();break;case"org_name":r.orgName=a.trim()}this.setState({orgDetails:r})},this.contactSales=()=>{this.props.dispatch((0,ig.K4)({type:_8.gg,data:{source:_8.fB.ORG_SELF_SERVE_UPGRADE_MODAL}}))},this.onFileBrowserClick=()=>{let e=(0,eT.BZ)().ps_benchmark;e?(this.props.newTeamProps&&(0,_Z.bC)(this.props.user.id),ew.default.redirect("/files/recent")):(this.props.dispatch(od.fv({view:"recentFiles"})),this.props.newTeamProps&&(0,_Z.bC)(this.props.user.id))},this.updateAdditionalSeats=e=>{this.setState({additionalDesignSeats:e[_K.dc]-this.designEditorCount(),additionalWhiteboardSeats:e[_K.Jk]-this.figJamEditorCount(),additionalDevModeSeats:e[_K.vX]??0})},this.addEditors=()=>{let e=new mw.Lr(this.state.currency),t=e.getPrices();this.props.dispatch((0,ig.K4)({type:pD,data:{seatDataByLicenseType:{[_K.dc]:{minSeats:this.designEditorCount(),currentSeats:this.totalDesignSeatsCount(),seatUnitCostInCents:t.orgFigma},[_K.Jk]:{minSeats:this.figJamEditorCount(),currentSeats:this.totalFigJamSeatsCount(),seatUnitCostInCents:t.orgFigjam},[_K.vX]:{minSeats:0,currentSeats:this.totalDevModeSeatsCount(),seatUnitCostInCents:t.orgDevMode}},minTotalSeats:_9.bm,updateAdditionalSeats:this.updateAdditionalSeats,showAnnualPrice:!0,dispatch:this.props.dispatch,currency:this.state.currency}}))},this.updateAdditionalEmptySeats=e=>{this.setState({additionalDesignSeats:e.design,additionalWhiteboardSeats:e.whiteboard})},this.selectEditors=()=>{let e=this.state.selectedEditors;for(let t in e)e[t]={...e[t]};this.props.dispatch((0,ig.K4)({type:pB,data:{users:e,updateSelectedEditors:this.updateSelectedEditors,updateAdditionalEmptySeats:this.updateAdditionalEmptySeats,dispatch:this.props.dispatch,currency:this.state.currency,minTotalSeats:_9.bm,seatInfo:{design:{minCount:this.designEditorCount(),additionalSeatCount:this.state.additionalDesignSeats},whiteboard:{minCount:this.figJamEditorCount(),additionalSeatCount:this.state.additionalWhiteboardSeats}}}}))},this.updateSelectedEditors=e=>{this.setState(t=>({...t,selectedEditors:e}))},this.renderBillingItems=()=>{let e=new mw.Lr(this.state.currency),t=e.getPrices(),a={[_K.dc]:{totalSeats:this.totalDesignSeatsCount(),price:t.orgFigma,headerString:ev.createElement(eq.Tx,{id:"org_self_serve.billing_items.total_figma_design_editor.seat_rename",totalDesignSeatsCount:this.totalDesignSeatsCount()}),oldCostBreakdownText:ev.createElement(eq.Tx,{id:"org_self_serve.billing_items.total_figma_design_editor_cost.seat_rename",annualMemberCost:e.formatMoney(t.orgFigma,{showCents:!1}),totalDesignSeatsCount:this.totalDesignSeatsCount()}),showDevModeIncludedText:(0,eT.BZ)().org_checkout_with_dm},[_K.Jk]:{totalSeats:this.totalFigJamSeatsCount(),price:t.orgFigjam,headerString:ev.createElement(eq.Tx,{id:"org_self_serve.headers.total_fig_jam_editor_seats_count.seat_rename",totalFigJamEditorSeatsCount:this.totalFigJamSeatsCount()}),oldCostBreakdownText:ev.createElement(eq.Tx,{id:"org_self_serve.billing_items.total_figjam_editor_cost.seat_rename",annualMemberCost:e.formatMoney(t.orgFigjam,{showCents:!1}),totalFigJamEditorSeatsCount:this.totalFigJamSeatsCount()})},[_K.vX]:{totalSeats:this.totalDevModeSeatsCount(),price:t.orgDevMode,headerString:ev.createElement(eq.Tx,{id:"org_self_serve.billing_items.total_seat_count.dev_mode",totalSeatCount:this.totalDevModeSeatsCount()})}};return ev.createElement("div",null,_z.as.excludeUnlessFlag([_K.z9.DEV_MODE],"org_checkout_with_dm").sort(_z.uE).map(t=>{let r=a[t];return null==r?ev.createElement(ev.Fragment,null):ev.createElement(ev.Fragment,null,ev.createElement("div",{className:pY},ev.createElement("div",{className:p$},r.headerString),ev.createElement("div",{className:p$},e.formatMoney(r.price*r.totalSeats*12,{showCents:!1}))),r.showDevModeIncludedText&&ev.createElement(ev.Fragment,null,ev.createElement(gp,{height:1}),ev.createElement(_6.F,null),ev.createElement(gp,{height:2})),ev.createElement("div",{className:pG},(0,eT.BZ)().org_checkout_with_dm||null==r.oldCostBreakdownText?ev.createElement(eq.Tx,{id:"org_self_serve.billing_items.total_seat_cost_for_product",annualMemberCost:e.formatMoney(r.price,{showCents:!1}),seatCount:r.totalSeats}):r.oldCostBreakdownText),ev.createElement(gp,{height:16}))}))},this.renderEditorsToUpgrade=(e,t)=>{let a=Object.keys(e).length,r=t-a;return t>0?ev.createElement(ev.Fragment,null,ev.createElement("div",null,this.renderUpgradeUserList(e)),r>0&&ev.createElement("div",{className:tQ()(pz,a>0&&pK)},ev.createElement(eD.n,{svg:gl}),ev.createElement("div",{className:"org_self_serve_figjam--emptySeat--SpQ7o"},ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.num_empty_seats",numEmptySeats:r})))):ev.createElement("div",{className:pG},ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.none"}))},this.renderPurchaseSummary=()=>{let{designEditors:e,figjamEditors:t}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors),a=(0,mw.EB)(),r=Object.keys(e).length,n=Object.keys(t).length,i=r+n<_9.bm,l=this.totalDesignSeatsCount(),s=this.totalFigJamSeatsCount(),o=this.getSubtotal(this.state.currency),c=(0,_5.j)(this.props.user)?ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.the_organization_plan_requires_seats_added_empty_seats.seat_rename",minCount:_9.bm}):ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.the_organization_plan_requires_at_least_count_editor_seats.seat_rename",minCount:_9.bm}),d=new mw.Lr(this.state.currency);return ev.createElement("div",{className:"org_self_serve_figjam--purchaseSummary--g-xXE"},ev.createElement("div",null,i&&ev.createElement("div",{className:`org_self_serve_figjam--purchaseMinimumBanner--vgfES ${pq}`},ev.createElement(eD.n,{className:pQ,svg:gs}),c),ev.createElement(cr.l,{className:"org_self_serve_figjam--sidebarScrollContainer--yFAcP",scrollingDisabled:!1},ev.createElement("div",null,ev.createElement("div",{className:"org_self_serve_figjam--summaryHeader--cMGp-"},ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.organization_plan"})),ev.createElement("div",{className:pG},ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.domain",domain:(0,n1.Gd)(this.props.user.email)})),ev.createElement(gp,{height:16})),ev.createElement("div",{className:pZ},ev.createElement("div",{className:pH},ev.createElement("div",{className:p$},ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.figma_design_editors.seat_rename"})),ev.createElement(gp,{height:l>0?16:20}),this.renderEditorsToUpgrade(e,l)),ev.createElement("div",{className:pH},ev.createElement("div",{className:p$},ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.fig_jam_editors.seat_rename"})),ev.createElement(gp,{height:s>0?16:20}),this.renderEditorsToUpgrade(t,s))),ev.createElement(gp,{height:20})),ev.createElement("div",null,ev.createElement("div",{className:pj}),a&&ev.createElement(ev.Fragment,null,ev.createElement(gp,{height:16}),ev.createElement("div",{className:pY},ev.createElement("div",{className:"org_self_serve_figjam--currencyText--caJ-j org_self_serve_figjam--boldText--yYGMx org_self_serve_figjam--headerText---H57O"},ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.currency_text"})),ev.createElement(_7.w,{currency:this.state.currency,dropdownShown:this.props.dropdownShown,supportedCurrencies:(0,mw._M)(),changeCurrency:e=>{this.props.dispatch(u$.NW({currency:e})),this.setState({currency:e})},shortFormDisplay:!0,paddingOverride:0})),"usd"!==this.state.currency&&!this.state.hasInternationalCurrenciesForOrg&&ev.createElement("div",{className:"org_self_serve_figjam--inlineBannerContainer--Qf5-i"},ev.createElement(_H.f,{color:_H.Z.INFORMATION,text:ev.createElement(eq.Tx,{id:"org_self_serve.currency_localization_disclaimer",currency:this.state.currency.toUpperCase(),switchToUSDLink:ev.createElement("button",{onClick:()=>{this.setState({currency:"usd"})},className:p2},ev.createElement(eq.Tx,{id:"org_self_serve.switch_to_usd_link"}))})})),ev.createElement(gp,{height:20}),ev.createElement("div",{className:pj})),this.state.paymentError&&this.effectiveStep()===uO.S$.Payment&&ev.createElement(ev.Fragment,null,ev.createElement(_H.f,{color:_H.Z.INFORMATION,text:this.state.paymentError})),ev.createElement(gp,{height:16}),this.renderBillingItems(),ev.createElement(gp,{height:20}),ev.createElement("button",{className:`${p2} ${pq}`,onClick:gu()?this.selectEditors:this.addEditors},gu()?ev.createElement(ev.Fragment,null,ev.createElement(eD.n,{className:p8,svg:gc}),ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.add_remove_editors.seat_rename"})):ev.createElement(ev.Fragment,null,ev.createElement(eD.n,{className:p4,svg:go}),ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.add_additional_editors.seat_rename"})),ev.createElement("span",null)),ev.createElement(gp,{height:20}),ev.createElement("div",{className:pj}),ev.createElement(gp,{height:24}),ev.createElement(_$,{formattedSubtotal:d.formatMoney(o,{showCents:!1})}),ev.createElement(gp,{height:24}),this.renderNextButton(),ev.createElement(gp,{height:24}))),ev.createElement("div",null,ev.createElement("div",{className:"org_self_serve_figjam--summaryDividerFull--KrO-d org_self_serve_figjam--summaryDivider--M3TXD"}),ev.createElement(gp,{height:16}),ev.createElement("div",{className:pq},ev.createElement(eD.n,{svg:gd,className:pQ}),ev.createElement("span",null,ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.have_questions",contactSales:ev.createElement("span",{className:p2,onClick:this.contactSales},ev.createElement(eq.Tx,{id:"org_self_serve.purchase_summary.contact_our_sales_team"}))}))),ev.createElement(gp,{height:16})))},this.state={loading:!0,eligibleUpgrades:[],selectedEditors:{},selectedTeamIds:new Set,payment:{card:null,last4:null,address:(0,uD.oX)((0,mw.xC)())},apiPending:!1,stripeCustomerId:null,taxRate:0,orgDetails:{actorName:"",actorEmail:this.props.user.email,legalOrgName:"",orgName:""},paymentError:null,additionalDesignSeats:0,additionalWhiteboardSeats:0,additionalDevModeSeats:0,currency:this.props.currency,hasInternationalCurrenciesForOrg:(0,mw.Dj)()??!1,vatId:null,regionalVatId:null,newTeamName:(null==(t=this.props.newTeamProps)?void 0:t.newTeamName)||null,inviteEmails:(null==(a=this.props.newTeamProps)?void 0:a.inviteEmails)||[]}}componentDidMount(){this.fetchTeamEligibleUpgradesFigjam()}fetchTeamEligibleUpgradesFigjam(){return _J.uU.getEligibleUpgradesFigjam().catch(e=>{let t=e.data.message;return this.props.dispatch(od.fv({view:"recentFiles"})),this.props.dispatch(dl.l.error(t||(0,eq.t)("org_self_serve.confirmation_step.sorry_there_was_an_error_processing_your_request_refresh_and_try_again"))),this.setState({loading:!1}),Promise.reject()}).then(({data:e})=>{let t=e.meta.eligible_upgrades,a=new Set(t.map(e=>e.team.id)),r=gm(t,a),{designEditors:n}=this.getUpgradesByEditorType(t,a,r),i=Math.max(_9.bm,Object.keys(n).length),l=Math.max(0,this.props.initialDesignSeats-i);this.setState({loading:!1,eligibleUpgrades:t,selectedTeamIds:a,additionalDesignSeats:l,selectedEditors:r})})}componentDidUpdate(e,t){(0,n1.Gd)(e.user.email)!==(0,n1.Gd)(this.props.user.email)&&ew.default.redirect("/purchase-organization")}designEditorCount(){let{designEditors:e}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors),t=Object.keys(e).length;return t}figJamEditorCount(){let{figjamEditors:e}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors);return Object.keys(e).length}totalDesignSeatsCount(){let e=this.state.additionalDesignSeats+this.designEditorCount(),t=_9.bm-e;return(t-=this.totalFigJamSeatsCount()+this.totalDevModeSeatsCount())>0?e+t:e}totalFigJamSeatsCount(){return this.state.additionalWhiteboardSeats+this.figJamEditorCount()}totalDevModeSeatsCount(){return this.state.additionalDevModeSeats}getSubtotal(e){let t=new mw.Lr(e),a=t.getPrices(),r={[_K.dc]:this.totalDesignSeatsCount()*a.orgFigma*12,[_K.Jk]:this.totalFigJamSeatsCount()*a.orgFigjam*12,[_K.vX]:this.totalDevModeSeatsCount()*a.orgDevMode*12},n=0;return _z.as.excludeUnlessFlag([_K.vX],"org_checkout_with_dm").forEach(e=>{n+=r[e]??0}),n}async onSubmitPaymentAndAddress(){let e=this.state.payment.address,t=this.state.payment.card,a=this.state.vatId,r=this.state.regionalVatId;if(null===t){this.setState({paymentError:(0,eq.t)("org_self_serve.payment_step.sorry_please_wait")});return}if(this.setState({apiPending:!0}),a){let t=await (0,_Q.I)(a,e.country,()=>{},this.onVatValidationFail);if(!t)return}if(r){let t=await (0,_Q.I)(r,e.country,()=>{},this.onVatValidationFail,e.region);if(!t)return}(0,_Y.V3)(t).then(t=>{var a;if(!t.error&&t.token)return((0,eT.BZ)().stripe_3ds_orgs?(0,_Y.B1)(t.token.id,this.getSubtotal(this.state.currency),this.state.currency).then(t=>rI.ZP.post("/api/orgs/validate_payment",{payment_method:t.payment_method,address:e,selected_currency:this.state.currency,vat_gst_id:this.state.vatId,regional_vat_gst_id:this.state.regionalVatId||null})):rI.ZP.post("/api/orgs/validate_payment",{source_token:t.token.id,address:e,selected_currency:this.state.currency,vat_gst_id:this.state.vatId,regional_vat_gst_id:this.state.regionalVatId||null})).catch(e=>{var t;return this.setState({apiPending:!1,paymentError:(null==(t=e.data)?void 0:t.message)||e.message}),Promise.reject()}).then(({data:e})=>{this.setState(a=>{var r,n;return{payment:{...a.payment,last4:(null==(n=null==(r=t.token)?void 0:r.card)?void 0:n.last4)||null},stripeCustomerId:e.meta.stripe_customer_id,taxRate:e.meta.tax_percent,apiPending:!1}},()=>this.setStep(uO.S$.Review))});{let e=(null==(a=t.error)?void 0:a.message)||(0,eq.t)("org_self_serve.payment_step.there_was_an_error_processing_your_payment_please_try_again");this.setState({apiPending:!1,paymentError:e})}})}onSubmitPurchaseOrder(){this.props.dispatch(m1.v({completed_org_cart_flow:!0}));let e={legal_org_name:this.state.orgDetails.legalOrgName,org_name:this.state.orgDetails.orgName||this.state.orgDetails.legalOrgName,team_ids:Array.from(this.state.selectedTeamIds),requested_seats:{design:this.totalDesignSeatsCount(),figjam:this.totalFigJamSeatsCount(),...(0,eT.BZ)().org_checkout_with_dm?{dev_mode:this.totalDevModeSeatsCount()}:{}},stripe_customer_id:this.state.stripeCustomerId,selected_currency:this.state.currency,vat_gst_id:this.state.vatId||null,regional_vat_gst_id:this.state.regionalVatId||null};this.state.newTeamName&&(e={...e,new_team_options:{team_name:this.state.newTeamName,add_to_org:!0}}),e.design_editors=this.totalDesignSeatsCount(),e.whiteboard_editors=this.totalFigJamSeatsCount(),this.setState({apiPending:!0}),rI.ZP.post("/api/orgs",e).catch(e=>{var t;return this.props.dispatch(dl.l.error((null==(t=e.data)?void 0:t.message)||(0,eq.t)("org_self_serve.review_step.sorry_there_was_an_error_please_try_again"))),this.setState({apiPending:!1}),Promise.reject()}).then(t=>{this.setState({apiPending:!1},()=>this.setStep(uO.S$.Confirmation)),this.state.inviteEmails.length&&t.data.meta.new_team&&this.props.dispatch((0,uZ.Pv)({emails:this.state.inviteEmails,resourceType:ao._g.TEAM,resourceIdOrKey:t.data.meta.new_team.id,level:uq.V.EDITOR})),this.state.newTeamName&&t.data.meta.new_team&&(0,_Z.bC)(this.props.user.id),(0,eK.L9)("Self Serve Org Purchased (GTM)"),(0,eH.iP)("Self Serve Org Purchased",{user:this.props.user},{org_name:e.org_name,upsellSource:this.props.upsellSource})})}getUpgradesByEditorType(e,t,a){let r={},n={};for(let[e,i]of Object.entries(a)){let a=i.teamIds.some(e=>t.has(e));if(!a){delete this.state.selectedEditors[e];continue}i.designEditor&&(r[e]=i),i.figjamEditor&&(n[e]=i)}let i=e.filter(e=>t.has(e.team.id));return i.forEach(e=>{e.designEditors.forEach(t=>{var n;!(0,n1.Rn)(t.email)&&(null==(n=a[t.id])?void 0:n.designEditor)&&(r[t.id]||(r[t.id]={user:t,teamIds:[]}),r[t.id].teamIds.includes(e.team.id)||r[t.id].teamIds.push(e.team.id))}),e.figjamEditors.forEach(t=>{var r;!(0,n1.Rn)(t.email)&&(null==(r=a[t.id])?void 0:r.figjamEditor)&&(n[t.id]||(n[t.id]={user:t,teamIds:[]}),n[t.id].teamIds.includes(e.team.id)||n[t.id].teamIds.push(e.team.id))})}),{designEditors:r,figjamEditors:n}}renderUpgradeUserList(e){return Object.keys(e).map(t=>{let a=e[t],r=a.user,n=a.teamIds.map(e=>this.state.eligibleUpgrades.find(t=>t.team.id===e).team.name),i=(0,n1.Gd)(r.email)!==(0,n1.Gd)(this.props.user.email),l=`userlist-handle-${r.id}`;return ev.createElement("div",{className:tQ()(pz,pK),key:t,"data-tooltip-proxy-element-id":l},ev.createElement(oo.Yt,{user:r}),ev.createElement("div",{className:gi.um},ev.createElement("div",{className:gi.sy},ev.createElement("span",{className:gi.pr,id:l,"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":aN._7.ORG_UPGRADE_USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-team-names":n.join(", "),"data-tooltip-timeout-delay":50},r.name),i&&ev.createElement("div",{"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":aN._7.ORG_GUEST_INFO,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0,"data-tooltip-max-width":250},ev.createElement(os.Ct,{color:os.JV.DEFAULT,subtle:!0,text:(0,eq.t)("org_self_serve.purchase_summary.guest")})))))})}render(){let e;let t=this.effectiveStep();if(this.state.loading&&!this.props.newTeamProps)return ev.createElement(ax.TK,null);let a=new Date().getMonth(),r=new Date().setMonth(a+3),n=new Date().setMonth(a+12),i=this.getSubtotal(this.state.currency),l=i*this.state.taxRate/100,s=i+l,o=this.state.eligibleUpgrades.length>0,c=new Map;this.state.eligibleUpgrades.forEach(e=>c.set(e.team,e.designEditors.length+e.figjamEditors.length));let d=e=>{var t,a;this.props.dispatch(od.fv({teamId:null,...null==(t=this.props.newTeamProps)?void 0:t.previousView,view:"teamUpgrade",paymentStep:e,teamFlowType:(null==(a=this.props.newTeamProps)?void 0:a.teamFlowType)||di.wD.CREATE_AND_UPGRADE}))};return e=t===uO.S$.Review?ev.createElement(ev.Fragment,null,ev.createElement(gg,{currentStep:this.props.step,setStep:this.setStep,hasEligibleUpgrades:this.state.eligibleUpgrades.length>0,onFileBrowserClick:this.onFileBrowserClick,newTeamProps:this.props.newTeamProps,onSelectTeamUpgradeStep:d}),ev.createElement(ga,{onSubmit:this.onSubmit,orgPayment:this.state.payment,renewalDate:n,subTotalCents:i,taxDueCents:l,taxRate:this.state.taxRate,totalCents:s,totalSeats:{[_K.dc]:this.totalDesignSeatsCount(),[_K.Jk]:this.totalFigJamSeatsCount(),[_K.vX]:this.totalDevModeSeatsCount()},showAdditionalEditorsModal:gu()?this.selectEditors:this.addEditors,trueUpDate:r,totalTeams:this.state.selectedTeamIds.size+(this.state.newTeamName?1:0),legalOrgName:this.state.orgDetails.legalOrgName,orgName:this.state.orgDetails.orgName,user:this.props.user,loading:this.state.apiPending,renderBillingItems:this.renderBillingItems,ctaProperties:this.ctaProperties(),currency:this.state.currency})):t===uO.S$.Confirmation?ev.createElement(gn,{totalCents:s,trueUpDate:r,orgMigrated:this.props.orgMigrated,onFileBrowserClick:this.onFileBrowserClick,orgPayment:this.state.payment,currency:this.state.currency}):ev.createElement(ev.Fragment,null,this.props.isOrgAdmin&&ev.createElement(pR,{onContactSales:this.contactSales,onFileBrowserClick:this.onFileBrowserClick}),(0,n1._E)(this.props.user.email)&&ev.createElement(pL,{onFileBrowserClick:this.onFileBrowserClick}),ev.createElement(gg,{currentStep:this.props.step,setStep:this.setStep,hasEligibleUpgrades:o,onFileBrowserClick:this.onFileBrowserClick,newTeamProps:this.props.newTeamProps,onSelectTeamUpgradeStep:d}),ev.createElement("div",{className:"org_self_serve_figjam--stepContainer--0lJIg"},t===uO.S$.CreateTeam&&ev.createElement("div",{className:"org_self_serve_figjam--createTeamContainer--dzlfO"},ev.createElement(_3,{type:_2.ORG,teamName:this.state.newTeamName||"",setTeamName:this.onChangeNewTeamName,onNext:this.onSubmit})),t===uO.S$.TeamSelect&&(this.state.loading?ev.createElement(ax.TK,null):ev.createElement(p9,{teamsToEditors:c,selectedTeamIds:this.state.selectedTeamIds,onToggle:this.onTeamToggle,newTeamName:this.state.newTeamName})),t===uO.S$.Details&&(this.state.loading?ev.createElement(ax.TK,null):ev.createElement(p7,{orgDetails:this.state.orgDetails,onChangeFormInput:this.onChangeOrgDetails})),t===uO.S$.Payment&&ev.createElement(cr.l,{className:tQ()(pU,pV),hideScrollbar:!0},ev.createElement("div",{className:pW},ev.createElement(eq.Tx,{id:"org_self_serve.payment_step.enter_your_payment_details"})),ev.createElement("form",{className:"org_self_serve_figjam--paymentForm--ohf1-"},ev.createElement(_4.g,{id:"team-upgrade-page-form",cardId:"team-upgrade-page-card",address:this.state.payment.address,onCardReady:this.onCardReady,onAddressChange:this.onAddressChange,onClearToken:this.onClearToken,onVatIdChange:this.onVatIdChange,vatId:this.state.vatId,onRegionalVatIdChange:this.onRegionalVatIdChange,regionalVatId:this.state.regionalVatId,isCommunityCheckout:!1}))),t!==uO.S$.CreateTeam&&this.renderPurchaseSummary())),ev.createElement(e3.Ui,{name:r2.V4.ORG_CART,properties:{step:t,currency:this.state.currency,upsellSource:this.props.upsellSource}},ev.createElement("div",{className:"org_self_serve_figjam--selfServePage--f3ZqF"},e))}}function gp(e){return ev.createElement("div",{style:{height:e.height||12}})}g_.displayName="OrgSelfServePage";class gg extends ev.Component{render(){var e;if(this.props.currentStep===uO.S$.Confirmation)return null;let t=[],a=null;if(this.props.newTeamProps){let r={step:uO.S$.ChoosePlan,name:(0,eq.t)("org_self_serve.headers.choose_plan")},n={step:uO.S$.CreateTeam,name:(0,eq.t)("org_self_serve.headers.create_team")};switch(null==(e=this.props.newTeamProps)?void 0:e.teamFlowType){case di.wD.CREATE:t.push({step:uO.S$.PseudoCreateTeam,name:(0,eq.t)("org_self_serve.headers.create_team")}),t.push({step:uO.S$.AddCollaborators,name:(0,eq.t)("org_self_serve.headers.add_team_members")}),t.push(r);break;case di.wD.CREATE_AND_UPGRADE:t.push(r),t.push(n),a=uO.S$.CreateTeam;break;case di.wD.UPGRADE_EXISTING_TEAM:t.push(r)}}(this.props.hasEligibleUpgrades||this.props.newTeamProps)&&(t.push({step:uO.S$.TeamSelect,name:(0,eq.t)("org_self_serve.headers.teams_to_upgrade")}),a=a??uO.S$.TeamSelect),t.push({step:uO.S$.Details,name:(0,eq.t)("org_self_serve.headers.organization_details")}),t.push({step:uO.S$.Payment,name:(0,eq.t)("org_self_serve.headers.payment")}),t.push({step:uO.S$.Review,name:(0,eq.t)("org_self_serve.headers.review")}),a=a??uO.S$.Details,t[t.findIndex(e=>e.step===a)].step=uO.S$.Initial;let r=0;for(let e=0;e<t.length;e++)if(t[e].step===this.props.currentStep){r=e;break}let n=(0,e3.z7)(function(e){return ev.createElement("div",{className:"org_self_serve_figjam--cancelMenuItem--Y1wSa",onClick:e.onClick},ev.createElement(eq.Tx,{id:"org_self_serve.headers.cancel"}))});return ev.createElement("div",{className:"org_self_serve_figjam--menuContainer--LI-CI"},ev.createElement(n,{onClick:this.props.onFileBrowserClick}),ev.createElement("div",{className:pZ},t.map((e,t)=>ev.createElement(uY.ut,{key:t+1,selected:this.props.currentStep===e.step,number:t+1,text:e.name,onClick:()=>{let a=function(e){switch(e){case uO.S$.ChoosePlan:return uD.KB.PLAN_COMPARISON;case uO.S$.AddCollaborators:return uD.KB.ADD_COLLABORATORS;case uO.S$.PseudoCreateTeam:return uD.KB.CREATE_TEAM;default:return null}}(e.step);a&&this.props.onSelectTeamUpgradeStep?this.props.onSelectTeamUpgradeStep(a):window.history.go(t-r)},canClick:t<r,lightText:!0}))))}}gg.displayName="OrgSelfServeStepsHeader";let gE=(0,eb.$j)(e=>({user:e.user,isOrgAdmin:(0,_q.OX)(e.orgUsersByOrgId.orgUsers,e.user.id).some(e=>e.permission===ao.Gu.ADMIN),currency:e.payment.currency||((0,mw.Dj)()?(0,mw.x_)():"usd")}))(g_);var gh=a(877886),gf=a(728443),gv=a(135348),gb=a(594619);let gy=a(790070),gw=e=>({[ao.Zn.PUBLIC]:ev.createElement(eq.Tx,{id:"org_access_strings.public.description_with_org_name",orgName:e}),[ao.Zn.PRIVATE]:ev.createElement(eq.Tx,{id:"org_access_strings.closed.description_with_org_name",orgName:e}),[ao.Zn.SECRET]:ev.createElement(eq.Tx,{id:"org_access_strings.secret.description_with_org_name",disclaimerLabel:ev.createElement("span",{className:ek.cx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"org_access_strings.secret.description.disclaimer_label"})),orgName:e})});class gT extends ev.Component{constructor(){super(...arguments),this.TEAM_ORG_ACCESS_DROPDOWN="team-org-access-dropdown",this.isDropdownShown=()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.TEAM_ORG_ACCESS_DROPDOWN,this.toggleOrgAccessDropdown=e=>{e.stopPropagation(),e.preventDefault(),this.isDropdownShown()?this.props.dispatch(od.kp()):this.props.dispatch(od.SP({type:this.TEAM_ORG_ACCESS_DROPDOWN}))},this.onClickPublic=()=>{this.props.onChangeOrgAccess(ao.Zn.PUBLIC)},this.onClickPrivate=()=>{this.props.onChangeOrgAccess(ao.Zn.PRIVATE)},this.onClickSecret=()=>{this.props.onChangeOrgAccess(ao.Zn.SECRET)}}render(){return ev.createElement("div",{className:"team_org_access_dropdown--orgAccess--GQVKH"},ev.createElement("button",{className:"team_org_access_dropdown--select--UzcX4",onClick:this.toggleOrgAccessDropdown},(0,uR.orgAccessStrings)()[this.props.orgAccess],ev.createElement(eD.n,{svg:gy,className:"team_org_access_dropdown--downCaret--OgdqC"})),this.isDropdownShown()&&ev.createElement("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--mDs7x"},ev.createElement(gb.j.Dropdown,{className:"team_org_access_dropdown--orgAccessDropdown--zzFC-"},ev.createElement(gb.j.CheckableOption,{checked:this.props.orgAccess===ao.Zn.PUBLIC,onClick:this.onClickPublic},(0,uR.orgAccessStrings)()[ao.Zn.PUBLIC]),ev.createElement(gb.j.CheckableOption,{checked:this.props.orgAccess===ao.Zn.PRIVATE,onClick:this.onClickPrivate},(0,uR.orgAccessStrings)()[ao.Zn.PRIVATE]),ev.createElement(gb.j.CheckableOption,{checked:this.props.orgAccess===ao.Zn.SECRET,onClick:this.onClickSecret},(0,uR.orgAccessStrings)()[ao.Zn.SECRET]))))}}gT.displayName="TeamOrgAccessDropdown";let gx="team_creation--createTeamText--lRErg",gN=a(328630);function gC({currentTeamId:e,currentUserOrgId:t,user:a,selectedView:r,dropdownShown:n,teamCreation:i}){let l=(0,eb.I0)(),[s,o]=(0,ev.useState)(null),[c,d]=(0,ev.useState)(ao.Zn.PUBLIC),m=(0,_t.Mn)(),u=r.ignoreCurrentPlan,_=t&&!u?m.orgById[t]:null,p=!e&&!t,g=(0,ev.useRef)(null);(0,ev.useEffect)(()=>{if(g.current)for(let e=0;e<g.current.elements.length;e++){let t=g.current.elements[e];if(!t.value){t.focus();break}}t&&!u&&(0,eK.L9)("team_creation_started",{user_id:(null==a?void 0:a.id)??"",org_id:t})},[t,a,u]);let E=e=>{var t;e.preventDefault(),e.stopPropagation(),s?(l((0,gf.$Y)({teamName:s,orgAccess:c,dontRedirect:!!r.onSubmitReturnToPrevView,ignoreCurrentPlan:u})),r.onSubmitReturnToPrevView&&l(od.fv((null==(t=ew.default.location.state)?void 0:t.previousSelectedView)||{view:"recentFiles"}))):l(dl.l.error((0,eq.t)("team_creation.your_team_name_cannot_be_empty")))},h=t&&!u,f=!h&&!r.onSubmitReturnToPrevView,v=(0,eT.BZ)().ps_benchmark&&(0,eT.BZ)().ps_planless_create_redirect&&p,b=v?null:ev.createElement(uX,{onClick:()=>{var e;l(od.fv((null==(e=ew.default.location.state)?void 0:e.previousSelectedView)||{view:"recentFiles"}))}},ev.createElement(eD.n,{svg:gN,className:"team_creation--modalCloseX---y-4B"}));return ev.createElement(e3.Ui,{name:"Team Creation"},ev.createElement("div",null,ev.createElement(u0,{menu:b},f&&ev.createElement(uJ,{index:1}),ev.createElement("form",{ref:g,onSubmit:E},ev.createElement(uY.rQ,null,ev.createElement(eq.Tx,{id:"team_creation.create_a_team_title"})),ev.createElement("div",{className:"team_creation--newTeamContainer--SKOmq team_creation--newTeamContainerBase--wicoE"},ev.createElement("div",{className:"team_creation--teamNameContainer--ZaEcO"},ev.createElement("div",{className:"team_creation--teamNameLabel--q3Cgy"},ev.createElement(eq.Tx,{id:"team_creation.team_name_label"})),ev.createElement(eA.Ev,{value:s||"",onChange:e=>{o(e.target.value)},className:"team_creation--newTeamInput--BdKIV",maxLength:255,placeholder:(0,eq.t)("team_creation.team_name_input_placeholder")})),_?ev.createElement("div",{className:"team_creation--orgTeamSettings--UDxNq"},ev.createElement("div",{className:ek.cx.flex.$},ev.createElement("div",{className:ek.cx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"team_creation.access_within_the_organization"})),ev.createElement(gT,{orgAccess:c,dropdownShown:n,onChangeOrgAccess:e=>{d(e)},dispatch:l})),ev.createElement("div",{className:gx},gw(_.name)[c])):ev.createElement("div",{className:gx},ev.createElement(eq.Tx,{id:"team_creation.after_creating_a_team_you_can_invite_others_to_join"})),ev.createElement(eA.OK,{className:t?"team_creation--createTeamButtonOrg--tG-GA":"team_creation--createTeamButton--iXsoS",type:"submit",disabled:i.loading,onClick:E},ev.createElement(eq.Tx,{id:"team_creation.create_team_button"})))))))}function gS(e){var t,a,r;let n=(0,eb.I0)(),i=e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,l=null==(r=null==(a=null==(t=(0,_q.YM)(e))?void 0:t.workspace_users)?void 0:a.find(e=>e.is_main_workspace))?void 0:r.workspace_id,{cannotCreateTeamReason:s}=(0,gv.G3)(i,l),o=(0,uR.isOrgUserExternallyRestricted)(e.user,e.currentUserOrgId);return o||s===gv.mt.TEAM_CREATION_CONTROL&&!(0,eT.BZ)().ps_benchmark?(ew.default.redirect("/"),n(dl.l.error((0,eq.t)("team_creation.missing_team_creation_controls"))),null):ev.createElement(gC,{...e})}var gk=a(256768),gI=a(239342);let gL="team_restore--page--Y6E07",gR="team_restore--section--7Aekp",gA="team_restore--button--meVA6",gO=a(328630);class gD extends ev.PureComponent{constructor(){super(...arguments),this.state={isLoading:!1},this.cancel=()=>{this.props.dispatch(od.fv({view:"recentFiles"}))},this.restoreTeam=()=>{this.props.dispatch(uK.kt({teamId:this.props.selectedView.teamId}))}}componentDidMount(){this.setState({isLoading:!0});let e=this.props.selectedView.teamId;gI.j.getDeleted({teamId:e}).then(({data:e})=>{this.props.dispatch(uK.v_({team:e.meta})),this.setState({isLoading:!1})}).catch(e=>{400!==e.status&&(this.props.dispatch(od.fv({view:"recentFiles"})),this.props.dispatch(dl.l.error(`${e.data.message}`))),this.setState({isLoading:!1})})}render(){let e,t;let a=this.props.selectedView.teamId,r=this.props.teams[a],n=ev.createElement(eA.RS,{className:gA,onClick:this.cancel},ev.createElement(eq.Tx,{id:"team_restore.back"})),i=ev.createElement(eD.n,{svg:gO,onClick:this.cancel,className:"team_restore--modalCloseX--C821S"});if(r){if(r.deleted_at){let a=(0,gk.Z)(r.deleted_at).add(28,"days").toDate();e=(0,eq.t)("team_restore.confirm_restore_header",{teamName:r.name}),t=ev.createElement("div",null,ev.createElement(eq.Tx,{id:"team_restore.confirm_restore"}),ev.createElement("br",null),ev.createElement("br",null),ev.createElement(eq.Tx,{id:"team_restore.confirm_restore_deadline",deleteDeadline:a})),n=ev.createElement(eA.RS,{className:gA,onClick:this.restoreTeam},ev.createElement(eq.Tx,{id:"team_restore.restore"}))}else e=(0,eq.t)("team_restore.ineligible"),t=(0,eq.t)("team_restore.questions")}else{if(this.state.isLoading)return ev.createElement("div",{className:gL},ev.createElement("div",{className:gR},ev.createElement(ax.TK,null)));e=(0,eq.t)("team_restore.expired_header"),t=ev.createElement("div",null,ev.createElement(eq.Tx,{id:"team_restore.expired"}),ev.createElement("br",null),ev.createElement("br",null),ev.createElement(eq.Tx,{id:"team_restore.questions"}))}return ev.createElement(e3.Ui,{name:"Team Restore",properties:{teamId:a}},ev.createElement(u0,{menu:i},ev.createElement("div",{className:gL},ev.createElement("div",{className:gR},ev.createElement("div",{className:"team_restore--header--ytriA text--fontPos20--Bcz97 text--_fontBase--QdLsd"},e),ev.createElement("div",{className:"team_restore--text--PhH8s text--fontPos12--YsUAh text--_fontBase--QdLsd"},t),n))))}}gD.displayName="TeamRestorePage";var gF=a(264119),gM=a(595819),gP=a(100304),gB=a(898080),gU=a(854622);let gV="step_pay--smallGrayText--cvubG",gW="step_pay--smallText--mu9MA text--fontPos11--2LvXf text--_fontBase--QdLsd",gG="step_pay--rowFlex--LWo7N step_pay--row--n1-KW";function gj(e){let t=ev.useRef(null),[a,r]=ev.useState(!1),[n,i]=ev.useState(null),l=new mw.Lr(e.currency),s=l.getPrices(),o=!e.allowZeroSeats,c=e.numAnnualEditors-(e.numFreeAnnualEditors||0),d=!!e.numFreeAnnualEditors,m=!d||c>0,u=t=>{e.onNumAnnualEditorsChange(t)},_=void 0!==e.monthlyCostOverride?e.monthlyCostOverride:e.editorType===ao.gg.WHITEBOARD?s.annualFigjam:s.annualFigma,p=ev.createElement("button",{type:"button",className:"step_pay--changeLink--r26a3 blue_link--blueLink--9rlnd","data-testid":`add-${e.editorType}-seats`,onClick:()=>r(!0)},ev.createElement(eq.Tx,{id:"payments.step_pay.add_more_seats"}));return ev.createElement("div",{className:gG,key:`${e.editorType}-step-pay-row`},ev.createElement("div",null,ev.createElement("div",{className:"step_pay--flex--SPcXa"},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"payments.step_pay.editors_on_annual_plan.seat_rename",numAnnualEditors:e.numAnnualEditors,numAnnualEditorsNumberOrInput:a?ev.createElement(eA.Sc,{ref:t,className:"step_pay--numEditorsInput--VHyar",value:null==n?e.numAnnualEditors:n,onChange:e=>{let t=e.target.value;i(t)},onBlur:()=>{let t=parseInt(n);if(!isNaN(t)){if(t<0)e.dispatch(dl.l.error((0,eq.t)("flash.no_negative_seats")));else if(0===t)o?e.dispatch(dl.l.error((0,eq.t)("flash.at_least_one_editor.seat_rename"))):u(0);else if(t>gB.tY){let t=ev.createElement("a",{href:"mailto:support@figma.com"},ev.createElement(eq.Tx,{id:"flash.annual_plan.contact_support_link"}));e.dispatch(dl.l.error(ev.createElement(eq.Tx,{id:"flash.annual_plan.contact_support",contactSupport:t,maxAnnualSubscriptions:gB.tY})))}else t>100?e.dispatch(ig.K4({type:gZ,data:{numAnnualEditors:t,onConfirm:()=>u(t)}})):u(t)}i(null),r(!1)},onKeyDown:e=>{let t=e.target;e.keyCode===ly.sr.ENTER?(e.preventDefault(),t.blur()):e.keyCode===ly.sr.ESCAPE&&r(!1)}}):e.numAnnualEditors,productType:(0,gU.s)((0,_K.wq)(e.editorType))}))),!a&&ev.createElement("div",{className:ek.cx.flex.flexColumn.gap4.$},e.editorBreakdown,ev.createElement("p",{className:gV},ev.createElement(eq.Tx,{id:"payments.step_pay.add_more_editors",addMoreSeats:p})))),ev.createElement(gz,{amount:e.totalCost,freeLineItem:d&&e.numFreeAnnualEditors?e.numFreeAnnualEditors>0?(0,eq.t)("payments.step_pay.price_per_editor_12_months",{price:l.formatMoney(0,{showCents:!1}),editorString:(0,eq.t)("payments.step_pay.num_editors.seat_rename",{numEditors:e.numFreeAnnualEditors})}):(0,eq.t)("payments.step_pay.none_selected"):void 0,lineItem:m?c>0?(0,eq.t)("payments.step_pay.price_per_editor_12_months",{price:l.formatMoney(_,{showCents:!1}),editorString:(0,eq.t)("payments.step_pay.num_editors.seat_rename",{numEditors:c})}):(0,eq.t)("payments.step_pay.none_selected"):void 0,shouldShowAmount:e.numAnnualEditors>0,currency:e.currency}))}function gH(){return ev.createElement("div",{className:"step_pay--separator--zNXJA"})}function g$(e){let{numAnnualDesignEditors:t,numAnnualWhiteboardEditors:a}=e,r=(0,pa.Fq)(uD.tv.ANNUAL),[n,i]=ev.useState({jamboardOfferSeatsRemaining:0,numAnnualFigjamPaidSeats:0,numJamboardFreeSeatsUsed:0,shouldRedeemJamboardOffer:!1}),l=(0,pa.X3)(a),s=(0,pa.WI)({numWhiteboardEditors:a,billingPeriod:uD.tv.ANNUAL}),o=(0,pa.dd)({numWhiteboardEditors:a,billingPeriod:uD.tv.ANNUAL});ev.useEffect(()=>{e.submitPending||i({jamboardOfferSeatsRemaining:l,numAnnualFigjamPaidSeats:s,numJamboardFreeSeatsUsed:o,shouldRedeemJamboardOffer:r})},[r,l,s,o,e.submitPending]);let c=new mw.Lr(e.currency),d=c.getPrices(),{isTeamPro:m,totalDesignEditors:u,totalWhiteboardEditors:_}=e,p=u-t,g=t*d.annualFigma*12,E=p*d.monthlyFigma,h=g+(!m&&p>0?E:0),f=_-n.numAnnualFigjamPaidSeats,v=n.numAnnualFigjamPaidSeats*d.annualFigjam*12,b=f*d.monthlyFigjam,y=v+(!m&&f>0?b:0);return ev.createElement("div",null,ev.createElement(gj,{dispatch:e.dispatch,editorType:ao.gg.DESIGN,onNumAnnualEditorsChange:e.onNumAnnualDesignEditorsChange,numAnnualEditors:t,allowZeroSeats:0!==a,currency:e.currency,totalCost:h}),ev.createElement(gj,{dispatch:e.dispatch,editorType:ao.gg.WHITEBOARD,onNumAnnualEditorsChange:e.onNumAnnualWhiteboardEditorsChange,numAnnualEditors:a,numFreeAnnualEditors:n.shouldRedeemJamboardOffer?n.numJamboardFreeSeatsUsed:null,allowZeroSeats:0!==t,currency:e.currency,totalCost:y,monthlyCostOverride:n.shouldRedeemJamboardOffer&&n.numAnnualFigjamPaidSeats<=0?0:void 0,editorBreakdown:n.shouldRedeemJamboardOffer&&n.numAnnualFigjamPaidSeats>0?ev.createElement(ev.Fragment,null,n.numJamboardFreeSeatsUsed>0&&ev.createElement("p",{className:gW},ev.createElement(eq.Tx,{id:"payments.step_pay.x_free_editor_seats.seat_rename",numEditors:n.numJamboardFreeSeatsUsed,seatString:ev.createElement(eq.Tx,{id:"payments.step_pay.x_seats",numSeats:n.numJamboardFreeSeatsUsed})})),n.numAnnualFigjamPaidSeats>0&&ev.createElement("p",{className:gW},ev.createElement(eq.Tx,{id:"payments.step_pay.x_paid_editor_seats.seat_rename",numEditors:n.numAnnualFigjamPaidSeats,seatString:ev.createElement(eq.Tx,{id:"payments.step_pay.x_seats",numSeats:n.numAnnualFigjamPaidSeats})}))):void 0}),n.shouldRedeemJamboardOffer&&ev.createElement("div",{className:ek.cx.pb24.$},ev.createElement(pg,{numOfferSeatsRemaining:n.jamboardOfferSeatsRemaining})),ev.createElement(gH,null),ev.createElement("div",{className:gG},ev.createElement("div",{className:"step_pay--totalLabelText--jx6nm"},ev.createElement(eq.Tx,{id:"payments.step_pay.subscription"})),ev.createElement(gK,{amount:h+y,plusTax:!0,dataTestId:"subscription-total-cost",currency:e.currency})))}class gz extends ev.Component{render(){let e=new mw.Lr(this.props.currency);return ev.createElement("div",{className:"step_pay--subtotal--Mo4IZ"},this.props.shouldShowAmount?e.formatMoney(this.props.amount,{showCents:!1}):"--",ev.createElement("div",{className:ek.cx.flex.flexColumn.gap4.$},this.props.freeLineItem&&ev.createElement("div",{className:gV},this.props.freeLineItem),this.props.lineItem&&ev.createElement("div",{className:gV},this.props.lineItem)))}}gz.displayName="SubTotal";class gK extends ev.Component{render(){let e=new mw.Lr(this.props.currency);return ev.createElement("div",{className:"step_pay--total--03jKX"},ev.createElement("p",{className:"step_pay--totalText--M6a6r step_pay--jumboText--i1Ax8","data-testid":this.props.dataTestId},e.formatMoney(this.props.amount,{showCents:!1})),this.props.plusTax&&ev.createElement("p",{className:"step_pay--plusTaxText---D3m0"},ev.createElement(eq.Tx,{id:"payments.step_pay.plus_sales_tax"})))}}gK.displayName="Total";let gZ="confirm-seats-modal";(0,it.QR)(gZ,e=>ev.createElement(gq,{...e}));class gq extends ev.Component{render(){let e=this.props.modalShown.data.numAnnualEditors;return ev.createElement(ir.cV,{confirmationTitle:(0,eq.t)("payments.step_pay.thats_a_lot_of_seats",{numAnnualEditors:e}),onConfirm:this.props.modalShown.data.onConfirm,confirmText:(0,eq.t)("payments.step_pay.confirm_seats"),...this.props},ev.createElement(eq.Tx,{id:"payments.step_pay.happy_you_want_to_buy_seats",numAnnualEditors:e}))}}gq.displayName="ConfirmSeatsModal";let gY="admin_settings_page--innerLoadingSpinner--mqPGm",gJ="legacy_upgrade--closeButton--mvTrw",gQ=a(328630);function gX(e){let{dispatch:t,loadingState:a,selectedView:r,payment:n,payment:{submitPending:i},teams:l,teamBilling:s,teamUserByTeamId:o}=e,c=l[r.teamId],d=gF.H2.loadingKeyForPayload({teamId:c.id}),m=(0,pa.I1)(uD.tv.ANNUAL);if((0,ev.useEffect)(()=>{(0,dn.hg)(a,d)||(0,dn.B4)(a,d)||t(gF.H2({teamId:c.id}))},[a,t,d,c.id]),(0,dn.hg)(a,d)&&!(0,dn.B4)(a,d))return ev.createElement(ax.TK,{className:gY});let{taxes:u,numDesignEditors:_,numWhiteboardEditors:p}=n,g=ev.createElement(eD.n,{svg:gQ,onClick:()=>{(0,eK.L9)("Add Annual Plan Canceled",{teamId:r.teamId}),0===history.length?t(od.fv({view:"team",teamId:r.teamId})):history.go(-1)},className:gJ}),{currency:E}=s.summary,h=c.editors,f=o[c.id]||{},v=Object.keys(f).filter(e=>{var t;return(null==(t=f[e])?void 0:t.whiteboard_paid_status)===gM.Eg.FULL}).length,b=new mw.Lr(E),y=b.getPrices();return ev.createElement("div",{className:"legacy_upgrade--addAnnualPlan--NVBHA"},ev.createElement(u0,{menu:g},ev.createElement(e3.Ui,{name:"Step Pay"},ev.createElement("div",{className:"step_pay--addAnnualPlan--VntAn"},ev.createElement(uY.rQ,null,ev.createElement(eq.Tx,{id:"payments.add_annual_plan.title"})),ev.createElement(uY.hX,null,ev.createElement("p",{className:"legacy_upgrade--addAnnualPlanInstructions--jYC60"},ev.createElement(eq.Tx,{id:"payments.add_annual_plan.intro.seat_rename",monthlyDesignEditorCost:b.formatMoney(y.monthlyFigma,{showCents:!1}),monthlyFigjamEditorCost:b.formatMoney(y.monthlyFigjam,{showCents:!1})}))),ev.createElement("div",{className:"step_pay--paymentForm--MzeA8"},ev.createElement(g$,{totalDesignEditors:h,totalWhiteboardEditors:v,numAnnualDesignEditors:_||0,numAnnualWhiteboardEditors:p||0,onNumAnnualDesignEditorsChange:e=>{t(u$.Rd({numDesignEditors:e}))},onNumAnnualWhiteboardEditorsChange:e=>{t(u$.DY({numWhiteboardEditors:e}))},showAdminPage:()=>{t(od.fv({view:"team",teamId:r.teamId,teamViewTab:gP.x.SETTINGS}))},isTeamPro:!0,dispatch:t,taxes:u,teamId:r.teamId,currency:E,submitPending:i}),ev.createElement("form",{onSubmit:e=>{e.preventDefault(),t(m1.v({completed_pro_cart_flow:!0})),t(u$.Xh({submitPending:!0})),t(u$.yH({teamId:r.teamId,promotionCodeId:m??void 0}))}},ev.createElement("div",{className:"step_pay--bigTerms--HL5nN"},ev.createElement(eq.Tx,{id:"payments.add_annual_plan.auto_renew.seat_rename",cancellingIsEasyLink:ev.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel-my-paid-plan"},ev.createElement(eq.Tx,{id:"payments.add_annual_plan.cancelling_is_easy_link_text"}))}),ev.createElement("br",null),ev.createElement("br",null),ev.createElement(eq.Tx,{id:"payments.add_annual_plan.tos",tosLink:ev.createElement("a",{target:"_blank",rel:"noopener",href:"/summary-of-policy"},ev.createElement(eq.Tx,{id:"payments.add_annual_plan.tos_link_text"}))})),ev.createElement("div",{className:"step_pay--flowActionsSingle--v8OiO step_pay--row--n1-KW"},ev.createElement(eA.RS,{type:"submit",disabled:i,className:"step_pay--bigButton--1YYRI"},ev.createElement(eq.Tx,{id:"payments.add_annual_plan.cta_text"})))))))))}var g0=a(787449);let g1=a(328630);class g2 extends ev.Component{constructor(){super(...arguments),this.state={currency:(0,mw.x_)()},this.upsellSource=g0.V.UPGRADE_NEW_TEAM,this.cancel=()=>{var e;let t=(0,eT.BZ)().ps_benchmark,a=null==(e=this.props.user)?void 0:e.id,r=this.props.selectedView.teamId;if(t){let e={view:"recentFiles"};a&&r?this.props.dispatch(od.NO({workspace:{userId:a,teamId:r,orgId:null},view:this.props.selectedView.previousView||e})):this.props.dispatch(od.fv(this.props.selectedView.previousView||e))}else this.props.dispatch(od.fv(this.props.selectedView.previousView||(r?{view:"team",teamId:r}:{view:"recentFiles"})))},this.choosePro=(e,t)=>{let a=this.props.selectedView;this.props.dispatch(u$.F2({teamId:this.props.selectedView.teamId,selectedView:a,newTeam:!0,currency:this.state.currency,billingPeriod:t}))},this.chooseStarter=null===this.props.selectedView.teamId?void 0:()=>{var e;let t=(0,eT.BZ)().ps_benchmark,a=null==(e=this.props.user)?void 0:e.id;if(t&&a){let e={userId:a,orgId:null,teamId:this.props.selectedView.teamId};this.props.dispatch(od.NO({workspace:e,view:{view:"allProjects"}}))}else this.props.dispatch(od.fv({view:"team",teamId:this.props.selectedView.teamId}))},this.purchaseOrg=()=>{this.props.dispatch(u$.s3({currency:this.state.currency,upsellSource:this.upsellSource}))},this.updateCurrency=e=>{this.setState({currency:e}),this.props.dispatch(od.kp())}}render(){let e=ev.createElement(uX,{onClick:this.cancel},ev.createElement(eD.n,{svg:g1,className:gJ})),t=this.props.selectedView.teamId;return ev.createElement(e3.Ui,{name:"Upgrade Team",properties:{teamId:t,step:uD.KB.UPGRADE_NEW_TEAM}},ev.createElement("div",{className:"legacy_upgrade--teamUpgrade--fhq9K"},ev.createElement(u0,{menu:e},ev.createElement(uJ,{index:3}),ev.createElement(e3.Ui,{name:"Upgrade New Team",properties:{teamId:t,trackingDescriptor:cC.y.UPGRADE_YOUR_TEAM}},ev.createElement("div",{className:tQ()("step_upgrade_new_team--container--FLnI2",this.props.className)},ev.createElement(uY.rQ,{className:"step_upgrade_new_team--stepTitleComparisonChart--Jr-Ie step_upgrade_new_team--stepTitle--Sa8v2"},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"plan_details.choose_your_team_plan"}))),ev.createElement(_5.p,{currency:this.state.currency,chooseStarterPlan:this.chooseStarter,chooseProPlan:e=>this.choosePro(null,e),chooseOrgPlan:this.purchaseOrg,updateCurrency:this.updateCurrency,upsellSource:this.upsellSource}))))))}}g2.displayName="StepUpgradeNewTeam";var g3=a(580002),g4=a(846999),g8=a(134e3),g5=a(275648),g9=a(413810),g6=a(923895),g7=a(622799);let Ee=a(295799),Et="564px",Ea=(0,ld.D)((e,t)=>t(r7.R.enqueue({message:e}))),Er=(0,eb.$j)((e,t)=>{let a=t.selectedView.teamId?e.teamUserByTeamId[t.selectedView.teamId]||{}:null,r=(0,gB.S2)(a,e.user);return{payment:e.payment,teamUsers:r,team:t.selectedView.teamId?e.teams[t.selectedView.teamId]:null,editorStatusChanges:e.payment.editorStatusChanges}})(function(e){let{editorStatusChanges:t,teamUsers:a}=e,r=e.dispatch,n=e.payment.billingPeriod===uD.tv.STUDENT,{increment:i,decrement:l}=(0,g5.DU)(),[s,o]=(0,ev.useState)(!0),c=(0,ev.useCallback)((e,a,n)=>{let i=[...t[a][e]];i.splice(n,1),r(u$.$R({editorStatusChanges:{...t,[a]:{...t[a],[e]:i}}}))},[r,t]),d=(e,t,a)=>{switch(e){case"whiteboard":switch(t){case"upgrade":return(0,eq.t)("pro_cart.adjust_editors.will_become_figjam_editor.seat_rename",{email:a});case"downgrade":return(0,eq.t)("pro_cart.adjust_editors.will_become_figjam_viewer",{email:a});default:(0,eL.vE)(t)}case"design":switch(t){case"upgrade":return(0,eq.t)("pro_cart.adjust_editors.will_become_design_editor.seat_rename",{email:a});case"downgrade":return(0,eq.t)("pro_cart.adjust_editors.will_become_design_viewer",{email:a});default:(0,eL.vE)(t)}default:(0,eL.vE)(e)}},m=(0,ev.useCallback)((e,a)=>()=>{let n;if(o(!1),-1!==(n=t.upgrade[e].indexOf(a.id)))c(e,"upgrade",n),Ea(d(e,"downgrade",a.email),r),l(e,a.email);else if(-1!==(n=t.downgrade[e].indexOf(a.id)))c(e,"downgrade",n),Ea(d(e,"upgrade",a.email),r),i(e,a.email);else{let n="whiteboard"===e?"whiteboard_paid_status":"design_paid_status",s=a[n]===gM.Eg.FULL?"downgrade":"upgrade",o=[...t[s][e]];o.push(a.id),r(u$.$R({editorStatusChanges:{...t,[s]:{...t[s],[e]:o}}})),Ea(d(e,s,a.email),r);let c="upgrade"===s?i:l;c(e,a.email)}},[r,t,l,i,c,o]),u=(0,gB.Z$)(e.teamUsers,t,ao.gg.DESIGN),_=(0,gB.Z$)(e.teamUsers,t,ao.gg.WHITEBOARD),p=e.payment.numDesignEditors,g=Math.max(p,u),E=Math.max(_,e.payment.numWhiteboardEditors);g!==p&&r(u$.Rd({numDesignEditors:g})),E!==e.payment.numWhiteboardEditors&&r(u$.DY({numWhiteboardEditors:E}));let h=(0,gB.Al)(p,u),f=(0,gB.Al)(e.payment.numWhiteboardEditors,_),v=(0,pa.Fq)(e.payment.billingPeriod),b=v&&_<=pa.CM,y=()=>{r(ig.K4({type:pD,data:{seatDataByLicenseType:{[_K.dc]:{minSeats:u,currentSeats:g,seatUnitCostInCents:(0,pT.UL)(e.payment.billingPeriod,e.currency)},[_K.Jk]:{minSeats:_,currentSeats:E,seatUnitCostInCents:(0,pT.jE)(e.payment.billingPeriod,e.currency)}},showAnnualPrice:e.payment.billingPeriod===uD.tv.ANNUAL,updateAdditionalSeats:e=>{r(u$.Rd({numDesignEditors:e[_K.dc]})),r(u$.DY({numWhiteboardEditors:e[_K.Jk]}))},dispatch:r,currency:e.currency,isProTeam:!0}}))},w=ev.useCallback((e,a)=>e["whiteboard"===a?"whiteboard_paid_status":"design_paid_status"]===gM.Eg.FULL&&!t.downgrade[a].includes(e.id)||t.upgrade[a].includes(e.id),[t.downgrade,t.upgrade]),T=a.reduce((e,t)=>(e[t.id]={design:w(t,"design"),whiteboard:w(t,"whiteboard")},e),{}),x=!1,N=0;for(let t of e.teamUsers)if(T[t.id].whiteboard&&N++,T[t.id].design&&N++,x=1===N,N>1)break;let C=new Set(e.teamUsers.filter(e=>T[e.id].whiteboard).map(e=>e.id).slice(0,pa.CM)),S=e.teamUsers[0];(0,ev.useEffect)(()=>{v&&0===E&&(null==S?void 0:S.id)&&!e.isLoading&&s?(1===N&&w(S,"design")?(r(u$.$R({editorStatusChanges:{downgrade:{...t.downgrade,design:[S.id,...t.downgrade.design]},upgrade:{...t.upgrade,whiteboard:[S.id,...t.upgrade.whiteboard]}}})),i("whiteboard",S.email),l("design",S.email)):0===N&&(r(u$.$R({editorStatusChanges:{...t,upgrade:{...t.upgrade,whiteboard:[S.id,...t.upgrade.whiteboard]}}})),i("whiteboard",S.email)),o(!1)):0===N&&!e.isLoading&&(null==S?void 0:S.id)&&(r(u$.$R({editorStatusChanges:{...t,upgrade:{design:[S.id,...t.upgrade.design],whiteboard:[S.id,...t.upgrade.whiteboard]}}})),i("design",S.email),i("whiteboard",S.email))},[r,t,N,e.isLoading,S.id,S.email,i,v,E,w,S,s,l]);let k=(0,pa.X3)(E);return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:_0.nx},ev.createElement(eq.Tx,{id:"pro_cart.adjust_editors.choose_your_figma_design_and_figjam_editors.seat_rename"})),ev.createElement(eA.Ki,{multiple:.5}),ev.createElement("div",{className:_0.Kp,style:ie.sx.add({width:Et,margin:"auto"}).$},v?ev.createElement(eq.Tx,{id:"pro_cart.adjust_editors.subtitle.dont_need_access_to_figma_design"}):ev.createElement(eq.Tx,{id:"pro_cart.adjust_editors.subtitle"})),ev.createElement(eA.Ki,{multiple:3}),v&&ev.createElement("div",{style:ie.sx.add({width:Et,margin:"auto"}).$},ev.createElement(pg,{numOfferSeatsRemaining:k}),e.error&&ev.createElement(eA.Ki,{multiple:1.5})),e.error&&ev.createElement("div",{style:ie.sx.add({width:Et,margin:"auto"}).$},ev.createElement(_H.f,{color:_H.Z.ERROR,text:e.error})),(v||e.error)&&ev.createElement(eA.Ki,{multiple:2}),ev.createElement("div",{className:_0.vO},ev.createElement("div",{className:_0.Ac},ev.createElement(eA.Ki,{multiple:2.5}),ev.createElement("div",{className:_0.Pe},ev.createElement("div",{className:`${_0.gl} ${_0.qd} ${_0.D}`},ev.createElement("div",{className:_0.me},e.team?ev.createElement(ds.Zq,{key:e.team.id,entity:e.team,size:24}):ev.createElement(ds.Zq,{key:e.teamName,entity:{name:e.teamName},size:24}))),ev.createElement("div",{className:`${_0.gl} ${_0.HP}`},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"pro_cart.adjust_editors.figma_design_column_title"})),ev.createElement(eA.Ki,{multiple:.75}),ev.createElement("div",{className:_0.Nv},(0,pT.ZI)(e.payment.billingPeriod,e.currency)),(0,eT.BZ)().org_checkout_with_dm&&ev.createElement(ev.Fragment,null,ev.createElement(eA.Ki,{multiple:.75}),ev.createElement(_6.F,null))),ev.createElement("div",{className:`${_0.gl} ${_0.HP}`},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"general.figjam"})," "),ev.createElement(eA.Ki,{multiple:.75}),b?ev.createElement(os.Ct,{className:ek.cx.mt2.$,color:os.JV.FIGJAM,text:ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.offer_badge"})}):ev.createElement("div",{className:_0.Nv},(0,pT.AB)(e.payment.billingPeriod,e.currency)))),ev.createElement(eA.Ki,{multiple:2.5})),ev.createElement("div",{className:_0.Ac},e.isLoading&&ev.createElement(eA.Ki,{multiple:1.5}),ev.createElement(dr.u,{isLoading:e.isLoading},()=>ev.createElement(ev.Fragment,null,e.teamUsers.map((t,a)=>{let r=a===e.teamUsers.length-1,i=v&&_>pa.CM&&C.has(t.id);return ev.createElement("div",{key:t.id},ev.createElement(eA.Ki,{multiple:1.5}),ev.createElement("div",{className:_0.Pe},ev.createElement("div",{className:_0.qd},ev.createElement(oo.Yt,{user:t}),ev.createElement("div",{className:_0.Nm},ev.createElement("div",{className:_0.hC},t.handle),ev.createElement("div",{className:_0.ok},t.email))),ev.createElement("div",{className:_0.HP},ev.createElement("span",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":T[t.id].design&&x?v?(0,eq.t)("pro_cart.adjust_editors.to_uncheck_first_check_another"):(0,eq.t)("pro_cart.adjust_editors.at_least_one_editor.seat_rename"):(0,eq.t)("pro_cart.adjust_editors.checkbox_toggle_explanation.seat_rename")},ev.createElement(eA.v_,{id:`toggle-design-editor-${t.id}`,checked:T[t.id].design,disabled:n||x&&T[t.id].design,onChange:m("design",t),className:_0.MJ}))),ev.createElement("div",{className:_0.HP},ev.createElement("span",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":T[t.id].whiteboard&&x?(0,eq.t)("pro_cart.adjust_editors.to_uncheck_first_check_another"):(0,eq.t)("pro_cart.adjust_editors.checkbox_toggle_explanation.seat_rename")},ev.createElement(eA.v_,{id:`toggle-whiteboard-editor-${t.id}`,checked:T[t.id].whiteboard,disabled:n||x&&T[t.id].whiteboard,onChange:m("whiteboard",t),className:_0.MJ})),i&&ev.createElement(os.Ct,{className:ek.cx.ml10.mr0.$,color:os.JV.FIGJAM,text:ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.offer_badge"})}))),ev.createElement(eA.Ki,{multiple:1.5}),!(n&&r)&&ev.createElement("div",{className:_0.Db}))}),!n&&ev.createElement(ev.Fragment,null,ev.createElement(eA.Ki,{multiple:2.5}),ev.createElement("div",{className:_0.J},ev.createElement("div",{className:_0.qd},ev.createElement("div",{className:_0.kZ,onClick:y},ev.createElement(eD.n,{className:_0.mu,svg:Ee}),ev.createElement("span",null,ev.createElement(eq.Tx,{id:"pro_cart.adjust_editors.add_additional_editors.seat_rename"})))),ev.createElement("div",{className:`${_0.gl} ${_0.HP}`},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"all_carts.num_editors.seat_rename",numEditors:g})),ev.createElement("div",{className:_0.Nv},h>0&&ev.createElement(eq.Tx,{id:"pro_cart.adjust_editors.empty_seats",numEmptySeats:h}))),ev.createElement("div",{className:`${_0.gl} ${_0.HP}`},ev.createElement(eq.Tx,{id:"all_carts.num_editors.seat_rename",numEditors:E}),ev.createElement("div",{className:_0.Nv},f>0&&ev.createElement(eq.Tx,{id:"pro_cart.adjust_editors.empty_seats",numEmptySeats:f})))),ev.createElement(eA.Ki,{multiple:2.5})))),e.isLoading&&ev.createElement(eA.Ki,{multiple:1.5}))))});function En({chooseStarterPlan:e,chooseProPlan:t,chooseOrgPlan:a,currency:r,updateCurrency:n,upgradeExistingTeam:i}){return ev.createElement("div",null,ev.createElement("div",{className:_0.nx},ev.createElement(eq.Tx,{id:"pro_cart.choose_plan.choose_a_plan_for_your_new_team"})),ev.createElement("div",{className:_0.MZ},ev.createElement(_5.p,{currency:r,chooseStarterPlan:e,chooseProPlan:t,chooseOrgPlan:a,updateCurrency:n,upsellSource:g0.V.CREATE_NEW_PAID_TEAM,withUpgradeExistingTeamOption:i})))}var Ei=a(42505),El=a(217192);let Es="416px",Eo=(0,eb.$j)(e=>({payment:e.payment,teamId:"teamUpgrade"===e.selectedView.view?e.selectedView.teamId:null}))(function(e){var t,a;let r=(0,eb.I0)(),n=(0,pa.Fq)(e.payment.billingPeriod),i=(0,pa.WI)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod})>0||e.payment.numDesignEditors>0,l=e.payment.numWhiteboardEditors>0,s=((null==(t=e.payment.taxes)?void 0:t.sub_total)||0)>0,o=n&&l&&!s&&!i,{error:c,errorCode:d}=e.payment,m=!!c&&null===d,u=e.hasNewPaymentElement&&e.error;return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:_0.nx},ev.createElement(eq.Tx,{id:"pro_cart.payment.enter_payment_details_title"})),ev.createElement(eA.Ki,{multiple:3}),o&&ev.createElement("div",{style:ie.sx.add({width:Es,margin:"auto"}).$},ev.createElement(e3.Ui,{name:"promo_applied_banner"},ev.createElement(_H.f,{color:_H.Z.FIGJAM,text:ev.createElement("div",{className:ek.cx.alignLeft.$},ev.createElement("div",{className:ek.cx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.payment_information_banner_title"})),ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.payment_information_banner_text"}))})),(m||u)&&ev.createElement(eA.Ki,{multiple:1.5})),ev.createElement("div",{style:ie.sx.add({width:Es,margin:"auto"}).$},m&&ev.createElement("div",null,ev.createElement(Ei.z,{marginTop:0,message:c}),u&&ev.createElement(eA.Ki,{multiple:1.5})),(o||m)&&!u&&ev.createElement(eA.Ki,{multiple:2}),ev.createElement("div",{className:_0.fD},e.hasNewPaymentElement?ev.createElement("div",{style:ie.sx.if((null==(a=e.error)?void 0:a.code)===g8.qo.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,ie.sx.font14.add({marginTop:"92px"})).$},ev.createElement(El.R,{createPaymentElement:e.createPaymentElement,unmountPaymentElement:e.unmountPaymentElement,address:e.address,updateAddress:e.updateAddress,error:e.error,vatGstId:e.vatGstId,onVatGstIdChange:e.onVatGstIdChange,regionalVatGstId:e.regionalVatGstId,onRegionalVatGstIdChange:e.onRegionalVatGstIdChange,paymentMethodType:e.paymentMethodType,isCommunityCheckout:!1})):ev.createElement(_4.g,{id:"team-upgrade-page-form",cardId:"team-upgrade-page-card",address:e.address,token:e.payment.token,onAddressChange:e.setAddress,onCardReady:e.setCardEl,onClearToken:()=>r(u$.o4({token:null})),onVatIdChange:e.setVatId,isCommunityCheckout:!1}))))});var Ec=a(678710),Ed=a(407598);let Em=a(665229),Eu=(0,eb.$j)(e=>({payment:e.payment,user:e.user}))(function(e){let t,a;let r=(0,eb.I0)(),n=(0,pa.Fq)(e.payment.billingPeriod),i=e.payment.numDesignEditors,l=(0,pa.dd)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),s=(0,pa.WI)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),o=l>0,c=s>0,d=0===e.payment.numWhiteboardEditors,m=c||d||!n,u=e.payment.billingPeriod===uD.tv.STUDENT,_=new mw.Lr(e.currency);if(e.selectedView.paymentStep!==uD.KB.CHOOSE_PLAN&&e.selectedView.paymentStep!==uD.KB.PAYMENT_AND_ADDRESS)return null;let p=(0,g4.dE)(e.user),g=(0,eq.t)("pro_cart.sidebar.next_payment_information"),E=cC.y.PAYMENT_INFORMATION;(u||e.selectedView.paymentStep===uD.KB.PAYMENT_AND_ADDRESS)&&(g=(0,eq.t)("pro_cart.sidebar.next_review"),E=cC.y.REVIEW);let h=(0,mw.EB)(),f=(0,pT.hW)(i,e.payment.billingPeriod,e.currency),v=12*(0,pT.hW)(i,uD.tv.MONTHLY,e.currency),b=(0,pT.nj)(s,e.payment.billingPeriod,e.currency),y=12*(0,pT.nj)(s,uD.tv.MONTHLY,e.currency);e.payment.billingPeriod===uD.tv.ANNUAL?(f>0&&(t=_.formatMoney(v)),b>0&&(a=_.formatMoney(y))):e.payment.billingPeriod===uD.tv.STUDENT&&(t=ev.createElement(pT.QC,{editorType:ao.gg.DESIGN,numEditors:e.payment.numDesignEditors,currency:e.currency}),a=ev.createElement(pT.QC,{editorType:ao.gg.WHITEBOARD,numEditors:e.payment.numWhiteboardEditors,currency:e.currency}));let w=f+b,T=_.getPrices(),x=(0,pT.W4)(T.annualFigjam,T.monthlyFigjam),N=(0,pT.W4)(T.annualFigma,T.monthlyFigma);return w<0&&(0,ae.Jz)(m0.k.BILLING,Error("[Billing] Estimated total is a negative amount."),{extra:{numDesignEditors:i,numWhiteboardEditors:s,upgrades:JSON.stringify(e.payment.editorStatusChanges),userId:e.user.id,subtotal:w,currency:e.currency}}),ev.createElement("div",{className:_0.bg},ev.createElement("div",{className:_0.a7},ev.createElement(eq.Tx,{id:"pro_cart.sidebar.professional_plan"})),h&&ev.createElement(ev.Fragment,null,ev.createElement(eA.Ki,{multiple:3}),ev.createElement(E_,{currency:e.currency,supportedCurrencies:(0,mw._M)(),dropdownShown:e.dropdownShown,changeCurrency:e.updateCurrency}),e.payment.error&&"CARD_ERROR"===e.payment.errorCode&&ev.createElement(ev.Fragment,null,ev.createElement(eA.Ki,{multiple:1}),ev.createElement(_H.f,{color:_H.Z.INFORMATION,text:e.payment.error})),ev.createElement(eA.Ki,{multiple:2}),ev.createElement("div",{className:_0.Db}),ev.createElement(eA.Ki,{multiple:2})),p&&e.selectedView.paymentStep===uD.KB.CHOOSE_PLAN&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:_0.fz},ev.createElement(eq.Tx,{id:"pro_cart.sidebar.is_this_an_education_team"})),ev.createElement(eA.Ki,{multiple:1.5}),ev.createElement(Ed.E,{className:_0.dp,onChange:e=>{"true"===e?r(u$._1({billingPeriod:uD.tv.STUDENT})):u&&(r(u$._1({billingPeriod:uD.tv.ANNUAL})),r(u$.Rd({numDesignEditors:i})))},value:u.toString()},ev.createElement(Ed._,{value:"false",className:_0.H8},ev.createElement(eq.Tx,{id:"pro_cart.sidebar.no"})),ev.createElement(Ed._,{value:"true",className:_0.H8},ev.createElement(eq.Tx,{id:"pro_cart.sidebar.yes"}))),ev.createElement(eA.Ki,{multiple:1.5}),ev.createElement("div",{className:_0.Db}),ev.createElement(eA.Ki,{multiple:2})),ev.createElement(Ep,{billingPeriod:e.payment.billingPeriod,onBillingCycleChange:e=>{e===uD.tv[uD.tv.ANNUAL]?r(u$._1({billingPeriod:uD.tv.ANNUAL})):e===uD.tv[uD.tv.MONTHLY]&&r(u$._1({billingPeriod:uD.tv.MONTHLY})),r(u$.Rd({numDesignEditors:i}))},currency:e.currency}),ev.createElement(eA.Ki,{multiple:2}),ev.createElement(dr.u,{isLoading:e.isLoading,className:_0.Mt},()=>ev.createElement(ev.Fragment,null,ev.createElement(pT.dm,{"data-testid":"sidebar-design-summary",mainText:ev.createElement(eq.Tx,{id:"pro_cart.info.figma_design_editors.seat_rename",numEditors:i}),strikethroughPriceText:t,priceText:_.formatMoney(f),subText:ev.createElement(pT.DV,{currentBillingPeriod:e.payment.billingPeriod,numEditors:i,currency:e.currency,noCents:!0,shouldStrikethroughMonthlyUnitCostIfAnnual:!0}),discountPercentage:f>0&&e.payment.billingPeriod===uD.tv.ANNUAL?N:void 0,showDevModeIncludedText:(0,eT.BZ)().org_checkout_with_dm}),ev.createElement(eA.Ki,{multiple:2}),o&&ev.createElement("div",null,ev.createElement(pT.dm,{"data-testid":"sidebar-jamboard-whiteboard-summary",mainText:ev.createElement(eq.Tx,{id:"pro_cart.info.figjam_editors.seat_rename",numEditors:l}),priceText:ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.figjam_price_free"}),subText:ev.createElement(pT.A7,{shouldStrikethroughMonthlyUnitCostIfAnnual:!0,currency:e.currency,numEditors:l,isJamboardOffer:!0})}),ev.createElement(eA.Ki,{multiple:2})),m&&ev.createElement(ev.Fragment,null,ev.createElement(pT.dm,{"data-testid":"sidebar-whiteboard-summary",mainText:ev.createElement(eq.Tx,{id:"pro_cart.info.figjam_editors.seat_rename",numEditors:s}),strikethroughPriceText:a,priceText:_.formatMoney(b),subText:ev.createElement(pT.A7,{shouldStrikethroughMonthlyUnitCostIfAnnual:!0,currency:e.currency}),discountPercentage:b>0&&e.payment.billingPeriod===uD.tv.ANNUAL?x:void 0}),ev.createElement(eA.Ki,{multiple:2})))),ev.createElement("div",{className:_0.Db}),ev.createElement(eA.Ki,{multiple:3}),ev.createElement(_$,{formattedSubtotal:_.formatMoney(w,{showFullFormat:(0,mw.EB)()})}),ev.createElement(eA.Ki,{multiple:3}),u&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:_0.H7},ev.createElement(eq.Tx,{id:"edu.education_teams_get_all_the_professional_plan_features_for_free"})),ev.createElement(eA.Ki,{multiple:2})),ev.createElement(eA.RS,{className:_0.Km,disabled:e.isLoading||e.isButtonDisabled||e.payment.submitPending,onClick:e.onNext,trackingProperties:{trackingDescriptor:E},dataTestId:"upgrade-next-button"},e.payment.submitPending?ev.createElement(ax.TK,{className:_0.M8}):g))});function E_({currency:e,dropdownShown:t,supportedCurrencies:a,changeCurrency:r}){return ev.createElement("div",{className:_0.g1},ev.createElement("span",{className:_0.zk},ev.createElement(eq.Tx,{id:"pro_cart.sidebar.currency"})),ev.createElement(_7.w,{currency:e,dropdownShown:t,supportedCurrencies:a,changeCurrency:r,shortFormDisplay:!0}))}function Ep({billingPeriod:e,onBillingCycleChange:t,currency:a}){let r=(0,pa.$p)(),n=(0,pa.vn)(),i=r&&e!==uD.tv.STUDENT;if(e===uD.tv.STUDENT)return null;{let l=new mw.Lr(a).getPrices(),s=(0,pT.W4)(l.annualFigjam,l.monthlyFigjam);return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:_0.fz},ev.createElement(eq.Tx,{id:"pro_cart.sidebar.billing_cycle"})),ev.createElement(eA.Ki,{multiple:2}),ev.createElement(Ed.E,{className:_0.dp,onChange:t,value:uD.tv[e]},ev.createElement(Ed._,{value:uD.tv[uD.tv.ANNUAL],className:_0.H8},ev.createElement("div",{className:tQ()(_0.Yn,_0.Vl)},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"pro_cart.sidebar.annual"})),!n&&!r&&ev.createElement(os.Ct,{className:_0.R0,color:os.JV.SUCCESS,size:os.OD.LARGE,subtle:!0,text:ev.createElement(eq.Tx,{id:"pro_cart.sidebar.save_up_to_discount",discountAmount:s})}))),ev.createElement(Ed._,{value:uD.tv[uD.tv.MONTHLY],className:_0.H8},ev.createElement("div",{className:ek.cx.flex.justifyEnd.$},ev.createElement(eq.Tx,{id:"pro_cart.sidebar.monthly"}),i&&ev.createElement(eD.n,{className:ek.cx.flex.itemsCenter.ml8.colorIcon.$,svg:Em,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("pro_cart.sidebar.jamboard_offer.monthly_billing_cycle_tooltip"),role:"img"})))),ev.createElement(eA.Ki,{multiple:2}),ev.createElement("div",{className:_0.Db}))}}function Eg(e){var t,a,r;let n;let i=(0,lR.xJ)(),l=null==i?void 0:i.id,s=(0,eT._F)(),o=(0,nm.WK)(),c=(0,eb.v9)(e=>e.payment),d=(0,eb.oR)(),m=(0,eb.v9)(e=>e.dropdownShown),u=(0,eb.v9)(e=>e.teams),_=e.selectedView.paymentStep,p=(0,lb.D)(_),[g,E]=(0,ev.useState)((null==s?void 0:s.team_name)??""),[h,f]=(0,ev.useState)(g7.W),v=(0,gB.ez)((0,uR.usePermissionsState)()),[b,y]=(0,ev.useState)((0,uD.oX)((0,mw.yJ)())),[w,T]=(0,ev.useState)(null),[x,N]=(0,ev.useState)((null==s?void 0:s.currency)||c.currency||(0,mw.x_)()),[C,S]=(0,ev.useState)(""),[k,I]=(0,ev.useState)(!1),L=e=>{N(e),ei(u$.NW({currency:e}))},{billingPeriod:R,numDesignEditors:A,numWhiteboardEditors:O,editorStatusChanges:D,error:F,errorCode:M}=c,{ignoreCurrentPlan:P}=e.selectedView,B=e.selectedView.teamId,U=(0,pa.I1)(R),[V,W]=(0,ev.useState)(null);(0,ev.useEffect)(()=>{let t=e.selectedView.promotionCodeId??U;null===V&&t&&(W(t),(0,eK.L9)("promotion_eligibility_confirmed_in_checkout",{user_id:l,promotion_code_id:t,promotion:"jamboard"}))},[V,U,e.selectedView.promotionCodeId,l]);let G=(0,eb.v9)(t=>(0,g9.np)(t,{...e.selectedView,paymentStep:uD.KB.CONFIRM_PAY,promotionCodeId:V})),j=(0,eb.v9)(t=>(0,g9.np)(t,{...e.selectedView,paymentStep:uD.KB.PAYMENT_AND_ADDRESS,promotionCodeId:V})),H=(0,pT.hW)(A,R,x)+(0,pT.nj)(O,R,x),{createPaymentElement:$,unmountPaymentElement:z,savePayment:K,address:Z,updateAddress:q,vatGstId:Y,setVatGstId:J,regionalVatGstId:Q,setRegionalVatGstId:X,paymentMethodType:ee,error:et}=(0,g8.uw)({setupIntentParams:{redirect_url:G,error_redirect_url:j,subtotal_estimate:H,currency:x},customerInfo:{teamId:B},paymentFlowSource:g8.E.PRO_UPGRADE,currency:x,billingPeriod:R,defaultCountry:(0,mw.yJ)(),initialAddress:null==s?void 0:s.address,initialVatGstId:null==s?void 0:s.vat_gst_id,initialRegionalVatGstId:null==s?void 0:s.regional_vat_gst_id,teamName:(null==s?void 0:s.team_name)||g}),ea=o?Z:b,er=(null==et?void 0:et.code)===g8.qo.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,en="PROMOTION_CODE_ID_ERROR"===M,ei=(0,eb.I0)(),el=(0,g5.pO)({teamId:B,jamboardPromoCodeId:V}),es=er||en,eo=()=>{if(en){W(null);let t=(0,g9.np)(d.getState(),{...e.selectedView,paymentStep:uD.KB.CHOOSE_PLAN,previousView:e.selectedView.previousView,ignoreCurrentPlan:P,promotionCodeId:U});ew.default.redirect(t)}else ei(od.fv({...e.selectedView,paymentStep:uD.KB.CHOOSE_PLAN,previousView:e.selectedView.previousView,ignoreCurrentPlan:P}))};(0,_Z.QQ)({loadingPaidEditors:el,teamId:B,teamName:B?void 0:g,setTeamName:B?void 0:E,collaborators:B||e.selectedView.teamFlowType!==di.wD.CREATE?void 0:h,setCollaborators:B||e.selectedView.teamFlowType!==di.wD.CREATE?void 0:f});let ec=(0,eb.v9)(e=>e.currentUserOrgId),ed=P?null:ec,em=(0,eb.v9)(e=>ed?e.orgById[ed]:null),eu=(0,g6.E)({currentOrgId:ed,currentTeamId:null}),e_=null==(t=eu.data)?void 0:t.currentUser,ep=null==(a=null==e_?void 0:e_.baseOrgUser)?void 0:a.workspaceUsers,eg=null==(r=null==ep?void 0:ep.find(e=>null==e?void 0:e.isMainWorkspace))?void 0:r.workspaceId,{cannotCreateTeamReason:eE}=(0,gv.G3)(em,eg),eh=(0,eb.v9)(e=>(0,uR.isOrgUserExternallyRestrictedFromState)(e));(0,ev.useEffect)(()=>{_===uD.KB.PAYMENT_AND_ADDRESS&&er&&eo()}),(0,ev.useEffect)(()=>{_!==p&&F&&!en&&ei(u$.x2({error:null}))},[ei,_,p,F,en]),(0,ev.useEffect)(()=>{_===uD.KB.PAYMENT_AND_ADDRESS&&ei(u$.o4({token:null}))},[ei,_]);let ef=(0,eb.v9)(e=>!!e.user&&(0,g4.dE)(e.user));(0,ev.useEffect)(()=>{ef&&e.selectedView.isEduTeam?ei(u$._1({billingPeriod:uD.tv.STUDENT})):e.selectedView.isEduTeam&&ei(u$._1({billingPeriod:uD.tv.UNSPECIFIED}))},[ei,e.selectedView.isEduTeam,ef]),(0,ev.useEffect)(()=>{e.selectedView.teamFlowType===di.wD.CREATE_AND_UPGRADE&&(eh||eE===gv.mt.TEAM_CREATION_CONTROL)&&(ew.default.redirect("/"),ei(dl.l.error((0,eq.t)("team_creation.missing_team_creation_controls"))))},[e.selectedView.teamFlowType,eh,eE,ei]);let ey=c.currencyToSwitch;(0,ev.useEffect)(()=>{ey&&N(ey)},[N,ey]);let ex=R===uD.tv.STUDENT,eN=e=>{ei(u$.x2({error:e}))},eC=h.filter(e=>e&&e.trim()).map(e=>e.trim()),eS=eC.filter(e=>!(0,n1.Jh)(e)),ek=!!i&&eC.filter(e=>e===i.email).length>0,eI=async t=>{t.preventDefault();let a=new URL(window.location.href).searchParams,r=a.get("onCompleteRedirectFileKey"),n=a.get("onCompleteRedirectNodeId");t.currentTarget&&t.currentTarget.blur();let i=(0,Ec.TR)(e.selectedView.paymentStep,e.selectedView.teamFlowType,R,c.promo,e.selectedView.planType||di.rD.UNDETERMINED);if(_===uD.KB.CREATE_TEAM&&(E(g.trim()),ei(od.fv({...e.selectedView,teamId:null,paymentStep:i,ignoreCurrentPlan:P}))),_===uD.KB.ADD_COLLABORATORS&&(eS.length?ei(dl.l.error((0,eq.t)("pro_cart.add_collaborators.error.email_is_invalid",{string:eS[0]}))):ek?ei(dl.l.error((0,eq.t)("team_view.team_permissions_modal.youre_not_able_to_send_an_invite_to_yourself"))):ei(od.fv({...e.selectedView,paymentStep:i,ignoreCurrentPlan:P}))),_===uD.KB.CHOOSE_PLAN)ex?ei(od.fv({...e.selectedView,paymentStep:i,billingPeriod:uD.tv.STUDENT,ignoreCurrentPlan:P})):(ei(u$.$R({editorStatusChanges:D})),ei(od.fv({...e.selectedView,paymentStep:i,billingPeriod:c.billingPeriod,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:n}}:{},ignoreCurrentPlan:P})));else if(_===uD.KB.PAYMENT_AND_ADDRESS){if(o)ei(u$.Xh({submitPending:!0})),await K(),ei(u$.Xh({submitPending:!1}));else{if(C){let e=await (0,_Q.I)(C,ea.country,()=>{},eN);if(!e)return}if(ei(u$.VD({vatGstId:C})),null===w){ei(u$.x2({error:(0,eq.t)("pro_cart.payment.error_please_wait")}));return}ei(u$.Xh({submitPending:!0})),(0,_Y.V3)(w).then(t=>{var a;if(t.token){ei(u$.o4({token:t.token}));let a=(0,lL.E)("stripe_3ds_pro").defaultValue(!1).treatment("variant",!0).get();if(a){let a=new mw.Lr(x).getPrices(),r=A*a.annualFigma*12+O*a.annualFigjam*12;return(0,_Y.B1)(t.token.id,r,x).then(t=>{I(t.is3DS||!1),ei(u$.jI({teamId:e.selectedView.teamId,address:ea,setupIntent:t,selectedCurrency:x}))})}ei(u$.jI({teamId:e.selectedView.teamId,address:ea,token:t.token,selectedCurrency:x}))}else ei(u$.o4({token:null})),ei(u$.x2({error:(null==(a=t.error)?void 0:a.message)||(0,eq.t)("pro_cart.payment.error_processing_payment")}))}).catch(e=>{var t;console.error(e),ei(u$.x2({error:(null==(t=e.data)?void 0:t.message)||e.message||(0,eq.t)("pro_cart.payment.error_reading_card")}))})}}},eL=e.selectedView.teamFlowType===di.wD.CREATE?()=>{ei((0,gf.$Y)({teamName:g,orgAccess:ao.Zn.PUBLIC,inviteEmails:eC,teamFlowType:e.selectedView.teamFlowType,onSuccess:()=>{(0,_Z.bC)(null==i?void 0:i.id)},ignoreCurrentPlan:P}))}:void 0;(e.selectedView.teamFlowType===di.wD.CREATE_AND_UPGRADE||e.selectedView.teamFlowType===di.wD.UPGRADE_EXISTING_TEAM)&&(1===v.length?n=t=>{t=t||e.selectedView.billingPeriod;let a=di.wD.UPGRADE_EXISTING_TEAM;ei(od.fv({...e.selectedView,teamFlowType:a,teamId:v[0].id,paymentStep:(0,Ec.TR)(e.selectedView.paymentStep,a,t||null,c.promo,di.rD.TEAM,uD.KB.CHOOSE_PLAN),planType:di.rD.UNDETERMINED,billingPeriod:t,ignoreCurrentPlan:P}))}:v.length>1&&(n=e=>{e&&ei(u$._1({billingPeriod:e})),ei((0,ig.K4)({type:_8.n2,data:{plan:_8.sR.PRO,upsellSource:g0.V.UPGRADE_EXISTING_FROM_TEAM_CREATION}}))}));let eR=()=>{var t;let a=()=>{(0,eT.nW)(),(0,g5.aC)(ei),(0,di.GH)(e.selectedView.teamFlowType)&&null===B&&(0,_Z.bC)(l)};if(e.selectedView.teamId&&ex)ei(u$.Po({teamId:e.selectedView.teamId}));else if(e.selectedView.teamId&&c.promo){let r=e.selectedView.teamId,n=(0,eT.BZ)().ps_benchmark;ei(uz.Gz({teamId:r,teamName:u[r].name,promoCode:(null==(t=c.promo)?void 0:t.code)||"",onSuccess:()=>{a(),(0,g3.iZ)(),ei(u$.gj({promo:null})),n&&l?e.selectedView.previousView?od.fv(e.selectedView.previousView):od.NO({workspace:{userId:l,orgId:null,teamId:r},view:{view:"allProjects"}}):ei(od.fv(e.selectedView.previousView||{view:"team",teamId:r}))},onError:()=>{(0,g3.iZ)(),ei(u$.gj({promo:null})),ei(od.fv({...e.selectedView,paymentStep:uD.KB.PLAN_COMPARISON,ignoreCurrentPlan:P}))}}))}else ei(m1.v({completed_pro_cart_flow:!0})),ei(u$.Xh({submitPending:!0})),ei((0,uz.$o)({teamId:e.selectedView.teamId,selectedCurrency:x,teamName:g,teamFlowType:e.selectedView.teamFlowType,invites:eC,hasSelectedStudentTeam:ex,onSuccess:a,promotionCodeId:V}))},eO=new URLSearchParams(ew.default.location.search),eD=eO.get("onCompleteRedirectFileKey"),eF=eO.get("onCompleteRedirectNodeId"),eM=(0,eT.BZ)().display_3ds_frontend&&(k||(()=>{var e;let t=o&&i&&(null==(e=(0,_Z.D3)({teamId:B,userId:i.id}))?void 0:e.is3DS);return t})());return e.selectedView.teamFlowType===di.wD.CREATE_AND_UPGRADE&&(eh||eE===gv.mt.TEAM_CREATION_CONTROL)?ev.createElement(ev.Fragment,null):ev.createElement(e3.Ui,{name:"Upgrade Team",properties:{teamId:e.selectedView.teamId,teamFlowType:e.selectedView.teamFlowType,planType:e.selectedView.planType,step:_,currency:x,inPublishDraftExp:!!(eD&&eF)}},ev.createElement("div",{className:_0.iK},ev.createElement(Ec.yl,{selectedView:e.selectedView}),ev.createElement("div",{className:_0.Wx},ev.createElement("div",{className:_0.pV},ev.createElement(eA.Ki,{multiple:4}),_===uD.KB.PLAN_COMPARISON&&ev.createElement(En,{chooseStarterPlan:eL,chooseProPlan:t=>{ei(u$._1({billingPeriod:t}));let a=(0,di.GH)(e.selectedView.teamFlowType)?e.selectedView.teamFlowType:di.wD.CREATE_AND_UPGRADE;ei(od.fv({...e.selectedView,teamFlowType:a,paymentStep:(0,Ec.TR)(e.selectedView.paymentStep,a,t,c.promo,di.rD.TEAM),billingPeriod:t,planType:di.rD.TEAM,openInNewTab:!1,ignoreCurrentPlan:P}))},chooseOrgPlan:()=>{ei(u$.s3({currency:x,newTeamProps:{teamFlowType:e.selectedView.teamFlowType,newTeamName:g,inviteEmails:eC,previousView:e.selectedView},upsellSource:g0.V.UPGRADE_NEW_TEAM_V2}))},currency:x,updateCurrency:e=>L(e),upgradeExistingTeam:n}),_===uD.KB.CREATE_TEAM&&ev.createElement(_3,{type:e.selectedView.teamFlowType===di.wD.CREATE?_2.STARTER:_2.PRO,teamName:g,setTeamName:E,onNext:eI,upgradeExistingTeam:n?()=>null==n?void 0:n(R):void 0,promo:c.promo}),_===uD.KB.ADD_COLLABORATORS&&ev.createElement(g7.z,{disableInvites:!eC.length,collaborators:h,setCollaborators:f,willSendInvites:eI,skipInviteStep:()=>{if(f(g7.W),l){let e=(0,_Z.D3)({teamId:null,userId:l});e&&(0,_Z.i7)(l,{...e,newCollaborators:g7.W})}ei(od.fv({...e.selectedView,paymentStep:uD.KB.PLAN_COMPARISON,ignoreCurrentPlan:P}))}}),_===uD.KB.CHOOSE_PLAN&&ev.createElement(Er,{selectedView:e.selectedView,isLoading:el,currency:x,error:er?null==et?void 0:et.message:null,teamName:g}),_===uD.KB.PAYMENT_AND_ADDRESS&&(o?ev.createElement(ev.Fragment,null,en&&ev.createElement("div",{style:ie.sx.add({width:"490px",margin:"auto auto 24px"}).$},ev.createElement(py,{onBack:eo}),eM&&ev.createElement(eA.Ki,{multiple:1.5})),ev.createElement(Eo,{hasNewPaymentElement:!0,address:ea,updateAddress:q,createPaymentElement:$,unmountPaymentElement:z,error:et,vatGstId:Y,onVatGstIdChange:J,regionalVatGstId:Q,onRegionalVatGstIdChange:X,paymentMethodType:ee,isCommunityCheckout:!1})):ev.createElement("div",null,ev.createElement(Eo,{setAddress:e=>y(e),setCardEl:e=>T(e),address:ea,setVatId:e=>S(e)}))),_===uD.KB.CONFIRM_PAY&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:_0.nx},ev.createElement(eq.Tx,{id:"pro_cart.review.lets_make_sure_everything_looks_right"})),ev.createElement(eA.Ki,{multiple:3}),en&&ev.createElement("div",{style:ie.sx.add({width:"490px",margin:"auto auto 24px"}).$},ev.createElement(py,{onBack:eo}),eM&&ev.createElement(eA.Ki,{multiple:1.5})),eM&&ev.createElement("div",{className:_0.K_},ev.createElement(_H.f,{color:_H.Z.INFORMATION,text:(0,eq.t)("pro_cart.review.extra_validation")})),eM&&ev.createElement(eA.Ki,{multiple:2}),ev.createElement(dr.u,{isLoading:el},()=>ev.createElement(_u.z,{selectedView:e.selectedView,teamName:g,onClickConfirm:eR,address:ea,currency:x}))),ev.createElement(eA.Ki,{multiple:9})),ev.createElement(Eu,{selectedView:e.selectedView,onNext:eI,isLoading:el,isButtonDisabled:es,currency:x,updateCurrency:e=>L(e),dropdownShown:m}))))}var EE=a(108242);function Eh(e){let t=(0,eb.I0)(),a=(0,lI.wO)(),r=e.isMobile??eN.ZP.mobile;return ev.createElement(se,{onSubmit:e=>{t(od.fv({view:"communityHub",subView:"searchAndBrowse",data:{sort_by:(null==a?void 0:a.sort_by)||lD.A.Search.RELEVANCY,resourceType:(null==a?void 0:a.resourceType)||"mixed",query:e,editor_type:ss.R.Editors.ALL,price:l_.L.ALL,creators:sl.I.ALL}}))},pathname:ew.default.location.pathname,isMobile:r})}function Ef(){let e=(0,eb.v9)(EE.kM);return(0,eT.BZ)().fastma?"communityHub"===e.view&&uC(e.subView)?null:ev.createElement(cy,{SearchComponent:Eh}):ev.createElement(cy,null)}function Ev(e){return ev.createElement("div",{className:"community_layout--communityPageViewContainer--aBk-9"},ev.createElement(Ef,null),e.children,ev.createElement(rq.ZP,null))}var Eb=a(841017),Ey=a(257817),Ew=a(941989),ET=a(941600),Ex=a(26715),EN=a(112602),EC=a(643826),ES=a(867325),Ek=a(921376);function EI(e){let t=e.parentBackgroundColor?(0,oU.Vg)(e.parentBackgroundColor)?"breadcrumb_item--breadcrumbTextForDarkBackground--zmzPS":"breadcrumb_item--breadcrumbTextForLightBackground--DnSah":"breadcrumb_item--breadcrumbText---56Fa";return ev.createElement("button",{className:tQ()("breadcrumb_item--breadcrumbContainer--p3-VX",e.parentBackgroundColor?ek.cx.bgTransparent.$:void 0,e.isHoverable?"breadcrumb_item--hoverable--XK3Lt":void 0),onClick:e.onClick},ev.createElement("div",{className:tQ()(t,{[ek.cx.ml8.$]:!e.isFirstBreadcrumb})},ev.createElement(oc.x,{fontSize:13,truncate:!0},e.text)),e.hasSlash&&ev.createElement("div",{className:"breadcrumb_item--breadcrumbSlash--TcMzr"},ev.createElement(oc.x,{fontSize:13},"/")))}function EL(e){return ev.createElement("div",{className:ek.cx.flex.overflowHidden.$},e.items.map((t,a)=>ev.createElement(EI,{isFirstBreadcrumb:!a,hasSlash:a!==e.items.length-1,text:t.text,key:a,onClick:t.onClick,parentBackgroundColor:t.parentBackgroundColor,isHoverable:t.isHoverable})))}var ER=a(615537),EA=a(343878),EO=a(916903),ED=a(600824),EF=a(999177),EM=a(785466),EP=a.n(EM),EB=a(775208);function EU(e){let t=(0,eb.v9)(EE.kM),a=(0,eb.I0)(),r=e.tabs?ev.createElement(EB.v,{tabs:e.tabs.map(e=>ev.createElement(EB.y,{key:e.tabName,tab:null,onClick:()=>a(od.fv(e.view)),tabName:e.tabName,isSelected:EP()(t,e.view),ariaLabel:e.ariaLabel}))}):ev.createElement(ev.Fragment,null);return ev.createElement(ol.nY,{leftSide:r,rightSide:e.viewbarActions||[]})}let EV=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:[EO.BO.TRASHED_AT,EO.BO.NAME,EO.BO.CREATED_AT,EO.BO.TOUCHED_AT]});function EW(){var e,t;let a;let r=(0,eb.I0)(),n=(0,eb.v9)(e=>e.currentUserOrgId),i=(0,eb.v9)(e=>e.currentTeamId),l=(0,g6.W)();a=n?null==(e=null==l?void 0:l.currentUser.baseOrgUser)?void 0:e.draftsProject:(0,eT.BZ)().ps_benchmark&&i?null==(t=null==l?void 0:l.currentUser.currentTeamUser)?void 0:t.draftsProject:null==l?void 0:l.currentUser.draftsProject;let s=(0,eb.v9)(e=>e.tileSortFilterStateByView),o=(0,o8.A6)();if(!l||!a)return ev.createElement(EU,{tabs:[],viewbarActions:[]});let c="deletedFiles"===o.view?(0,ER.ws)(EV)(s):(0,ER.ws)(EF.zT)(a.id,s);return ev.createElement(EU,{tabs:[{tabName:(0,eq.t)("file_browser.tool_bar.drafts"),view:{view:"folder",folderId:a.id},ariaLabel:(0,eq.t)("file_browser.tool_bar.drafts.aria_label")},{tabName:(0,eq.t)("file_browser.tool_bar.deleted"),view:{view:"deletedFiles"},ariaLabel:(0,eq.t)("file_browser.tool_bar.deleted.aria_label")}],viewbarActions:["deletedFiles"===o.view?ev.createElement(ol.rS,{key:3,dispatch:r,options:c,selectedView:o}):null,ev.createElement(ol.kP,{key:0,config:c.tileSortFilterConfig}),ev.createElement(ol.VP,{key:1,dispatch:r,options:c,selectedView:o}),ev.createElement(ol.vs,{key:2,initialViewMode:c.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,eK.L9)("file view toggle",{viewType:e===EO.H6.GRID?"grid":"list"}),r(od.lh({selectedView:o,config:{...c.tileSortFilterConfig,viewMode:e}}))}})]})}var EG=a(63730),Ej=a(938414),EH=a(303498),E$=a(381846),Ez=a(545486),EK=a(721154),EZ=a(151518),Eq=a(858368),EY=a(534187),EJ=a(133660),EQ=a(723214),EX=a(837728),E0=a(838903),E1=a(696740),E2=a(468211),E3=a(278287),E4=a(868894),E8=a(542936),E5=a(414994),E9=a(621376),E6=a(614261),E7=a(720756),he=a(677937),ht=a(206279),ha=a(438049);function hr(e){var t,a,r;let[n,i]=ev.useState(!1),{repo:l,branches:s}=e.tile,o=s.filter(e=>!e.trashed_at),c=(0,eb.I0)(),d=(0,eb.v9)(e=>e.selectedBranchKeyByRepoId),m=(0,E0.T)(l,s,d),u=(0,eb.v9)(e=>"deletedFiles"===e.selectedView.view),_=(0,eb.v9)(e=>"sharedWithYou"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===EN.D.SHARED_FILES),p=(0,eb.v9)(e=>"recentFiles"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===EN.D.RECENTLY_VIEWED),g=(0,eb.v9)(e=>e.currentUserOrgId),E=(0,eb.v9)(e=>e.currentTeamId),h=(0,eb.v9)(e=>e.selectedView),f=(0,eb.v9)(e=>e.orgById),v=(0,eb.v9)(e=>e.teams),b=s.find(e=>(0,E0.tj)(e,l)),y=o.length-(b?1:0),w=e.hideBranchIndicator||0===y,T=l.parent_org_id&&f[l.parent_org_id]||l.team_id&&v[l.team_id],x=ev.useMemo(()=>ev.createElement("div",{className:ha.yp},p&&T&&ev.createElement(ht.E,{entityId:T.id,entityName:T.name,imgUrl:T.img_url}),!w&&ev.createElement(eq.Tx,{id:"tile.file_tile.branch_count",branchCount:y}),b&&ev.createElement(ev.Fragment,null,!w&&ev.createElement(ev.Fragment,null,"\xa0\xb7\xa0"),u?ev.createElement("span",{className:ha.yl},l.trashed_at&&ev.createElement(eq.Tx,{id:"tile.file_tile.deleted_generic",time:ev.createElement(E7.gu,{date:l.trashed_at})})):ev.createElement(E7.gu,{date:b.touched_at}))),[y,b,w,u,l,T,p]);if(_&&((null==(t=l.shared_by_user)?void 0:t.name)||l.shared_at)){let e=l.shared_at&&ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"swy_tile.shared"}),ev.createElement(n2.Lt,{date:new Date(l.shared_at)})),t=(null==(a=l.shared_by_user)?void 0:a.name)?`From ${l.shared_by_user.name}`:e;x=ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ha.yp},T&&ev.createElement("div",{className:ha.Fm},ev.createElement(ht.E,{entityId:T.id,entityName:T.name||void 0,imgUrl:T.img_url||void 0})),ev.createElement("div",null,t)))}let N=(0,eb.v9)(e=>e.roles.byFileKey),C=(0,lR.XU)(),S=(0,eb.v9)(e=>e.activeFileUsers),k=ev.useMemo(()=>(0,EQ.m)(S,C.id,null==m?void 0:m.key),[S,C,m]),I=(0,eb.v9)(e=>(0,u6.vr)(e.autosave.unclaimedFilesWithChangesInIDB,e)),L=I.findIndex(e=>e.fileKey===(null==m?void 0:m.key))>=0,R=(null==(r=l.appData)?void 0:r.isRenaming)||!1,A=ev.useCallback(t=>{var a;c(E6.NX({repo:l,name:t})),"renameCallbacks"in e.tile&&(null==(a=e.tile.renameCallbacks)||a.onStopRename(t))},[c,l,e.tile]),O=ev.useCallback(()=>{var t;c(E6.NX({repo:l})),"renameCallbacks"in e.tile&&(null==(t=e.tile.renameCallbacks)||t.onStopRename(null))},[c,l,e.tile]),D=ev.useMemo(()=>({isRenaming:R,submitTileName:A,cancelTileName:O}),[R,A,O]),F=ev.useMemo(()=>(0,E0.RZ)(l,o,N,C.id),[l,o,N,C]),M=ev.useCallback(()=>{i(!0)},[i]),P=ev.useCallback(()=>{i(!1)},[i]),B=m?(0,_r.qF)(m):"";return B=(0,av.xq)(B,C),B=(0,av.me)(B,g,E,h),m?ev.createElement(E7.Sv,{...e,href:B,onMouseEnter:M,onMouseLeave:P},e.isListView?ev.createElement(he.l,{tile:e.tile,renamingProps:D,activeFileUserList:k,showSettingsIcon:!1}):ev.createElement(E9.TN,{tile:e.tile,file:m,subtitle:x,activeFileUsers:k,currentUser:C,hasUnsyncedChanges:L,isRenaming:R,submitTileName:A,cancelTileName:O,showBranchIndicator:!w,branches:F,selectedBranchKey:null==m?void 0:m.key,onSelectBranch:e=>{(0,eK.L9)("Branch Tile Drop Down Clicked Through",{fileRepoId:l.id,selectedFileKey:e,previousFileKey:null==m?void 0:m.key}),c(E6.Pg({repoId:l.id,branchKey:e}))},showSettingsIcon:!1,isHover:n})):null}hr.displayName="RepoTileView";class hn extends ev.PureComponent{render(){let e=ev.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 311 213",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("rect",{x:"0",y:"0",width:"310",height:"212",rx:"5.5",stroke:"#E5E5E5",strokeDasharray:"5 6"}),ev.createElement("rect",{width:"100%",height:"100%",fill:"url(#paint0_linear_1701_4654)"}),ev.createElement("defs",null,ev.createElement("linearGradient",{id:"paint0_linear_1701_4654",x1:"0",y1:"0",x2:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},ev.createElement("stop",{stopColor:"var(--color-bg, white)",stopOpacity:"0"}),ev.createElement("stop",{offset:"0.661458",stopColor:"var(--color-bg, white)"}))));return ev.createElement("div",{className:ha.nC},ev.createElement("div",{className:ha.OJ},ev.createElement("div",{className:ha.mT},e)))}}hn.displayName="GhostTile";var hi=a(898844),hl=a(656145),hs=a(134451);let ho=a(418798);function hc(e){let t=(0,ez.Db)(u6.dr),a=e.tile,r=a.file.editorType===ao.gg.DESIGN?hl.I1.DESIGN:hl.I1.WHITEBOARD,n=new Date(a.file.lastUpdatedAt).toISOString(),i=(0,o8.A6)(),l=(0,r9.Dv)(oF.b),s=(0,eb.v9)(e=>e.orgById),o=!l&&("recentFiles"===i.view||"recentsAndSharing"===i.view&&i.tab===EN.D.RECENTLY_VIEWED),c=ev.createElement("span",{className:ha.LH},ev.createElement(eq.Tx,{id:"tile.file_tile.edited_time",time:ev.createElement(n2.Lt,{date:n})}));if(o&&a.file.orgId){let e=s[a.file.orgId];e&&(c=ev.createElement("div",{className:ha.yp},ev.createElement(ht.E,{entityId:e.id,entityName:e.name,imgUrl:e.img_url}),c))}let d=a.file.isRenaming?{isRenaming:!0,submitTileName:e=>t({fileKey:a.file.fileKey,name:e,source:u6.YK.OFFLINE_FILE_TILE}),cancelTileName:()=>t({fileKey:a.file.fileKey,source:u6.YK.OFFLINE_FILE_TILE})}:{isRenaming:!1};return ev.createElement(E7.iP,{...e},e.isListView?ev.createElement(he.l,{tile:a,renamingProps:d,activeFileUserList:[]}):ev.createElement(ev.Fragment,null,ev.createElement(hs.H,null),ev.createElement("div",{className:ha.rG},ev.createElement(hl.aA,{type:r,size:hl.Sj.MEDIUM})),ev.createElement("div",{className:ha.sc},ev.createElement(E7.P0,{tile:a,isListView:!1,...d}),ev.createElement("div",{className:ha.BB},ev.createElement(E7.AU,{subtitle:c})),ev.createElement("div",{className:ha.PM},ev.createElement(eD.n,{className:"offline_file_tile--cloudSavingIcon--rls-f",svg:ho,"data-tooltip":(0,eq.t)("tile.offline_file_tile.offline_upload_tooltip"),"data-tooltip-max-width":200,"data-tooltip-type":aN.fR.TEXT})))))}var hd=a(275286),hm=a(366533),hu=a(278832),h_=a(422949),hp=a(716120),hg=a(222679);function hE(e){var t,a,r,n;let i,l;let s=(0,eb.v9)(e=>"deletedFiles"===e.selectedView.view),o=(0,eb.v9)(e=>e.currentUserOrgId),c=(0,eb.v9)(e=>e.currentTeamId),d=(0,eb.v9)(e=>"sharedWithYou"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===EN.D.SHARED_FILES),m=(0,eb.v9)(e=>"recentFiles"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===EN.D.RECENTLY_VIEWED),u=(0,lR.xJ)(),_=(0,eb.v9)(e=>e.selectedView),p=(0,eb.v9)(e=>e.orgById),g=(0,eb.v9)(e=>e.teams),E=(0,eT.BZ)().ps_benchmark,h=(0,eb.I0)(),{tile:f}=e,v=e.tile.prototype.fig_file.parent_org_id??null,b=E&&(null==(t=e.tile.prototype.fig_file)?void 0:t.team_id)?null==(a=e.tile.prototype.fig_file)?void 0:a.team_id:null,y=(0,hp.G)(f.prototype.id,ao.IK.PROTOTYPE,v,b),w=ev.useMemo(()=>"loaded"===y.status?!!y.favorite:EA.PI.getIsFavorited(f),[f,y]),T=ev.useCallback((e,t,a)=>{if(f.type===EA.YU.PROTOTYPE){let r={entrypoint:"file_tile",favoriteId:t,prototype:f.prototype,sectionId:a,fileBrowserEntryPoint:!0};e?h(hd.qO(r)):h(hd.Y2(r))}},[h,f.type,f.prototype]),x=e.tile.prototype,N=(0,hu.GG)(v,b),C=(!(0,eT.BZ)().ps_benchmark||N)&&!s,S=(0,as.L4)(x.fig_file);if(d&&((null==(r=x.shared_by_user)?void 0:r.name)||x.shared_at)){let e=x.shared_at&&ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"swy_tile.shared"}),ev.createElement(n2.Lt,{date:new Date(x.shared_at)})),t=(null==(n=x.shared_by_user)?void 0:n.name)?`From ${x.shared_by_user.name}`:e,a=x.parent_org&&{id:x.parent_org.id,imgUrl:x.parent_org.imgUrl||void 0,name:x.parent_org.name||void 0},r=!x.parent_org&&x.parent_team&&{id:x.parent_team.id,imgUrl:x.parent_team.imgUrl||void 0,name:x.parent_team.name||void 0},l=a||r,s=ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ha.yp},l&&ev.createElement("div",{className:ha.Fm},ev.createElement(ds.Kn,{entity:l,hideFallbackInitial:!1,size:14})),ev.createElement("div",null,t)));i=s}else i=S?ev.createElement("span",{className:ha.LH},ev.createElement(eq.Tx,{id:"tile.file_tile.password_protected_prototype"})):ev.createElement(E7.gu,{date:x.accessed_at||""});let k=x.fig_file,I=k.parent_org_id&&p[k.parent_org_id]||k.team_id&&g[k.team_id];m&&I&&(i=ev.createElement("div",{className:ha.yp},ev.createElement(ht.E,{entityId:I.id,entityName:I.name,imgUrl:I.img_url}),i));let L=ev.createElement(ev.Fragment,null,ev.createElement(hg.S,{isLocked:S,thumbnail_url:x.thumbnail_url}),ev.createElement("div",{className:ha.rG},ev.createElement(hl.aA,{type:hl.I1.PROTOTYPE})),ev.createElement("div",{className:tQ()(ha.Nk,{[ha.oP]:w})},C&&f.prototype.id&&ev.createElement("div",{className:ha.$C},ev.createElement(h_.M,{resourceId:f.prototype.id,favoriteType:ao.IK.PROTOTYPE,setFavorite:T,noHoverState:!0,size:h_.v.MEDIUM,orgId:v,teamId:b}))),ev.createElement("div",{className:ha.sc},ev.createElement(E7.P0,{tile:e.tile,isRenaming:!1,isListView:!!e.isListView}),ev.createElement("div",{className:ha.BB},ev.createElement(E7.AU,{subtitle:i}))));try{l=(0,av.xq)(x.url,u),l=(0,av.me)(x.url,o,c,_)}catch(e){l=x.url}return ev.createElement(e3.Ui,{name:"Prototype Tile",trackingTargets:hm.p.RCS,properties:{fileKey:x.file_key,pageId:x.page_id}},ev.createElement(E7.Sv,{...e,href:l},e.isListView?ev.createElement(he.l,{tile:e.tile,renamingProps:{isRenaming:!1},activeFileUserList:[]}):L))}hE.displayName="PrototypeTile";var hh=a(210300),hf=a(683843),hv=a(593148);let hb={metaContainer:320,sidebar:241,tileGridOuterPadding:32,singleTile:272,singleTileWithPadding:304},hy=256/192,hw=(e,t,a,r,n,i,l,s,o,c,d)=>{var m,u,_,p,g,E,h,f,v,b;if(e.type===EA.YU.FILE&&(r(od.ku({fileKey:e.file.key,entrypoint:"file tile",currentPlanFilter:o,currentSharedByFilter:c,viewMode:void 0!==d?d?"list":"grid":void 0})),"recentFiles"===n.view&&r(od.jv({index:a})),ey.YO&&(0,eK.L9)("Open File Click",{fileKey:e.file.key,fileRepoId:e.file.file_repo_id,uiSelectedView:JSON.stringify(n)})),e.type===EA.YU.FILE&&((null==(m=e.file.appData)?void 0:m.isRenaming)||(0,as.dI)(e.file.key,i))||e.type===EA.YU.REPO&&((null==(u=e.repo.appData)?void 0:u.isRenaming)||function(e,t){var a;return!!(null==(a=t.repos[e])?void 0:a.trashed_at)}(e.repo.id,i))||e.type===EA.YU.OFFLINE_FILE&&e.file.isRenaming){t.preventDefault(),t.stopPropagation();return}let y=eN.ZP.mac?t.metaKey:t.ctrlKey,w=null;y&&t.shiftKey?w=ey.ih.FOCAL_TAB:y?w=ey.ih.BACKGROUND_TAB:t.shiftKey&&(w=ey.ih.NEW_WINDOW);let T=i.user;if(ey.YO){let a;switch(w=w??ey.ih.FOCAL_TAB,t.preventDefault(),t.stopPropagation(),e.type){case EA.YU.FILE:a=!!(e.file.is_team_template&&(0,EJ._J)(i)),ey.YO.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",editorType:e.file.editor_type,target:w,isBranch:(0,E0.kO)(e.file),isLibrary:!!e.file.last_published_at,isTeamTemplate:a,userId:null==T?void 0:T.id});break;case EA.YU.PINNED_FILE:a=!!(e.file.isTeamTemplate&&(0,EJ._J)(i)),ey.YO.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",editorType:e.file.editorType,isTeamTemplate:a,target:w,userId:null==T?void 0:T.id});break;case EA.YU.PROTOTYPE:ey.YO.openPrototype(e.prototype.file_key,e.prototype.page_id,e.prototype.name||"",w,null==T?void 0:T.id);break;case EA.YU.REPO:let n=(0,E0.T)(e.repo,e.branches,l);ey.YO.openFile({fileKey:n.key,title:n.name,editorType:n.editor_type,target:w,isBranch:(0,E0.kO)(n),isLibrary:!!n.last_published_at,userId:null==T?void 0:T.id});break;case EA.YU.PROJECT:(0,eL.q8)(!0,"Do not expec to be rendering project tiles here");break;case EA.YU.OFFLINE_FILE:r(u9.mp({file:e.file,openNewFileIn:_n.JD.NEW_TAB,source:_a.j.OFFLINE_FILE_TILE}));break;default:(0,eL.vE)(e)}return}if(null!=w){if(r(od.kp()),e.type===EA.YU.OFFLINE_FILE){r(u9.mp({file:e.file,openNewFileIn:_n.JD.NEW_TAB,source:_a.j.OFFLINE_FILE_TILE})),t.preventDefault(),t.stopPropagation();return}if(t instanceof KeyboardEvent){let a=EA.PI.getUrl(e,l);ew.default.redirect(a,"_blank"),t.preventDefault(),t.stopPropagation()}return}t.preventDefault(),t.stopPropagation();let x=i.currentUserOrgId,N=i.currentTeamId,C="recentsAndSharing"===n.view||"folder"===n.view?n:void 0,S=(0,eT.BZ)().ps_benchmark;switch(r(S?Eq.cy({planId:x||N,planType:x?E3.k.ORG:E3.k.TEAM}):Eq.qB({planId:x||E8.y})),e.type){case EA.YU.FILE:(0,av.km)(x,null==(_=i.fileByKey[e.file.key])?void 0:_.parent_org_id,N,null==(p=i.fileByKey[e.file.key])?void 0:p.team_id)?(0,av.wD)(e.file.key,T,x,S?N:null,n):r(od.fv({view:"fullscreen",fileKey:e.file.key,editorType:E2.bd.getIsExtension()?"dev_handoff":e.file.editor_type??"design",prevSelectedView:C}));break;case EA.YU.PINNED_FILE:(0,av.km)(x,null==(g=i.fileByKey[e.file.key])?void 0:g.parent_org_id,N,null==(E=i.fileByKey[e.file.key])?void 0:E.team_id)?(0,av.wD)(e.file.key,T,x,S?N:null,n):r(od.fv({view:"fullscreen",fileKey:e.file.key,editorType:e.file.editorType??"design",prevSelectedView:C}));break;case EA.YU.PROTOTYPE:let k=e.prototype.fig_file??s[e.prototype.file_key];(0,av.km)(x,null==(h=i.fileByKey[k.key])?void 0:h.parent_org_id,N,null==(f=i.fileByKey[k.key])?void 0:f.team_id)?(0,av.wD)(k.key,T,x,S?N:null,n,"proto"):r(od.fv({view:"prototype",file:k,nodeId:e.prototype.page_id,prevSelectedView:C}));break;case EA.YU.REPO:let I=(0,E0.T)(e.repo,e.branches,l).key;(0,av.km)(x,null==(v=i.fileByKey[I])?void 0:v.parent_org_id,N,null==(b=i.fileByKey[I])?void 0:b.team_id)?(0,av.wD)(I,T,x,S?N:null,n):r(od.fv({view:"fullscreen",fileKey:I,editorType:"design",prevSelectedView:C}));break;case EA.YU.PROJECT:(0,eL.q8)(!0,"Do not expec to be rendering project tiles here");break;case EA.YU.OFFLINE_FILE:r(u9.mp({file:e.file,openNewFileIn:_n.JD.SAME_TAB,source:_a.j.OFFLINE_FILE_TILE}));break;default:(0,eL.vE)(e)}};class hT extends ev.Component{constructor(e){super(e),this.TILE_ACTIONS_DROPDOWN="tile-actions-dropdown",this.containerRef=ev.createRef(),this.innerContainerRef=ev.createRef(),this.tilesRef=ev.createRef(),this.selectedTileRef=ev.createRef(),this.unsubscribeCallbacks=[],this.setFileViewMode=e=>{(0,eK.L9)("file view toggle",{viewType:e===EO.H6.GRID?"grid":"list"}),this.props.dispatch(od.lh({selectedView:this.props.selectedView,config:{...this.props.sortFilterOptions.tileSortFilterConfig,viewMode:e}}))},this.dragSelectEnd=e=>{if(this.state.dragSelection){let t=this.calculateSelectedTiles();for(let e of Object.keys(EA.YU)){let a=t.filter(t=>t.type===e);a.length>0&&this.props.dispatch(EY.pz({type:EA.bT[e],tiles:a}))}this.setState({dragSelection:null}),e.stopPropagation(),e.preventDefault()}},this.dragSelectMove=e=>{if(this.state.dragSelection){let t=this.innerContainerRef.current&&this.innerContainerRef.current.getBoundingClientRect();t&&this.setState({dragSelection:{...this.state.dragSelection,current:{x:e.clientX-t.left,y:e.clientY-t.top}}})}},this.dragSelectStart=e=>{if(!this.tilesRef||!this.containerRef.current||!this.tilesRef.current||0!==e.button)return;let t=this.containerRef.current.clientWidth-this.tilesRef.current.clientWidth;if(e.clientX+t>=window.innerWidth)return;this.state.dragSelection&&this.setState({dragSelection:null});let a=e.target===this.containerRef.current||e.target===this.innerContainerRef.current||e.target===this.tilesRef.current||e.target===this.sortFilterContainer||this.importPrompt&&this.importPrompt.contains(e.target);if(!a)return;this.props.dispatch(od.kp()),e.ctrlKey||e.metaKey||e.shiftKey||this.props.dispatch(EY.LA());let r=this.innerContainerRef.current&&this.innerContainerRef.current.getBoundingClientRect();if(!r)return;let n=e.clientX-r.left,i=e.clientY-r.top;this.setState({dragSelection:{start:{x:n,y:i},current:{x:n,y:i},ref:ev.createRef()}})},this.countCurrentSelected=e=>{let t=Object.keys(e[E4.m.FILES]),a=Object.keys(e[E4.m.REPOS]),r=Object.keys(e[E4.m.PROTOTYPES]),n=Object.keys(e[E4.m.OFFLINE_FILES]);return t.length+a.length+r.length+n.length},this.selectSingleTile=e=>{this.props.dispatch(EY.LA()),this.props.dispatch(EY.pz({type:EA.bT[e.type],tiles:[e]}))},this.findSelectedTileIdx=e=>this.state.sortedFilteredTiles.findIndex(t=>e.tileSelect&&e.tileSelect[EA.bT[t.type]]&&e.tileSelect[EA.bT[t.type]][EA.PI.getId(t)]),this.moveVertically=e=>t=>{if(!this.tilesRef.current||0===this.tilesRef.current.children.length)return t;let a=EG.findDOMNode(this.tilesRef.current);if(!(a instanceof Element))return t;let r=parseInt(window.getComputedStyle(a).columnGap,10),n=this.tilesRef.current.children[0].clientWidth+r,i=Math.floor(this.tilesRef.current.clientWidth/n),l=t+i*e;return l>=0&&l<this.state.sortedFilteredTiles.length?l:t},this.moveHorizontally=e=>t=>{let a=t+e;return a>=0&&a<this.state.sortedFilteredTiles.length?a:t},this.moveKeyboardPointer=e=>{let t=this.countCurrentSelected(this.props.tileSelect);if(t>1||!this.state.sortedFilteredTiles||0===this.state.sortedFilteredTiles.length)return;let a=0;1===t&&(a=e(a=this.findSelectedTileIdx(this.props)));let r=this.state.sortedFilteredTiles[a];this.selectSingleTile(r)},this.onDocumentKeyDown=e=>{if(!document.activeElement)return;let t=document.activeElement.tagName,a="DIV"===document.activeElement.tagName&&"true"===document.activeElement.getAttribute("contenteditable");if("INPUT"!==t&&"TEXTAREA"!==t&&!a&&(!this.props.modalShown||!(Object.keys(this.props.modalShown).length>0))&&!this.props.dropdownShown)switch(e.keyCode){case ly.sr.A:if(!e.ctrlKey&&!e.metaKey)return;for(let e of Object.keys(EA.YU)){let t=this.state.sortedFilteredTiles.filter(t=>t.type===e);t.length>0&&this.props.dispatch(EY.pz({type:EA.bT[e],tiles:t}))}e.preventDefault(),e.stopPropagation();break;case ly.sr.DELETE:case ly.sr.BACKSPACE:{let t=Object.keys(this.props.tileSelect[E4.m.FILES]),a=Object.keys(this.props.tileSelect[E4.m.REPOS]),r=Object.keys(this.props.tileSelect[E4.m.OFFLINE_FILES]),n=t.length+a.length+r.length;if(0===n)break;if("deletedFiles"===this.props.selectedView.view)this.props.dispatch(EZ.CA());else{let e=(0,as.l5)(this.props.tileSelect[E4.m.FILES],this.props,!0),t=(0,uR.getDeleteReposPayload)(this.props.tileSelect[E4.m.REPOS],this.props,!0),a=(0,u6.fS)(this.props.tileSelect[E4.m.OFFLINE_FILES],this.props),r=Object.keys(e).length+Object.keys(t).length+Object.keys(a).length;r<n?this.props.dispatch(dl.l.error((0,eq.t)("tile.error.permission_error_delete_file",{selectedCount:n}))):this.props.dispatch(EZ.di({filesByKey:e,reposById:t,offlineFilesByKey:a}))}e.preventDefault(),e.stopPropagation();break}case ly.sr.ENTER:{if(1!==this.countCurrentSelected(this.props.tileSelect))break;let t=this.findSelectedTileIdx(this.props),a=this.state.sortedFilteredTiles[t];this.openTile(a,e,t),e.preventDefault(),e.stopPropagation();break}case ly.sr.DOWN_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;this.isListView()?this.moveKeyboardPointer(this.moveHorizontally(1)):this.moveKeyboardPointer(this.moveVertically(1)),e.preventDefault(),e.stopPropagation();break;case ly.sr.RIGHT_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;this.moveKeyboardPointer(this.moveHorizontally(1)),e.preventDefault(),e.stopPropagation();break;case ly.sr.UP_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;this.isListView()?this.moveKeyboardPointer(this.moveHorizontally(-1)):this.moveKeyboardPointer(this.moveVertically(-1)),e.preventDefault(),e.stopPropagation();break;case ly.sr.LEFT_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;this.moveKeyboardPointer(this.moveHorizontally(-1)),e.preventDefault(),e.stopPropagation()}},this.localeSortTilesByName=(e,t)=>{let a=EA.PI.getName(e)||"",r=EA.PI.getName(t)||"";return nx.Tk.compare(a,r)},this.sortTilesByName=(e,t)=>{let a=(EA.PI.getName(e)||"").toLowerCase(),r=(EA.PI.getName(t)||"").toLowerCase();return a===r?0:a<r?-1:1},this.sortFilesByCreationTime=(e,t)=>{if(e.type!==EA.YU.FILE||t.type!==EA.YU.FILE)return 0;let a=e.file,r=t.file;return a.created_at<r.created_at?1:-1},this.sortPrototypesByFileKey=(e,t)=>e.type!==EA.YU.PROTOTYPE||t.type!==EA.YU.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,this.sortTilesByUserAccessedAt=(e,t)=>{let a=EA.PI.getAccessedAt(e),r=EA.PI.getAccessedAt(t);return a&&r?a>r?1:-1:r?-1:a?1:0},this.sortTilesByCreation=(e,t)=>EA.PI.getCreatedAt(e)>EA.PI.getCreatedAt(t)?1:-1,this.sortTilesByUpdates=(e,t)=>{let a=EA.PI.getTouchedAt(e),r=EA.PI.getTouchedAt(t);return null===a||null===r?0:a>r?1:-1},this.sortFilesByTrashed=(e,t)=>{if(e.type!==EA.YU.FILE&&e.type!==EA.YU.REPO||t.type!==EA.YU.FILE&&t.type!==EA.YU.REPO)return 0;let a=e.type===EA.YU.FILE?e.file.trashed_at:e.repo.trashed_at,r=t.type===EA.YU.FILE?t.file.trashed_at:t.repo.trashed_at;return a>r?1:-1},this.matchesCreatorFilter=(e,t,a)=>e===EO.FN.ANY||e===EO.FN.SELF&&a.type===EA.YU.FILE&&a.file.creator_id===t||e===EO.FN.SELF&&a.type===EA.YU.REPO&&a.branches[0].creator_id===t||e===EO.FN.OTHER&&a.type===EA.YU.FILE&&a.file.creator_id!==t||e===EO.FN.OTHER&&a.type===EA.YU.REPO&&a.branches[0].creator_id!==t,this.matchesFileTypeFilter=(e,t)=>{let a="design";switch(t.type===EA.YU.FILE?a=t.file.editor_type:t.type===EA.YU.PINNED_FILE?a=t.file.editorType:t.type===EA.YU.OFFLINE_FILE&&(a=t.file.editorType),e){case EO.$Q.ANY:return!0;case EO.$Q.DESIGN:if(t.type===EA.YU.FILE||t.type===EA.YU.REPO||t.type===EA.YU.PINNED_FILE||t.type===EA.YU.OFFLINE_FILE)return"design"===a;return!1;case EO.$Q.FIGJAM:if(t.type===EA.YU.FILE||t.type===EA.YU.PINNED_FILE||t.type===EA.YU.OFFLINE_FILE)return"whiteboard"===a;return!1;case EO.$Q.PROTOTYPE:return t.type===EA.YU.PROTOTYPE;default:return!1}},this.matchesSharedByFilter=(e,t)=>!e||e===`${EA.PI.getSharedBy(t)}`,this.matchesPlanFilter=(e,t)=>{var a,r;if("sharedWithYou"===this.props.selectedView.view||"recentsAndSharing"===this.props.selectedView.view&&this.props.selectedView.tab===EN.D.SHARED_FILES||!e||!e.planId)return!0;let n=e.planId;switch(t.type){case EA.YU.FILE:let i="org"===e.planType?t.file.parent_org_id:t.file.team_id;return i===n;case EA.YU.REPO:let l="org"===e.planType?t.repo.parent_org_id:t.repo.team_id;return l===n;case EA.YU.PROTOTYPE:let s="org"===e.planType?null==(a=t.prototype.parent_org)?void 0:a.id:null==(r=t.prototype.parent_team)?void 0:r.id;return s===n;case EA.YU.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===n;default:return!1}},this.getSortedFilteredTiles=(e,t)=>{var a;let r,n,i;let l=e.filter(e=>{var a;return this.matchesSharedByFilter(t.filters.sharedBy,e)&&this.matchesFileTypeFilter(t.filters.fileType,e)&&this.matchesCreatorFilter(t.filters.creator,null==(a=this.props.user)?void 0:a.id,e)&&this.matchesPlanFilter(t.filters.plan,e)});if(r=this.isSharedWithYouFilesView?l.filter(e=>e.type===EA.YU.FILE||e.type===EA.YU.PROTOTYPE||e.type===EA.YU.REPO):l.filter(e=>e.type===EA.YU.FILE||e.type===EA.YU.REPO||e.type===EA.YU.OFFLINE_FILE),"recentsAndSharing"===this.props.selectedView.view&&this.props.selectedView.tab===EN.D.SHARED_FILES)return l;let s=t.sort.dir===EO.qP.DESC;switch(t.sort.key){case EO.BO.SEARCH_RELEVANCE:return e;case EO.BO.ACCESSED_AT:n=mQ.s.byComparators(this.sortTilesByUserAccessedAt),i=l;break;case EO.BO.CREATED_AT:n=mQ.s.byComparators(this.sortTilesByCreation),i=l;break;case EO.BO.TOUCHED_AT:n=mQ.s.byComparators(this.sortTilesByUpdates),i=r;break;case EO.BO.NAME:if(this.props.isDraftsFolder){n=mQ.s.byComparators(this.localeSortTilesByName,mQ.s.byProperty("type")),i=l;break}let o=l.length<nx.DD;n=mQ.s.byComparators(o?this.localeSortTilesByName:this.sortTilesByName,mQ.s.byProperty("type"),this.sortFilesByCreationTime,this.sortPrototypesByFileKey),i=l;break;case EO.BO.TRASHED_AT:n=mQ.s.byComparators(this.sortFilesByTrashed),i=r;break;case EO.BO.SHARED_AT:return l;default:return console.error("Unknown sort key",t.sort.key),[]}if(n=s?mQ.s.reverse(n):n,i.sort(n),this.props.isDataPartial)for(;(null==(a=i[i.length-1])?void 0:a.type)===EA.YU.OFFLINE_FILE;)i.pop();return i},this.setSortedFilteredTilesState=(e,t)=>{let a=this.getSortedFilteredTiles(e,t);this.setState({sortedFilteredTiles:a})},this.getActiveFileUsers=e=>{for(let t of e){let e=(0,EH.i0)().subscribe(dH.ActiveFileUsersForFileView,{fileKey:t},e=>{if("loaded"===e.status&&e.data){let a=(0,EQ.o)(e.data);this.props.dispatch(EK.Wb({fileKey:t,users:a}))}});this.unsubscribeCallbacks.push(e)}},this.getFileKeys=()=>{let e=[];return this.state.sortedFilteredTiles.forEach(t=>{switch(t.type){case EA.YU.FILE:e.push(t.file.key);break;case EA.YU.REPO:e.push(...t.branches.map(e=>e.key))}}),e},this.onTileDragStart=(e,t)=>{let a,r,n;if(!(e.type===EA.YU.FILE||e.type===EA.YU.REPO||e.type===EA.YU.PROTOTYPE))return;if(t.dataTransfer.effectAllowed="none",t.stopPropagation(),"deletedFiles"===this.props.selectedView.view||this.props.dropdownShown){t.preventDefault();return}if(-1===Object.keys(this.props.tileSelect[EA.bT[e.type]]).indexOf(EA.PI.getId(e)))switch(this.props.dispatch(EY.LA()),this.props.dispatch(EY.pz({type:E4.m[EA.bT[e.type]],tiles:[e]})),e.type){case EA.YU.FILE:a=[e.file],r=[],n=[];break;case EA.YU.REPO:a=[],r=[e.repo],n=[];break;case EA.YU.PROTOTYPE:a=[],r=[],n=[e.prototype]}else if(a=Object.keys(this.props.tileSelect[E4.m.FILES]).map(e=>this.props.fileByKey[e]),r=Object.keys(this.props.tileSelect[E4.m.REPOS]).map(e=>this.props.repos[e]),n=[],this.props.tileSelect[E4.m.PROTOTYPES]){let e=this.props.prototypes.reduce((e,t)=>(e[String(t.file_key+","+t.page_id+","+t.id)]=t,e),{});n=Object.keys(this.props.tileSelect[E4.m.PROTOTYPES]).map(t=>e[t])}let i=a.length+r.length+n.length,l=t.currentTarget,s=l.cloneNode(!0),o=document.createElement("div"),c=l.getBoundingClientRect(),d=c.right-c.left,m=c.bottom-c.top,u=t.clientX-c.left,_=t.clientY-c.top;o.className=ha.E_;let p=e=>{for(let t of(e.removeAttribute("data-reactid"),Array.from(e.children)))p(t)};p(s),s.className=ha.B$,t.dataTransfer.effectAllowed="move";let g=null,E=null;i>=2&&((g=s.cloneNode(!0)).style.top="4px",g.style.left="4px",g.className=ha.B$),i>=3&&((E=s.cloneNode(!0)).style.top="8px",E.style.left="8px",E.className=ha.B$),E&&o.appendChild(E),g&&o.appendChild(g),o.appendChild(this.constructDragFileNumber(i)),o.appendChild(s),l.appendChild(o);let h=new E1.nb(t.dataTransfer);i>0&&(a.length>0&&0===r.length&&0===n.length?h.setFigFilesData(a):0===a.length&&r.length>0&&0===n.length?h.setReposData(r,a):0===a.length&&0===r.length&&n.length>0?h.setPrototypesData(n):h.setTilesData(a,r,n)),h.setDragImage(o,16+160*u/d,16+130*_/m),this.draggingFilePreview=o},this.onTileDragEnd=()=>{this.draggingFilePreview&&this.draggingFilePreview.remove()},this.onTileContextMenu=(e,t,a)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};this.showDropdown(e,t,r,a)},this.isDropdownShown=()=>{var e;return(null==(e=this.props.dropdownShown)?void 0:e.type)===this.TILE_ACTIONS_DROPDOWN},this.dispatchShowDropdown=(e,t,a,r)=>{this.props.dispatch(od.SP({type:this.TILE_ACTIONS_DROPDOWN,data:{tile:e,targetRect:t,index:a,enableRestore:r}}))},this.selectTile=(e,t)=>{var a,r;if(this.props.dropdownShown){this.props.dispatch(od.kp());return}if(e.type===EA.YU.FILE&&(null==(a=e.file.appData)?void 0:a.isRenaming)||e.type===EA.YU.REPO&&(null==(r=e.repo.appData)?void 0:r.isRenaming)||e.type===EA.YU.OFFLINE_FILE&&e.file.isRenaming)return;if(eN.ZP.mobile||eN.ZP.tablet){let t=EA.PI.getUrl(e,this.props.selectedBranchKeyByRepoId);ew.default.redirect(t)}t.stopPropagation();let n=this.props.tileSelect&&this.props.tileSelect[EA.bT[e.type]]&&this.props.tileSelect[EA.bT[e.type]][EA.PI.getId(e)];if(t.ctrlKey||t.metaKey||t.shiftKey)n?this.props.dispatch(EY.Fm({tileKeys:[EA.PI.getId(e)]})):this.props.dispatch(EY.pz({type:EA.bT[e.type],tiles:[e]}));else{if(n)return;this.props.dispatch(EY.LA()),this.props.dispatch(EY.pz({type:EA.bT[e.type],tiles:[e]}))}},this.isRecentFilesView=()=>"recentFiles"===this.props.selectedView.view||"recentsAndSharing"===this.props.selectedView.view&&this.props.selectedView.tab===EN.D.RECENTLY_VIEWED,this.openTile=(e,t,a)=>{hw(e,t,a,this.props.dispatch,this.props.selectedView,this.props.permissionsState,this.props.selectedBranchKeyByRepoId,this.props.fileByKey,this.props.currentPlanFilter,this.props.currentSharedByFilter,this.isListView())},this.scrollToSelection=()=>{if(!this.selectedTileRef.current)return;let e=this.selectedTileRef.current,t=e.getBoundingClientRect(),a=parseInt(window.getComputedStyle(e).getPropertyValue("scroll-margin-top"))||0,r=parseInt(window.getComputedStyle(e).getPropertyValue("scroll-margin-bottom"))||0,n=t.top<a,i=t.bottom>window.innerHeight-r;(n||i)&&e.scrollIntoView({behavior:"smooth",block:n?"start":"end",inline:"nearest"})},this.tryScrollToSelection=()=>{if(this.state.willAttemptAutoScroll){if(!this.selectedTileRef.current){this.setState({willAttemptAutoScroll:!1});return}this.scrollToSelection(),this.setState({willAttemptAutoScroll:!1})}},this.sortBy=e=>{let t=this.props.sortFilterOptions.tileSortFilterConfig,a=t.sort.dir===EO.qP.DESC?EO.qP.ASC:EO.qP.DESC;this.props.dispatch(od.lh({selectedView:this.props.selectedView,config:{...t,sort:{key:e,dir:e===t.sort.key?a:t.sort.dir}},tab:"recentsAndSharing"===this.props.selectedView.view?this.props.selectedView.tab:void 0}))},this.recalculateNumTilesPerGridRow=()=>{let e=this.getNumTilesPerGridRow();this.setState({numTilesPerGridRow:e})},this.getNumTilesPerGridRow=()=>{let e=window.innerWidth-hb.sidebar-hb.metaContainer;return Math.max(Math.floor((e-hb.tileGridOuterPadding)/hb.singleTileWithPadding),0)},this.getUpgradeOverlayMargin=()=>{let e=this.state.numTilesPerGridRow;if(0===e)return 0;let t=window.innerWidth-hb.sidebar-hb.metaContainer,a=hb.singleTileWithPadding-hb.singleTile,r=t-hb.tileGridOuterPadding-e*a;return Math.max(r/e/hy+hb.tileGridOuterPadding,0)},this.onClickUpgrade=()=>{let e=this.props.upsellData;if(e){let t=g0.V.TILES_VIEW_UPSELL;this.props.dispatch((0,ig.K4)({type:_8.nY,data:{upsellSource:t,teamId:e.team.id}}))}};let t=this.getSortedFilteredTiles(this.props.tiles,this.props.sortFilterOptions.tileSortFilterConfig);this.state={dragSelection:null,sortedFilteredTiles:t,willAttemptAutoScroll:!0,numTilesPerGridRow:this.getNumTilesPerGridRow()}}get isSharedWithYouFilesView(){return"recentsAndSharing"===this.props.selectedView.view&&this.props.selectedView.tab===EN.D.SHARED_FILES}componentDidMount(){window.addEventListener("mouseup",this.dragSelectEnd),window.addEventListener("mousemove",this.dragSelectMove),document.addEventListener("keydown",this.onDocumentKeyDown),"deletedFiles"!==this.props.selectedView.view&&this.getActiveFileUsers(this.getFileKeys()),window.addEventListener("resize",this.recalculateNumTilesPerGridRow)}componentWillUnmount(){for(let e of(document.removeEventListener("keydown",this.onDocumentKeyDown),window.removeEventListener("mouseup",this.dragSelectEnd),window.removeEventListener("mousedown",this.dragSelectMove),window.removeEventListener("resize",this.recalculateNumTilesPerGridRow),this.unsubscribeCallbacks))e()}UNSAFE_componentWillReceiveProps(e){let t=this.tilesChanged(this.props.tiles,e.tiles);if("deletedFiles"!==this.props.selectedView.view){let a=[];for(let t of e.tiles.filter(e=>e.type===EA.YU.FILE)){let e=t.file.key;a.push(e)}t&&this.getActiveFileUsers(a)}this.props.tiles===e.tiles&&(0,E5.HC)(this.props.sortFilterOptions.tileSortFilterConfig,e.sortFilterOptions.tileSortFilterConfig)||this.setSortedFilteredTilesState(e.tiles,e.sortFilterOptions.tileSortFilterConfig)}componentDidUpdate(e){this.props.tileSelect!==e.tileSelect&&1===this.countCurrentSelected(this.props.tileSelect)&&this.scrollToSelection()}render(){var e,t;let a=this.isListView(),r=ev.createElement("div",{className:ek.cx.flex.alignCenter.$},ev.createElement(ol.vs,{initialViewMode:this.props.sortFilterOptions.tileSortFilterConfig.viewMode,onViewModeChange:this.setFileViewMode})),n=(0,uR.canEditTeam)((null==(e=this.props.folder)?void 0:e.team_id)||"",this.props.permissionsState),i=ev.createElement("div",null),l=ev.createElement(ol.xS,{options:this.props.sortFilterOptions,selectedView:this.props.selectedView,dispatch:this.props.dispatch}),s=ev.createElement("div",{className:ek.cx.flex.$},l,r),o=ev.createElement(ol.$B,{options:this.props.sortFilterOptions,selectedView:this.props.selectedView,dispatch:this.props.dispatch,sharedWithYouFilters:this.props.sharedWithYouFilters});if(i=ev.createElement("div",{className:tQ()(!this.props.isFolder||n?hv.zz:hv.oT,hv.jZ)},ev.createElement(ol.Uc,{leftSide:o,rightSide:s})),0===this.state.sortedFilteredTiles.length){let e="";if(this.props.emptyStateText?e=this.props.emptyStateText:(eN.ZP.mobile||eN.ZP.tablet)&&(e=(0,eq.t)("file_browser.folder.this_project_is_empty")),e)return ev.createElement("div",{className:hv.EG},!this.props.hideSorter&&i,ev.createElement("div",{className:hv.Zu},e));if(this.props.emptyStateContent)return ev.createElement("div",{className:hv.EG},this.props.emptyStateContent)}let c={[EA.YU.FILE]:{},[EA.YU.PROTOTYPE]:{},[EA.YU.REPO]:{},[EA.YU.PINNED_FILE]:{},[EA.YU.PROJECT]:{},[EA.YU.OFFLINE_FILE]:{}},d=this.calculateSelectionBounds();if(this.state.dragSelection&&this.state.dragSelection.ref.current)for(let e of this.calculateSelectedTiles())c[e.type][EA.PI.getId(e)]=!0;else c[EA.YU.FILE]=this.props.tileSelect[E4.m.FILES],c[EA.YU.PROTOTYPE]=this.props.tileSelect[E4.m.PROTOTYPES],c[EA.YU.REPO]=this.props.tileSelect[E4.m.REPOS],c[EA.YU.OFFLINE_FILE]=this.props.tileSelect[E4.m.OFFLINE_FILES];let m=this.state.sortedFilteredTiles.map(e=>EA.PI.getId(e)).join("."),u=this.props.chunkSize??42,_=a?hv.CW:hv._D,p=hv.nC+(this.isListView()?` ${ha.nM} `:` ${ha.Zl} `),g=this.props.tiles.length>0;if(!this.props.userStateLoaded)return ev.createElement("div",{className:hv.V_},ev.createElement(ax.TK,null));if(eN.ZP.mobile&&eN.ZP.safari&&this.containerRef.current){let e=this.containerRef.current.className;window.addEventListener("load",()=>{this.containerRef.current&&(this.containerRef.current.className=""),setTimeout(()=>{this.containerRef.current&&(this.containerRef.current.className=e)},500)})}let E=!a&&this.state.numTilesPerGridRow>0&&(null==(t=this.props.upsellData)?void 0:t.isAtFileLimit)&&!(0,eT.BZ)().fbg_starter_project_redesign,h=E?this.getUpgradeOverlayMargin():void 0,f=!!E&&(0,nm.mA)(),v=this.state.sortedFilteredTiles.some(e=>{let t=EA.PI.getFileKey(e);return t&&c[e.type][t]&&EA.PI.getFavoriteResourceOrgId(e)!==this.props.currentUserOrgId});return ev.createElement("div",{className:hv.nC,onMouseDown:this.dragSelectStart,ref:this.containerRef},ev.createElement("div",{className:p,ref:this.innerContainerRef},!this.props.hideSorter&&i,g&&(a?ev.createElement("div",{className:tQ()({[_]:!0,[hv.gG]:(0,hf.t)(this.props.selectedView).hasFavoriteAsFirstColumn})},ev.createElement(hf.N,{sortConfig:this.props.sortFilterOptions.tileSortFilterConfig.sort,openTile:this.openTile,items:this.state.sortedFilteredTiles,sortBy:this.sortBy})):ev.createElement(Ez.b,{forwardedRef:this.tilesRef,key:a?"list":"grid",className:_,chunkSize:u,listKey:m,onAllChunksRendered:this.tryScrollToSelection},this.state.sortedFilteredTiles.map((e,t)=>{var r,n,i,l,s,o;let d=!!c[e.type][EA.PI.getId(e)],m={showSettingsIcon:eN.ZP.tablet||eN.ZP.mobile,isDropdownShown:this.isDropdownShown,onTileContextMenu:this.onTileContextMenu};switch(e.type){case EA.YU.FILE:let u=this.props.currentUserOrgId===e.file.parent_org_id&&!v;return ev.createElement(E9.Wf,{tile:e,isListView:a,...m,selectable:!0,isSelected:d,selectTile:this.selectTile,openTile:this.openTile,onClick:ex.ZT,tileRef:(0,E$.Z)(null==(n=(r=this.props).getTileRef)?void 0:n.call(r,e),d?this.selectedTileRef:void 0),key:`file-${e.file.key}`,index:t,draggable:u,onTileDragStart:this.onTileDragStart,onTileDragEnd:this.onTileDragEnd});case EA.YU.REPO:let _=this.props.selectedView&&"deletedFiles"===this.props.selectedView.view,p=this.props.currentUserOrgId===e.repo.parent_org_id&&!v;return ev.createElement(hr,{tile:{...e,branches:e.branches},...m,selectable:!0,isSelected:d,selectTile:this.selectTile,openTile:this.openTile,onClick:ex.ZT,tileRef:(0,E$.Z)(null==(l=(i=this.props).getTileRef)?void 0:l.call(i,e),d?this.selectedTileRef:void 0),key:`repo-${e.repo.id}`,index:t,isListView:a,draggable:p,onTileDragStart:this.onTileDragStart,onTileDragEnd:this.onTileDragEnd,hideBranchIndicator:_});case EA.YU.PROTOTYPE:let g=this.props.currentUserOrgId===e.prototype.fig_file.parent_org_id&&!v;return ev.createElement(hE,{tile:e,isListView:a,...m,selectable:!0,isSelected:d,selectTile:this.selectTile,openTile:this.openTile,onClick:ex.ZT,tileRef:(0,E$.Z)(null==(o=(s=this.props).getTileRef)?void 0:o.call(s,e),d?this.selectedTileRef:void 0),key:`file-${e.prototype.file_key}-page-${e.prototype.page_id}`,index:t,draggable:g,onTileDragStart:this.onTileDragStart,onTileDragEnd:this.onTileDragEnd});case EA.YU.OFFLINE_FILE:return ev.createElement(hc,{tile:e,isListView:a,...m,selectable:!0,isSelected:d,selectTile:this.selectTile,openTile:this.openTile,onClick:ex.ZT,tileRef:d?this.selectedTileRef:void 0,key:`offline-file-${e.file.fileKey}`,index:t,draggable:!1});default:return null}}))),E&&ev.createElement(e3.Ui,{name:"Tiles View Upsell",properties:{buttonColor:hi.t.BLUE,showSingleEditorCopyChangeVariantUi:f}},ev.createElement("div",{className:hv._D},[...Array(this.state.numTilesPerGridRow)].map((e,t)=>ev.createElement(hn,{key:t}))),ev.createElement("div",{className:hv.JO,style:{marginTop:`-${h}px`,height:`${h}px`}},ev.createElement("p",{className:hv.hR},ev.createElement(eq.Tx,{id:"file_browser.folder.ready_for_an_upgrade"})),ev.createElement("p",{className:hv.Mw},f?ev.createElement(eq.Tx,{id:"file_browser.folder.do_more_paid_plan_single_editor",lineBreak:ev.createElement("br",null)}):ev.createElement(eq.Tx,{id:"file_browser.folder.do_more_paid_plan",lineBreak:ev.createElement("br",null)})),ev.createElement(eA.RS,{onClick:this.onClickUpgrade,trackingProperties:{trackingDescriptor:cC.y.VIEW_PLANS}},ev.createElement(eq.Tx,{id:"file_browser.folder.view_plans"})))),!(eN.ZP.mobile||eN.ZP.tablet)&&this.props.newFileTile&&!this.props.userExternallyRestricted&&!g&&!E&&ev.createElement("div",{className:hv.Oz,ref:e=>{e&&(this.importPrompt=EG.findDOMNode(e))}},ev.createElement("div",{className:hv.Zu},ev.createElement("div",{className:hv.Rx},this.props.isFolder?(0,eq.t)("file_browser.folder.this_project_doesn_t_have_any_files"):(0,eq.t)("file_browser.folder.no_files_yet")),ev.createElement(eq.Tx,{id:"file_browser.folder.create_a_new_file_to_start_from_scratch",lineBreak:ev.createElement("br",null)})))),this.state.dragSelection&&ev.createElement("div",{className:hv.Hp,style:d,ref:this.state.dragSelection.ref}),this.renderDropdown())}tilesChanged(e,t){let a=new Set(e.map(e=>EA.PI.getId(e)));for(let e of t){if(!a.has(EA.PI.getId(e)))return!0;a.delete(EA.PI.getId(e))}return a.size>0}constructDragFileNumber(e){let t=e>=100?"99+":e.toString(),a=document.createElement("div");return a.innerText=t,a.className=hv.Os,a}showDropdown(e,t,a,r){let n=t.shiftKey&&t.altKey;if(this.props.tileSelect){if(this.props.tileSelect[EA.bT[e.type]]&&this.props.tileSelect[EA.bT[e.type]][EA.PI.getId(e)]){this.dispatchShowDropdown(e,a,r,n);return}if(t.shiftKey||t.metaKey||t.ctrlKey){this.props.dispatch(EY.pz({type:EA.bT[e.type],tiles:[e]})),this.dispatchShowDropdown(e,a,r,n);return}}t.shiftKey||t.metaKey||t.ctrlKey||this.props.dispatch(EY.LA()),this.props.dispatch(EY.pz({type:EA.bT[e.type],tiles:[e]})),this.dispatchShowDropdown(e,a,r,n)}calculateSelectionBounds(){let{dragSelection:e}=this.state;if(!e||!this.containerRef.current)return{};let{start:t,current:a}=e,r=this.containerRef.current.getBoundingClientRect(),n=r.bottom-r.top,i=r.right-r.left,l=i-a.x;return{top:Math.min(t.y,a.y>0?a.y:0)+"px",left:Math.min(t.x,a.x>0?a.x:0)+"px",bottom:Math.min(n-t.y,n-a.y)+"px",right:Math.min(i-t.x,l>0?l:0)+"px"}}calculateSelectedTiles(){let e=this.state.sortedFilteredTiles,t=e.length,a=[];for(let r=0;r<t;r++){if(this.tilesRef.current&&null==this.tilesRef.current.children[r])continue;let t=this.tilesRef&&this.tilesRef.current&&this.state.dragSelection&&this.state.dragSelection.ref.current&&this.intersectRect(this.tilesRef.current.children[r].getBoundingClientRect(),this.state.dragSelection.ref.current.getBoundingClientRect());t&&a.push(e[r])}return a}intersectRect(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}renderDropdown(){var e,t;let a=this.props.dropdownShown,r=!0;a&&a.type===this.TILE_ACTIONS_DROPDOWN&&a.data&&a.data.tile||(r=!1);let n=null==(e=null==a?void 0:a.data)?void 0:e.tile,i=null==(t=null==a?void 0:a.data)?void 0:t.index;return ev.createElement(e3.Ui,{name:this.props.isFolder?r2.V4.PROJECT_TILES_VIEW_DROPDOWN:r2.V4.TILES_VIEW_DROP_DOWN,enabled:r,properties:{tileType:null==n?void 0:n.type,tileFileId:(null==n?void 0:n.type)===EA.YU.FILE?null==n?void 0:n.file.key:void 0}},ev.createElement(hh.b,{...this.props,tile:n,openTile:e=>{n&&this.openTile(n,e,i)},recentsIndexToLog:this.isRecentFilesView()?i:void 0,dropdownVisible:r,useLGPerms:this.props.useLGPerms,areLGPermsLoaded:this.props.areLGPermsLoaded,permsByFileKey:this.props.permsByFileKey,permsByRepoId:this.props.permsByRepoId,permsByPrototypeId:this.props.permsByPrototypeId}))}isListView(){return this.props.sortFilterOptions.tileSortFilterConfig.viewMode===EO.H6.LIST}}hT.displayName="Tiles",hT.defaultProps={newFileTile:!0};class hx extends ev.Component{render(){return ev.createElement("div",{className:hv.EG},ev.createElement("div",{className:hv.Zu},this.props.emptyStateText,ev.createElement("div",{onMouseDown:this.props.onClaimClick},ev.createElement(eA.VM,{className:hv.tq},ev.createElement(eq.Tx,{id:"tile.empty.join_as_owner"})))))}}let hN=(0,eb.$j)(e=>{let t=null,a=(0,EX.p7)(e),r=a&&a.team_id&&e.teams[a.team_id],n=e.recentPrototypes;a&&r&&(0,uR.canEditTeam)(r.id,e)&&(t={team:r,folderId:a.id,isAtFileLimit:[ao.ZG.FILES_LIMITED,ao.ZG.FILES_LIMITED_LEGACY,ao.ZG.WHITEBOARD_FILES_LIMITED,ao.ZG.WHITEBOARD_FILES_LIMITED_BETA].some(e=>{var t;return!!(null==(t=r.restrictions_list)?void 0:t.includes(e))})});let i=(0,uR.getPermissionsState)(e);return{dropdownShown:e.dropdownShown,selectedView:e.selectedView,tileSelect:e.tileSelect,modalShown:e.modalShown,permissionsState:i,userFlags:e.userFlags,userStateLoaded:e.userStateLoaded,userExternallyRestricted:(0,uR.isOrgUserExternallyRestrictedFromState)(i),...(0,EX.gL)(e),selectedBranchKeyByRepoId:e.selectedBranchKeyByRepoId,upsellData:t,prototypes:n}})(hT);function hC(e){let t=(0,lR.xJ)(),a=(0,lR.dO)(),[r]=(0,rv.aM)((0,u6.Tk)({userId:a})),n=(0,ev.useMemo)(()=>(null==r?void 0:r.data)??{},[r]),i=(0,o8.A6)(),l="folder"===i.view?i.folderId:null,s=rv.t1.Folder.useValue(l).data,o=[null==t?void 0:t.drafts_folder_id,null==t?void 0:t.personal_drafts_folder_id].includes(null==s?void 0:s.id);return ev.useEffect(()=>{let e="page_selected_view",t=Ej.xb.get(e);if(t&&t.isRunning&&!t.isUnreliable){let t=Ej.xb.tryStop(e);t&&(0,eK.L9)("File Browser Tab Switch Page Load Time",{elapsedMs:t,selectedView:i.view},{forwardToDatadog:!0,batchRequest:!0})}},[i.view,l]),ev.createElement(hN,{...e,folder:s,isDraftsFolder:o,offlineFiles:n})}function hS(){let{currentUserOrgId:e,currentTeamId:t,deletedFilesByKey:a,deletedReposById:r,tileSortFilterStateByView:n}=(0,eb.v9)(e=>e),i={restore:!0,deleteForever:!0,duplicateToDrafts:!0},l=dn.nR(od.f$.loadingKeyForPayload({orgId:e,teamId:t})),s=(0,ER.ws)(e=>Object.keys(e).map(t=>e[t]).sort((e,t)=>new Date(e.trashed_at)<new Date(t.trashed_at)?1:-1)),o=(0,ER.ws)(e=>Object.keys(e).map(t=>e[t]).sort((e,t)=>new Date(e.repo.trashed_at)<new Date(t.repo.trashed_at)?1:-1)),c=(0,ER.ws)(e=>({tileSortFilterConfig:e,sortKeys:[EO.BO.TRASHED_AT,EO.BO.NAME,EO.BO.CREATED_AT,EO.BO.TOUCHED_AT]})),d=s(a),m=o(r),u=c(n.deletedFiles),_=d.map(e=>({type:EA.YU.FILE,file:e})),p=m.map(e=>({type:EA.YU.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file.key})),g=[..._,...p];return ev.createElement(dr.u,{className:"deleted_page_view--loading--97ogO",isLoading:l},()=>ev.createElement(ev.Fragment,null,ev.createElement(hC,{tiles:g,newFileTile:!1,tileActions:i,sortFilterOptions:u,hideSorter:!0,emptyStateText:(0,eq.t)("file_browser.tool_bar.deleted_empty_state")}),ev.createElement(ED.ap,null)))}function hk(){return ev.createElement(da.S,{viewBarSticky:!0,viewbar:ev.createElement(EW,null),content:ev.createElement(hS,null)})}var hI=a(477135),hL=a(789845),hR=a(870295),hA=a(485091);let hO={LOADING:"loading",ERRORS:"errors",LOADED:"loaded"},hD=e=>{let{endpoint:t,queryParams:a,pageSize:r,parseResponse:n=e=>e,appendData:i=(e,t)=>[...e??[],...t??[]]}=e,l=(0,eb.I0)(),[s,o]=(0,ev.useState)(hO.LOADING),[c,d]=(0,ev.useState)(!0),[m,u]=(0,ev.useState)(!1),[_,p]=(0,ev.useState)(null),[g,E]=(0,ev.useState)(null),h=(0,ev.useCallback)(e=>{o(hO.ERRORS),E(e),l(r7.R.enqueue({message:(0,eq.t)("general.an_error_occurred"),error:!0}))},[o,E,l]),f=(0,ev.useMemo)(()=>{let e=Object.entries(a).filter(([e,t])=>!!t).map(([e,t])=>`${e}=${t}`).join("&");return e?`${t}${-1===t.indexOf("?")?"?":"&"}${e}`:t},[t,a]),{fetchNext:v,hasMore:b}=(0,dp.K6)(f,h,r);(0,ev.useEffect)(()=>{d(!!b)},[b]);let y=(0,ev.useCallback)(async(e=!1)=>{if(e||c&&!m){u(!0);let t=await v(e),a=n(t);p(e=>i(e,a)),u(!1),o(hO.LOADED)}},[c,m,v,n,o,p,i]),w=(0,ev.useCallback)(e=>{switch(e.type){case"refetch":return y(!0);case"fetchNextPage":return y();default:throw Error(`Unsupported action ${e.type}`)}},[y]);return(0,ev.useEffect)(()=>{o(hO.LOADING),p(null),E(null),w({type:"refetch"})},[f]),[{status:s,data:_,errors:g,isFetchingNextPage:m,hasNextPage:b},w]},hF=e=>{switch(e){case EO.$Q.DESIGN:return"design";case EO.$Q.FIGJAM:return"whiteboard";case EO.$Q.PROTOTYPE:return"prototype";default:return null}},hM=e=>{switch(e){case EO.$Q.DESIGN:return ao.gg.DESIGN;case EO.$Q.FIGJAM:return ao.gg.WHITEBOARD;case EO.$Q.PROTOTYPE:default:return null}},hP=e=>{switch(e){case EO.BO.NAME:return"name";case EO.BO.CREATED_AT:return"created_at";case EO.BO.TOUCHED_AT:return"updated_at";default:return null}},hB=e=>{let t=(0,eb.v9)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]),a=(0,ev.useMemo)(()=>({file_type:hF(null==t?void 0:t.filters.fileType)??"",sort_order:(null==t?void 0:t.sort.dir)===EO.qP.ASC?"asc":"desc",sort_column:hP(null==t?void 0:t.sort.key)??"created_at"}),[null==t?void 0:t.filters.fileType,null==t?void 0:t.sort.dir,null==t?void 0:t.sort.key]);return hD({endpoint:`/api/folders/${e.folderId}/paginated_files`,queryParams:a,pageSize:50,appendData:(e,t)=>null!==t?{files:[...(null==e?void 0:e.files)??[],...t.files??[]],repos:[...(null==e?void 0:e.repos)??[],...t.repos??[]],roles:[...(null==e?void 0:e.roles)??[],...t.roles??[]],folder:(null==t?void 0:t.folder)??(null==e?void 0:e.folder)}:e})},hU=e=>{var t,a,r,n,i,l,s;let o=(0,eb.v9)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]),c=(0,dV.mU)(dH.DraftFilesView,{draftsFolderId:e.folderId,cursorColumn:(s=hP(null==o?void 0:o.sort.key)??"created_at",`${(0,dg.iP)(s)}AndId`),sortOrder:(null==o?void 0:o.sort.dir)===EO.qP.ASC?"ASC":"DESC",firstPageSize:50,editorType:hM(null==o?void 0:o.filters.fileType)}),d=(0,ev.useCallback)(e=>{var t,a,r,n,i,l;switch(e.type){case"fetchNextPage":"loaded"===c.status&&(null==(r=null==(a=null==(t=c.data)?void 0:t.currentUser)?void 0:a.draftFiles)?void 0:r.hasNextPage())&&(null==(l=null==(i=null==(n=c.data)?void 0:n.currentUser)?void 0:i.draftFiles)||l.loadNext(50));break;case"refetch":case"subscribe":case"unsubscribe":return;default:throw Error(`Unsupported action ${e.type}`)}},[c]),m="loaded"===c.status&&((null==(r=null==(a=null==(t=c.data)?void 0:t.currentUser)?void 0:a.draftFiles)?void 0:r.isLoadingNextPage)??!1),u="loaded"===c.status&&(null==(l=null==(i=null==(n=c.data)?void 0:n.currentUser)?void 0:i.draftFiles)?void 0:l.hasNextPage()),_=(0,ev.useMemo)(()=>{var e,t;if("loaded"!==c.status||!(null==(e=c.data)?void 0:e.project))return null;let a=[],r=[],n=new Set,i=c.data.project.roles.map(e=>{let t=(0,hA.MB)(e);return t.user=(0,hA.MB)(e.user),t.resource_id_or_key=e.resourceId,t.folder_id=e.resourceId,t}),l=(0,hA.MB)(c.data.project);for(let e of(null==(t=c.data.currentUser)?void 0:t.draftFiles)??[])!e.file||e.file.trashedAt||e.file.deletedAt||(e.file.repo&&!n.has(e.file.repo.id)&&(n.add(e.file.repo.id),r.push((0,hA.MB)(e.file.repo))),a.push({...(0,hA.MB)(e.file),last_published_at:e.file.lastPublishedAt||null}));let s={files:a,repos:r,roles:i,folder:l};return(0,hA.O4)(s),s},[c]),p={data:_,errors:c.errors,status:c.status,isFetchingNextPage:m,hasNextPage:u};return[p,d]};var hV=a(817028);function hW(e,t,a){let{root:r,rootMargin:n,threshold:i}=a??{},[l,s]=(0,ev.useState)(null),[o]=(0,ev.useState)(()=>new Map),[c]=(0,ev.useState)(()=>new Map);return(0,ev.useEffect)(()=>{var e;e=()=>{try{let e=new IntersectionObserver(e=>{e.forEach(e=>{let a=c.get(e.target);null!=a&&t(e,a)})},{root:r,rootMargin:n,threshold:i});s(e)}catch(e){(0,ae.Jz)(m0.k.UNOWNED,Error(`Failed to initialize IntersectionObserver ${e}`))}},setTimeout(function(){requestAnimationFrame(e)})},[e,t,o,c,r,n,i]),(0,ev.useEffect)(()=>()=>{null==l||l.disconnect(),c.clear()},[c,l]),(0,ev.useEffect)(()=>{e.forEach(e=>{let t=o.get(e);null==t&&(t=ev.createRef(),o.set(e,t)),(null==t?void 0:t.current)&&!c.has(t.current)&&(null==l||l.observe(t.current),c.set(t.current,e))})},[l,e,c,o]),o}function hG(e){let{onShouldFetchNextPage:t,children:a}=e,[r,n]=(0,ev.useState)(!1),i=(0,ev.useCallback)(({isIntersecting:e})=>{e&&r&&(t(),n(!1)),n(!e)},[t,r]),l=function(e,t){let[a]=(0,ev.useState)([Symbol()]);return hW(a,e,void 0).get(a[0])}(i);return ev.createElement(ev.Fragment,null,a,ev.createElement("div",{ref:l,style:{height:"1px"}}))}var hj=((d=hj||{})[d.WARN=0]="WARN",d[d.WARN_SOFT=1]="WARN_SOFT",d[d.ANNOUNCEMENT=2]="ANNOUNCEMENT",d[d.EVENT=3]="EVENT",d);let hH="banners--warn--bC4ke",h$="banners--primaryCtaButton--tyhCJ",hz="banners--content--ciED3",hK="banners--titleSmall--ceZgU",hZ="banners--bold--qt00U",hq="banners--message--9BMLM",hY="banners--messageSmall--YT-82",hJ="banners--secondaryCtaButton--uYrvi",hQ="banners--ctaButtonGroup--r8cfU",hX="banners--closeButton--IXY-V",h0="banners--teamBannerWithBackground--CwS6V banners--banner--l8udl",h1="banners--teamUpgradeNotice--gqc9c",h2="banners--softWarningBanner--QK9Y5",h3="banners--softWarningBannerBlue--uQmhb",h4=a(215996),h8=ev.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),ev.createElement("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48"},ev.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})),ev.createElement("g",{mask:"url(#mask0_4:25)"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"}));class h5 extends ev.PureComponent{render(){let{title:e,message:t,cta:a,ctaTrackingProperties:r,learnMoreUrl:n,onClickCta:i,severity:l,secondaryCTA:s,secondaryOnClickCta:o,svg:c,trackingContextName:d="Banner",contentStyles:m,reverseCtas:u,dismissible:_,onClose:p}=this.props;return l===hj.ANNOUNCEMENT?ev.createElement(e3.Ui,{name:d,properties:{severity:l,...this.props.tracking}},ev.createElement("div",{className:hz},c&&ev.createElement(eD.n,{svg:c,useOriginalSrcFills_DEPRECATED:!0}),ev.createElement("div",{className:hq},ev.createElement("div",{className:hK},e),ev.createElement("div",{className:hY},t)),ev.createElement(eA.hE,{reversed:u,className:hQ},i&&ev.createElement(eA.RS,{className:h$,onClick:i,trackingProperties:r},a),o&&ev.createElement(eA.pJ,{className:hJ,onClick:o},s),_&&p&&ev.createElement(n6.PZ,{className:hX,onClick:p})))):l===hj.EVENT?ev.createElement(e3.Ui,{name:d,properties:{severity:l,...this.props.tracking}},ev.createElement("div",{className:`${hz} ${m}`},ev.createElement("div",{className:"banners--eventMegaphoneIcon--7J3rx"},h8),ev.createElement("div",{className:hq},ev.createElement("p",{className:hK},e),ev.createElement("p",{className:hY},t)),ev.createElement(eA.hE,{className:hQ},i&&ev.createElement(eA.RS,{className:h$,onClick:i,trackingProperties:r},a),o&&ev.createElement(eA.pJ,{className:hJ,onClick:o},s),_&&p&&ev.createElement(n6.PZ,{className:hX,onClick:p})))):ev.createElement(e3.Ui,{name:d,properties:{severity:l,...this.props.tracking}},ev.createElement("div",{className:`${hz} ${m}`},ev.createElement(eD.n,{svg:h4,className:"banners--warningIcon--A5YS-",autosize:l===hj.WARN_SOFT}),ev.createElement("div",{className:hq},ev.createElement("span",{className:"banners--title--OIA0P"},e),t,n&&ev.createElement("span",null,"\xa0",ev.createElement("a",{target:"_blank",rel:"noopener",href:n},ev.createElement(eq.Tx,{id:"payments.learn_more"})))),ev.createElement(eA.hE,{reversed:u,className:hQ},i&&ev.createElement(eA.RS,{className:h$,onClick:i,trackingProperties:r},a),!i&&ev.createElement("div",{className:"banners--ctaMessage--5MB88"},a),_&&p&&ev.createElement(n6.PZ,{className:hX,onClick:p}))))}}h5.displayName="BannerContentView";var h9=a(809988),h6=a(336777),h7=a(881835),fe=a(625893),ft=a(676973),fa=a(198809),fr=a(638669),fn=a(186896);let fi=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.teams),r=a[e.teamId].subscription,n=e.paymentRequiresAction;return(0,ev.useEffect)(()=>{fn.n.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,av.Ne)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,ev.useEffect)(()=>{n||r===ao.Qe.INCOMPLETE||t(ig.h0({type:fi.type}))},[r,t,n]),ev.createElement(ib.sv,{title:(0,eq.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,eq.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:cC.y.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"}},ev.createElement(eq.Tx,{id:"payments.pending_subscription_modal_description"}))},"PENDING_SUBSCRIPTION_CHANGE_MODAL"),fl=Date.now(),fs=Date.parse("16 May 2023 00:00:00 UTC"),fo=Date.parse("17 May 2023 00:00:00 UTC"),fc=a(88716),fd=(e,t)=>{var a;return(0,eT.BZ)().deprecate_styles_publish_banner&&e&&fl<fo&&!t.currentUserOrgId&&!t.userFlags.dismissed_deprecate_styles_banner&&(null==(a=t.userAnalyticsData)?void 0:a.show_styles_deprecate_banner)},fm=a(808471),fu=a(725291),f_=a(589225),fp=a(33860),fg=(e,t)=>{let a;if(!e.currentUserOrgId||!(0,gB.xT)(e.currentUserOrgId,e))return null;let r=e.orgById[e.currentUserOrgId],n=(0,uR.canAdminOrg)(e.currentUserOrgId,e),i=r.past_due_at&&(0,gk.Z)(r.past_due_at).add(2,"weeks")>(0,gk.Z)(new Date);if(!n&&i)return null;let l=(0,_q.Ll)(e.orgUsersByOrgId.orgUsers[e.currentUserOrgId]),s=l.map(e=>ev.createElement("span",{key:e.id,className:hZ},e.user.handle," (",e.user.email,")"));return a=n?r.billing===uO.zW.CHARGE_IMMEDIATELY?ev.createElement(eq.Tx,{id:"payments.org_past_due_on_payment",invoice:ev.createElement("a",{onClick:()=>{null==t||t(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.BILLING}))}},ev.createElement(eq.Tx,{id:"payments.outstanding_invoice"})),orgName:r.name}):ev.createElement(eq.Tx,{id:"payments.org_past_due_on_payment_invoiced",email:ev.createElement("b",{className:hZ},"support@figma.com"),orgName:r.name}):ev.createElement(eq.Tx,{id:"payments.please_reach_out_to_org_admins",orgName:r.name,admins:(0,uR.canMemberOrg)(e.currentUserOrgId,e)&&ev.createElement("span",null," ",ev.createElement(h9.x,{formatType:"disjunction"},s)),numAdmins:s.length}),{severity:hj.WARN,title:(0,eq.t)("payments.payment_not_received"),message:a,cta:null,onClickCta:null}},fE=(e,t,a,r,n)=>{var i;let l=a?r.teams[a]:null;if(a&&!l||"file"===e)return null;let s=r.currentTeamId,o=l&&l.subscription===ao.Qe.GRACE_PERIOD,c=r.billingSummary,d=(null==l?void 0:l.subscription)===ao.Qe.INCOMPLETE,m=!!(null==l?void 0:l.org_id),u=!!(null==l?void 0:l.subscription),_=e=>{var t;return(null==e?void 0:e.status)==="open"&&(null==(t=null==e?void 0:e.payment_intent)?void 0:t.status)===_y.JO.REQUIRES_SOURCE_ACTION},p=(0,eT.BZ)().requires_action_3ds_banner&&o&&!m&&u&&(_(null==c?void 0:c.last_monthly_invoice)||_(null==c?void 0:c.last_annual_invoice)),g=o&&!p,E=(0,eT.BZ)().display_3ds_frontend&&l&&(d||p),h=l&&l.subscription===ao.Qe.PAST_DUE,f=l&&l.subscription===ao.Qe.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,v=a&&(0,uR.canOwnTeam)(a,r),b=a&&(0,uR.canAdminTeam)(a,r),y=a&&(0,uR.canEditTeam)(a,r),w=l&&(0,gB.cv)(l.id,r),T=l&&!(0,gB.gX)(l)&&!l.student_team&&w,x="folder"===e?t:null,N=0,C={showReminder:!1,showAccessRestricted:!1},S=a||(null==x?void 0:x.team_id),k="folder"===e&&!x;if(r.user){let t=S?(0,uR.getRolesForUserAndTeam)(S,r):[],a=S&&(0,uR.hasMinRole)(t,uq.V.EDITOR),n=["folder","team"].includes(e)&&a,{ps_benchmark:i}=(0,eT.BZ)(),l=(0,g4.dE)(r.user),o=r.userEduGracePeriods;k?(i&&s&&(0,g4.rv)(r.user.id,r.roles.byTeamId,r.teams[s])||!i&&(0,g4.TW)(r.user.id,r.roles.byTeamId,r.teams))&&(C=(0,g4.M5)(o,l),N=(0,g4.eM)(o)):S&&n&&(C=(0,g4.XW)(o,l,S,!!r.teams[S].student_team),N=(0,g4.Km)(o,S))}let I=l&&!(0,gB.gX)(l)&&!l.student_team&&x&&!(0,EF.Gd)(x),L=I&&x.is_invite_only,R=I&&x.is_view_only,A=x&&(0,EF.iF)(x),O=!A&&!l&&x&&(0,gB.yH)(x,r),D=()=>null==n?void 0:n(u$.F2({teamId:l.id,selectedView:r.selectedView})),F=e=>{e.preventDefault(),null==n||n(ig.K4({type:fr.o,data:{teamId:a}}))},M=()=>{null==n||n(od.fv({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:gP.m.SETTINGS}))},P=()=>ew.default.redirect("/education/apply","_blank"),B=()=>null==n?void 0:n(u$.F2({teamId:l.id,openInNewTab:!1,selectedView:{view:"team",teamId:l.id}})),U=()=>null==n?void 0:n((0,ig.K4)({type:_8.nY,data:{upsellSource:g0.V.BANNER}})),V=fg(r,n);if(V)return V;let W=(0,gB.M4)(l),G=l&&l.subscription_raw!==ao.Qe.OK&&(0,gB.iH)(l)&&b&&h7.pl.getProTrialStatus(l)!==ft.Y.IN_TRIAL&&(r.selectedTab===gP.x.SETTINGS||W&&r.selectedTab===gP.x.HOME),j=["team","folder"].includes(e)&&y&&(0,Eb.Pw)(l),H=y&&fv(l,r.userTeamFlags),$=(0,uR.isOrgUserExternallyRestricted)(r.user,r.currentUserOrgId),z=h7.pl.canSeeExpiredProTrialBanner(r.userTeamFlags,l,r),K=l&&(null==(i=r.userTeamFlags[l.id])?void 0:i[h7.St]),Z=r.user?(0,g4.di)(r.eduPeriodEnd,(0,g4.dE)(r.user)):1/0,q=Z>0&&Z!==1/0,Y=0===Z,J=l&&l.student_team_state===_y.QX.STUDENT_TEAM_CURRENT,Q=l&&l.student_team_state===_y.QX.STUDENT_TEAM_EXPIRED&&w,X=q&&v&&J,ee=Y&&v&&Q,et=q&&y&&J,ea=Y&&!y&&J,er=(0,eT.BZ)().edu_offboarding_experience&&(X||ee||et||ea),en=(0,eT.BZ)().edu_offboarding_experience&&Q;if(g)return{severity:hj.WARN,title:(0,eq.t)("payments.payment_failed"),message:(0,eq.t)("payments.payment_failed_explanation"),cta:b?(0,eq.t)("payments.update_payment"):(0,eq.t)("payments.contact_admin"),ctaTrackingProperties:b?{trackingDescriptor:cC.y.UPDATE_PAYMENT}:void 0,onClickCta:b?M:null};if(h)return{severity:hj.WARN,title:(0,eq.t)("payments.locked"),message:(0,eq.t)("payments.locked_description",{teamName:l.name}),cta:b?(0,eq.t)("payments.update_payment"):(0,eq.t)("payments.contact_admin"),ctaTrackingProperties:b?{trackingDescriptor:cC.y.UPDATE_PAYMENT}:void 0,onClickCta:b?M:null};if(f)return{severity:hj.WARN,title:(0,eq.t)("payments.locked"),message:b?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"payments.no_monthly_sub_over_editor_limit_admin.seat_rename",contactSupport:ev.createElement("a",{href:"mailto:support@figma.com"},ev.createElement(eq.Tx,{id:"payments.contact_support"}))})):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"payments.no_monthly_sub_over_editor_limit.seat_rename"})),cta:b?(0,eq.t)("payments.manage_plan"):null,onClickCta:b?()=>{null==n||n(od.fv({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:gP.m.SETTINGS}))}:null};if(z&&(w||y&&!K)){let e,t,r,i;return w?(e=y?ev.createElement(eq.Tx,{id:"payments.pro_trial_expiry.locked_description_on_team",teamName:l.name,lowerUsageLink:ev.createElement(e3.XT,{onClick:F},ev.createElement(eq.Tx,{id:"payments.pro_trial_expiry.lower_usage"}))}):ev.createElement(eq.Tx,{id:"payments.pro_trial_expiry.locked_description_for_viewer_on_team",teamName:l.name}),t=y?ev.createElement(eq.Tx,{id:"payments.pro_trial_upgrade_cta.upgrade"}):null,r=`${h2} `,i="Pro Trial Expiry Banner Locked"):(e=l?ev.createElement(eq.Tx,{id:"payments.pro_trial.trial_ended_banner_message",teamName:l.name}):ev.createElement(eq.Tx,{id:"payments.pro_trial.trial_ended_banner_message.no_name"}),t=ev.createElement(eq.Tx,{id:"payments.pro_trial.trial_ended_banner_upgrade_cta"}),r=`${h2} ${h3}`,i="Pro Trial Expiry Banner Unlocked"),{severity:hj.WARN_SOFT,title:(0,eq.t)("payments.pro_trial.trial_ended_banner_title"),message:e,cta:t,onClickCta:y?B:void 0,svg:fm,bannerClassName:r,trackingContextName:i,dismissible:!w,onClose:w?void 0:()=>{a&&(null==n||n(h6.v_({all_team_flags:[{team_id:a,flags:{[h7.St]:!0}}]})))}}}if(er){let e=()=>null==n?void 0:n(ig.K4({type:fa.Lk,data:{team:l}}));if(X||et)return{severity:hj.WARN_SOFT,title:ev.createElement(eq.Tx,{id:"edu.banner.your_education_status_is_expiring_soon"}),message:ev.createElement(eq.Tx,{id:"edu.banner.to_keep_collaborating_upgrade_team",teamName:l.name,verify:ev.createElement(eA.Z6,{href:"/education/apply",target:"_blank",trusted:!0},ev.createElement(eq.Tx,{id:"edu.banner.verify_your_education_status"}))}),cta:ev.createElement(eq.Tx,{id:"edu.banner.learn_more"}),onClickCta:e,svg:fp,bannerClassName:`${h2} ${h3}`,trackingContextName:"Edu Offboarding Banner"};if(ee)return{severity:hj.WARN_SOFT,title:ev.createElement(eq.Tx,{id:"edu.banner.your_education_plan_has_expired"}),message:ev.createElement(eq.Tx,{id:"edu.banner.team_is_now_view_only_for_all_members",teamName:l.name}),cta:ev.createElement(eq.Tx,{id:"edu.banner.learn_more"}),onClickCta:e,svg:fp,bannerClassName:h2,trackingContextName:"Edu Offboarding Banner"};if(ea)return{severity:hj.WARN_SOFT,title:ev.createElement(eq.Tx,{id:"edu.banner.your_education_plan_has_expired"}),message:ev.createElement(eq.Tx,{id:"edu.banner.you_can_no_longer_edit_files",teamName:l.name}),cta:ev.createElement(eq.Tx,{id:"edu.banner.learn_more"}),onClickCta:e,svg:fp,bannerClassName:h2,trackingContextName:"Edu Offboarding Banner"}}else if(en)return{severity:hj.WARN_SOFT,title:ev.createElement(eq.Tx,{id:"edu.banner.team_s_education_status_has_expired",teamName:l.name}),message:ev.createElement(eq.Tx,{id:"edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"}),cta:null,svg:fp,bannerClassName:h2,trackingContextName:"Edu Offboarding Banner"};else if(T){let e;return e=b||y?ev.createElement("span",null,ev.createElement("b",{style:ie.sx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"payments.team_over_starter_team_limit",teamName:l.name})," "),ev.createElement(eq.Tx,{id:"payments.team_over_starter_team_limit_upgrade",teamName:l.name,lowerYourUsage:ev.createElement("a",{href:"#",onClick:F},ev.createElement(eq.Tx,{id:"payments.team_over_starter_team_limit_lower_your_usage"}))})):ev.createElement("span",null,ev.createElement("b",{style:ie.sx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"payments.team_over_starter_team_limit",teamName:l.name})," "),ev.createElement(eq.Tx,{id:"payments.contact_admin_for_details"})),{severity:hj.WARN,title:(0,eq.t)("payments.locked"),message:e,cta:y?(0,eq.t)("payments.upgrade_now"):null,ctaTrackingProperties:y?{trackingDescriptor:cC.y.UPGRADE_NOW,upsellSource:g0.V.BANNER}:void 0,onClickCta:y?D:null}}else if($){let e=(0,eq.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(r.currentUserOrgId){let t=r.orgById[r.currentUserOrgId];e=(0,eq.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:t.name})}return{severity:hj.WARN,title:(0,eq.t)("external_collaboration_restricted.banner.title"),message:e,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}else if(r.user&&["team","folder"].includes(e)&&C.showAccessRestricted){let e,t=(0,eq.t)("banner.edu_grace_period.your_education_plan_has_expired");return l?(0,g4.oL)(r.user.id,r.roles.byTeamId,l)?e=(0,eq.t)("banner.edu_grace_period.team_is_now_view_only_for_all_members",{teamName:l.name}):(0,g4.xq)(r.user.id,r.roles.byTeamId,l)?e=(0,eq.t)("banner.edu_grace_period.you_can_no_longer_edit_files_in_team",{teamName:l.name}):(t=(0,eq.t)("banner.edu_grace_period.your_education_plan_has_expired.is_member",{teamName:l.name}),e=(0,eq.t)("banner.edu_grace_period.move_or_duplicate_files_to_another_location_to_save_your_work")):e=(0,eq.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),{severity:hj.ANNOUNCEMENT,title:t,message:e,learnMoreUrl:"/education/",cta:(0,eq.t)("banner.edu_grace_period.verify_status_button"),onClickCta:P,svg:fp,bannerClassName:h1}}else if(["team","folder"].includes(e)&&C.showReminder)return{severity:hj.ANNOUNCEMENT,title:(0,eq.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:N}),message:(0,eq.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,eq.t)("banner.edu_grace_period.verify_status_button"),onClickCta:P,svg:f_};else if(L||R)return{severity:hj.WARN,title:(0,eq.t)("payments.folder_locked"),message:(0,eq.t)("payments.folder_locked_description",{projectType:"Invite"==(L?"Invite":"View")?(0,eq.t)("payments.invite_only_projects"):(0,eq.t)("payments.view_only_projects"),teamName:l.name}),learnMoreUrl:"/pricing",cta:y?(0,eq.t)("payments.upgrade_now"):(0,eq.t)("payments.contact_admin_for_details"),ctaTrackingProperties:y?{trackingDescriptor:cC.y.UPGRADE_NOW,upsellSource:g0.V.BANNER}:void 0,onClickCta:y?D:null};else if(O&&"folder"===e)return{severity:hj.WARN,title:(0,eq.t)("payments.locked"),message:(0,eq.t)("payments.projects_deprecated"),learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null};else if(A&&"folder"===e)return{severity:hj.WARN,title:(0,eq.t)("payments.abandoned_project"),message:(0,eq.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if(H){let e=(0,eq.t)("payments.file_limit_unified",{figmaFiles:gB.Hf,figjamFiles:gB.Hf});j?H||(e=(0,eq.t)("payments.file_limit_figjam",{figjamFiles:gB.Hf})):e=(0,eq.t)("payments.file_limit_figma",{figmaFiles:gB.Hf});let t=()=>ev.createElement("button",{type:"button",onClick:U,className:"banners--bannerInlineTextButton--GRx12"},ev.createElement(eq.Tx,{id:"payments.check_out_our_paid_plans"})),a=l?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"payments.team_over_starter_team_limit_with_button.legacy_team",fileLimitString:e,checkoutOurPlans:t(),teamName:l.name})):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"payments.team_over_starter_team_limit_with_button.no_legacy_team_present",fileLimitString:e,checkoutOurPlans:t()}));return{severity:hj.ANNOUNCEMENT,title:(0,eq.t)("payments.team_over_starter_team_limit_title"),message:a,cta:(0,eq.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:cC.y.UPGRADE_NOW,upsellSource:g0.V.BANNER},onClickCta:D,svg:fu,bannerClassName:h1,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(G){let e=(0,gk.Z)(l.grace_period_end).toDate(),t=ev.createElement(eq.Tx,{id:"payments.pro_plan_ends_relative_time_string",relative_time_string:ev.createElement(n2.Lt,{date:e})});return W||(t=ev.createElement(eq.Tx,{id:"payments.pro_plan_ends_on_date",end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)})),{severity:hj.ANNOUNCEMENT,title:t,message:(0,eq.t)("payments.pro_plan_ends_for_team_description",{teamName:l.name}),cta:(0,eq.t)("payments.pro_plan_ends_button"),onClickCta:B,svg:W?fu:fm,trackingContextName:"Promo Code Expiration Banner",bannerClassName:W?h1:void 0}}else if(fd(k,r))return function(e,t,a){let r=fl<fs?(0,eq.t)("banner.deprecate_styles.title"):(0,eq.t)("banner.deprecate_styles.title_24_hours");return{severity:hj.ANNOUNCEMENT,title:r,message:(0,eq.t)("banner.deprecate_styles.message"),cta:(0,eq.t)("banner.deprecate_styles.upgrade"),onClickCta:()=>null==a?void 0:a((0,ig.K4)({type:_w.yd,data:{team:e,currentPlan:_f.V.Plan.STARTER,upsellPlan:_f.V.Plan.PRO,resource:_v.gx.PUBLISH_STYLES}})),svg:fc,dismissible:!0,onClose:()=>{null==a||a(m1.v({dismissed_deprecate_styles_banner:!0})),(0,eH.iP)("Deprecate Styles Banner Exit",t,{})},bannerClassName:"banners--deprecatedStylesBanner--ckDCP"}}(l,r,n);else if(E){let e=d?(0,eq.t)("payments.complete_team_payment_description",{teamName:l.name}):(0,eq.t)("payments.complete_team_renewal_payment_description");return{severity:hj.WARN,title:(0,eq.t)("payments.complete_payment"),message:e,cta:ev.createElement(oM.J,{trackingProperties:{trackingDescriptor:cC.y.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>null==n?void 0:n(ig.K4({type:fi,data:{teamId:a,paymentRequiresAction:p}}))},ev.createElement(eq.Tx,{id:"payments.complete_payment_cta"})),onClickCta:null}}return null},fh=(e,t,a,r)=>{let n={userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,uR.getPermissionsState)(e)};return!!fE(t,a,r,n,null)},ff=(e,t)=>{let a={...e};return"string"==typeof t.title&&(a.title=t.title),"string"==typeof t.message&&(a.message=t.message),a},fv=(e,t)=>{var a;let r=e&&(null==(a=t[e.id])?void 0:a.dismissed_legacy_team_upgrade_notice_banner);return(0,Eb.w9)(e)&&!r},fb=(0,eb.$j)(e=>{var t;return{userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduValidated:!!(null==(t=e.user)?void 0:t.student_validated_at),userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,uR.getPermissionsState)(e)}})(function(e){var t,a;let r;let n=(0,dV.mU)(dH.EduOffboardingData,{}),i=e.folderId?e.folders[e.folderId]:null,l=i?i.team_id:null,s=e.dispatch,o=l&&(0,uR.canAdminTeam)(l,e),c=l?e.teams[l]:null,d=!!(null==c?void 0:c.org_id),m=!!(null==c?void 0:c.subscription);(0,ev.useEffect)(()=>{(0,eT.BZ)().requires_action_3ds_banner&&l&&!d&&m&&o&&s(gF.H2({teamId:l}))},[s,l,d,m,o]);let u=(0,eb.v9)(e=>{var t;return null==(t=e.teamBilling)?void 0:t.summary}),_=fE(ao._g.FOLDER,i,l,{eduPeriodEnd:null==(a=null==(t=n.data)?void 0:t.currentUser)?void 0:a.eduPeriodEnd,billingSummary:u,...e},e.dispatch);if(!_)return ev.createElement("div",null);r=i?ff({resourceType:ao._g.TEAM,teamId:l,folderId:i.id},_):ff({resourceType:"recents"},_);let p=_.severity===hj.WARN?hH:"",g=_.bannerClassName||"",E=`${h0} ${p} ${g}`;return ev.createElement("div",{className:E},ev.createElement(h5,{..._,tracking:r}))}),fy=e=>(0,eb.v9)(t=>fh(t,e.resourceType||ao._g.FOLDER,e.resource||null,e.teamId||null)),fw={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},fT=(0,eb.$j)(()=>{let e=(0,ER.ws)(EF.NP),t=(0,ER.ws)(EF.zT);return(a,{folderId:r})=>{let n=e(r,a.folders,a.fileByKey,a.fileKeysByFolderId,a.fileKeysByRepoId,a.repos,a.repoIdsByFolderId,(0,uR.getPermissionsStateMemoized)(a));return{folder:n,sortFilterOptions:t(r,a.tileSortFilterStateByView),loadedFolders:a.loadedFolders,optedOutOfRemoteWorkTemplates:(0,oC.TS)(a),recommendedTemplatesIsHidden:!!a.userFlags.hide_recommended_templates_in_drafts,selectedBranchKeyByRepoId:a.selectedBranchKeyByRepoId,...(0,EX.gL)(a)}}})(function(e){var t,a,r,n,i,l,s,o,c,d,m,u,_,p;let g=(0,eb.I0)(),E=fy({resourceType:ao._g.FOLDER,resource:e.folder,teamId:e.folder.team_id}),h=(0,u6.SZ)(),f=(0,eb.v9)(({currentUserOrgId:e})=>e);(0,eC.it)("exp_aa_test_org_drafts").getConfig(),(0,cS.Qt)(null==(t=e.user)?void 0:t.id);let v=()=>{},b=!1,y=(0,eT.BZ)().livegraph_draft_files_full_read?hU:hB,[w,T]=y({folderId:e.folder.id});b=!!w.hasNextPage;let x=(0,eb.v9)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]),{trackPerformanceEvent:N}=(0,hV.z)("draft_files_pagination_performance",(0,eT.BZ)().livegraph_draft_files_full_read?"livegraph":"legacy");if(ev.useEffect(()=>{N("fetch_end")},[N,null==(r=null==(a=w.data)?void 0:a.files)?void 0:r.length]),ev.useEffect(()=>{w.status===hO.ERRORS&&N("fetch_error",{errors:JSON.stringify(w.errors??{})})},[N,w.status,w.errors]),ev.useEffect(()=>(N("fetch_start"),()=>{N("fetch_cancel")}),[N]),v=ev.useCallback(()=>{w.isFetchingNextPage||(N("fetch_next"),T({type:"fetchNextPage"}))},[w.isFetchingNextPage,T,N]),ev.useEffect(()=>{g((0,hR.oY)({folderId:e.folderId}))},[g,null==x?void 0:x.filters.fileType,null==x?void 0:x.sort.dir,null==x?void 0:x.sort.key,e.folderId]),ev.useEffect(()=>{w.data&&g((0,hR.Tb)({folderId:e.folderId,folderData:w.data}))},[g,e.folderId,w.data]),(0,eT.BZ)().livegraph_draft_files_dark_read&&!(0,eT.BZ)().livegraph_draft_files_full_read){let[t,a]=hU({folderId:e.folder.id}),{trackPerformanceEvent:r}=(0,hV.z)("draft_files_pagination_performance","livegraph");if(ev.useEffect(()=>{r("fetch_end")},[r,null==(i=null==(n=t.data)?void 0:n.files)?void 0:i.length]),ev.useEffect(()=>{t.status===hO.ERRORS&&r("fetch_error",{errors:JSON.stringify(t.errors??{})})},[r,t.status,t.errors]),ev.useEffect(()=>(r("fetch_start"),()=>{r("fetch_cancel")}),[r]),w.status===hO.LOADED&&"loaded"===t.status)try{let e=new Set(["is_favorited","realtime_token","settings","thumbnail_url","thumbnail_url_override"]),a=new Set(["created_at","last_published_at","touched_at","updated_at","view_only_at"]),r=(0,hL.o1)((null==(l=w.data)?void 0:l.files)??[],(null==(s=t.data)?void 0:s.files)??[],e,"key",a),n=(0,hL.o1)((null==(o=w.data)?void 0:o.repos)??[],(null==(c=t.data)?void 0:c.repos)??[],e,"id",a),i=(0,hL.o1)((null==(d=w.data)?void 0:d.roles)??[],(null==(m=t.data)?void 0:m.roles)??[],e,"id",a),g=(0,hL.nJ)((null==(u=w.data)?void 0:u.folder.id)??"missing_folder_id",(null==(_=w.data)?void 0:_.folder)??{},(null==(p=t.data)?void 0:p.folder)??{},e,a);(0,hL.xb)(r)&&(0,hL.xb)(n)&&(0,hL.xb)(i)&&(0,hL.xb)(g)||(0,eK.L9)("Draft Files: Sinatra LG diffs",{orgId:f,filesDiffs:JSON.stringify(r),reposDiffs:JSON.stringify(n),rolesDiffs:JSON.stringify(i),folderDiffs:JSON.stringify(g)})}catch(e){(0,eK.L9)("Draft Files: Sinatra LG diffs",{orgId:f,error:JSON.stringify(e)})}}let{folder:C,sortFilterOptions:S,loadedFolders:k,selectedBranchKeyByRepoId:I}=e,{repos:L,filesByRepoId:R,canEdit:A,isEditingLocked:O,files:D}=C,F=D.map(e=>({type:EA.YU.FILE,file:e})),M=L.filter(e=>!e.trashed_at).map(e=>({type:EA.YU.REPO,repo:e,branches:R[e.id],selectedBranchKey:I[e.id]||""})),P=Object.values(h).filter(e=>e.orgId===f).map(EA.jp),B=[...F,...M,...P],U="loaded"===k[C.id],V=ev.createElement(ev.Fragment,null,ev.createElement(hC,{newFileTile:!0,tiles:B,chunkSize:B.length,tileActions:fw,sortFilterOptions:S,emptyStateText:!A||O?(0,eq.t)("file_browser.folder.empty_state"):"",hideSorter:!0,isDataPartial:b}),ev.createElement(ED.ap,null)),W=ev.createElement(hI.h,{loadingElementId:"loading-content-pane",loaded:U,loadingElementClassName:ek.cx.pr32.$},ev.createElement(hG,{key:`${e.sortFilterOptions.tileSortFilterConfig.filters.fileType}`,onShouldFetchNextPage:v},V));return(0,e3.bC)(ev.createElement(da.S,{viewBarSticky:!0,banner:E?ev.createElement(fb,{folderId:C.id}):void 0,content:W,viewbar:ev.createElement(EW,null)}),r2.V4.FILE_BROWSER,{view:"drafts"})});var fx=a(924620),fN=a(170435),fC=a(676747),fS=a(246905),fk=a(219160),fI=a(784573),fL=a(828837);let fR=(0,it.Y3)(function(e){let t=(0,eb.I0)(),[a,r]=ev.useState(""),n=(0,eb.v9)(e=>e.deletedReposById),i=(0,eb.v9)(e=>e.fileByKey),{reposToDelete:l,draftsToDelete:s,deleteAllDraftsAsync:o,isDeleteAll:c}=e,d=s.map(e=>e.name).concat(l.map(e=>e.name)),m=d.length>1,u=m?(0,eq.t)("file_browser.draft_delete_modal.header_multiple_files_delete",{fileCount:d.length}):(0,eq.t)("file_browser.draft_delete_modal.header_single_file_delete",{fileName:d[0]}),_=(a,r)=>{let l=a.reduce((e,t)=>(e[t.key]=!0,e),{});a.length>0&&t(EK.U({fileKeys:l,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess}));let s={};r.forEach(e=>{let t=n[e.id];if(t)s[e.id]=t;else{let t=e.default_file_key&&i[e.default_file_key];t&&(s[e.id]={repo:e,main_file:t})}}),r.length>0&&t((0,fI.EW)({reposById:s,userInitiated:!0}))},p=()=>fL.W.deleteAllPersonalDrafts().then(()=>t(r7.R.enqueue({message:(0,eq.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled")}))).catch(()=>t(r7.R.enqueue({message:(0,eq.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled_error")}))),g=()=>{let{draftsToDelete:a,reposToDelete:r}=e;a.length+r.length>100?t(dl.l.error((0,eq.t)("file_browser.draft_delete_modal.unable_to_delete",{maxSize:100}))):(e.setSynchronousFileTransferInProgress(!0),_(a,r))},E=()=>{o?p():g(),e.onClose()},h=ev.useMemo(()=>{let e=parseInt(a,10);return isNaN(e)||e!==d.length},[a,d.length]);return ev.createElement(e3.Ui,{name:"draftDeleteModal",properties:{itemCount:d.length,isDeleteAsync:!!o,isDeleteAll:!!c}},ev.createElement(ib.ge,{title:u,minWidth:480,maxWidth:480,onClose:e.onClose,truncateTitleText:!0,fixedCenter:!0},ev.createElement("div",{className:"draft_delete_modal--modalContent--QYGIS"},ev.createElement("p",null,m?(0,eq.t)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts",{fileCount:d.length}):(0,eq.t)("file_browser.draft_delete_modal.permanently_delete_one_draft")),ev.createElement("form",{onSubmit:E},m&&ev.createElement("div",null,ev.createElement(_X.Q,{className:"draft_delete_modal--deleteDraftsInput--pCTUB",type:"text",placeholder:(0,eq.t)("file_browser.draft_delete_modal.draft_deletion_confirmation_text_placeholder",{fileCount:d.length}),value:a,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onChange:e=>{r(e.currentTarget.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),ev.createElement("div",{className:"draft_delete_modal--footer--SRSo6"},ev.createElement(eA.PL,{onClick:e.onClose},ev.createElement(eq.Tx,{id:"modal.cancel"})),ev.createElement(eA.VG,{onClick:E,disabled:!!m&&h,trackingProperties:{isDeletingDraftFromDTM:!0}},ev.createElement("span",{"data-tooltip":(0,eq.t)("file_browser.draft_delete_modal.draft_deletion_confirmation_tooltip",{fileCount:d.length}),"data-tooltip-type":h&&m?aN.fR.TEXT:null,"data-tooltip-max-width":260,"data-tooltip-show-above":!0},ev.createElement(eq.Tx,{id:"file_browser.draft_delete_modal.button_delete"}))))))))},"DraftDeleteModal");var fA=a(20245),fO=a(18372),fD=a(250542);let fF="draft_move_modal--modalBody--tk8mC",fM="draft_move_modal--folderName--Edpgq ellipsis--ellipsis--Tjyfa",fP="draft_move_modal--folderRow--ploo8",fB="draft_move_modal--hoverableFolderRow--hUAas",fU="draft_move_modal--iconContainer--YfzDe",fV=a(324206);var fW=((m=fW||{}).FREE="Free",m.LOCKED="Locked",m.EDU="Edu",m.PRO="Pro",m.ORG="Org",m);let fG=(0,it.Y3)(function(e){var t,a,r,n,i,l;let[s,o]=(0,ev.useState)(null),{onClose:c,draftsToMove:d,reposToMove:m,onMoveSuccess:u,setSynchronousFileTransferInProgress:_,moveAllDraftsAsync:p,isMoveAll:g}=e,E=(0,eb.v9)(e=>(0,uR.getPermissionsStateMemoized)(e)),h=(0,dV.mU)(dH.AccessibleFoldersV2,{orgId:null}),f=(0,eb.I0)(),v=(0,fD.M)(),b=()=>{v(),c()},y=e=>e?(0,gB.gP)(e)?e.studentTeamAt?"Edu":"Pro":(0,gB.cv)(e.id,E)?"Locked":"Free":"Free",w=(null==(r=null==(a=null==(t=h.data)?void 0:t.currentUser)?void 0:a.teamRoles)?void 0:r.map(e=>e.team).filter(e=>!!e))??[],T=w.filter(e=>e&&!e.deletedAt).sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()).map(e=>{var t;return{name:(null==e?void 0:e.name)??"",folderId:null==(t=null==e?void 0:e.currentTeamUser)?void 0:t.draftsFolderId,imgUrl:null==e?void 0:e.imgUrl,teamId:null==e?void 0:e.id,destinationBadgeType:y(e),isDisabled:!1}}).filter(e=>!!e.folderId)??[],x=(null==(l=null==(i=null==(n=h.data)?void 0:n.currentUser)?void 0:i.allOrgUsers)?void 0:l.map(e=>{var t,a,r;return{name:(null==(t=null==e?void 0:e.org)?void 0:t.name)??"",folderId:null==e?void 0:e.draftsFolderId,imgUrl:null==(a=null==e?void 0:e.org)?void 0:a.imgUrl,teamId:null==(r=null==e?void 0:e.draftsProject)?void 0:r.teamId,isDisabled:!0,destinationBadgeType:"Org"}}).filter(e=>!!e.folderId))??[],N=T.concat(x),C=d.map(e=>e.name).concat(m.map(e=>e.name)),S=C.length>1?(0,eq.t)("file_browser.draft_move_modal.header_multiple_files_move",{fileCount:C.length}):(0,eq.t)("file_browser.draft_move_modal.header_single_file_move",{fileName:C[0]}),k=e=>fL.W.migrateAllPersonalDrafts(e).then(()=>f(r7.R.enqueue({message:(0,eq.t)("file_browser.draft_move_modal.async_draft_move_scheduled")}))).catch(()=>f(r7.R.enqueue({message:(0,eq.t)("file_browser.draft_move_modal.async_draft_move_scheduling_error")}))),I=(e,t)=>{d.length>0&&f(fO.p({files:d,folderName:e,folderId:t,isDraftsToMove:!0,onFinishCallback:e=>u(e,d.length),fromFileModal:!0})),m.length>0&&f((0,fI.ks)({repos:m,folderId:t,folderName:e}))};return"loading"===h.status?ev.createElement(ib.ge,{title:S,fixedCenter:!0,minWidth:480,maxWidth:480,onClose:c,truncateTitleText:!0},ev.createElement("div",{className:fF},ev.createElement(ax.zP,{className:"draft_move_modal--spinner--G4CKo"}))):(null==s&&N.length>0&&"Org"!==N[0].destinationBadgeType&&o(N[0].folderId),ev.createElement(e3.Ui,{name:"draftMoveModal",properties:{itemCount:C.length,IsMoveAsync:!!p,isMoveAll:!!g}},ev.createElement(ib.ge,{title:S,fixedCenter:!0,minWidth:480,maxWidth:480,onClose:c,truncateTitleText:!0},ev.createElement("div",{className:fF},ev.createElement(fH,{onCreateNewTeamClick:b}),N&&ev.createElement(cr.l,{width:480},ev.createElement("div",{className:ek.cx.pl8.pr8.$},N.map(e=>ev.createElement(f$,{key:e.folderId,teamId:e.teamId,name:e.name,imgUrl:e.imgUrl,folderId:e.folderId,checked:s===e.folderId,destinationBadgeType:e.destinationBadgeType,isDisabled:e.isDisabled,onSelect:()=>o(e.folderId)})),ev.createElement(fj,{onCreateNewTeamClick:b}))),ev.createElement("div",{className:"draft_move_modal--footer--g-XqF"},ev.createElement(eA.PL,{onClick:c},ev.createElement(eq.Tx,{id:"modal.cancel"})),ev.createElement(eA.RS,{disabled:!s,onClick:()=>{let e=N.find(e=>e.folderId===s);s&&e&&(p?k(e.teamId):(_(!0),I(e.name,s)),c())}},(0,eq.t)("file_browser.file_move.move")))))))},"DraftMoveModal");function fj(e){return ev.createElement(e3.KT,{"data-testid":"new-plan-button",className:tQ()(fP,fB),onClick:e.onCreateNewTeamClick,innerText:"Drafts to move create new"},ev.createElement("div",{className:fU},ev.createElement(eD.n,{className:ek.cx.colorIcon.$,svg:fV})),ev.createElement("span",{className:fM},ev.createElement(eq.Tx,{id:"file_browser.draft_move_modal.create_new_plan_button_text"})))}function fH(e){return ev.createElement("div",{className:"draft_move_modal--chooseTeamOrOrgRow--OPBwF"},ev.createElement(eq.Tx,{id:"file_browser.draft_move_modal.choose_team_or_organization_for_files_with_link",createNewTeamLink:ev.createElement(eA.Z6,{onClick:e.onCreateNewTeamClick,trusted:!0},ev.createElement(eq.Tx,{id:"file_browser.draft_move_modal.create_new_plan_link"}))}))}function f$(e){let t,a;switch(e.destinationBadgeType){case"Free":t=ev.createElement(eq.Tx,{id:"file_browser.draft_move_modal.destination_description_access_will_become_view_only"}),a=(0,eq.t)("file_browser.draft_move_modal.destination_description_badge_free");break;case"Locked":t=ev.createElement(eq.Tx,{id:"file_browser.draft_move_modal.destination_description_access_will_become_view_only"}),a=(0,eq.t)("file_browser.draft_move_modal.destination_description_badge_locked");break;case"Edu":t=ev.createElement(eq.Tx,{id:"file_browser.draft_move_modal.destination_description_collaborator_access_may_change"}),a=(0,eq.t)("file_browser.draft_move_modal.destination_description_badge_edu");break;case"Pro":t=ev.createElement(eq.Tx,{id:"file_browser.draft_move_modal.destination_description_collaborator_access_may_change"}),a=(0,eq.t)("file_browser.draft_move_modal.destination_description_badge_pro");break;case"Org":a=(0,eq.t)("file_browser.draft_move_modal.destination_description_badge_org");let r=ev.createElement(eA.Z6,{className:"draft_move_modal--learnMoreLink--b5crD",trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/18409526530967"},ev.createElement(eq.Tx,{id:"file_browser.draft_move_modal.learn_more_link"}));t=ev.createElement(eq.Tx,{id:"file_browser.draft_move_modal.destination_description_cannot_be_moved_here",learnMoreLink:r})}let n=!e.checked&&"Org"!==e.destinationBadgeType;return ev.createElement("button",{"data-testid":`${e.name}-button`,className:tQ()(fP,e.checked?"draft_move_modal--selectedFolderRow--XmVi7":"",n?fB:""),onClick:e.onSelect,disabled:e.isDisabled},ev.createElement("div",{className:fU},ev.createElement(oo.Ir,{size:oo.DZ.MEDIUM,shape:"CIRCLE",fallbackDisplay:fA.D.HIDDEN,team:{id:e.teamId,imgUrl:e.imgUrl}})),ev.createElement("div",{className:fM},ev.createElement("span",{className:"draft_move_modal--destinationHeading--dBe0G"},e.name),ev.createElement("span",{className:"Org"===e.destinationBadgeType?"draft_move_modal--destinationDescriptionOrg--wEClH draft_move_modal--destinationDescription--fMcX-":"draft_move_modal--destinationDescription--fMcX-"},t)),ev.createElement(os.Ct,{text:a,color:e.checked?os.JV.TOOLBAR_SELECTED:os.JV.DEFAULT,className:ek.cx.mr8.if(!e.checked,ek.cx.colorBgBrandTertiary.colorText).$}))}var fz=a(998547),fK=a(312938),fZ=a(418363);let fq=(e,t)=>{let a=new Date,r=a.getTime()-e.getTime();return!(r>18e5)&&(!t||e.getTime()>t.getTime())};function fY(){let{fileByKey:e,fileKeysByFolderId:t,deletedFilesByKey:a,loadedFolders:r,user:n}=(0,eb.v9)(e=>e),i=(0,eb.I0)(),l=(0,eb.v9)(e=>e.userFlags),s=(0,eT.BZ)().ps_benchmark,o=null==n?void 0:n.personal_drafts_folder_id;ev.useEffect(()=>{s&&o&&i((0,hR.G3)({folderId:o,loadedFolders:r}))},[s,r,i,o]),ev.useEffect(()=>{s&&i(od.f$({orgId:null,teamId:null}))},[s,i]);let c=(0,ev.useMemo)(()=>s&&o?(t[o]??[]).map(t=>e[t]).filter(e=>!!e):[],[s,e,t,o]);if(fJ(n,l))return[];let d=Object.keys(a).map(e=>a[e]).filter(e=>e.folder_id===o);return c.concat(d)}function fJ(e,t){if(!(0,eT.BZ)().ps_benchmark||(0,uR.orgUserHasExternalRestriction)(e))return!0;let{personal_draft_migration_scheduled:a,personal_draft_migration_completed:r,personal_draft_deletion_scheduled:n,personal_draft_deletion_completed:i}=t,l=a&&fq(a.updatedAt,null==r?void 0:r.updatedAt),s=n&&fq(n.updatedAt,null==i?void 0:i.updatedAt);return l||s}var fQ=a(465412);let fX="drafts_to_move_page_view--fileCellDateSpan--e-d0X",f0="drafts_to_move_page_view--dateColumn--X05MH drafts_to_move_page_view--column--2degN table--column--974RA",f1="drafts_to_move_page_view--emptyContentContainer--ADRBJ",f2="drafts_to_move_page_view--emptyContentHeader--jMYq8",f3=(0,cx.F)(cL.mlF);var f4=((u=f4||{}).DRAFT_FILES="draft-files",u.DELETED_DRAFT_FILES="deleted-draft-files",u),f8=((_=f8||{}).NONE="NONE",_.SYNCHRONOUS_DELETION_OR_MIGRATION="SYNCHRONOUS_DELETION_OR_MIGRATION",_.ASYNC_FILE_MIGRATION="ASYNC_FILE_MIGRATION",_.ASYNC_FILE_DELETION="ASYNC_FILE_DELETION ",_.TRANSFER_COMPLETED="TRANSFER_COMPLETED",_);function f5(e){let t=e=>{switch(e){case"draft-files":return(0,eq.t)("file_browser.drafts_to_move.drafts");case"deleted-draft-files":return(0,eq.t)("file_browser.drafts_to_move.deleted_drafts");default:(0,eL.vE)(e)}},a=t=>{let a=f4[t].replace(/-/g,"_");(0,eH.T6)({text:a,name:"Drafts to move tab switch"},"cta_clicked"),e.setSelectedTab(f4[t])},r=Object.keys(f4).map(r=>ev.createElement(EB.y,{tab:f4[r],onClick:()=>a(r),isSelected:e.selectedTab===f4[r],tabName:t(f4[r]),key:r}));return ev.createElement(ol.nY,{leftSide:ev.createElement(EB.v,{tabs:r}),rightSide:[]})}function f9(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.selectedView),r=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),n=(0,eb.v9)(e=>e.fileByKey),i=(0,eb.v9)(e=>e.selectedBranchKeyByRepoId),{item:l}=e,s=EA.PI.getFileKey(l)??"",o=(0,hp.G)(s,EA.PI.getFavoritedResourceType(l),EA.PI.getFavoriteResourceOrgId(l),EA.PI.getFavoriteResourceTeamId(l)),c=ev.useMemo(()=>"loaded"===o.status?!!o.favorite:EA.PI.getIsFavorited(l),[l,o]),d=e=>l=>{l.detail>1&&(hw(e,l,0,t,a,r,i,n),l.stopPropagation())};return ev.createElement("div",{className:ek.cx.inlineFlex.minW0.$},ev.createElement("button",{className:"drafts_to_move_page_view--draftThumbnail--zi6IG",onClick:d(l),"data-testid":`fileTile-${s}`},ev.createElement(fK.pL,{file:l.type===EA.YU.FILE?l.file:(0,E0.T)(l.repo,l.branches,i),fillContainer:!0}),ev.createElement("div",{className:"drafts_to_move_page_view--topLeftControls--FUE9Z"},ev.createElement(hl.aA,{type:EA.PI.getFileIconType(l)??hl.I1.DESIGN,size:hl.Sj.SMALL})),c&&ev.createElement("div",{className:"drafts_to_move_page_view--topRightControls--lUxKb"},ev.createElement("div",{className:"drafts_to_move_page_view--control--JFZhZ"},ev.createElement(h_.M,{setFavorite:ex.ZT,favoriteType:(0,fk.jJ)(l.type),resourceId:s,noHoverState:!0,size:h_.v.SMALL,orgId:EA.PI.getFavoriteResourceOrgId(l)??null,teamId:EA.PI.getFavoriteResourceTeamId(l),disableTooltip:!0})))),ev.createElement("div",{className:ek.cx.ml14.minW0.flex.flexColumn.itemSelfCenter.$},ev.createElement("button",{className:"drafts_to_move_page_view--fileName--KXDme",onClick:d(l)},EA.PI.getName(l)),e.shouldDisplayFileDates&&ev.createElement("div",{className:"drafts_to_move_page_view--fileCellDatesSection--IfvHo"},ev.createElement("span",{className:fX},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.file_created_at_label",timeDifference:ev.createElement(n2.Lt,{date:EA.PI.getCreatedAt(l)})})),ev.createElement("span",{className:fX},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.file_last_modified_at_label",timeDifference:ev.createElement(n2.Lt,{date:EA.PI.getTouchedAt(l)??""})})))))}function f6({currentFileTransferState:e}){let t=(0,fS.Fg)(),a="dark"===t,r=e=>ev.createElement(ev.Fragment,null,ev.createElement(ax.TK,{size:"large"}),ev.createElement("p",{className:"drafts_to_move_page_view--transferContentHeader--Dnx66"},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.file_transfer_header",transferType:"ASYNC_FILE_MIGRATION"===e?ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.file_transfer_migration_type"}):ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.file_transfer_deletion_type"})})),ev.createElement("p",null,ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.file_transfer_description"}))),n=()=>ev.createElement("div",{className:"drafts_to_move_page_view--slideIn--NNX-f"},ev.createElement("div",{className:"drafts_to_move_page_view--animatedContentContainer--4cHUC"},ev.createElement(op.k6,{src:a?"https://static.figma.com/uploads/c9f2d8cbce5754a2b6e3e3e81adf5fe313429577":"https://static.figma.com/uploads/6212099329ba7714b869112a09f8dfffce71edf5",containerClassName:"drafts_to_move_page_view--allDoneGif--LFsNh",height:100,width:100}),ev.createElement("p",{className:f2},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.empty_header"})),ev.createElement("p",null,ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.empty_body_text"})))),i=()=>ev.createElement(ax.TK,{size:"large"});return ev.createElement("div",{className:f1},(()=>{switch(e){case"ASYNC_FILE_MIGRATION":case"ASYNC_FILE_DELETION ":return r(e);case"TRANSFER_COMPLETED":return n();default:return i()}})())}function f7(){let e=(0,eb.I0)(),t=(0,eb.v9)(e=>{var t;return null==(t=e.user)?void 0:t.personal_drafts_folder_id}),a=(0,eb.v9)(e=>e.fileKeysByFolderId),r=(0,eb.v9)(e=>e.fileKeysByRepoId),n=(0,eb.v9)(e=>e.repoIdsByFolderId),i=(0,eb.v9)(e=>e.repos),l=(0,eb.v9)(e=>e.fileByKey),s=(0,eb.v9)(e=>e.selectedView),o=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),c=(0,eb.v9)(e=>e.selectedBranchKeyByRepoId),d=(0,eb.v9)(e=>e.userFlags),m=d.personal_draft_migration_scheduled,u=d.personal_draft_migration_completed,_=d.personal_draft_deletion_scheduled,p=d.personal_draft_deletion_completed,g=(0,eb.v9)(e=>e.loadedFolders),E=(0,eb.v9)(e=>e.deletedFilesByKey),h=(0,eb.v9)(e=>e.deletedReposById),{windowInnerWidth:f}=(0,fN.i)(),v=(0,dV.mU)(dH.DraftsToMoveFoldersByUserId,{}),b=(0,eT.BZ)().ps_dtm_lg_file_checks,y=(0,dV.mU)(dH.FilesInProjectHighLimit,{projectId:t??""},{enabled:b}),[w,T]=ev.useState("draft-files"),[x,N]=ev.useState(!1),[C,S]=ev.useState("NONE"),[k,I]=ev.useState(!1);ev.useEffect(()=>{m&&fq(m.updatedAt,null==u?void 0:u.updatedAt)?S("ASYNC_FILE_MIGRATION"):_&&fq(_.updatedAt,null==p?void 0:p.updatedAt)?S("ASYNC_FILE_DELETION "):k?S("SYNCHRONOUS_DELETION_OR_MIGRATION"):S("NONE")},[m,u,_,p,k]),ev.useEffect(()=>{e(od.f$({orgId:null}))},[e]);let L="loaded"===v.status,R=ev.useMemo(()=>{var e,t;if(!L)return[];let a=[];return(null==(t=null==(e=v.data)?void 0:e.currentUser)?void 0:t.draftsFolderId)&&a.push(v.data.currentUser.draftsFolderId),a},[L,v]),A=ev.useMemo(()=>{var e,t,a,r;return b&&(null==(t=null==(e=y.data)?void 0:e.project)?void 0:t.status)===fx.wy.Loaded?new Set(((null==(r=null==(a=y.data)?void 0:a.project.data)?void 0:r.undeletedFilesHighLimit)??[]).map(e=>e.key)):new Set},[b,y]),O=ev.useCallback(e=>!b||A.has(e),[b,A]);ev.useEffect(()=>R.forEach(t=>L&&e((0,hR.G3)({folderId:t,loadedFolders:g}))),[g,R,e,L]);let D=L&&R.every(e=>e&&"loaded"===g[e]),F=ev.useMemo(()=>Object.keys(E).map(e=>E[e]).filter(e=>e.folder_id===t&&O(e.key)),[E,t,O]),M=ev.useMemo(()=>Object.keys(h).map(e=>h[e]).filter(e=>e.main_file.folder_id===t),[h,t]),P=ev.useMemo(()=>R.flatMap(e=>n[e]).map(e=>i[e]).filter(e=>!!e),[R,i,n]),B=ev.useMemo(()=>R.flatMap(e=>a[e]).map(e=>l[e]).filter(e=>!!e&&O(e.key)),[R,l,a,O]);ev.useEffect(()=>{D&&0===B.length&&0===P.length&&T("deleted-draft-files")},[D,B.length,P.length]);let U=ev.useMemo(()=>B.concat(F).map(e=>({type:EA.YU.FILE,file:e})),[B,F]),V="deleted-draft-files"===w?F:B,W=ev.useMemo(()=>V.map(e=>({type:EA.YU.FILE,file:e})),[V]),G=ev.useMemo(()=>P.map(e=>{let t=r[e.id].map(e=>l[e]).filter(e=>!!e);return{type:EA.YU.REPO,repo:e,branches:t,selectedBranchKey:c[e.id]}}),[P,c,l,r]),j=ev.useMemo(()=>M.map(e=>({type:EA.YU.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file.key})),[M]),H=j.concat(G),$=W.concat("deleted-draft-files"===w?j:G),z=U.length>0||H.length>0,K=$.length>0,[Z,q]=ev.useState([]),Y=()=>{e(ig.hV()),N(!1)},J=(t,a)=>{e(r7.R.enqueue({message:(0,eq.t)("visual_bell.files_moved_to_folder",{fileCount:a,folderName:t})})),I(!1),q([])},Q=()=>{I(!1),q([])},X=e=>{let t=[],a=[];return e.forEach(e=>{e.type===EA.YU.FILE&&t.push(e.file),e.type===EA.YU.REPO&&a.push(e.repo)}),{draftsToMove:t,reposToMove:a}},ee=()=>{let{draftsToMove:t,reposToMove:a}=X(Z);N(!0),e(ig.K4({type:fR,data:{draftsToDelete:t,reposToDelete:a,deleteAllDraftsAsync:Z.length>100,setSynchronousFileTransferInProgress:I,onDeleteSuccess:Q,onClose:Y}}))},et=()=>{let{draftsToMove:t,reposToMove:a}=X(Z);N(!0),e(ig.K4({type:fG,data:{draftsToMove:t,reposToMove:a,moveAllDraftsAsync:Z.length>100,onMoveSuccess:J,onClose:Y,setSynchronousFileTransferInProgress:I}}))},ea=function(e,t,a,r){let n=r>=1200,i=[{name:(0,eq.t)("file_browser.drafts_to_move.table_header_name"),className:"drafts_to_move_page_view--nameColumn--uSLI- drafts_to_move_page_view--column--2degN table--column--974RA",getSortValue:e=>EA.PI.getName(e),cellComponent:e=>ev.createElement(f9,{item:e,shouldDisplayFileDates:!n})}];return n&&i.push({name:(0,eq.t)("file_browser.drafts_to_move.table_header_last_modified"),className:f0,getSortValue:e=>EA.PI.getTouchedAt(e)??"",cellComponent:e=>{let t=EA.PI.getTouchedAt(e);return t?ev.createElement(n2.Lt,{date:t}):""}},{name:(0,eq.t)("file_browser.drafts_to_move.table_header_created"),className:f0,getSortValue:e=>EA.PI.getCreatedAt(e),cellComponent:e=>ev.createElement(n2.Lt,{date:EA.PI.getCreatedAt(e)})}),i.push({name:"",className:"drafts_to_move_page_view--moveButtonColumn--UN7Jk drafts_to_move_page_view--column--2degN table--column--974RA",cellComponent:r=>0===a?ev.createElement(ev.Fragment,null,ev.createElement(eA.pJ,{className:tQ()("drafts_to_move_page_view--openDraftButton--a5C3K",ek.cx.if(!!EA.PI.getTrashedAt(r),ek.cx.invisible).$),onClick:e=>t(e,r)},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.open_draft_button"})),ev.createElement(eA.pJ,{className:"drafts_to_move_page_view--moveDraftButton--G66XF",onClick:t=>e(t,r)},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.move_draft_button"}))):ev.createElement(ev.Fragment,null)}),i}((t,a)=>{let{draftsToMove:r,reposToMove:n}=X([a]);e(ig.K4({type:fG,data:{draftsToMove:r,reposToMove:n,onMoveSuccess:J,onClose:Y,setSynchronousFileTransferInProgress:I}})),t.stopPropagation()},(t,a)=>{hw(a,t,0,e,s,o,c,l),t.stopPropagation()},Z.length,f),[er,en,ei]=(0,fC.g)({columnName:"name",isReversed:!1},$,ea),el=ev.createElement("div",{className:f1},ev.createElement("span",{className:f2},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.empty_header"})),ev.createElement("span",null,ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.empty_content_description",tab:ev.createElement("button",{className:"drafts_to_move_page_view--emptyContentTab--7fYzX",onClick:()=>T("draft-files"===w?"deleted-draft-files":"draft-files")},"draft-files"===w?(0,eq.t)("file_browser.drafts_to_move.deleted_drafts"):(0,eq.t)("file_browser.drafts_to_move.drafts"))})));if("NONE"!==C)return ev.createElement(f6,{currentFileTransferState:C});let es=Z.length<=0||Z.length>100,eo=ev.createElement(hI.h,{loadingElementClassName:"drafts_to_move_page_view--loadingPage--YvPU9",loadingElementId:"loading-content-pane",loaded:D},K?ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"drafts_to_move_page_view--tableWrapper--fMMUu"},ev.createElement(fz.Ch,{selectAllDisabled:ei.length>100,items:ei,columns:ea,actionBarClassName:tQ()("drafts_to_move_page_view--actionBar--HBV2o",{"drafts_to_move_page_view--actionBarHidden--8o0p6":x}),getItemKey:e=>EA.PI.getFileKey(e)??"",minContentWidth:728,actionBar:e=>ev.createElement("div",{className:"drafts_to_move_page_view--actionBarButtons--APslV"},!es&&ev.createElement(eA.Ok,{className:"drafts_to_move_page_view--deleteDraftsButton--Zo8su",onClick:ee},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.bulk_delete_drafts_button"})),ev.createElement(eA.RS,{className:"drafts_to_move_page_view--moveDraftsButton--d5RPd",disabled:es,onClick:et},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.bulk_move_drafts_button",numSelected:Z.length}))),emptyContent:"",onSelectedItemsChange:q,itemTypeContext:{itemType:"draftToMove",getSelectedCountString:e=>(0,eq.t)("file_browser.drafts_to_move.selected_count_files",{numSelected:e})},isLoading:!fQ.kR,sortState:er,onSetSortState:en,shouldRoundBordersForSelectedRows:!0,styleOverrideClassNames:{row:"drafts_to_move_page_view--row--wJQWH",header:"drafts_to_move_page_view--header--8gEX0",unselectedCheckbox:"drafts_to_move_page_view--visibleCheckbox--yZgx5",batchActionClearButton:"drafts_to_move_page_view--batchActionClearButton--MqJZy"},scrollContainerInnerClassName:"drafts_to_move_page_view--scrollContainer--fPRJg",rowHeightOverride:f3}))):z?el:ev.createElement(f6,{currentFileTransferState:"TRANSFER_COMPLETED"}));return(0,e3.bC)(ev.createElement(da.S,{content:eo,viewbar:z&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"drafts_to_move_page_view--viewbar--ZlDUM"},ev.createElement("div",{className:"drafts_to_move_page_view--viewbarWarning--JOkhE"},ev.createElement(fZ.MU,{className:"drafts_to_move_page_view--yellowIcon--izsZJ"}),ev.createElement("div",{className:"drafts_to_move_page_view--viewBarBody--DmCMv"},ev.createElement("h1",{className:"drafts_to_move_page_view--viewbarHeading--w8Wjc"},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.viewbar_heading"})),ev.createElement("p",{className:"drafts_to_move_page_view--viewbarDescription--kQRm8"},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.viewbar_draft_sections_description",learnMoreLink:ev.createElement(eA.Z6,{trusted:!0,href:"https://help.figma.com/hc/articles/18409526530967",target:"_blank"},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.viewbar_learn_more_link"}))})),ev.createElement("div",{className:"drafts_to_move_page_view--viewbarActions---xUhO"},ev.createElement(eA.RS,{className:"drafts_to_move_page_view--moveAllDraftsButton--bGWpM",onClick:()=>{N(!0),e(ig.K4({type:fG,data:{reposToMove:H.map(e=>e.repo),draftsToMove:U.map(e=>e.file),onMoveSuccess:J,isMoveAll:!0,moveAllDraftsAsync:U.length>100,onClose:Y,setSynchronousFileTransferInProgress:I}}))}},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.move_all_drafts_button"})),ev.createElement(eA.fE,{className:"drafts_to_move_page_view--deleteAllDraftsButton--kIxri drafts_to_move_page_view--moveAllDraftsButton--bGWpM",onClick:()=>e(ig.K4({type:fR,data:{draftsToDelete:U.map(e=>e.file),reposToDelete:H.map(e=>e.repo),isDeleteAll:!0,deleteAllDraftsAsync:U.length>100,setSynchronousFileTransferInProgress:I,onDeleteSuccess:Q,onClose:Y}}))},ev.createElement(eq.Tx,{id:"file_browser.drafts_to_move.delete_all_drafts_button"})))))),ev.createElement("div",{className:"drafts_to_move_page_view--tabViewBarContainer--lXmDN"},ev.createElement(f5,{selectedTab:w,setSelectedTab:T})))}),r2.V4.FILE_BROWSER,{view:"draftsToMove",selectedTab:w})}var ve=a(242030),vt=a(466609),va=a(777107),vr=a(88063),vn=a(266377),vi=a(648597);let vl={USER_FOLDERS:"user_folders",USER_DRAFTS:"user_drafts",TEAM:"team"};var vs=a(847495),vo=a(931904);let vc="nav_section--folderSeparatorBefore--nRXcy",vd=(e,t,a)=>{let{projects:r,sidebarData:n}=a,i=(null==n?void 0:n.fileBrowserSectionPreferences)||[],l=[];for(let a of i)if("team"===a.sectionType){if("team"===e&&a.teamId===(t||null)){l=a.orderedFolderIds||[];break}}else e===a.sectionType&&(l=a.orderedFolderIds||[]);return r.sort((e,t)=>{let a=l.indexOf(e.id),r=l.indexOf(t.id);return a<r?-1:r<a?1:0}),r},vm=(e,t,a,r,n,i)=>{var l,s;let o=vp(t,e.permissionsState),c=null==(s=null==(l=e.sidebarData)?void 0:l.fileBrowserSectionPreferences)?void 0:s.filter(e=>e.sectionType===a&&("team"!==a||e.teamId===(null==r?void 0:r.id))),d=c&&c.length>0?c[0].id:void 0;o===a&&(a!==vl.TEAM||t.teamId===(null==r?void 0:r.id))?vu(e,a,null==r?void 0:r.id,t.id,n,i,d):r&&v_(e,t,a,r,n,i,d)},vu=(e,t,a,r,n,i,l)=>{let s=vd(t,a,e),o=s.map(e=>e.id),c=(0,nx.uo)(o,r,n,i);c!==o&&e.dispatch(vr.D1.put({prefs:t===vl.TEAM?{id:l,section_type:t,team_id:a,ordered_folder_ids:c}:{id:l,section_type:t,ordered_folder_ids:c},userInitiated:!0}))},v_=(e,t,a,r,n,i,l)=>{if(!r)return;e.dispatch((0,hR.II)({folder:t,team:r}));let s=vd(a,r.id,e),o=s.map(e=>e.id),c=null==n?-1:o.indexOf(n);return c<0?c=i?0:o.length:i||(c+=1),o.splice(c,0,t.id),e.dispatch(vr.D1.put({prefs:a===vl.TEAM?{id:l,section_type:a,team_id:r.id,ordered_folder_ids:o}:{id:l,section_type:a,ordered_folder_ids:o},userInitiated:!0})),!0},vp=(e,t)=>{var a;return e.teamId&&e.teamId in t.roles.byTeamId?vl.TEAM:e.id===(null==(a=t.user)?void 0:a.drafts_folder_id)?vl.USER_DRAFTS:vl.USER_FOLDERS};class vg extends ev.Component{constructor(e){super(e),this.isDragTarget=e=>{var t,a;if(this.props.isEnterpriseSidenavEnabled&&(null==(t=this.props.dragState.data)?void 0:t.licenseGroupId)&&this.props.dragState.data.licenseGroupId!==(null==(a=this.props.licenseGroup)?void 0:a.id))return!1;if(this.props.dragState.type===vi.D.Folder){let e=this.props.dragState.data,t=vp(e,this.props.permissionsState);return!!(t===vl.USER_FOLDERS&&(0,gB.Q6)(e,this.props.team,this.props.user))||!!t&&this.props.acceptDropsFrom.has(t)}return!1},this.onDragEnter=(e,t)=>{this.props.dragState.type===vi.D.Folder&&this.setState({draggingOverFolderId:e})},this.onDragQuadrantUpdate=e=>{this.setState({draggingBefore:e.upper})},this.onDragLeave=e=>{this.setState(t=>t.draggingOverFolderId===e?{draggingOverFolderId:null}:null)},this.onDragDrop=e=>{let t=this.props.dragState.data;vm(this.props,t,this.props.sectionType,this.props.team,e,this.state.draggingBefore),this.setState({draggingOverFolderId:null})},this.state={draggingOverFolderId:null,draggingBefore:!1}}render(){var e;let t=vd(this.props.sectionType,null==(e=this.props.team)?void 0:e.id,this.props),a=(0,fk.Gd)(this.props.currentUserOrgId)?"nav_section--folderSeparatorOffCustomSections--NfHYW nav_section--sectionTextCustomSections--G7h1q sidebar--sectionTextCustomSections--saCMf sidebar--sectionContentCustomSections--PXYf3 ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOff--bTD8N nav_section--sectionText--pC4MP sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa",r=(0,fk.Gd)(this.props.currentUserOrgId)?"nav_section--folderSeparatorOnCustomSections--A5-c5 nav_section--folderSeparatorOffCustomSections--NfHYW nav_section--sectionTextCustomSections--G7h1q sidebar--sectionTextCustomSections--saCMf sidebar--sectionContentCustomSections--PXYf3 ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOn--c6ZUy nav_section--folderSeparatorOff--bTD8N nav_section--sectionText--pC4MP sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa";return ev.createElement("div",{className:0===t.length?"nav_section--orderedFoldersEmpty--TLNeT nav_section--orderedFolders--Ix27r":"nav_section--orderedFolders--Ix27r"},ev.createElement("div",{className:vc},ev.createElement("div",{className:this.props.showPrependIndicator||0===t.length&&this.props.showAppendIndicator?r:a})),t.length>0&&t.map((e,n)=>ev.createElement(eS.h,{key:e.id,isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter.bind(this,e.id),onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave.bind(this,e.id),onTargetDrop:this.onDragDrop.bind(this,e.id),style:{position:"relative"}},ev.createElement("div",{className:vc},ev.createElement("div",{className:this.state.draggingOverFolderId===e.id&&this.state.draggingBefore?r:a})),ev.createElement(vs.W3,{key:`folder-${e.id}`,folder:e,team:this.props.team,disambiguationFolders:this.props.sectionType===vl.USER_FOLDERS?t:void 0,isSharedProject:this.props.sectionType===vl.USER_FOLDERS,...this.props,draggable:!0}))),ev.createElement("div",{className:"nav_section--folderSeparatorAfter--8etrV"},ev.createElement("div",{className:this.props.showAppendIndicator&&t.length>0?r:a})))}}vg.displayName="OrderedFolders";class vE extends ev.PureComponent{constructor(e){super(e),this.isDragTarget=e=>{var t,a;if(this.props.isEnterpriseSidenavEnabled&&(null==(t=this.props.dragState.data)?void 0:t.licenseGroupId)&&this.props.dragState.data.licenseGroupId!==(null==(a=this.props.licenseGroup)?void 0:a.id))return!1;if(this.props.dragState.type===vi.D.Folder){let e=this.props.dragState.data,t=vp(e,this.props.permissionsState);return!!(t===vl.USER_FOLDERS&&(0,gB.Q6)(e,this.props.team,this.props.user))||!!t&&this.props.acceptDropsFrom.has(t)}return!1},this.onDragEnter=()=>{this.props.dragState.type===vi.D.Folder&&this.setState({isDraggingFolder:!0})},this.onDragQuadrantUpdate=e=>{this.setState({draggingBefore:e.upper})},this.onDragLeave=()=>{this.setState({isDraggingFolder:!1})},this.onDragDrop=()=>{if(this.props.dragState.type===vi.D.Folder&&this.props.team){let e=this.props.dragState.data;vm(this.props,e,this.props.sectionType,this.props.team,null,this.state.draggingBefore)}this.setState({isDraggingFolder:!1})},this.state={isDraggingFolder:!1,draggingBefore:!1}}render(){return ev.createElement(eS.h,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter,onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDragDrop},ev.createElement("div",{className:"nav_section--section--1ONtS sidebar--section---nHr4"},this.props.sectionType===vl.USER_FOLDERS&&ev.createElement(ev.Fragment,null,ev.createElement(vg,{showPrependIndicator:this.state.isDraggingFolder&&this.state.draggingBefore,showAppendIndicator:this.state.isDraggingFolder&&!this.state.draggingBefore,...this.props})),this.props.sectionType===vl.TEAM&&ev.createElement(ev.Fragment,null,ev.createElement(vo.Mk,{...this.props,team:this.props.team,projects:this.props.projects,onboardingKey:this.props.onboardingKey}),ev.createElement(vg,{showPrependIndicator:this.state.isDraggingFolder&&this.state.draggingBefore,showAppendIndicator:this.state.isDraggingFolder&&!this.state.draggingBefore,...this.props}))))}}function vh(e){let t=e.projectsByTeam[vE.USER_FOLDERS]||[],a=(0,eb.v9)(e=>e.renamingNavFolderWithId),r=(0,eb.v9)(e=>e.renamingNavTeamWithId),n=(0,eb.v9)(e=>e.favorites),i=(0,eb.v9)(e=>e.teamRoleRequests),l=(0,eb.v9)(e=>e.avatarEditorState);return ev.createElement(vE,{renamingNavFolderWithId:a,renamingNavTeamWithId:r,favorites:n,teamRoleRequests:i,avatarEditorState:l,sectionType:vl.USER_FOLDERS,team:null,projects:t,acceptDropsFrom:new Set([vl.USER_FOLDERS]),...e})}function vf(e){let t=e.team.id,a=e.projectsByTeam[t]||[],r=(0,eb.v9)(e=>e.renamingNavFolderWithId),n=(0,eb.v9)(e=>e.renamingNavTeamWithId),i=(0,eb.v9)(e=>e.favorites),l=(0,eb.v9)(e=>e.teamRoleRequests),s=(0,eb.v9)(e=>e.avatarEditorState);return ev.createElement(vE,{renamingNavFolderWithId:r,renamingNavTeamWithId:n,favorites:i,teamRoleRequests:l,avatarEditorState:s,sectionType:vl.TEAM,acceptDropsFrom:new Set([vl.TEAM]),projects:a,onboardingKey:e.onboardingKey,...e})}vE.displayName="NavSection",vE.USER_FOLDERS="USER_FOLDERS",vE.USER_DRAFTS="USER_DRAFTS";let vv={FIRST_TIME:"dismissed_org_upsell_first_time",SECOND_TIME:"dismissed_org_upsell_second_time",PERMANENT:"dismissed_org_upsell_permanently"};var vb=((p=vb||{})[p.NONE=0]="NONE",p[p.SINGLE_TEAM=1]="SINGLE_TEAM",p[p.MULTIPLE_TEAMS=2]="MULTIPLE_TEAMS",p),vy=((g=vy||{})[g.NEVER=0]="NEVER",g[g.ONCE=1]="ONCE",g[g.TWICE=2]="TWICE",g[g.PERMANENTLY=3]="PERMANENTLY",g);function vw(e,t){return(0,gB.gX)(t)&&!(0,gB.iH)(t)&&!t.student_team&&!t.deleted_at&&!t.org_id&&(0,uR.canAdminTeam)(t.id,e)}function vT(e){return e[vv.PERMANENT]?3:e[vv.SECOND_TIME]?2:e[vv.FIRST_TIME]?1:0}function vx(e,t,a=7776e6){let r=e[t];if(!r)return!1;let n=r.updatedAt.getTime(),i=Date.now();return i-n<a}function vN(e,t){var a,r;let n=(0,_q.bg)(e);if(n)return 0;let i=e.userFlags.completed_org_cart_flow;if(i)return 0;let l=null==(a=e.user)?void 0:a.email,s=!!(null==(r=e.user)?void 0:r.email_validated_at);if(!l||(0,n1._E)(l)||!s||function(e,t=2592e6){return vx(e.userFlags,"completed_pro_cart_flow",t)}(e))return 0;let o=Object.values(e.teams).filter(e=>vw(t,e)).length;return o>1?2:1===o?1:0}var vC=a(590708),vS=a(383846),vk=a(695946),vI=a(148598);let vL=a(653270),vR=a(308115);function vA(e){let t=(0,eb.v9)(e=>e.teams),a=(0,eb.v9)(e=>e.roles.byTeamId),r=(0,eb.v9)(e=>e.user),n=(0,sm.p)("team_creation_speed_bump_dismissed"),i=(0,eC.it)("starter_team_loophole_experiment_m0"),l=(0,eC.it)("starter_team_loophole_experiment_m1");return ev.createElement("div",{className:"new_team_link--createNewTeamLink--Xuiln","data-onboarding-key":ED.j1},ev.createElement(vF,{currentOrgId:e.currentOrgId,onClick:()=>{if(e.currentOrgId)e.dispatch(ig.K4({type:vS.d3,data:{}}));else{let s=()=>{e.dispatch(od.Nf({}))},o=!!(null==r?void 0:r.id)&&!n&&(0,Eb.pz)(r.id,Object.values(t),a)&&!(0,nm.hy)({userId:r.id,teams:Object.values(t),rolesByTeamId:a,getM0Config:i.getConfig,getM1Config:l.getConfig});o?e.dispatch(ig.K4({type:vk.r_,data:{user:r,startTeamCreation:s}})):s()}},onMouseEnter:e.onMouseEnter,dimmed:e.disabled??!1,"data-tooltip-type":e.tooltipText?aN.fR.TEXT:void 0,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,disabled:e.disabled},ev.createElement(eq.Tx,{id:"sidebar.create_new_team"})))}class vO extends ev.Component{constructor(){super(...arguments),this.viewOrgTeams=()=>{this.props.org&&this.props.dispatch(od.fv({view:"org",orgId:this.props.org.id,orgViewTab:Ex.i.HOME}))}}render(){var e;return ev.createElement("div",{className:"new_team_link--teamsListEmptyState--Eqtyb sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(eD.n,{className:"new_team_link--icon--4gF11 sidebar--icon--E3PNi",svg:vR}),ev.createElement("div",{className:this.props.org&&(0,fk.Gd)(this.props.org.id)?"new_team_link--teamsListEmptyStateContentCustomSections--af8S8 sidebar--sectionContentCustomSections--PXYf3":"new_team_link--teamsListEmptyStateContent--vaERF sidebar--sectionContent--Pf1Ao"},ev.createElement(eq.Tx,{id:"sidebar.your_teams_and_favorited_projects_will_appear_here"}),(null==(e=this.props.org)?void 0:e.id)&&!this.props.isOrgGuest&&ev.createElement("a",{className:"new_team_link--blueLink--QVuYY blue_link--blueLink--9rlnd",onClick:this.viewOrgTeams},ev.createElement(eq.Tx,{id:"sidebar.browse_org",orgName:this.props.org.name}))))}}vO.displayName="TeamsListEmptyState";class vD extends ev.PureComponent{render(){let{currentOrgId:e,children:t,onClick:a,dimmed:r,disabled:n,...i}=this.props;return ev.createElement("div",{className:n?"new_team_link--navLinkDisabled--Rnp5F new_team_link--_navLink--t346S sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd":r?"new_team_link--navLinkDimmed--IyUVi new_team_link--_navLink--t346S sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd":"new_team_link--navLink--I0ajm new_team_link--_navLink--t346S sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:n?void 0:a,...i},ev.createElement(vI.N,{icon:ev.createElement(eD.n,{"data-onboarding-key":"new-team-icon",className:ek.cx.colorIcon.$,svg:vL}),text:ev.createElement(ev.Fragment,null,t)}))}}vD.displayName="NavLink";let vF=(0,e3.z7)(vD);function vM(){let e=(0,eb.I0)(),t=(0,o8.fh)();return ev.createElement(vI.N,{onClick:()=>{e(od.fv({view:"recentsAndSharing",tab:EN.D.RECENTLY_VIEWED})),e(od.D5({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentFiles"===t||"recentsAndSharing"===t,icon:ev.createElement(t3.JO,{icon:"recent-16"}),text:ev.createElement(oc.x,{i18nId:"sidebar.recents",truncate:!0})})}var vP=a(409935),vB=a(277030);function vU(e){let t=(0,eb.v9)(e=>e.currentTeamId),a=(0,eb.I0)();return t?ev.createElement(vI.N,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{a(od.g(t)),a(od.D5({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:ev.createElement(t3.JO,{icon:"grid-32"}),text:ev.createElement(oc.x,{i18nId:"sidebar.all_projects",truncate:!0})}):null}var vV=a(233469);function vW(e){let t=e.dispatch,a=(0,eb.v9)(e=>e.userFlags),r=function(){var e,t,a,r;let{user:n}=(0,eb.v9)(e=>e),i=(0,eb.v9)(e=>e.userFlags),l=(null==n?void 0:n.personal_drafts_folder_id)??"",s=(0,dV.mU)(dH.FileKeysInProject,{projectId:l}),o=fY();if(fJ(n,i))return 0;if((0,eT.BZ)().ps_lg_dtm_counts){let n=(null==(t=null==(e=s.data)?void 0:e.project)?void 0:t.status)!==fx.wy.Loaded?[]:(null==(r=null==(a=s.data)?void 0:a.project.data)?void 0:r.undeletedFiles)??[],i=0,l=new Set;n.forEach(e=>{e.fileRepoId?l.has(e.fileRepoId)||(i++,l.add(e.fileRepoId)):i++});let o=n.filter(e=>{var t;return null==(t=e.trackTags)?void 0:t.isTemplate}).length;return i===o?0:i}let c=o.filter(e=>e.is_template).length;return o.length===c?0:o.length}(),n="draftsToMove"===e.selectedView.view,i=a.seen_drafts_to_move_notice_icon?r>0?ev.createElement(os.Ct,{text:r>99?"99+":`${r}`,color:n?os.JV.TOOLBAR_SELECTED:os.JV.DEFAULT,className:ek.cx.mr8.if(!n,ek.cx.colorBgBrandTertiary.colorText).$}):void 0:ev.createElement(fZ.MU,{className:ek.cx.mr8.$});return r>0||n?ev.createElement(vI.N,{isSelected:n,onClick:e=>{e.metaKey||e.ctrlKey||0!==e.button||(t(od.fv({view:"draftsToMove"})),t(od.D5({clickedResourceType:"draftsToMove"})),t(m1.v({seen_drafts_to_move_notice_icon:!0})))},icon:ev.createElement(t3.JO,{icon:"page-16"}),text:ev.createElement(oc.x,{i18nId:"sidebar.drafts_to_move",truncate:!0}),badge:i,rowClassName:"drafts_to_move_folder_link--rowClassName--rtMoJ"}):null}var vG=a(334079);let vj=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=ev.createElement("span",{className:ek.cx.fontBold.$},e.sectionName);return ev.createElement(ir.cV,{onConfirm:()=>{t(hd.h7({sidebarSectionId:e.sectionId}))},confirmationTitle:(0,eq.t)("sidebar.delete_section"),titleClass:"confirm_section_delete_modal--title--a-6IZ text--fontPos11--2LvXf text--_fontBase--QdLsd",confirmText:(0,eq.t)("sidebar.delete"),dispatch:t,destructive:!0,autoFocusCta:!1},ev.createElement("p",{className:"confirm_section_delete_modal--content--XHa5x"},ev.createElement(eq.Tx,{id:"sidebar.if_you_delete_section_the_section",item:e.count>1?(0,eq.t)("sidebar.items"):(0,eq.t)("sidebar.item"),section:a,count:e.count,pronoun:e.count>1?(0,eq.t)("sidebar.them"):(0,eq.t)("sidebar.it")})))},"CONFIRM_SECTION_DELETE_MODAL",it.Et.YES),vH="custom-section-header-context-menu",v$=()=>{let e=(0,eb.v9)(e=>e.dropdownShown);return e&&(null==e?void 0:e.type)===vH?e:null};function vz(e){let t=(0,eb.I0)(),a=v$();if(null==a)return ev.createElement(ev.Fragment,null);let r=()=>{0===a.data.favoritesCount?t(hd.h7({sidebarSectionId:a.data.customSection.id})):t((0,ig.K4)({type:vj,data:{sectionId:a.data.customSection.id,sectionName:a.data.customSection.name,count:a.data.favoritesCount}}))},n=()=>{e.setRenamingSectionId(a.data.customSection.id)},i=[{displayText:(0,eq.t)("sidebar.rename_section"),callback:()=>n()},{displayText:(0,eq.t)("sidebar.delete_section"),callback:()=>r()}];return ev.createElement(mz.z,{depth:0,items:i,lean:"right",leanPadding:0,dispatch:t,minWidth:162,parentRect:a.data.targetRect,onSelectItem:(e,a)=>{e.callback&&e.callback("",null,t)},showPoint:!a.data.isFromRightClick,hidePointWhenContentOffScreen:!0})}let vK="favorited_section--emojiIcon--Zcw5z",vZ="favorited_section--favoriteStar--29MS3",vq="favorited_section--isDragTarget--Qh8c9",vY="favorited_section--previewContainer--ABWgx _overlayBase--_overlayBase--Rkj8l",vJ="favorited_section--previewContainerNoDelay---hOAh favorited_section--previewContainer--ABWgx _overlayBase--_overlayBase--Rkj8l",vQ="favorited_section--favoriteClickTarget--5OMUG",vX="favorited_section--previewContainerNoThumbnail--qz-ZY favorited_section--previewContainer--ABWgx _overlayBase--_overlayBase--Rkj8l",v0="favorited_section--previewContainerNoThumbnailNoDelay--0vvQF favorited_section--previewContainerNoThumbnail--qz-ZY favorited_section--previewContainer--ABWgx _overlayBase--_overlayBase--Rkj8l",v1="favorited_section--thumbnailContainer--spbeS",v2="favorited_section--lowerContainer--l-TWj",v3="favorited_section--lowerPartTitles--HK-0i",v4="favorited_section--title--yf-1s ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",v8="favorited_section--subtitle--yAnRw ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",v5="favorited_section--editorTypeIndicator--vYwss",v9="favorited_section--editorTypeIndicatorHover--FUWOy",v6="favorited_section--previewImage--MlEEu",v7="favorited_section--svgContainer--pAaIH",be="favorited_section--icon--JolQr";function bt(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e),r=(0,oC._H)(a);if(!r)return null;let n=ev.createElement("span",{role:"link",tabIndex:0,onClick:()=>{t(od.fv({view:"org",orgId:r.id,orgViewTab:Ex.i.HOME}))},className:"favorited_section--browseOrgLink--EO7xm"},ev.createElement(eq.Tx,{id:"sidebar.browse_org_custom_sections"}));return ev.createElement("div",{className:"favorited_section--customSectionsEmptyStateContent--CxdmV"},ev.createElement(eq.Tx,{id:"sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"}),n)}function ba(e){return ev.createElement("div",{className:"favorited_section--customSectionsEmptyState--UACyZ favorited_section--customSectionsEmptyStateContent--CxdmV"},ev.createElement(bt,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}))}var br=a(697016),bn=a(841573),bi=a(45224),bl=a(822132),bs=a(200344),bo=a(420727),bc=a(406547);function bd(e,t){return e===bs._Iq.CAN_VIEW?function(e){let t=(0,uR.usePermissionsState)(),a=(0,eb.I0)(),r=(0,bc.tT)();return(0,ev.useMemo)(()=>{let n=(0,uR.canViewFolder_DEPRECATED)(e,t),i=(0,bc.Fs)(ao._g.FOLDER,e,bs._Iq.CAN_VIEW,t,a,r,n);return(0,dV.wl)({result:(0,bo.H0)()&&null!==i?i:n})},[e,t,a,r])}(t):(0,dV.wl)({result:!1})}var bm=a(127816),bu=a(237253),b_=a(88568),bp=a(451267),bg=a(147033),bE=a(124120),bh=a(731436),bf=a(347634),bv=a(530676),bb=((E=bb||{}).FAVORITED_PROTOTYPE_CONTEXT_MENU="favorited-prototype-context-menu",E.FAVORITED_FILE_CONTEXT_MENU="favorited-file-context-menu",E.FAVORITED_PROJECT_CONTEXT_MENU="favorited-project-context-menu",E.FAVORITED_TEAM_CONTEXT_MENU="favorited-team-context-menu",E.FAVORITED_WORKSPACE_CONTEXT_MENU="favorited-workspace-context-menu",E);let by="sidebar context menu",bw=()=>{let e=(0,eb.v9)(e=>e.dropdownShown),t=(0,eb.v9)(e=>e.currentUserOrgId),a=(0,eb.v9)(e=>e.currentTeamId),r=(0,eT.BZ)().ps_benchmark&&a;return!e||(null==e?void 0:e.type)!=="favorited-file-context-menu"&&(null==e?void 0:e.type)!=="favorited-prototype-context-menu"||t||r?null:e},bT=(e,t,a,r)=>{if(t.stopPropagation(),t.preventDefault(),"file"in e&&e.file){let t=e.file;a(EK.gz({file:{key:t.key,team_id:t.teamId,file_repo_id:t.fileRepoId,folder_id:t.folderId}}));let r=(0,bm.$c)(e);r&&a(E6.v_({repo:r}))}a(od.SP({type:r,data:{resource:{...e},targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}}))},bx=(e,t,a,r={})=>e?[{displayText:t?t():"",callback:a,...r}]:[],bN=[{displayText:"",separator:!0}];function bC({dropdownShown:e}){var t,a,r,n,i;let l=(0,eb.I0)(),s=(0,eb.v9)(e=>e.selectedView),o=(0,eb.v9)(e=>{var t;return null==(t=e.user)?void 0:t.personal_drafts_folder_id}),c=(0,b_.N)(),d=(0,uR.usePermissionsState)(),m=(0,eT.BZ)().ps_benchmark,u="favorited-project-context-menu"===e.type?null==(t=e.data.resource.project)?void 0:t.id:null==(r=null==(a=e.data.resource)?void 0:a.file)?void 0:r.folderId,_=e.data.resource,p=m&&!!o&&(null==(n=null==_?void 0:_.file)?void 0:n.folderId)===o,g=bd(bs._Iq.CAN_VIEW,u),E=!p&&!!g&&"loaded"===g.status&&g.data.result,h="favorited-prototype-context-menu"===e.type,f=ev.useMemo(()=>{var e;return(null==(e=null==_?void 0:_.file)?void 0:e.fileRepoId)?(0,uR.getDeleteReposPayload)({[_.file.fileRepoId]:!0},d,!0):{}},[null==(i=null==_?void 0:_.file)?void 0:i.fileRepoId,d]),v=ev.useMemo(()=>(null==_?void 0:_.file)?(0,as.l5)({[_.file.key]:!0},d,!0):{},[d,_.file]),b=ev.useMemo(()=>"favorited-file-context-menu"===e.type&&(Object.keys(v).length>0||Object.keys(f).length>0),[v,f,e.type]),y=[...bx(!0,()=>(0,eq.t)("tile.dropdown.open"),()=>{(0,br.Ly)("open"),"favorited-file-context-menu"===e.type?((0,br.yN)(_.file.key,ao.IK.FILE,_.sidebarSectionId,by,_.file.editorType),(0,hu.ZB)(l,{key:_.file.key,editor_type:_.file.editorType})):"favorited-prototype-context-menu"===e.type?((0,br.yN)(_.prototype.fileKey,ao.IK.PROTOTYPE,_.sidebarSectionId,by,"design"),(0,fk.PU)(l,_)):"favorited-project-context-menu"===e.type&&(l(od.Hg({clickedResourceType:"folder",resourceIdOrKey:_.project.id})),(0,hu.dn)(_.project.id,l))}),...bx(!ey.YO,()=>(0,eq.t)("tile.dropdown.open_new_tab"),()=>{if("favorited-file-context-menu"===e.type)(0,hu.$3)((0,bp.z4)(_),_.file.key,s,l),(0,br.yN)(_.file.key,ao.IK.FILE,_.sidebarSectionId,by,_.file.editorType),(0,br.Ly)("open_in_new_tab");else if("favorited-prototype-context-menu"===e.type){let e=_.prototype.url;(0,hu.HX)(e,_.prototype.fileKey,_.prototype.file.pageId,s),(0,br.yN)(_.prototype.fileKey,ao.IK.PROTOTYPE,_.sidebarSectionId,by,"design"),(0,br.Ly)("open_in_new_tab")}else"favorited-project-context-menu"===e.type&&(l(od.Hg({clickedResourceType:"folder",resourceIdOrKey:_.project.id})),(0,hu.RH)((0,bh.DS)(_.project.id,_.project.org_id??null),l),(0,br.yN)(_.project.id,ao.IK.FOLDER,_.sidebarSectionId,by,"design"))}),...bN,...bx(!0,()=>(0,eq.t)("tile.dropdown.copy_link"),()=>{(0,br.Ly)("copy_link"),"favorited-file-context-menu"===e.type?l(EK.fB({fileKey:_.file.key,url:(0,bp.z4)({file:_.file,attributionContext:(0,eT.BZ)().sharing_attribution_context_key?(0,bg.R)(c,bg.I.FAVORITED_FILE_CONTEXT_MENU):null}),source:bg.I.FAVORITED_FILE_CONTEXT_MENU})):"favorited-prototype-context-menu"===e.type?l(mH.fB({url:_.prototype.url})):"favorited-project-context-menu"===e.type&&l(mH.fB({url:(0,bh.DS)(_.project.id,_.project.org_id??null)}))}),...bx(!h&&!p,()=>(0,eq.t)("sidebar.share"),()=>{(0,br.Ly)("share"),"favorited-file-context-menu"===e.type?l((0,ig.K4)({type:bf.az,data:{fileKey:_.file.key,source:bu.ot.fileBrowserFavoritedContextMenu}})):"favorited-project-context-menu"===e.type&&l((0,ig.K4)({type:bv.I,data:{folderId:_.project.id}}))}),...bx(E,()=>(0,eq.t)("tile.dropdown.show_in_project"),()=>{var t;if((0,br.Ly)("show_in_project"),"favorited-file-context-menu"===e.type&&(null==(t=e.data.resource.file)?void 0:t.folderId)!=null){if(l(od.fv({view:"folder",folderId:e.data.resource.file.folderId})),l(EY.LA()),e.data.resource.file.repo){let t=(0,bm.$c)(e.data.resource);null!=t&&l(EY.pz({type:E4.m.REPOS,tiles:[{type:EA.YU.REPO,repo:t,branches:[],selectedBranchKey:""}]}))}else l(EY.pz({type:E4.m.FILES,tiles:[{type:EA.YU.FILE,file:e.data.resource.file}]}))}},{disabled:!E}),...bN,...bx(!h,()=>(0,eq.t)("tile.favoriting.remove_from_favorites"),()=>{"favorited-prototype-context-menu"===e.type&&_.prototype?l(hd.Y2({prototype:{file_key:_.prototype.fileKey,page_id:_.prototype.pageId},entrypoint:"sidebar",favoriteId:_.id})):"favorited-file-context-menu"===e.type&&_.file?l(hd.u9({file:{key:_.file.key,editor_type:_.file.editorType.toString()??void 0},entrypoint:"sidebar",favoriteId:_.id})):"favorited-project-context-menu"===e.type&&_.project&&l(vn.FH({folderId:_.resourceId,folderName:_.project.path,teamId:_.project.teamId,isSubscribed:!1}))}),...bN,...bx(!h&&!p,()=>(0,eq.t)("sidebar.delete"),()=>{(0,br.Ly)("delete"),"favorited-file-context-menu"===e.type&&l(EZ.di({filesByKey:v??{},reposById:f}))},{disabled:!b})];return ev.createElement(mz.z,{items:y,parentRect:e.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:l,onSelectItem:(e,t)=>{var a;null==(a=e.callback)||a.call(e,"",{},l,t)}})}function bS(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.selectedView),r=(0,b_.N)(),n=e.favoritedFile.file,i=rv.t1.useFile(null==n?void 0:n.key).data,l=bd(bs._Iq.CAN_VIEW,e.folderId),s=(0,eb.v9)(e=>e.dropdownShown);if(null==s||null==n)return null;let o="favorited-file-context-menu"===s.type,c=!!o&&"loaded"===l.status&&l.data.result,d=[...bx(!0,()=>(0,eq.t)("tile.dropdown.open"),()=>{var a;(0,br.Ly)("open"),(0,br.yN)(n.key,ao.IK.FILE,(null==(a=e.favoritedFile)?void 0:a.sidebarSectionId)??void 0,by,n.editorType),(0,hu.ZB)(t,{key:n.key,editor_type:n.editorType})}),...bx(!ey.YO,()=>(0,eq.t)("tile.dropdown.open_new_tab"),()=>{var r;(0,hu.$3)((0,bp.z4)({file:n}),n.key,a,t),(0,br.yN)(n.key,ao.IK.FILE,(null==(r=e.favoritedFile)?void 0:r.sidebarSectionId)??void 0,by,n.editorType),(0,br.Ly)("open_in_new_tab")}),...bN,...e.organizeFavoriteOptions,...bN,...bx(!0,()=>(0,eq.t)("file_browser.copy_link"),()=>{t(EK.fB({fileKey:n.key,url:(0,bp.z4)({file:n,attributionContext:(0,eT.BZ)().sharing_attribution_context_key?(0,bg.R)(r,bg.I.FAVORITED_FILE_CONTEXT_MENU):null}),source:bg.I.FAVORITED_FILE_CONTEXT_MENU})),t(od.kp())}),...bx(!0,()=>(0,eq.t)("sidebar.share"),()=>{(0,br.Ly)("share"),t((0,ig.K4)({type:bf.az,data:{fileKey:n.key,source:bu.ot.fileBrowserFavoritedContextMenu}}))}),...bx(!0,()=>(0,eq.t)("tile.dropdown.show_in_project"),()=>{if((0,br.Ly)("show_in_project"),t(od.fv({view:"folder",folderId:e.folderId})),t(EY.LA()),n.fileRepoId){let a=(0,bm.$c)(e.favoritedFile);null!=a&&t(EY.pz({type:E4.m.REPOS,tiles:[{type:EA.YU.REPO,repo:a,branches:[],selectedBranchKey:""}]}))}else{if(!i)return;t(EY.pz({type:E4.m.FILES,tiles:[{type:EA.YU.FILE,file:i}]}))}},{disabled:!c})];return ev.createElement(mz.z,{items:d,parentRect:s.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function bk(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...bN,...bx(!0,()=>(0,eq.t)("file_browser.copy_link_to_team"),()=>{let a=(0,_y.HB)(e.teamId,e.orgId);t(mH.fB({url:a})),t(od.kp())})];return ev.createElement(mz.z,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function bI(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...bN,...bx(null!==e.orgId,()=>(0,eq.t)("file_browser.copy_link_to_workspace"),()=>{if(null!==e.orgId){let a=(0,bE.i7)(e.workspaceId,e.orgId);t(mH.fB({url:a}))}t(od.kp())})];return ev.createElement(mz.z,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function bL(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...bN,...bx(!0,()=>(0,eq.t)("file_browser.copy_link_to_project"),()=>{let a=(0,bh.DS)(e.projectId,e.orgId);t(mH.fB({url:a})),t(od.kp())})];return ev.createElement(mz.z,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function bR(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...bN,...bx(!0,()=>(0,eq.t)("file_browser.copy_link"),()=>{var a;let r=(0,hA.cL)(e.prototype.fileKey,null==(a=e.prototype.file)?void 0:a.name,e.prototype.pageId);t(mH.fB({url:r})),t(od.kp())})];return ev.createElement(mz.z,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}var bA=a(892061),bO=a(97049),bD=a(548802),bF=a(365737);let bM=a(563216);function bP(e){var t,a;let r=(0,uL.Ng)(),n=(null==(t=e.team)?void 0:t.licenseGroup)&&e.team.licenseGroup.name!==bO.u?e.team.licenseGroup.name:"",i=[(null==(a=e.team)?void 0:a.orgId)===(null==r?void 0:r.id)?null==r?void 0:r.name:"",n];i=i.filter(e=>""!==e);let l=i.join(" / ");return ev.createElement("div",{className:v8},l)}function bB(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.currentUserOrgId),r=(0,eb.v9)(e=>e.currentTeamId),n=(0,eb.v9)(e=>e.favorites.collapsedCustomSections),i=e.favorite.team,l=(0,uR.usePermissionsState)(),s=(0,eb.v9)(e=>e.dropdownShown),o=(0,eb.v9)(e=>e.avatarEditorState),c=ev.useMemo(()=>s&&s.type===bb.FAVORITED_TEAM_CONTEXT_MENU&&s.data.teamId===(null==i?void 0:i.id),[s,null==i?void 0:i.id]),d=ev.useMemo(()=>s&&s.type===vH,[s]),m=ev.useCallback((e,a)=>{var r;(0,br.yN)(null==(r=a.team)?void 0:r.id,ao.IK.TEAM,a.sidebarSectionId??void 0,br.Qh);let n=(0,_y.HB)(a.resourceId,a.orgId);(0,ly.v8)(e)?(ew.default.redirect(n,"_blank"),e.stopPropagation()):(t(od.g(a.resourceId)),e.preventDefault())},[t]),u=ev.useCallback(e=>{if(!i)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(od.SP({type:bb.FAVORITED_TEAM_CONTEXT_MENU,data:{teamId:i.id,targetRect:a}}))},[t,i]);if(!a||null===i)return ev.createElement(ev.Fragment,null);let _=(0,uR.canAdminTeam)(i.id,l),p=(0,bF.qV)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:ao.IK.TEAM,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{let n={entrypoint:"sidebar",sectionId:r,team:{id:i.id},favoriteId:e.favorite.id,resourceType:ao.IK.TEAM};a?t(hd.WV(n)):t(hd.NP(n))}});return ev.createElement(ev.Fragment,null,ev.createElement(vI.N,{isSelected:e.isSelected,rowClassName:vQ,onClick:t=>m(t,e.favorite),showGrabber:e.showGrabber,onContextMenu:u,icon:i.imgUrl?ev.createElement("div",{className:ek.cx.colorIcon.$},ev.createElement(oo.Ir,{shape:"ROUNDED_SQUARE",size:{imgSize:oo.DZ.SMALL,fallbackSize:oo.DZ.SMALL},fallbackDisplay:fA.D.HIDDEN,team:{...i,imgUrl:i.imgUrl},fallbackSvg:bM})):ev.createElement(t3.JO,{icon:"team-16"}),text:ev.createElement(oc.x,{truncate:!0},i.name)}),(0,eT.BZ)().favorites_resource_preview&&!!a&&!c&&!d&&ev.createElement("div",{className:e.showPreviewDelay?vX:v0,style:{transform:`translateY(${-e.previewYOffset}px)`}},ev.createElement("div",{className:v2},ev.createElement("div",{className:"favorited_section--teamAvatarHover--CvRp2"},ev.createElement(oo.Ir,{size:{imgSize:oo.DZ.LARGE,fallbackSize:oo.DZ.MEDIUM},avatarSvg:bM,fallbackDisplay:fA.D.HIDDEN,team:{...i,imgUrl:i.imgUrl||void 0}})),ev.createElement("div",{className:v3},ev.createElement("div",{className:v4},i.name),ev.createElement(bP,{team:e.favorite.team})))),c&&ev.createElement(bk,{teamId:i.id,orgId:i.orgId,organizeFavoriteOptions:p}),_&&ev.createElement("span",{className:"favorited_section--hiddenEditableAvatar--UzTdg"},ev.createElement(bD.Fu,{entity:{...i,imgUrl:i.imgUrl||void 0},entityType:bA.py.TEAM,avatarEditorState:o,size:14,dispatch:t})))}var bU=a(26332),bV=a(421765),bW=a(187566);let bG=e=>ev.createElement("div",{className:vK},e);function bj(e){var t,a,r,n,i;let l=(0,eb.I0)(),s=(0,eb.v9)(e=>e.currentUserOrgId),o=(0,eb.v9)(e=>e.currentTeamId),c=(0,eb.v9)(e=>e.favorites.collapsedCustomSections),d=(0,eb.v9)(e=>e.dropdownShown),m=e.favorite.file,u=rv.t1.useFile(null==m?void 0:m.key).data,_=(0,bV.F)(!0),p=null!==s,g=(0,eT.BZ)().ps_benchmark&&o,E=ev.useMemo(()=>d&&d.type===bb.FAVORITED_FILE_CONTEXT_MENU&&d.data.fileKey===(null==m?void 0:m.key),[d,m]),h=ev.useMemo(()=>d&&d.type===vH,[d]),f=ev.useCallback(e=>{if(!m)return;u||l(EK.gz({file:{key:m.key,team_id:m.teamId,file_repo_id:m.fileRepoId,folder_id:m.folderId}})),e.stopPropagation(),e.preventDefault();let t={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};l(od.SP({type:bb.FAVORITED_FILE_CONTEXT_MENU,data:{fileKey:m.key,targetRect:t}}))},[l,m,u]);if(null===e.favorite.file)return ev.createElement(ev.Fragment,null);let v=`/file/${e.favorite.file.key}/${encodeURIComponent(e.favorite.file.name)}?type=${e.favorite.file.editorType}`,b=(e,t)=>{var a,r,n;(0,br.yN)(null==(a=t.file)?void 0:a.key,ao.IK.FILE,t.sidebarSectionId??void 0,br.Qh,null==(r=t.file)?void 0:r.editorType),(0,ly.v8)(e)?(l(od.ku({fileKey:(null==(n=t.file)?void 0:n.key)??"",entrypoint:br.Qh})),e.stopPropagation()):e.preventDefault(),t.file&&(ew.default.redirect(v,"_blank"),l(od.ku({fileKey:t.file.key,entrypoint:br.Qh})))},y=()=>{null!==m&&l(hd.u9({file:{key:m.key,editor_type:m.editorType??"design"},repoId:m.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id}))},w=(0,bF.qV)({dispatch:l,currentOrgId:s,currentTeamId:o,collapsedCustomSections:c,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:ao.IK.FILE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(t,a)=>{if(t&&u){let t={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:ao.IK.FILE};l(hd.WV(t))}else t||null===m||y()}}),T=null==(t=e.favorite.file)?void 0:t.name,x=(0,bU.UG)(T),N=_(e.favorite.file),C=x?bG(x):ev.createElement(bW.V,{iconType:N}),S=x?(0,bU.ku)(T,x):T,k=null==(r=null==(a=e.favorite.file)?void 0:a.project)?void 0:r.path,I=(0,EF.fJ)(k),L=I?v4:"favorited_section--titleWithoutSubtitle--Qve0p ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd";return ev.createElement(ev.Fragment,null,ev.createElement(vI.N,{isSelected:e.isSelected,rowClassName:vQ,showGrabber:e.showGrabber,onContextMenu:p||g?f:t=>{bT(e.favorite,t,l,bb.FAVORITED_FILE_CONTEXT_MENU)},onClick:t=>b(t,e.favorite),icon:C,text:""!==S?ev.createElement(oc.x,{truncate:!0,showTooltipWhenTruncated:!1},S):ev.createElement(oc.x,{i18nId:(null==(n=e.favorite.file)?void 0:n.editorType)==="whiteboard"?"sidebar.fig_jam_file":"sidebar.design_file",truncate:!0}),badge:e.isHover&&!(p||g)?ev.createElement("div",{className:vZ},ev.createElement(h_.M,{favoriteType:ao.IK.FILE,resourceId:e.favorite.resourceId,favoriteId:e.favorite.id,size:h_.v.MEDIUM,setFavorite:y,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!E&&!h&&ev.createElement("div",{className:e.showPreviewDelay?vY:vJ,style:{transform:`translateY(${-e.previewYOffset}px)`}},ev.createElement("div",{className:v1},ev.createElement(fK.mB,{additionalClassName:v6,editor_type:e.favorite.file.editorType,client_meta:(0,eT.BZ)().thumbnail_lg_client_meta?e.favorite.file.checkpointClientMeta||null:e.favorite.file.clientMeta,isLocked:!!e.favorite.file.hasFileLinkPassword,thumbnail_url:e.favorite.file.thumbnailUrl,listView:!1,fullWidth:!1,isPreview:!0})),ev.createElement("div",{className:v2},ev.createElement(hl.aA,{svgOptions:{id:"sidebar-thumbnail"},className:v5,type:N}),ev.createElement("div",{className:v3},ev.createElement("div",{className:L},null==(i=e.favorite.file)?void 0:i.name),I&&ev.createElement("div",{className:v8},I)))),(p||g)&&E&&(null==m?void 0:m.folderId)&&ev.createElement(bS,{favoritedFile:e.favorite,folderId:m.folderId,organizeFavoriteOptions:w}))}let bH=a(628778),b$=e=>ev.createElement("div",{className:vK},e);function bz(e){var t,a,r;let n=(0,uL.Ng)(),i=e.team?e.team.name:"",l=(null==(t=e.team)?void 0:t.licenseGroup)&&(null==(a=e.team)?void 0:a.licenseGroup.name)!==bO.u?null==(r=e.team)?void 0:r.licenseGroup.name:"",s=[e.orgId===(null==n?void 0:n.id)?n.name:"",l,i];s=s.filter(e=>""!==e);let o=s.join(" / ");return ev.createElement("div",{className:v8},o)}function bK(e){let t=(0,eb.I0)(),a=e.favorite.project,r=(0,eb.v9)(e=>e.currentTeamId),n=(0,eb.v9)(e=>e.currentUserOrgId),i=(0,eb.v9)(e=>e.favorites.collapsedCustomSections),l=(0,vG.f)(),s=(0,eb.v9)(e=>e.dropdownShown),o=ev.useMemo(()=>s&&s.type===bb.FAVORITED_PROJECT_CONTEXT_MENU&&s.data.projectId===(null==a?void 0:a.id),[s,a]),c=ev.useMemo(()=>s&&s.type===vH,[s]),d=ev.useCallback(e=>{if(!a)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(od.SP({type:bb.FAVORITED_PROJECT_CONTEXT_MENU,data:{projectId:a.id,targetRect:r}}))},[t,a]),m=ev.useCallback((e,a)=>{var r;(0,br.yN)(null==(r=a.project)?void 0:r.id,ao.IK.FOLDER,a.sidebarSectionId??void 0,br.Qh),t(od.B4(a.resourceId))},[t]);if(!l||null==a)return null;let u=(0,bF.qV)({dispatch:t,currentOrgId:n,currentTeamId:r,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:ao.IK.FOLDER,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,n)=>{let i={entrypoint:"sidebar",sectionId:n,folder:a,favoriteId:e.favorite.id};r?t(hd.Dz(i)):t(hd.fC(i))}}),_=(0,bU.UG)(a.path),p=_?(0,bU.ku)(a.path,_):a.path;return ev.createElement(ev.Fragment,null,ev.createElement(vI.N,{rowClassName:vQ,onContextMenu:d,isSelected:e.isSelected,onClick:t=>m(t,e.favorite),icon:_?ev.createElement("div",null,b$(_)):ev.createElement(t3.JO,{icon:"folder-16"}),showGrabber:e.showGrabber,text:ev.createElement(oc.x,{truncate:!0},p),isFavoritesToMove:e.isFavoritesToMove}),o&&ev.createElement(bL,{projectId:a.id,orgId:a.orgId,organizeFavoriteOptions:u}),(0,eT.BZ)().favorites_resource_preview&&l&&!o&&!c&&ev.createElement("div",{className:e.showPreviewDelay?vX:v0,style:{transform:`translateY(${-e.previewYOffset}px)`}},ev.createElement("div",{className:v2},ev.createElement(eD.n,{className:v9,svg:bH}),ev.createElement("div",{className:v3},ev.createElement("div",{className:v4},a.path),ev.createElement(bz,{team:a.team,orgId:a.orgId})))))}let bZ=ev.createElement(hl.aA,{type:hl.I1.PROTOTYPE,size:hl.Sj.SMALL});function bq(e){var t,a,r,n,i;let l=(0,eb.I0)(),s=(0,eb.v9)(e=>e.currentTeamId),o=(0,eb.v9)(e=>e.currentUserOrgId),c=(0,eb.v9)(e=>e.favorites.collapsedCustomSections),d=(0,eb.v9)(e=>e.dropdownShown),m=ev.useMemo(()=>{var t;return d&&d.type===bb.FAVORITED_PROTOTYPE_CONTEXT_MENU&&d.data.resource.prototype.id===(null==(t=e.favorite.prototype)?void 0:t.id)},[d,e.favorite.prototype]),u=ev.useMemo(()=>d&&d.type===vH,[d]),_=(0,vG.f)();if(null===e.favorite.prototype)return ev.createElement(ev.Fragment,null);let p=(0,hA.cL)(e.favorite.prototype.fileKey,null==(t=e.favorite.prototype.file)?void 0:t.name,e.favorite.prototype.pageId),g=(e,t)=>{var a;if((0,br.yN)(null==(a=t.prototype)?void 0:a.fileKey,ao.IK.PROTOTYPE,t.sidebarSectionId??void 0,br.Qh),(0,ly.v8)(e)){e.stopPropagation();return}e.preventDefault(),ew.default.redirect(p,"_blank")},E=(t,a)=>{t||null===e.favorite.prototype||l(hd.Y2({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:a}))},h=(0,bF.qV)({dispatch:l,currentOrgId:o,currentTeamId:s,collapsedCustomSections:c,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:ao.IK.PROTOTYPE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(t,a)=>{if(t){let t={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:ao.IK.PROTOTYPE};l(hd.WV(t))}else E(!1,e.favorite.id)}});return ev.createElement(ev.Fragment,null,ev.createElement(vI.N,{isSelected:e.isSelected,rowClassName:vQ,onContextMenu:t=>{bT(e.favorite,t,l,bb.FAVORITED_PROTOTYPE_CONTEXT_MENU)},showGrabber:e.showGrabber,onClick:t=>g(t,e.favorite),icon:bZ,text:ev.createElement(oc.x,{truncate:!0,showTooltipWhenTruncated:!1},null==(a=e.favorite.prototype.file)?void 0:a.name),badge:e.isHover&&!_?ev.createElement("div",{className:vZ},ev.createElement(h_.M,{favoriteType:ao.IK.PROTOTYPE,resourceId:e.favorite.resourceId,favoriteId:e.favorite.id,size:h_.v.MEDIUM,setFavorite:E,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!m&&!u&&ev.createElement("div",{className:e.showPreviewDelay?vY:vJ,style:{transform:`translateY(${-e.previewYOffset}px)`}},ev.createElement("div",{className:v1},ev.createElement(hg.e,{additionalClassName:v6,isLocked:null!=(r=e.favorite.prototype.file)&&!!r.hasProtoLinkPassword&&(null==(n=e.favorite.prototype.file)?void 0:n.hasProtoLinkPassword),thumbnail_url:e.favorite.prototype.thumbnailUrl})),ev.createElement("div",{className:v2},ev.createElement(hl.aA,{type:hl.I1.PROTOTYPE,className:v5}),ev.createElement("div",{className:v3},ev.createElement("div",{className:v4},null==(i=e.favorite.prototype.file)?void 0:i.name)))),_&&m&&e.favorite.prototype&&ev.createElement(bR,{prototype:e.favorite.prototype,organizeFavoriteOptions:h}))}let bY=a(738336),bJ=a(479210);function bQ(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.currentUserOrgId),r=(0,eb.v9)(e=>e.currentTeamId),n=(0,uL.Ng)(),i=(0,eb.v9)(e=>e.favorites.collapsedCustomSections),l=(0,eb.v9)(e=>e.dropdownShown),s=e.favorite.licenseGroup??e.favorite.workspace,o=ev.useMemo(()=>l&&l.type===bb.FAVORITED_WORKSPACE_CONTEXT_MENU&&l.data.workspaceId===(null==s?void 0:s.id),[l,null==s?void 0:s.id]),c=ev.useMemo(()=>l&&l.type===vH,[l]),d=ev.useCallback((e,a)=>{let r=a.licenseGroup??a.workspace;(0,br.yN)(null==r?void 0:r.id,ao.IK.WORKSPACE,a.sidebarSectionId??void 0,br.Qh),r&&t(od.fv({view:"workspace",subView:ES.ep.DIRECTORY,workspaceId:r.id,selectedTab:ES.rE.TEAMS}))},[t]),m=ev.useCallback(e=>{if(!s)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(od.SP({type:bb.FAVORITED_WORKSPACE_CONTEXT_MENU,data:{workspaceId:s.id,targetRect:a}}))},[t,s]);if(!a||null===s)return ev.createElement(ev.Fragment,null);let u=(0,bF.qV)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:ao.IK.WORKSPACE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{var n;let i={workspace:{id:s.id,name:s.name??"",imgUrl:(null==(n=e.favorite.workspace)?void 0:n.imgUrl)??null},entrypoint:"sidebar",sectionId:r,favoriteId:e.favorite.id};a?t(hd.lk(i)):t(hd.r_(i))}}),_=e.favorite.workspace?ev.createElement(ds.zf,{entity:e.favorite.workspace,size:16}):ev.createElement(eD.n,{svg:bY,className:ek.cx.colorIcon.$}),p=e.favorite.workspace?ev.createElement("div",{className:v9},ev.createElement(ds.zf,{entity:e.favorite.workspace,size:32})):ev.createElement(eD.n,{className:v9,svg:bJ});return ev.createElement(ev.Fragment,null,ev.createElement(vI.N,{isSelected:e.isSelected,showGrabber:e.showGrabber,rowClassName:vQ,onClick:t=>d(t,e.favorite),onContextMenu:m,icon:_,text:ev.createElement(oc.x,{truncate:!0}," ",s.name)}),o&&ev.createElement(bI,{workspaceId:s.id,orgId:e.favorite.orgId,organizeFavoriteOptions:u}),(0,eT.BZ)().favorites_resource_preview&&!!a&&!o&&!c&&ev.createElement("div",{className:e.showPreviewDelay?vX:v0,style:{transform:`translateY(${-e.previewYOffset}px)`}},ev.createElement("div",{className:v2},p,ev.createElement("div",{className:v3},ev.createElement("div",{className:v4},s.name),n&&ev.createElement("div",{className:v8},n.name)))))}var bX=a(959693);let b0=(e,t)=>{let a=e.cloneNode(!0),r=document.createElement("div");return r.className="favorited_generic_row--favorite--QI-kf favorited_generic_row--_favorite--TCk4z sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd",Object.assign(r.style,{position:"absolute",top:"-100%",left:"-100%",width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,overflow:"hidden",zIndex:-1}),t&&(a.classList.add(t),a.classList.add(ek.cx.colorText.$)),r.appendChild(a),document.body.appendChild(r),r};function b1(e){var t,a,r;let n=(0,eb.I0)(),i=(0,eb.v9)(e=>e.dragState),[l,s]=ev.useState(!1),o=e.favorite.resourceType,c=(0,o8.A6)(),d=(null==(t=e.rearrangeDragState)?void 0:t.draggedOverFavoriteId)===e.favorite.resource.id,[m,u]=ev.useState(!1),_=ev.useRef(null),p=(0,vG.f)(),g=l&&!p,E=e.isSelected||(()=>{switch(o){case ao.IK.FOLDER:return"folder"===c.view&&c.folderId===e.favorite.resource.resourceId;case ao.IK.TEAM:return"team"===c.view&&c.teamId===e.favorite.resource.resourceId;case ao.IK.WORKSPACE:return"workspace"===c.view&&c.subView===ES.ep.DIRECTORY&&c.workspaceId===e.favorite.resource.resourceId;default:return!1}})();return ev.createElement("div",{className:d?(null==(a=e.rearrangeDragState)?void 0:a.dropBefore)?"favorited_generic_row--dropBefore--yQ-ep sidebar--dropBefore--Dkf-G":(null==(r=e.rearrangeDragState)?void 0:r.dropInto)?"favorited_generic_row--dropInto--7fEGM":"favorited_generic_row--dropAfter--zAx-T sidebar--dropAfter--cb3iP":void 0},ev.createElement(eS.h,{key:e.favorite.resource.resourceId,isDragTarget:()=>i.type!==vi.D.SidebarSection,onTargetDragEnter:(t,a)=>{let r=new E1.nb(t),n=!1;(i.type===vi.D.Favorite||r.isFigFiles()||r.isRepos()||r.isPrototypes()||r.isTiles())&&((r.isFigFiles()||r.isRepos()||r.isTiles())&&(n=e.favorite.resourceType===ao.IK.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:n?a.upperQuarter:a.upper,dropInto:n&&a.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),u(n))},onTargetDragLeave:t=>{let a=new E1.nb(t);(i.type===vi.D.Favorite||a.isFigFiles()||a.isRepos()||a.isPrototypes()||a.isTiles()&&d)&&(e.clearRearrangeDragState(e.favorite.resource.id),u(!1))},onTargetDrop:t=>{var a;let r=new E1.nb(t);if((null==(a=e.rearrangeDragState)?void 0:a.dropInto)&&e.favorite.resourceType===ao.IK.FOLDER&&e.favorite.resource.project)(0,bX.Z)(n,e.favorite.resource.project,e.favorite.resource.project.team,r),n(bn.C());else if(r.isFigFiles()||r.isRepos()||r.isPrototypes()||r.isTiles())e.onSetResourceFavoriteDragDrop(t);else if(i.type===vi.D.Favorite&&d){let t=i.data;e.reorderOrInsertFavorite(t.resource.id,t.resourceType),n(bn.C())}e.clearRearrangeDragState(e.favorite.resource.id),u(!1)},onTargetDragQuadrantUpdate:t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:m?t.upperQuarter:t.upper,dropInto:m&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},draggable:!1},ev.createElement("div",{onMouseEnter:()=>{e.preventHoverStyle||s(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),s(!1)},onDragStart:t=>{t.dataTransfer.effectAllowed="move";let a=new E1.nb(t.dataTransfer);a.setArbitraryData(e.favorite.resource.id);let r=t.currentTarget.firstElementChild;if(null===r)return;let i=r.getBoundingClientRect(),l=t.clientX-i.left,s=t.clientY-i.top;_.current=b0(r,"favorited_generic_row--draggable--rzkBm"),a.setDragImage(_.current,l,s),n(bn.f({type:vi.D.Favorite,data:e.favorite}))},onDragEnd:t=>{_.current&&_.current.remove(),n(bn.C()),e.clearRearrangeDragState(e.favorite.resource.id),u(!1)},draggable:!e.isFavoritesToMove},(()=>{switch(o){case ao.IK.FILE:return ev.createElement(bj,{favorite:e.favorite.resource,isHover:l,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case ao.IK.PROTOTYPE:return ev.createElement(bq,{favorite:e.favorite.resource,isHover:l,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case ao.IK.FOLDER:return ev.createElement(bK,{favorite:e.favorite.resource,isHover:l,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case ao.IK.TEAM:return ev.createElement(bB,{favorite:e.favorite.resource,isHover:l,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});case ao.IK.WORKSPACE:return ev.createElement(bQ,{favorite:e.favorite.resource,isHover:l,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});default:(0,eL.vE)(o)}})())))}let b2=a(790070),b3=a(792668),b4=a(295799),b8=a(19017);function b5(e){var t,a,r,n,i,l,s;let o=(0,eb.I0)(),c=(0,eb.v9)(e=>e.currentTeamId),d=bw(),m=(0,uL.Ng)(),u=(null==m?void 0:m.id)??null,_=(0,fk.hn)(e.favorites,e.order),p=(0,o8.A6)(),g=(0,eb.v9)(e=>e.favorites.movingResource),E=(0,vG.f)(),h=(0,eb.v9)(e=>e.favorites.collapsedCustomSections),f=E&&e.section?!h.has(null==(t=e.section)?void 0:t.id):!h.has("favorited"),[v,b]=ev.useState(!1),[y,w]=ev.useState(),[T,x]=ev.useState(),[N,C]=ev.useState(void 0),[S,k]=ev.useState(!0),I=ev.useRef(null),L=v$();ev.useEffect(()=>{N===(null==T?void 0:T.draggedOverFavoriteId)&&x(void 0),C(void 0)},[T,x,N,C]);let R=ev.useCallback(t=>{var a;if(!(null==(a=e.section)?void 0:a.id))return;t.dataTransfer.effectAllowed="move";let r=new E1.nb(t.dataTransfer);r.setArbitraryData(e.section.id),o(bn.f({type:vi.D.SidebarSection,data:e.section.id}))},[o,e.section]),A=ev.useCallback(()=>{var t;(0,br.Yo)(!f),E&&e.section?(bl.Ox({type:"topLevel",id:"custom",orgId:u,sectionId:null==(t=e.section)?void 0:t.id},!f),f?h.add(e.section.id):h.delete(e.section.id)):(bl.Ox({type:"topLevel",id:"favorited",orgId:u},!f),f?h.add("favorited"):h.delete("favorited")),o(hd.l6({collapsedCustomSections:h}))},[f,u,e.section,h,E,o]),O=(t,a)=>{var r,n,i,l,s,c,d;let m;let u=_.map(e=>e.resource.id);if(!(null==T?void 0:T.draggedOverFavoriteId))return u;let p=-1!==u.indexOf(t);if(p)m=(0,nx.uo)(u,t,T.draggedOverFavoriteId,T.dropBefore);else{let e=u.indexOf(T.draggedOverFavoriteId);T.dropBefore||(e+=1),m=[...u.slice(0,e),t,...u.slice(e)]}if((0,br.Ac)(),w(t),null==(r=e.section)?void 0:r.id){p?o(hd.$n({sectionId:e.section.id,orderedFavoriteIds:m})):o(hd.WV({favoriteId:t,sectionId:e.section.id,resourceType:a,orderedFavoriteIds:m}));return}p?o(vr.xA.put({prefs:{id:(null==(n=e.fileBrowserPreferences)?void 0:n.id)||"optimistic-id",orderedFavoritedResourceIds:m,orderedTeamIds:null==(i=e.fileBrowserPreferences)?void 0:i.orderedTeamIds,orderedLicenseGroupIds:null==(l=e.fileBrowserPreferences)?void 0:l.orderedLicenseGroupIds},userInitiated:!0})):(o(hd.WV({favoriteId:t,sectionId:void 0,resourceType:a})),o(vr.xA.put({prefs:{id:(null==(s=e.fileBrowserPreferences)?void 0:s.id)||"optimistic-id",orderedFavoritedResourceIds:m,orderedTeamIds:null==(c=e.fileBrowserPreferences)?void 0:c.orderedTeamIds,orderedLicenseGroupIds:null==(d=e.fileBrowserPreferences)?void 0:d.orderedLicenseGroupIds},userInitiated:!0})))},D=e=>{e.stopPropagation(),y&&w(void 0)},F=()=>{k(!0)},M=t=>{var a;let r=new E1.nb(t),n=[],i=[],l=[];if(b(!1),r.isFigFiles()){if(!(n=r.getData()))return!1}else if(r.isPrototypes()){if(!(l=r.getData()))return!1}else if(r.isRepos()){let e=r.getReposData();if(!e)return!1;i=e.repos}else if(r.isTiles()){let e=r.getTilesData();if(!e)return!1;n=e.files,i=e.repos,l=e.prototypes}n=n.filter(e=>!e.is_favorited),i=i.filter(e=>!e.is_favorited),l=l.filter(e=>!e.is_favorited);let s=_.map(e=>e.resource.id),d=n.length+i.length+l.length,m=(0,fk.gC)(u);if(d+_.length>m)return o(r7.R.enqueue({message:(0,eq.t)("tile.favoriting.max_favorites",{maxFavorites:m})})),!1;let g=null;return T&&(g=s.indexOf(T.draggedOverFavoriteId)+(T.dropBefore?0:1)),o(hd.S9({files:n,repos:i,prototypes:l,orgId:u,teamId:c,selectedView:p.view,entrypoint:"sidebar",insertAtIndex:g,orderedFavorites:s,sectionId:null==(a=e.section)?void 0:a.id,fileBrowserPrefs:e.fileBrowserPreferences})),!0},P=tQ()([ek.cx.relative.$,"favorited_section--showsCaret--mF1FR",v||(null==T?void 0:T.draggedOverSectionId)&&e.section&&T.draggedOverSectionId===e.section.id?vq:""]),B=E?(null==(a=e.section)?void 0:a.name)===""||(null==(r=e.section)?void 0:r.name)===void 0?ev.createElement(eq.Tx,{id:"sidebar.starred"}):e.section.name:ev.createElement(eq.Tx,{id:"sidebar.favorite_files"}),U=(null==(i=null==(n=null==L?void 0:L.data)?void 0:n.customSection)?void 0:i.id)===(null==(l=e.section)?void 0:l.id),V=e.isCreatingNewSection||e.isRenaming,W=tQ()({"favorited_section--sectionHeaderContainer--K-oD6 sidebar--sectionHeaderContainer--HJzK0 sidebar--sectionHeaderName--tsbVQ sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa":!0,"favorited_section--actionButtonsVisibleOnHover--ebXgQ":!V,"favorited_section--actionButtonsVisible--cdmc8":U&&!V}),G=(null==(s=e.section)?void 0:s.name)===void 0?(0,eq.t)("sidebar.new_section"):(0,fk.zs)(e.section)?(0,eq.t)("sidebar.starred"):e.section.name;return ev.createElement(eS.h,{className:P,isDragTarget:e=>{let t=new E1.nb(e);return t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles()},draggable:!1,onTargetDrop:M,onTargetDragEnter:()=>{b(!0)},onTargetDragLeave:()=>{b(!1)}},ev.createElement("div",null,ev.createElement("div",{draggable:!0,onDragStart:R,className:W,onClick:A,onContextMenu:t=>{t.stopPropagation(),t.preventDefault();let a={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};o(od.SP({type:vH,data:{customSection:e.section,favoritesCount:_.length,isFromRightClick:!0,targetRect:a}}))},role:"button",tabIndex:0},ev.createElement(eD.n,{className:E?"favorited_section--expandCaretCustomSections--oWlxz":"favorited_section--expandCaret--yn9eJ sidebar--expandCaret--WHjtL",svg:f?b2:b3}),ev.createElement("div",{className:"favorited_section--sectionName--Acm-p ellipsis--ellipsis--Tjyfa","data-onboarding-key":1===e.allSections.length?null:"FAVORITES_ONBOARDING_KEY"},e.isRenaming?ev.createElement(bi.I,{className:"favorited_section--input--rO7VZ",placeholderValue:G,submit:t=>{e.isCreatingNewSection?(g?o(hd.pv({name:t,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:g})):o(hd.mD({name:t,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(o(hd.$n({sectionId:e.section.id,name:t.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),g&&o(hd.lt({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}):B),u&&ev.createElement("div",{className:"favorited_section--actionButtons--tLW3B"},ev.createElement("div",{role:"button",tabIndex:0,className:v7,"data-tooltip-max-width":200,ref:I,onClick:t=>{L?o(od.kp()):I.current&&o(od.SP({type:vH,data:{targetRect:I.current.getBoundingClientRect(),customSection:e.section,favoritesCount:_.length}})),t.stopPropagation(),t.preventDefault()},onContextMenu:e=>e.stopPropagation()},ev.createElement(eD.n,{svg:b8,className:be})),ev.createElement(b9,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})))),ev.createElement("div",{className:f?void 0:ek.cx.hidden.$},(()=>{if(0===_.length){let t=1===e.allSections.length&&(0,fk.zs)(e.allSections[0]);return E||e.isCreatingNewSection?E&&t&&!e.isCreatingNewSection?ev.createElement(bt,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}):ev.createElement(ev.Fragment,null):ev.createElement(b6,{setNewCustomSectionIndex:e.setNewCustomSectionIndex})}return ev.createElement("div",{onMouseMove:D,onMouseLeave:F},_.map(t=>{var a;let r=y===t.resource.id||t.resource.resourceId===(null==(a=null==d?void 0:d.data)?void 0:a.resource.resourceId);return ev.createElement(b1,{key:t.resource.resourceId,favorite:t,isSelected:r,onSetResourceFavoriteDragDrop:M,reorderOrInsertFavorite:O,clearRearrangeDragState:C,updateRearrangeDragState:x,rearrangeDragState:T,previewYOffset:e.previewYOffset,showPreviewDelay:S,setShowPreviewDelay:k,sections:e.allSections,preventHoverStyle:void 0!==y})}),d&&ev.createElement(bC,{dropdownShown:d}))})()))}function b9(e){return ev.createElement("div",{role:"button",tabIndex:0,className:v7,"data-tooltip-max-width":200,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("favorited_resources.create_a_new_section_tooltip"),onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)},onContextMenu:e=>e.stopPropagation()},ev.createElement(eD.n,{svg:b4,className:be}))}function b6(e){return ev.createElement("div",{className:"favorited_section--favoritedSectionEmptyState--TM-Bc sidebar--emptySection--nu2xG sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"sidebar.to_favorite_files_you_use_often"}))}function b7(e){var t;let a=(0,fk.D6)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces);return ev.createElement(b5,{favorites:a,order:(null==(t=e.fileBrowserPreferences)?void 0:t.orderedFavoritedResourceIds)??void 0,fileBrowserPreferences:e.fileBrowserPreferences,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,allSections:e.userSidebarSections??[],sectionIndex:0,previewYOffset:e.previewYOffset})}function ye(e){var t;let a=(0,eb.I0)(),r=(0,eb.v9)(e=>e.dragState),n=(0,eb.v9)(e=>e.favorites.newCustomSectionIndex),i=(0,eb.v9)(e=>e.favorites.favoritesCount),l=(0,fk.D6)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[s,o]=ev.useState(),[c,d]=ev.useState(),[m,u]=ev.useState(!1),_=(0,vG.f)(),p=ev.useMemo(()=>{var t;return(0,fk.zF)(e.userSidebarSections??[],(null==(t=e.fileBrowserPreferences)?void 0:t.orderedSidebarSections)??void 0)},[e.userSidebarSections,null==(t=e.fileBrowserPreferences)?void 0:t.orderedSidebarSections]);ev.useMemo(()=>{i&&i<15&&l.length>=15&&(0,dS.m_)({id:ED.kv}),a(hd.md({favoritesCount:l.length}))},[i,l.length,a]);let g={},E=[];l.forEach(e=>{e.resource.sidebarSectionId?g[e.resource.sidebarSectionId]?g[e.resource.sidebarSectionId].push(e):g[e.resource.sidebarSectionId]=[e]:E.push(e)});let h=()=>r.type===vi.D.Favorite||r.type===vi.D.SidebarSection,f=e=>{r.type===vi.D.SidebarSection&&u(e.upper)},v=()=>{var t,n,i,l;let c="starred"===s?void 0:s;if(r.type===vi.D.Favorite){let e=r.data;a(hd.WV({favoriteId:e.resource.id,sectionId:c,resourceType:e.resourceType}))}else if(r.type===vi.D.SidebarSection&&c){let s=p.map(e=>e.id)??[],o=(0,nx.uo)(s,r.data,c,m);a(vr.xA.put({prefs:{id:(null==(t=e.fileBrowserPreferences)?void 0:t.id)||"optimistic-id",orderedFavoritedResourceIds:null==(n=e.fileBrowserPreferences)?void 0:n.orderedFavoritedResourceIds,orderedTeamIds:null==(i=e.fileBrowserPreferences)?void 0:i.orderedTeamIds,orderedLicenseGroupIds:null==(l=e.fileBrowserPreferences)?void 0:l.orderedLicenseGroupIds,orderedSidebarSections:o},userInitiated:!0}))}u(!1),o(void 0)},b=e=>()=>o(e),y=()=>{o(void 0)},w=e=>{a(hd.J6({newCustomSectionIndex:e}))};if(0===p.length&&_&&void 0===n)return ev.createElement(ba,{setNewCustomSectionIndex:w});let T=ev.createElement("div",{className:ek.cx.mb8.$},ev.createElement(b5,{favorites:[],order:[],allSections:p,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:!0,setRenamingSectionId:d,sectionIndex:n||0,isCreatingNewSection:!0,setNewCustomSectionIndex:w,fileBrowserPreferences:e.fileBrowserPreferences,previewYOffset:e.previewYOffset}));return ev.createElement("div",{className:ek.cx.mt8.$},0===n&&T,p.map((t,a)=>{let i=r.type===vi.D.Favorite?vq:m?"favorited_section--dropBefore--Gw3pd sidebar--dropBefore--Dkf-G":"favorited_section--dropAfter--i5vNE sidebar--dropAfter--cb3iP",l=tQ()([s===t.id?i:"",ek.cx.mb8.$]);return ev.createElement("div",{key:t.id},ev.createElement(eS.h,{className:l,isDragTarget:h,draggable:!1,onTargetDragQuadrantUpdate:f,onTargetDrop:v,onTargetDragEnter:b(t.id),onTargetDragLeave:y},ev.createElement(b5,{favorites:g[t.id]??[],sectionIndex:a,section:t,allSections:p,order:t.orderedFavoritedResourceIds??[],isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:c===t.id,setRenamingSectionId:d,setNewCustomSectionIndex:w,previewYOffset:e.previewYOffset})),n===a+1&&T)}),_&&ev.createElement(vz,{setRenamingSectionId:d}))}var yt=a(140314);let ya=a(284987),yr=(0,it.Y3)(function(e){let[t,a]=(0,ev.useState)(null),r=(0,eb.I0)(),n=fY(),i=(0,lR.dO)(),l=(0,eb.v9)(e=>e.teamUserByTeamId),s=(0,eb.v9)(e=>{var t,a;return i?null==(a=null==(t=e.authedUsers.byId[i])?void 0:t.plans)?void 0:a.filter(e=>!e.is_org):null}),o=(0,eq.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),c=()=>r(ig.hV()),d={};i&&(0,yt.H)(l,i).forEach(e=>{e.drafts_folder_id&&(d[e.team_id]=e.drafts_folder_id)});let m=(e,t)=>{t&&r(fO.p({files:e,folderName:"",folderId:t,isDraftsToMove:!0,fromFileModal:!0}))};return ev.createElement(ib.ge,{title:o,fixedTop:!0,minWidth:480,maxWidth:480,onClose:c,truncateTitleText:!0},ev.createElement("div",{className:"move_favorites_modal--modalBody--XDgOz"},s&&ev.createElement(cr.l,{width:480},ev.createElement("div",{className:ek.cx.pl8.pr8.$},s.map(e=>ev.createElement(yn,{key:e.plan_id,planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:(null==t?void 0:t.plan_id)===e.plan_id,onSelect:()=>a((null==t?void 0:t.plan_id)===e.plan_id?null:e)})))),ev.createElement("div",{className:"move_favorites_modal--footer--SGE-h"},ev.createElement(eA.PL,{onClick:c},ev.createElement(eq.Tx,{id:"modal.cancel"})),ev.createElement(eA.RS,{disabled:!t,onClick:()=>{let a=(null==t?void 0:t.is_org)?null:null==t?void 0:t.plan_id,i=(null==t?void 0:t.is_org)?t.plan_id:null,l=e.favorites.reduce((e,t)=>{var a,r;return t.resourceType===ao.IK.FILE&&(null==(a=t.resource.file)?void 0:a.key)?{...e,[null==(r=t.resource.file)?void 0:r.key]:!0}:e},{}),s={},o=n.filter(e=>{let t=!!l[e.key];return t&&(s[e.key]=!0),t}),u=e.favorites.filter(e=>{var t,a;return e.resourceType!==ao.IK.FILE||null==(t=e.resource.file)||!t.key||!s[null==(a=e.resource.file)?void 0:a.key]}).map(e=>e.resource.id);r(hd.aX({favoriteIds:u,teamId:a,orgId:i})),a&&m(o,d[a]),c()}},(0,eq.t)("modal.confirm")))))},"MoveFavoritesModal");function yn(e){return ev.createElement("button",{"data-testid":`${e.name}-button`,className:tQ()("move_favorites_modal--teamRow--Em6vC",e.checked?ek.cx.colorBgSelected.$:""),onClick:e.onSelect},ev.createElement("div",{className:"move_favorites_modal--iconContainer--3advx"},e.checked?ev.createElement(eD.n,{className:ek.cx.colorIcon.$,svg:ya}):ev.createElement(oo.Ir,{size:oo.DZ.MEDIUM,shape:"CIRCLE",fallbackDisplay:fA.D.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})),ev.createElement("div",{className:"move_favorites_modal--teamName--juTiT ellipsis--ellipsis--Tjyfa"},ev.createElement("span",{className:"move_favorites_modal--destinationHeading--x8s2g"},e.name)))}let yi=a(790070),yl=a(792668),ys=a(73778),yo="favorited_drafts_to_move";function yc(e){var t,a,r;let n=(0,eb.I0)(),[i,l]=ev.useState(!0),s=(0,eb.v9)(e=>e.favorites.collapsedCustomSections),o=null==(t=e.teamUser)?void 0:t.planlessFavoritedFiles,c=null==(a=e.teamUser)?void 0:a.planlessFavoritedPrototypes,d=null==(r=e.teamUser)?void 0:r.planlessFavoritedProjects,m=(0,fk.D6)(o,c,d),u=!s.has(yo),_=ev.useCallback(()=>{bl.Ox({type:"topLevel",id:yo,orgId:null},!u),u?s.add(yo):s.delete(yo),n(hd.l6({collapsedCustomSections:s}))},[u,s,n]),p=ev.useCallback(()=>{n(hd.CC({favoriteIds:m.map(e=>e.id)}))},[n,m]);if(0===m.length)return ev.createElement(ev.Fragment,null);let g=m.map(t=>ev.createElement(b1,{key:t.resource.resourceId,favorite:t,isSelected:!1,onSetResourceFavoriteDragDrop:ex.ZT,reorderOrInsertFavorite:ex.ZT,updateRearrangeDragState:ex.ZT,clearRearrangeDragState:ex.ZT,rearrangeDragState:void 0,previewYOffset:e.previewYOffset,showPreviewDelay:i,setShowPreviewDelay:l,sections:[],preventHoverStyle:!1,isFavoritesToMove:!0}));return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"favorited_section--divider--8QrOE favorited_section--divider--8QrOE"}),ev.createElement("div",{className:tQ()("favorited_section--moveFavoritesContainer--KSPXT",ek.cx.pt4.pb4.ml8.mr8.mb8.$)},ev.createElement("div",{className:tQ()(ek.cx.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--cwUYT favorited_section--sectionHeaderContainer--K-oD6 sidebar--sectionHeaderContainer--HJzK0 sidebar--sectionHeaderName--tsbVQ sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa")},ev.createElement("div",{onClick:_,className:ek.cx.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0},ev.createElement(eD.n,{className:tQ()(ek.cx.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems--CF9i-"),svg:u?yi:yl}),ev.createElement(eq.Tx,{id:"sidebar.move_these_starred_items"}),ev.createElement(eD.n,{svg:ys,className:tQ()("favorited_section--helpIcon--Vq-JL",ek.cx.flex.itemsBaseline.ml4.$),"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})),u?null:ev.createElement(os.Ct,{text:m.length>99?"99+":`${m.length}`,color:os.JV.DEFAULT,className:ek.cx.mr8.colorText.colorBgSelectedSecondary.$})),u?ev.createElement("div",{className:"favorited_section--favoritesToMoveContentContainer--zixrW"},g,ev.createElement("div",{className:ek.cx.flex.justifyBetween.m8.h24.$},ev.createElement(_E.DF,{className:"favorited_section--favoritesToMoveActionButtons--XAkkS",onClick:()=>{n(ig.K4({type:yr,data:{favorites:m}}))}},ev.createElement(eq.Tx,{id:"file_browser.planless_favorites.add_to_sidebar"})),ev.createElement(_E.PL,{className:"favorited_section--unstarAllButton--Tyhsg favorited_section--favoritesToMoveActionButtons--XAkkS",onClick:p},ev.createElement(eq.Tx,{id:"file_browser.planless_favorites.unstar_all"})))):null))}let yd=a(924896);function ym(){return ev.createElement(vI.N,{isSelected:!0,icon:ev.createElement(eD.n,{className:"offline_files_section--offlineFilesIcon--vWru1 sidebar--icon--E3PNi",svg:yd}),text:ev.createElement(eq.Tx,{id:"sidebar.offline_files"})})}function yu(){return ev.createElement("div",{className:"offline_files_section--offlineCard--lOken"},ev.createElement("div",{className:"offline_files_section--offlineCardHeader--m9Cih"},ev.createElement(eq.Tx,{id:"sidebar.offline_card.header"})),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"sidebar.offline_card.body"})))}var y_=a(807012),yp=a(436965);function yg(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.currentUserOrgId),r=(0,eb.v9)(t=>e.licenseGroup&&t.licenseGroups[e.licenseGroup.id]),{canUserAdminOrg:n,canUserAdminLicenseGroup:i,teamCreationIsDisabled:l}=(0,vC.wv)(null==r?void 0:r.id),s=e.licenseGroup&&e.mainLicenseGroupForUser&&e.licenseGroup.id===e.mainLicenseGroupForUser.id,o=!e.licenseGroup&&!e.mainLicenseGroupForUser,c=e.shouldShowNewTeamLink&&(n||i||s||o);return c?ev.createElement("div",{className:"license_group_link--additionButton--LnAhc folder_link--additionButton--MyqDQ",onClick:l?e=>e.stopPropagation():void 0,onMouseEnter:l?()=>{var t;null==(t=e.trackDisabledHoverEvent)||t.call(e)}:void 0,onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},ev.createElement(yp.V,{data_tooltip:l?(0,eq.t)("license_group_view.toolbar.create_team_disabled"):(0,eq.t)("sidebar.create_new_team"),data_onboarding_key:"new-team-from-workspaces-sidebar",innerText:s?"Creates new team in user's main workspace":"Creates new unassigned team in the org",onClick:r=>{var n;r.stopPropagation();let i={licenseGroupId:e.licenseGroup?e.licenseGroup.id:bO.u,licenseGroupName:(null==(n=e.licenseGroup)?void 0:n.name)||(0,eq.t)("team_creation.unassigned_workspace")};a?t(ig.K4({type:vS.d3,data:i})):t(od.Nf({}))},disabled:l})):null}let yE=function(e){var t;let a=(0,eb.I0)(),r=(0,eb.v9)(oC.Hd),[n,i]=ev.useState(!1),l=(0,y_.N6)(eH.LY),s=(0,vG.f)();return ev.createElement("div",{className:"license_group_link--licenseGroupDetails--u-PWc",onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>{r&&(a(od.fv({view:"workspace",subView:ES.ep.DIRECTORY,workspaceId:e.licenseGroup?e.licenseGroup.id:null,selectedTab:ES.rE.TEAMS})),a(od.D5({clickedResourceType:"workspace",resourceIdOrKey:e.licenseGroup?e.licenseGroup.id:void 0})))},role:"link",tabIndex:0},ev.createElement("div",{className:s?"license_group_link--licenseGroupNameCustomSections--plHNx sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa":"license_group_link--licenseGroupName--H5pDX sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa"},(null==(t=e.licenseGroup)?void 0:t.name)||(0,eq.t)("sidebar.workspaces.other_teams")),n&&ev.createElement(yg,{mainLicenseGroupForUser:e.mainLicenseGroup,licenseGroup:e.licenseGroup,shouldShowNewTeamLink:e.shouldShowNewTeamLink,trackDisabledHoverEvent:()=>{l(eH.A2,{placement:"workspacesSidebar"})}}))};var yh=a(345952);let yf="sidebar--section---nHr4",yv="sidebar--loading--l7eNf",yb="sidebar--divider--gM0dV";class yy extends ev.Component{constructor(e){super(e),this.dragPaneImageRef=null,this.setDragImageRef=e=>{this.dragPaneImageRef=e},this.onDragStart=(e,t)=>{t.dataTransfer.effectAllowed="move";let a=new E1.nb(t.dataTransfer);a.setArbitraryData(e),this.dragPaneImageRef&&a.setDragImage(this.dragPaneImageRef),this.props.dispatch(bn.f({type:vi.D.Team,data:e})),t.stopPropagation()},this.onDragEnd=e=>{this.props.dispatch(bn.C())},this.isDragTarget=e=>{var t,a;return(!this.props.isEnterpriseSidenavEnabled||null==(t=this.props.dragState.data)||!t.licenseGroupId||this.props.dragState.data.licenseGroupId===(null==(a=this.props.licenseGroup)?void 0:a.id))&&this.props.dragState.type===vi.D.Team},this.onDragEnter=(e,t)=>{this.props.dragState.type===vi.D.Team&&this.setState({draggingOverTeamId:e})},this.onDragQuadrantUpdate=e=>{this.setState({draggingBefore:e.upper})},this.onDragLeave=e=>{this.setState(t=>t.draggingOverTeamId===e?{draggingOverTeamId:null}:null)},this.onDragDrop=(e,t,a)=>{let r=new E1.nb(t);this.moveDroppedTeam(e,r,a),this.setState({draggingOverTeamId:null})},this.state={draggingOverTeamId:null,draggingBefore:!1}}moveDroppedTeam(e,t,a){var r,n,i,l,s,o,c,d,m,u,_;this.props.dragState.type!==vi.D.Team&&console.error("Expected Team");let p=this.props.dragState.data;if(!p)return;let g=p.id,E=a.upper,h=(0,Eb.i2)((null==(i=null==(n=null==(r=this.props.sidebarData)?void 0:r.teamRoles)?void 0:n.map(e=>e.team))?void 0:i.filter(e=>!!e))||[],(null==(s=null==(l=this.props.sidebarData)?void 0:l.fileBrowserPreferences)?void 0:s.orderedTeamIds)||[]),f=(0,nx.uo)(h,g,e,E),v=null==(c=null==(o=this.props.sidebarData)?void 0:o.fileBrowserPreferences)?void 0:c.orderedFavoritedResourceIds;f!==h&&this.props.dispatch(vr.xA.put({prefs:{id:(null==(m=null==(d=this.props.sidebarData)?void 0:d.fileBrowserPreferences)?void 0:m.id)||"optimistic-id",orderedTeamIds:f,orderedFavoritedResourceIds:v,orderedLicenseGroupIds:null==(_=null==(u=this.props.sidebarData)?void 0:u.fileBrowserPreferences)?void 0:_.orderedLicenseGroupIds},userInitiated:!0}))}render(){let e=1!==this.props.orderedTeams.length;return ev.createElement(ev.Fragment,null,ev.createElement("div",null,this.props.orderedTeams.map((t,a)=>ev.createElement(eS.h,{key:t.id,className:this.state.draggingOverTeamId===t.id?this.state.draggingBefore?"sidebar--dropBefore--Dkf-G":"sidebar--dropAfter--cb3iP":"",isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter.bind(this,t.id),onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave.bind(this,t.id),onTargetDrop:this.onDragDrop.bind(this,t.id),draggable:e,onDragStart:this.onDragStart.bind(this,t),onDragEnd:this.onDragEnd},ev.createElement(vf,{key:t.id,team:t,draggable:e,dragState:this.props.dragState,onboardingKey:0===a?ED.VI:void 0,...this.props}))),ev.createElement("div",{className:"sidebar--dragImage--BvGFd",ref:this.setDragImageRef})),!(0,fk.Gd)(this.props.currentUserOrgId)&&this.props.contextSelectedFolder&&ev.createElement(yh.T,{folder:this.props.contextSelectedFolder,onRenameClick:this.props.onFolderRenameClick,...this.props}))}}yy.displayName="OrderedTeams";let yw=a(790070),yT=a(792668),yx=(e,t,a)=>{let r=[],n=[];return t&&n.push(t),Object.values(e).forEach(e=>{var a;let r=null==(a=e[0].team)?void 0:a.licenseGroup;r&&r.id!==(null==t?void 0:t.id)&&n.push(r)}),n.sort((e,r)=>{let n=(null==a?void 0:a.indexOf(e.id))??-1,i=(null==a?void 0:a.indexOf(r.id))??-1;return -1===n&&-1===i?e.id===(null==t?void 0:t.id)?-1:r.id===(null==t?void 0:t.id)?1:e.createdAt<r.createdAt?1:-1:n-i}).forEach(e=>r.push(e.id)),r};function yN(e){var t,a;let[r,n]=ev.useState(bl.pJ({type:"licenseGroup",id:(null==(t=e.licenseGroup)?void 0:t.id)??bO.u,orgId:e.currentUserOrgId})),i=e.orderedTeams.length>0,l=i||!!e.displaySharedProjects,s="ordered_license_groups--licenseGroup--cmYEV sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd";!e.selectedView||"workspace"!==e.selectedView.view||e.selectedView.subView!==ES.ep.DIRECTORY||e.selectedView.workspaceId!==(null==(a=e.licenseGroup)?void 0:a.id)&&(e.selectedView.workspaceId||e.licenseGroup)||(s="ordered_license_groups--selectedLicenseGroup--xNF7n sidebar--selected--u5CpJ ordered_license_groups--licenseGroup--cmYEV sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd");let o=l?ev.createElement(ev.Fragment,null,i&&ev.createElement(yy,{...e,orderedTeams:e.orderedTeams,contextSelectedFolder:e.contextSelectedFolder,onFolderRenameClick:e.onFolderRenameClick}),e.displaySharedProjects&&ev.createElement(vh,{...e})):ev.createElement("div",{className:ek.cx.colorTextSecondary.ml16.mr16.pb8.$},ev.createElement(eq.Tx,{id:"sidebar.workspaces.main_workspace_empty_state"}));return ev.createElement("div",{className:`ordered_license_groups--section--4el0T sidebar--section---nHr4 ${r?ek.cx.pb4.$:""}`},ev.createElement("div",{className:s,draggable:!0},ev.createElement(eD.n,{className:"ordered_license_groups--expandCaret--MphjO sidebar--expandCaret--WHjtL",svg:r?yw:yT,onClick:()=>{var t;bl.Ox({type:"licenseGroup",id:(null==(t=e.licenseGroup)?void 0:t.id)??bO.u,orgId:e.currentUserOrgId},!r),n(!r)}}),ev.createElement(yE,{licenseGroup:e.licenseGroup,mainLicenseGroup:e.mainLicenseGroup,shouldShowNewTeamLink:e.shouldShowNewTeamLink})),r&&o)}function yC(e){var t,a;if(0===e.teamsUnassignedToLicenseGroup.length&&!e.hasSharedProjects)return null;let r=(0,Eb.Cq)(e.teamsUnassignedToLicenseGroup.filter(e=>!!e.team).map(e=>e.team)||[],(null==(a=null==(t=e.sidebarData)?void 0:t.fileBrowserPreferences)?void 0:a.orderedTeamIds)||[]);return ev.createElement(yN,{...e,key:"ordered-license-groups-other",orderedTeams:r,displaySharedProjects:!!e.hasSharedProjects,shouldShowNewTeamLink:e.shouldShowNewTeamLink})}let yS=function(e){var t,a;let[r,n]=ev.useState(),i=null,l=(t,a,r)=>{var n,i,l,s,o,c,d,m;let u=e.dragState.data;if(!u)return;let _=u.id,p=r.upper,g=yx(e.teamRolesByLicenseGroup,e.mainLicenseGroup,(null==(i=null==(n=e.sidebarData)?void 0:n.fileBrowserPreferences)?void 0:i.orderedTeamIds)||[]),E=(0,nx.uo)(g,_,t,p);E!==g&&e.dispatch(vr.xA.put({prefs:{id:(null==(s=null==(l=e.sidebarData)?void 0:l.fileBrowserPreferences)?void 0:s.id)||"optimistic-id",orderedTeamIds:null==(c=null==(o=e.sidebarData)?void 0:o.fileBrowserPreferences)?void 0:c.orderedTeamIds,orderedFavoritedResourceIds:null==(m=null==(d=e.sidebarData)?void 0:d.fileBrowserPreferences)?void 0:m.orderedFavoritedResourceIds,orderedLicenseGroupIds:E},userInitiated:!0}))},s=(t,a)=>{a.dataTransfer.effectAllowed="move";let r=new E1.nb(a.dataTransfer);r.setArbitraryData(t),i&&r.setDragImage(i),e.dispatch(bn.f({type:vi.D.LicenseGroup,data:t}))},o=t=>{e.dispatch(bn.C()),n(void 0)},c=()=>e.dragState.type===vi.D.LicenseGroup,d=(t,a,r)=>{e.dragState.type===vi.D.LicenseGroup&&n({draggingOverLicenseGroupId:t,draggingBefore:r.upper})},m=t=>{e.dragState.type===vi.D.LicenseGroup&&n({draggingOverLicenseGroupId:(null==r?void 0:r.draggingOverLicenseGroupId)??"",draggingBefore:t.upper})},u=()=>{},_=(e,t,a)=>{let r=new E1.nb(t);l(e,r,a),n(void 0)},p=yx(e.teamRolesByLicenseGroup,e.mainLicenseGroup,null==(a=null==(t=e.sidebarData)?void 0:t.fileBrowserPreferences)?void 0:a.orderedLicenseGroupIds),g=(0,uR.canMemberOrg)(e.currentUserOrgId,e.permissionsState),E=(g||!e.currentUserOrgId)&&!eN.ZP.mobile,h=t=>{var a,r,n;let i=e.teamRolesByLicenseGroup[t]||[],l=(0,Eb.Cq)(i.filter(e=>!!e.team).map(e=>e.team),(null==(r=null==(a=e.sidebarData)?void 0:a.fileBrowserPreferences)?void 0:r.orderedTeamIds)||[]);if(e.mainLicenseGroup&&t===e.mainLicenseGroup.id)return ev.createElement(yN,{...e,key:"ordered-license-groups-main",licenseGroup:e.mainLicenseGroup,orderedTeams:l,shouldShowNewTeamLink:E});let s=null==(n=i[0].team)?void 0:n.licenseGroup;if(s)return ev.createElement(yN,{...e,key:`ordered-license-groups-${s.id}`,licenseGroup:s,orderedTeams:l,shouldShowNewTeamLink:E})};return ev.createElement(ev.Fragment,null,0===p.length?ev.createElement("div",{className:ek.cx.colorTextSecondary.ml16.mr16.$},ev.createElement(eq.Tx,{id:"sidebar.workspaces.workspace_section_empty_state"})):ev.createElement(ev.Fragment,null,p.map(t=>{var a,n;let i=h(t);if(i){let l=t===(null==(a=e.mainLicenseGroup)?void 0:a.id)?e.mainLicenseGroup:null==(n=e.teamRolesByLicenseGroup[t][0].team)?void 0:n.licenseGroup;return ev.createElement(eS.h,{key:t,className:(null==r?void 0:r.draggingOverLicenseGroupId)===t?(null==r?void 0:r.draggingBefore)?"ordered_license_groups--dropBefore--4pWHo sidebar--dropBefore--Dkf-G":"ordered_license_groups--dropAfter--PMtV5 sidebar--dropAfter--cb3iP":"",isDragTarget:c,onTargetDragEnter:d.bind(null,t),onTargetDragQuadrantUpdate:m,onTargetDragLeave:u,onTargetDrop:_.bind(null,t),onDragStart:s.bind(null,l),onDragEnd:o},i)}})),ev.createElement("div",{className:"ordered_license_groups--dragImage--6JHOd sidebar--dragImage--BvGFd",ref:e=>{i=e}}),ev.createElement(yC,{...e,shouldShowNewTeamLink:E}))};function yk(){let e=(0,eb.v9)(e=>e.currentUserOrgId),t=(0,eb.v9)(t=>e?t.orgById[e]:null),a=(0,gv.GF)(e).data??!1;return t&&e?a?(0,eq.t)("sidebar.browse.all_workspaces"):(0,eq.t)("sidebar.browse.all_teams"):null}function yI(){let e=yk();return ev.createElement(ev.Fragment,null,e)}let yL=a(704475),yR=a(738336);function yA(){let e=(0,eb.I0)(),t=(0,eb.v9)(e=>e.currentUserOrgId),a=(0,eb.v9)(e=>e.selectedView),r=(0,vG.f)(),n=(0,eb.v9)(e=>t?e.orgById[t]:null),i="org"===a.view&&a.orgId===t,l=yk();return n&&t&&l?ev.createElement(vI.N,{isSelected:i,onClick:()=>{e(od.fv({view:"org",orgId:t,orgViewTab:Ex.i.HOME})),e(od.D5({clickedResourceType:"org",resourceIdOrKey:t}))},icon:ev.createElement(eD.n,{className:ek.cx.colorIcon.$,svg:r?yR:yL}),text:ev.createElement(oc.x,{truncate:!0},l)}):null}var yO=a(51942);function yD(){let e=(0,eb.I0)();return ev.createElement("button",{onClick:()=>{(0,eK.L9)("community_browser_sidebar_action_clicked"),e(od.fv({view:"communityHub",subView:"searchAndBrowse",data:lI.zK}))},className:tQ()(ek.cx.flex.flexRow.itemsCenter.gap12.h48.pl16.pr16.wFull.$,"explore_community_button--hoverColor--nMsya"),"data-onboarding-key":oQ.Di},ev.createElement(t3.JO,{icon:"community-16"}),ev.createElement(oc.x,{i18nId:"sidebar.explore_community"}))}function yF(e){return ev.createElement("div",{className:ek.cx.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,ek.cx.bt1.colorBorder.bSolid).$},ev.createElement(yD,null))}function yM(e){let t=(0,ol.Io)();return ev.createElement("div",{className:ek.cx.colorBg.if(e.hasBottomBorder,ek.cx.bb1.colorBorder.bSolid).$},e.inOfflineMode?ev.createElement(oD,null):ev.createElement(ev.Fragment,null,ev.createElement(oD,null),(0,eT.BZ)().search_facets&&"control"!==t?ev.createElement(ol.kS,null):ev.createElement(ol.QZ,{inSidebar:!0})))}var yP=a(436003);let yB=a(139581),yU=a(206116);function yV(e){let t=(0,eb.I0)(),a=(0,o8.A6)(),r=(0,eb.v9)(e=>e.currentUserOrgId),n=(0,vG.f)(),i=(0,eb.v9)(e=>e.teamFeedBellStates),l=!!(r&&i[r]),s="teamFeed"===a.view;return ev.createElement(vI.N,{onClick:()=>{t(od.fv({view:"teamFeed"})),t(od.D5({clickedResourceType:"teamFeed"}))},isSelected:s,icon:ev.createElement(eD.n,{className:ek.cx.colorIcon.$,svg:n?yU:yB}),text:ev.createElement("span",{className:"team_feed_page_link--sectionNameCustomSections--ZcD-O sidebar--sectionNameCustomSections--GV0zR sidebar--sectionTextCustomSections--saCMf sidebar--sectionContentCustomSections--PXYf3 ellipsis--ellipsis--Tjyfa"},ev.createElement("div",{className:"team_feed_page_link--sectionNameCustomSectionsLeft--rH8Hz"},ev.createElement(eq.Tx,{id:"fig_feed.feed"}),l&&ev.createElement("div",{className:"team_feed_page_link--redDot--GHBuC red_dot--baseRedDot--AZelu"})),(0,eT.BZ)().xr_debounce_beta_badging&&ev.createElement(yP.v,{isSelected:s}))})}function yW(){return ev.createElement("div",{className:"base_upgrade_section--divider--UnoCi sidebar--divider--gM0dV"})}function yG(e){return ev.createElement(e3.Ui,{name:e.trackingContext,properties:e.trackingProperties},ev.createElement(yW,null),ev.createElement("div",{className:"base_upgrade_section--content--L-D6V"},e.onDismiss&&ev.createElement(n6.PZ,{className:"base_upgrade_section--closeButton--rO-yH",onClick:e.onDismiss}),e.header&&ev.createElement("div",{className:ek.cx.mb12.wFull.$},e.header,ev.createElement(yW,null)),e.svg&&ev.createElement(eD.n,{className:`base_upgrade_section--icon--0rpxW ${e.svgStyles??""}`,svg:e.svg}),e.countDownDaysLeft&&ev.createElement("div",{className:"base_upgrade_section--countdownTicker---Ynd1"},ev.createElement(oc.x,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})),ev.createElement("div",{className:"base_upgrade_section--textContainer--dwRju"},e.titleText&&ev.createElement("p",{className:"base_upgrade_section--title--hyK-i"},e.titleText),ev.createElement("p",null,e.bodyText)),ev.createElement(eA.RS,{className:"base_upgrade_section--ctaButton--u8OKt",onClick:e.onClickCTA,dataTestId:e.ctaDataTestId,trackingProperties:e.ctaTrackingProperties},e.ctaText)))}let yj="upgrade_section--upgradeTextEmphasized--KNCQw",yH=a(984327),y$=a(753224);var yz=((h=yz||{})[h.UPGRADE=0]="UPGRADE",h[h.CREATE=1]="CREATE",h);function yK(e){let t=(0,eb.I0)(),a=ev.createElement("span",{className:yj},(0,eq.t)("edu.sidebar_section.verified"));return ev.createElement(yG,{trackingContext:0===e.type?"Edu Upgrade Section":"Edu Create Section",svg:yH,bodyText:ev.createElement(ev.Fragment,null,a," ",0===e.type?(0,eq.t)("edu.sidebar_section.upgrade"):(0,eq.t)("edu.sidebar_section.create_team")),ctaText:0===e.type?(0,eq.t)("edu.choose_team"):(0,eq.t)("edu.create_free_team"),onClickCTA:0===e.type?()=>{t((0,ig.K4)({type:_8.mg}))}:()=>{t(od.Nf({isEduTeam:!0}))},onDismiss:()=>{t(m1.v({dismissed_edu_sidebar:!0}))}})}function yZ({daysLeft:e}){let t=(0,eb.I0)();if(e<0)return null;let a=()=>{t((0,ig.K4)({type:_8.nY,data:{upsellSource:g0.V.EDU_UPGRADE_SECTION}}))},r=ev.createElement(eA.UA,{onClick:()=>ew.default.redirect("/education/apply","_blank")},ev.createElement(eq.Tx,{id:"edu.sidebar_section.verify_your_education_status"}));return e>0?ev.createElement(yG,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:ev.createElement(eq.Tx,{id:"edu.sidebar_section.education_plan_expires_in_days",daysLeft:e}),bodyText:ev.createElement(eq.Tx,{id:"edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",verify:r}),ctaText:ev.createElement(eq.Tx,{id:"upgrade.upgrade_to_professional"}),onClickCTA:a}):ev.createElement(yG,{trackingContext:"Universal Upgrade Section Education Plan Expired",svg:y$,titleText:ev.createElement(eq.Tx,{id:"edu.sidebar_section.education_plan_expired"}),bodyText:ev.createElement(eq.Tx,{id:"edu.sidebar_section.to_keep_editing_upgrade_your_team",verify:r}),ctaText:ev.createElement(eq.Tx,{id:"upgrade.upgrade_to_professional"}),onClickCTA:a})}let yq="org_upgrade_multi_team_modal--planModalDivider--NkcU-",yY="org_upgrade_single_team_modal--planGrid--NTHDz",yJ="org_upgrade_single_team_modal--priceRow--8kVuf text--fontPos11--2LvXf text--_fontBase--QdLsd",yQ="org_upgrade_single_team_modal--priceFigureWithFigjam--YinXJ text--fontPos16--oMC-G text--_fontBase--QdLsd",yX="org_upgrade_single_team_modal--figmaPriceWithDevMode--7z32E",y0="org_upgrade_single_team_modal--devModeText--XldVW",y1=a(619483),y2=a(850663);function y3(e){return ev.createElement("div",{className:"org_upgrade_multi_team_modal--planItem--3dOII"},ev.createElement(eD.n,{svg:y1,className:"org_upgrade_multi_team_modal--checkIcon--7wvBo"}),ev.createElement("p",null,e.text))}class y4 extends ev.Component{constructor(){super(...arguments),this.hideModal=()=>{this.props.dispatch(ig.hV())},this.getFeatures=()=>[(0,eq.t)("org_upgrade.multi_team.plan_items.shared_design_libraries"),(0,eq.t)("org_upgrade.multi_team.plan_items.shared_fonts_and_styles"),(0,eq.t)("org_upgrade.multi_team.plan_items.centralized_billing_and_admin_controls"),(0,eq.t)("org_upgrade.multi_team.plan_items.single_sign_on_sso_integrations")],this.onClick=()=>{this.hideModal(),this.props.dispatch(od.fv({view:"orgSelfServe",upsellSource:this.props.upsellSource}))},this.getTeamEntry=e=>ev.createElement("div",{className:"org_upgrade_multi_team_modal--teamListEntry--fg-iB",key:e.id},ev.createElement(ds.Kn,{size:10,hideFallbackInitial:!0,entity:e,shape:"SQUARE"}),ev.createElement("div",{className:"org_upgrade_multi_team_modal--teamListEntryName--5F9BH ellipsis--ellipsis--Tjyfa"},e.name)),this.renderTeamsList=()=>{let e=this.props.unsortedTeamIds,t=[];for(var a=0;a<Math.min(4,e.length);a++){let r=this.props.teams[e[a]];t.push(this.getTeamEntry(r))}return ev.createElement("div",{className:"org_upgrade_multi_team_modal--teamList--NLWMC"},t)},this.getTeamIllustrationSectionHeight=()=>{let e=Object.keys(this.props.teams).length;switch(e){case 2:return 184;case 3:return 192;default:return 221}},this.renderCloseButton=()=>ev.createElement(n6.PZ,{className:"org_upgrade_multi_team_modal--closeButton--n7pFz",onClick:this.hideModal,innerText:"close"}),this.renderItems=()=>ev.createElement("div",{className:"org_upgrade_multi_team_modal--itemList--mwTTI"},this.getFeatures().map((e,t)=>ev.createElement("div",{key:t},ev.createElement(y3,{text:e}))),ev.createElement("div",{className:"org_upgrade_multi_team_modal--seeAll--NRHt-"},ev.createElement(eA.Z6,{href:"https://www.figma.com/pricing/#cid-57mfNh6t0Xo7z8Q95Ww9ZV",target:"_blank",trusted:!0},ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.see_all_features"})))),this.renderIllustration=()=>ev.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationSection--2D4Lu",style:{height:this.getTeamIllustrationSectionHeight()}},ev.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationLeftSection--XMN5X"},ev.createElement("div",{className:"org_upgrade_multi_team_modal--dynamicTeamListSection--GlG-Z"},ev.createElement("div",{className:"org_upgrade_multi_team_modal--teamListHeader--YcXT2"},ev.createElement("img",{className:"org_upgrade_multi_team_modal--placeholderOrgLogo--QCeXJ",src:"https://static.figma.com/uploads/fc0fcfadcfe50c96f4dcf859aabe1952c822ae2a",draggable:!1,alt:""}),ev.createElement("div",{className:"org_upgrade_multi_team_modal--teamListOrgName--XYzhd"},ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.acme_inc"})),ev.createElement(eD.n,{svg:y2,className:"org_upgrade_multi_team_modal--multiTeamOrgUpgradeAdjustSvg--CeXxC"})),ev.createElement("div",{className:"org_upgrade_multi_team_modal--teamListDivider--o0hvc"}),this.renderTeamsList(),ev.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationRightSection--IoR5l"},ev.createElement("img",{className:"org_upgrade_multi_team_modal--filesIllustration--53l1v",src:"https://static.figma.com/uploads/e2148969d5a469e76c053a23b6647d487e6d64ee",draggable:!1,alt:""}),ev.createElement("img",{src:"https://static.figma.com/uploads/50ae1752a504eea59f2a3efac6b0f2d1ed74435a",draggable:!1,alt:""})))))}render(){let e=(0,mw.Id)();return ev.createElement(ir.Rj,{className:"org_upgrade_multi_team_modal--modal--l80Ms",hide:this.hideModal,size:"fitContent",useModalViewScroll:!1},ev.createElement(cr.l,{className:"org_upgrade_multi_team_modal--scrollContainer--dqB2X"},ev.createElement("div",{className:"org_upgrade_multi_team_modal--planModalHeader--51tOx",style:{height:64,marginBottom:32}},ev.createElement("div",{className:"org_upgrade_multi_team_modal--planModalTitle--ZxC2N text--fontPos24--YppUD text--_fontBase--QdLsd",style:{fontWeight:600}},ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.bring_your_teams_together_with_the_figma_organization_plan"})),this.renderCloseButton()),ev.createElement("div",{className:yq}),ev.createElement("div",{className:"org_upgrade_multi_team_modal--planDetails--xiNUv"},ev.createElement("div",{className:"org_upgrade_multi_team_modal--planDetailsLeft--hvvK-"},ev.createElement("div",{className:"org_upgrade_multi_team_modal--billingCadence--5AUbS"},ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.annual_billing_only"})),ev.createElement("div",{className:yJ},ev.createElement("p",{className:yX},ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.figma"}),(0,eT.BZ)().billing_dev_mode_customer_ui&&ev.createElement("div",{className:y0},ev.createElement(_6.F,null))),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.billing_cost_per_month.seat_rename",monthlyCostInDollars:ev.createElement("span",{className:yQ},e.formatPrice("orgFigma"))}))),(0,eT.BZ)().billing_dev_mode_customer_ui&&ev.createElement("div",{className:yJ},ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.dev_mode"}),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.billing_cost_per_month.seat_rename",monthlyCostInDollars:ev.createElement("span",{className:yQ},e.formatPrice("orgDevMode"))}))),ev.createElement("div",{className:yJ},ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.fig_jam"}),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.billing_cost_per_month.seat_rename",monthlyCostInDollars:ev.createElement("span",{className:yQ},e.formatPrice("orgFigjam"))}))),ev.createElement("div",{className:"org_upgrade_multi_team_modal--planText--70OKl"},this.renderItems())),this.renderIllustration()),ev.createElement("div",{className:yq}),ev.createElement(eA.RS,{onClick:this.onClick,className:"org_upgrade_multi_team_modal--continueButton--ZDQPy",trackingProperties:{trackingDescriptor:cC.y.UPGRADE_TO_ORGANIZATION,upsellSource:this.props.upsellSource}},ev.createElement(eq.Tx,{id:"org_upgrade.multi_team.continue"})),ev.createElement("div",{className:"org_upgrade_multi_team_modal--spaceFiller--uHj5m"})))}}y4.displayName="OrgUpgradeMultiTeamModal";let y8=(0,eb.$j)(e=>{let{dispatch:t,teams:a}=e;return{dispatch:t,teams:a,unsortedTeamIds:(0,Eb.ZT)(e.user,e.roles,e.teams)}})((0,e3.x1)(y4,"Multi-Team Org Upgrade Modal")),y5=(0,it.Y3)(y8,"OrgUpgradeMultiTeamModal"),y9=a(394585),y6=a(960673);function y7(e){return ev.createElement(ev.Fragment,null,ev.createElement(eD.n,{svg:e.isArrow?y6:y9,className:"org_upgrade_single_team_modal--checkIcon--fz5e5"}),ev.createElement("p",null,e.text))}class we extends ev.Component{render(){return ev.createElement("div",{className:"org_upgrade_single_team_modal--teamPlan--vLM8G"},ev.createElement("div",{className:"org_upgrade_single_team_modal--itemList--Ae1HF"},this.props.features.map((e,t)=>ev.createElement("div",{key:t,className:"org_upgrade_single_team_modal--planItem--eTgis"},ev.createElement(y7,{text:e.text,isArrow:e.isArrow}))),this.props.plan===gB.Jb.ORG&&ev.createElement("div",{className:"org_upgrade_single_team_modal--seeAllFeatures--XIKXN"},ev.createElement(eA.Z6,{href:"https://www.figma.com/pricing/#cid-57mfNh6t0Xo7z8Q95Ww9ZV",target:"_blank",trusted:!0},ev.createElement(eq.Tx,{id:"org_upgrade.single_team.see_all_features"}))),this.props.plan===gB.Jb.ORG&&ev.createElement(eA.RS,{onClick:this.props.onUpgrade,className:"org_upgrade_single_team_modal--planSelectButton--z4EV7",trackingProperties:{trackingDescriptor:cC.y.UPGRADE_TO_ORGANIZATION,upsellSource:this.props.upsellSource}},ev.createElement(eq.Tx,{id:"org_upgrade.single_team.upgrade_to_an_organization"}))))}}function wt(e){return ev.createElement("div",{className:"org_upgrade_single_team_modal--planPriceView--nG6Sy",style:{padding:e.padding}},ev.createElement("h2",{className:"org_upgrade_single_team_modal--planNameBase--kWiSU text--fontPos16--oMC-G text--_fontBase--QdLsd"},e.name),ev.createElement("p",{className:"org_upgrade_single_team_modal--subtitle--zSLxy"},e.subtitle),ev.createElement("div",{className:yJ},ev.createElement("p",{className:yX},ev.createElement(eq.Tx,{id:"plan_details.figma"}),(0,eT.BZ)().billing_dev_mode_customer_ui&&ev.createElement("div",{className:y0},ev.createElement(_6.F,null))),ev.createElement("div",null,ev.createElement("p",{className:yQ},e.prices[_K.z9.DESIGN]))),(0,eT.BZ)().billing_dev_mode_customer_ui&&e.prices[_K.z9.DEV_MODE]&&ev.createElement("div",{className:yJ},ev.createElement("p",null,ev.createElement(eq.Tx,{id:"plan_details.dev_mode_only"})),ev.createElement("div",null,ev.createElement("p",{className:yQ},e.prices[_K.z9.DEV_MODE]))),ev.createElement("div",{className:yJ},ev.createElement("p",null,ev.createElement(eq.Tx,{id:"plan_details.fig_jam"})),ev.createElement("div",null,ev.createElement("p",{className:yQ},e.prices[_K.z9.FIGJAM]))))}we.displayName="Plan";class wa extends ev.Component{constructor(){super(...arguments),this.hideModal=()=>{this.props.dispatch(ig.hV())}}render(){let e=(0,mw.Id)();return ev.createElement(ir.Rj,{className:"org_upgrade_single_team_modal--modal--AuM3r",hide:this.hideModal,size:586,useModalViewScroll:!1},ev.createElement(cr.l,{className:"org_upgrade_single_team_modal--scrollContainer--fwiSd"},ev.createElement("div",{className:"org_upgrade_single_team_modal--planModalHeader--tYEg2"},ev.createElement("div",{className:"org_upgrade_single_team_modal--planModalHeaderText--O6gsa"},ev.createElement("div",{className:"org_upgrade_single_team_modal--planModalTitle--kPIqU text--fontPos24--YppUD text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"org_upgrade.single_team.get_more_out_of_figma_as_you_grow"}))),ev.createElement(n6.PZ,{className:"org_upgrade_single_team_modal--closeButton---QE7V",onClick:this.hideModal,innerText:"close"})),ev.createElement("div",{className:tQ()(yY,"org_upgrade_single_team_modal--planGrid__vertDivided--eb26t")},ev.createElement(wt,{name:(0,eq.t)("org_upgrade.single_team.professional_plan"),subtitle:(0,eq.t)("org_upgrade.single_team.price_when_billed_annually"),prices:{[_K.z9.DESIGN]:`${e.formatPrice("annualFigma")}`,[_K.z9.FIGJAM]:`${e.formatPrice("annualFigjam")}`},padding:"16px 31px 16px 36px"}),ev.createElement(wt,{name:(0,eq.t)("org_upgrade.single_team.organization_plan"),subtitle:(0,eq.t)("org_upgrade.single_team.annual_billing_only"),prices:{[_K.z9.DESIGN]:e.formatPrice("orgFigma"),[_K.z9.DEV_MODE]:e.formatPrice("orgDevMode"),[_K.z9.FIGJAM]:e.formatPrice("orgFigjam")},padding:"16px 32px 16px 33px"})),ev.createElement("div",{className:"org_upgrade_single_team_modal--planModalHeaderDivider--Yfsl-"}),ev.createElement("div",{className:yY},ev.createElement(we,{plan:gB.Jb.PRO,features:[{text:(0,eq.t)("org_upgrade.single_team.unlimited_design_files_and_projects_in_one_team")},{text:(0,eq.t)("org_upgrade.single_team.design_library_within_one_team")},{text:(0,eq.t)("org_upgrade.single_team.audio_conversations_in_files")}]}),ev.createElement(we,{plan:gB.Jb.ORG,features:[{text:(0,eq.t)("org_upgrade.single_team.everything_in_professional_plus"),isArrow:!0},{text:(0,eq.t)("org_upgrade.single_team.unlimited_teams_and_unlimited_projects")},{text:(0,eq.t)("org_upgrade.single_team.cross_team_design_libraries_and_fonts")},{text:(0,eq.t)("org_upgrade.single_team.control_file_sharing_inside_and_outside_of_your_organization")},{text:(0,eq.t)("org_upgrade.single_team.single_sign_on_sso_integration")},{text:(0,eq.t)("org_upgrade.single_team.private_plugins_and_plugin_management")},{text:(0,eq.t)("org_upgrade.single_team.full_content_ownership")}],onUpgrade:()=>{this.hideModal(),this.props.dispatch(od.fv({view:"orgSelfServe",upsellSource:this.props.upsellSource}))},upsellSource:this.props.upsellSource}))))}}wa.displayName="OrgUpgradeSingleTeamModalInner";let wr=(0,e3.x1)(wa,"Single-Team Org Upgrade Modal"),wn=(0,it.Y3)(wr,"OrgUpgradeSingleTeamModal");var wi=a(330386);let wl=a(768683);class ws extends ev.Component{constructor(){super(...arguments),this.getUpgradeText=()=>this.props.orgUpsellEligibility===vb.SINGLE_TEAM?ev.createElement(eq.Tx,{id:"upgrade.access_cross_team_design_libraries_sso_and_more"}):ev.createElement(eq.Tx,{id:"upgrade.centralize_your_teams_and_share_design_libraries"})}render(){if(this.props.orgUpsellEligibility===vb.NONE||this.props.isOrgUpsellCurrentlyDismissed)return null;let e=`${this.props.orgUpsellEligibility===vb.SINGLE_TEAM?"Single-Team":"Multi-Team"} Dismissible Org Upgrade Section`;return ev.createElement(yG,{trackingContext:e,svg:wl,bodyText:this.getUpgradeText(),ctaText:ev.createElement(eq.Tx,{id:"upgrade.view_plans"}),onClickCTA:this.props.launchOrgUpgrade,onDismiss:this.props.dismissUpsell})}}ws.displayName="OrgUpgradeSection";let wo=(0,eb.$j)(e=>({isOrgUpsellCurrentlyDismissed:function(e){let t=vT(e);switch(t){case 0:return!1;case 1:return vx(e,vv.FIRST_TIME);case 2:return vx(e,vv.SECOND_TIME);default:return!0}}(e.userFlags),userFlags:e.userFlags}),null,(e,t,a)=>{let{dispatch:r}=t,{isOrgUpsellCurrentlyDismissed:n,userFlags:i}=e,{orgUpsellEligibility:l}=a;return{isOrgUpsellCurrentlyDismissed:n,launchOrgUpgrade:()=>{l===vb.SINGLE_TEAM&&r((0,ig.K4)({type:wn,data:{dispatch:r,hasSeenOrgDisclaimerBanner:wi.A in e.userFlags,upsellSource:g0.V.ORG_UPGRADE_SECTION}})),l===vb.MULTIPLE_TEAMS&&r((0,ig.K4)({type:y5,data:{upsellSource:g0.V.ORG_UPGRADE_SECTION}}))},dismissUpsell:()=>r(function(e){let t=vT(e);switch(t){case 0:return m1.v({dismissed_org_upsell_first_time:!0});case 1:return m1.v({dismissed_org_upsell_second_time:!0});default:return m1.v({dismissed_org_upsell_permanently:!0})}}(i)),...a}})(ws);var wc=a(19595);let wd="pro_trials_upgrade_section--divider--LDDJ5 sidebar--divider--gM0dV",wm=a(855170);function wu(){let e=(0,eb.I0)();return ev.createElement(yG,{trackingContext:"Universal Upgrade Section Pro Trial Entry",trackingProperties:h7.pl.getTrackingProperties(),svg:wm,titleText:ev.createElement(oc.x,{i18nId:"upgrade.free_professional_team_trial"}),bodyText:ev.createElement(oc.x,{i18nId:"upgrade.enjoy_our_best_design_features_for_14_days"}),ctaText:ev.createElement(oc.x,{i18nId:"upgrade.try_the_professional_plan"}),onClickCTA:()=>e((0,ig.K4)({type:wc.c})),ctaDataTestId:"redesigned-upgrade-button-pro-trial-entry-upgrade",ctaTrackingProperties:h7.pl.getTrackingProperties("Try the Professional Plan"),svgStyles:"pro_trials_upgrade_section--sparkleIcon--Dzx-X"})}function w_({team:e}){return ev.createElement(tD.j,{spacing:8,dataTestId:"team-info"},ev.createElement(oo.Ir,{size:oo.DZ.SMALL,team:e,fallbackDisplay:fA.D.HIDDEN,shape:"ROUNDED_SQUARE"}),ev.createElement(oc.x,{children:e.name,fontWeight:"medium",fontSize:11,truncate:"end"}))}function wp({daysLeft:e,trialTeam:t,onClickCTA:a}){var r;let n=ev.createElement(eA.UA,{onClick:a,dataTestId:"pro_trial_inline_upgrade",trackingProperties:h7.pl.getTrackingProperties()},ev.createElement(eq.Tx,{id:"upgrade.pro_trial_inline_upgrade_cta"}));return ev.createElement(e3.Ui,{name:"Universal Upgrade Section Pro Trial Countdown",properties:h7.pl.getTrackingProperties()},ev.createElement("div",{className:wd}),ev.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeSection--GTNvA"},ev.createElement("div",{className:"pro_trials_upgrade_section--countdownInfo--u1S0m"},ev.createElement(w_,{team:t})),ev.createElement("div",{className:wd}),ev.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysTicker---1fAY"},ev.createElement(oc.x,{children:e,color:e<=2?"danger":"default",fontWeight:"medium",fontSize:24})),ev.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysLeftText--qKCxs"},ev.createElement(oc.x,{i18nId:"upgrade.days_left_in_trial",i18nParams:{days:e},color:e<=2?"danger":"default",fontWeight:"medium",fontSize:13})),ev.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeText--MfG9e"},ev.createElement(oc.x,{children:(r=e)>=14?ev.createElement(oc.x,{i18nId:"upgrade.pro_trial_uub_countdown.this_counter_will_help_you_keep_track",i18nParams:{upgrade:n}}):r>=10?ev.createElement(oc.x,{i18nId:"upgrade.pro_trial_uub_countdown.if_you_are_enjoying_your_trial",i18nParams:{upgrade:n}}):r>=4?ev.createElement(oc.x,{i18nId:"upgrade.pro_trial_uub_countdown.try_out_these_features"}):r>=2?ev.createElement(oc.x,{i18nId:"upgrade.pro_trial_uub_countdown.you_will_miss_these_files"}):r>=1?ev.createElement(oc.x,{i18nId:"upgrade.pro_trial_uub_countdown.just_a_memory"}):null})),e<=9&&ev.createElement(eA.RS,{className:"pro_trials_upgrade_section--redesignedUpgradeButton--BhxIn",onClick:a,dataTestId:"redesigned-upgrade-button-pro-trial-countdown-upgrade",trackingProperties:h7.pl.getTrackingProperties()},ev.createElement(oc.x,{i18nId:"upgrade.upgrade_to_professional"}))))}function wg(e){return ev.createElement(yG,{trackingContext:"Universal Upgrade Section Pro Trial Expired",trackingProperties:h7.pl.getTrackingProperties(),titleText:ev.createElement(oc.x,{i18nId:"upgrade.currently_on_starter_plan"}),bodyText:ev.createElement(oc.x,{i18nId:"upgrade.your_trial_has_ended"}),ctaText:ev.createElement(oc.x,{i18nId:"upgrade"}),onClickCTA:e.onClickCTA,ctaDataTestId:"redesigned-upgrade-button-pro-trial-expired-upgrade",ctaTrackingProperties:h7.pl.getTrackingProperties(),header:ev.createElement(w_,{team:e.team})})}function wE(e){let t=(0,eb.I0)(),{ongoingUpgradableTrials:a,expiredUpgradableTrials:r}=e,n=(0,eb.v9)(e=>e.teams),i=e=>{t((0,ig.K4)({type:_8.nY,data:{teamId:e,upsellSource:g0.V.PRO_TRIAL_UPSELL_MODAL}}))};return r.length>0?ev.createElement(wg,{team:n[r[0].teamId],onClickCTA:()=>i(r[0].teamId)}):a.length>0?ev.createElement(wp,{trialTeam:n[a[0].teamId],daysLeft:a[0].daysLeft,onClickCTA:()=>i(a[0].teamId)}):null}var wh=a(586705);let wf="redeem_jamboard_offer_upgrade_section--ctaButton--yBtC- basic_form--primaryBtnFigjam--sOysn basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd";function wv({header:e,body:t}){return ev.createElement("div",{className:ek.cx.mb12.alignCenter.$},ev.createElement("h3",{className:ek.cx.font11.fontSemiBold.$},e),ev.createElement("p",{className:ek.cx.font11.$},t))}function wb(){let e=(0,eb.I0)();return ev.createElement(e3.Ui,{name:"Jamboard Offer File Browser Sidebar Nudge"},ev.createElement(yW,null),ev.createElement("div",{className:ek.cx.mx16.pt8.pb16.px16.colorBgFigjamTertiary.bRadius6.$},ev.createElement("img",{className:ek.cx.block.mxAuto.mb2.w64.h44.$,src:"https://static.figma.com/uploads/175ed0cde6ed2194f8cb3cceb1278c043aa036b3",alt:(0,eq.t)("upgrade.redeem_jamboard_offer.img_alt")}),ev.createElement(wv,{header:ev.createElement(eq.Tx,{id:"upgrade.redeem_jamboard_offer.title"}),body:ev.createElement(eq.Tx,{id:"upgrade.redeem_jamboard_offer.body"})}),ev.createElement(eA.RS,{className:wf,fullWidth:!0,onClick:()=>{e((0,ig.K4)({type:_8.n2,data:{plan:_8.sR.PRO,upsellSource:g0.V.JAMBOARD_OFFER_UPGRADE_SECTION}}))}},ev.createElement(eq.Tx,{id:"upgrade.redeem_jamboard_offer.cta"}))))}function wy(){let e=(0,eb.I0)(),t=(0,lR.xJ)();return ev.createElement(e3.Ui,{name:"Jamboard Importer File Browser Sidebar Nudge"},ev.createElement(yW,null),ev.createElement("div",{className:ek.cx.mx16.pb16.colorBgSecondary.bRadius6.overflowHidden.$},ev.createElement("img",{className:ek.cx.block.wFull.hAuto.mb12.$,src:"https://static.figma.com/uploads/922ee84c836daaa8b437076910aa8415d2c57337",width:194,height:71,alt:(0,eq.t)("upgrade.jamboard_offer_import_nudge.img_alt")}),ev.createElement("div",{className:ek.cx.px16.$},ev.createElement(wv,{header:ev.createElement(eq.Tx,{id:"upgrade.jamboard_offer_import_nudge.title"}),body:ev.createElement(eq.Tx,{id:"upgrade.jamboard_offer_import_nudge.body"})}),ev.createElement(eA.RS,{className:wf,fullWidth:!0,onClick:()=>{let a=null==t?void 0:t.drafts_folder_id;a&&e(od.B4(a)),e((0,ig.K4)({type:wh.wZ}))}},ev.createElement(eq.Tx,{id:"upgrade.jamboard_offer_import_nudge.cta"})))))}let ww=a(118573);function wT(e){let t=(0,eb.I0)(),{onTeam:a,hitFileLimit:r}=e;return ev.createElement(yG,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:a,hitFileLimit:r,showSingleEditorCopyChangeVariantUi:!0},svg:ww,svgStyles:"single_editor_team_upgrade_section--folderSparkleIcon--HWnDl",bodyText:ev.createElement(eq.Tx,{id:"upgrade.uub.upgrade_for_unlimited_files_and_more"}),titleText:ev.createElement(eq.Tx,{id:"upgrade.uub.create_more_organize_everything"}),ctaText:ev.createElement(eq.Tx,{id:"upgrade.view_plans"}),ctaTrackingProperties:{trackingDescriptor:cC.y.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{t((0,ig.K4)({type:_8.nY,data:{upsellSource:g0.V.UNIVERSAL_UPGRADE_SECTION}}))}})}let wx=a(768683);function wN({onTeam:e,hitFileLimit:t}){let a=(0,eb.I0)(),r=(0,nm.Uh)();if(r)return ev.createElement(wT,{onTeam:e,hitFileLimit:t});let n=t?ev.createElement(ev.Fragment,null,ev.createElement("span",{className:yj},ev.createElement(eq.Tx,{id:"upgrade.running_out_of_files_in_your_free_team"}))," ",ev.createElement(eq.Tx,{id:"upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits"})):ev.createElement(eq.Tx,{id:"upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features"});return ev.createElement(yG,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t,showSingleEditorCopyChangeVariantUi:r},svg:wx,bodyText:n,ctaText:ev.createElement(eq.Tx,{id:"upgrade.view_plans"}),ctaTrackingProperties:{trackingDescriptor:cC.y.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{a((0,ig.K4)({type:_8.nY,data:{upsellSource:g0.V.UNIVERSAL_UPGRADE_SECTION}}))}})}function wC(e){switch(e.type){case hi.g.PRO_TRIALS_ENTRY:return ev.createElement(wu,null);case hi.g.PRO_TRIALS_UPGRADE:return ev.createElement(wE,{ongoingUpgradableTrials:e.props.ongoingUpgradableTrials,expiredUpgradableTrials:e.props.expiredUpgradableTrials});case hi.g.EDU_EXPIRY:return ev.createElement(yZ,{daysLeft:e.props.daysLeft});case hi.g.EDU_UPGRADE:return ev.createElement(yK,{type:e.props.type});case hi.g.JAMBOARD_OFFER_NUDGE:return ev.createElement(wy,null);case hi.g.JAMBOARD_OFFER_UPGRADE:return ev.createElement(wb,null);case hi.g.ORG_UPGRADE:return ev.createElement(wo,{orgUpsellEligibility:e.props.orgUpsellEligibility});case hi.g.SINGLE_EDITOR_TEAM_COPY_VARIANT:return ev.createElement(wT,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit});case hi.g.UNIVERSAL:default:return ev.createElement(wN,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}let wS=a(328630),wk=a(790070),wI=a(792668);class wL extends ev.Component{constructor(e){super(e),this.selectedItemRef=ev.createRef(),this.teamSectionBottomRef=ev.createRef(),this.debouncedTrackEvent=(0,ld.D)(eK.L9,eH.LY,!0),this.scrollIfHidden=()=>{let e=EG.findDOMNode(this.selectedItemRef.current);if(!e)return;let t=e.getBoundingClientRect(),a=this.scrollContainerRef.getClipContainer().getBoundingClientRect();t.top<a.top?e.scrollIntoView({block:"start",inline:"nearest"}):t.bottom>a.bottom&&e.scrollIntoView({block:"end",inline:"nearest"})},this.onToggleExpand=()=>{bl.Ox({type:"topLevel",id:"teamsOrLicenseGroups",orgId:this.props.currentUserOrgId},!this.state.isSectionExpanded),this.setState({isSectionExpanded:!this.state.isSectionExpanded})};let t=e.currentUserOrgId&&this.props.userFlags.show_create_new_section_banner;this.state={isSectionExpanded:!t&&bl.pJ({type:"topLevel",id:"teamsOrLicenseGroups",orgId:e.currentUserOrgId}),scrollTop:0,trackedScroll:!1,dispatchedMigrationToSections:!1,isBannerCloseHovered:!1,bottomIntersecting:!1,topIntersecting:!1}}onFolderRenameClick(e){this.props.dispatch(od.Cl({folderId:e.id}))}setSeenAnnouncement(e){this.props.dispatch(m1.v({show_create_new_section_banner:!1}))}createNewSection(e){this.props.dispatch(hd.J6({newCustomSectionIndex:0})),this.setSeenAnnouncement(e)}componentDidMount(){setTimeout(()=>this.scrollIfHidden(),0)}componentDidUpdate(e){let{selectedView:t}=this.props;e.selectedView!==t&&this.scrollIfHidden()}render(){var e,t;let a=tQ()("sidebar--navDefault---N9dL",{"sidebar--showMobileNav--3f0Cw":this.props.mobileNavShown}),r=(0,eT.BZ)().ps_benchmark&&this.props.currentTeamId,n=this.props.projectsByTeam[vE.USER_DRAFTS],i=n?n[0]:null,l=vs.W3.getContextSelectedFolder(this.props.dropdownShown),s=(null==(t=null==(e=this.props.sidebarData)?void 0:e.teamRoles)?void 0:t.map(e=>e.team).filter(e=>e))||[],o=s.map(e=>e.id),c=0===o.length,d=(0,oC._H)(this.props),m=(0,_q.YM)(this.props),u=m&&m.permission===ao.Gu.ADMIN,_=this.props.user,p=(0,fk.Gd)(this.props.currentUserOrgId),g=(0,vC.Mf)(d,u??!1,!1),E=ev.createElement(ev.Fragment,null,ev.createElement(vA,{dispatch:this.props.dispatch,notOnAnyTeams:c,currentOrgId:this.props.currentUserOrgId,tooltipText:g?(0,eq.t)("license_group_view.toolbar.create_team_disabled"):void 0,disabled:g||(0,uR.isOrgUserExternallyRestricted)(this.props.user,null==d?void 0:d.id),onMouseEnter:g?()=>{this.debouncedTrackEvent(eH.A2,{orgId:this.props.currentUserOrgId,orgName:null==d?void 0:d.name,placement:"teamsSidebar"})}:void 0})),h=()=>{let e=(0,uR.canMemberOrg)(this.props.currentUserOrgId,this.props.permissionsState),t=(e||!this.props.currentUserOrgId)&&!eN.ZP.mobile;return t?E:null},f=()=>{let e=!(0,uR.canMemberOrg)(this.props.currentUserOrgId,this.props.permissionsState);return ev.createElement(ev.Fragment,null,c&&ev.createElement(ev.Fragment,null,ev.createElement(vO,{org:d,isOrgGuest:e,dispatch:this.props.dispatch})))},v=()=>ev.createElement("div",{onClick:this.onToggleExpand,role:"button",tabIndex:0,className:"sidebar--sectionHeaderContainer--HJzK0 sidebar--sectionHeaderName--tsbVQ sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa"},ev.createElement(eD.n,{className:"sidebar--expandCaret--WHjtL",svg:this.state.isSectionExpanded?wk:wI,onClick:this.onToggleExpand}),ev.createElement("div",null,this.props.isEnterpriseSidenavEnabled?ev.createElement(ev.Fragment,null,ev.createElement("span",null,ev.createElement(eq.Tx,{id:"sidebar.workspaces"}))):ev.createElement(eq.Tx,{id:"sidebar.teams"}))),b=()=>{var e,t,a,n;if(r||(0,fk.Gd)(this.props.currentUserOrgId))return ev.createElement(ev.Fragment,null);let i=(0,Eb.Cq)((null==(t=null==(e=this.props.sidebarData)?void 0:e.teamRoles)?void 0:t.map(e=>e.team).filter(e=>!!e))||[],(null==(n=null==(a=this.props.sidebarData)?void 0:a.fileBrowserPreferences)?void 0:n.orderedTeamIds)||[]);return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:yb}),v(),this.props.isEnterpriseSidenavEnabled?ev.createElement("div",{className:ek.cx.pb16.if(this.state.isSectionExpanded,ek.cx.hidden).$},ev.createElement(yS,{selectedItemRef:this.selectedItemRef,onFolderRenameClick:e=>this.onFolderRenameClick(e),contextSelectedFolder:l,...this.props})):ev.createElement("div",{className:ek.cx.if(!this.state.isSectionExpanded,ek.cx.hidden).$},ev.createElement(yy,{selectedItemRef:this.selectedItemRef,orderedTeams:i,...this.props,contextSelectedFolder:l,onFolderRenameClick:e=>this.onFolderRenameClick(e)}),f(),ev.createElement("div",{ref:this.teamSectionBottomRef}),h()))},y=ev.createElement(vh,{...this.props}),w=!this.props.currentUserOrgId&&this.props.projectsByTeam[vE.USER_FOLDERS],T=!!this.props.dragState.data&&(this.props.dragState.type===vi.D.Folder||this.props.dragState.type===vi.D.Team||this.props.dragState.type===vi.D.Favorite),x=d&&ev.createElement("div",{className:yf},this.props.userFlags.show_create_new_section_banner?ev.createElement("div",{className:"sidebar--betaAnnouncementContainer--odNpf"},ev.createElement("div",{className:"sidebar--betaAnnouncementHeader--tIjm8"},ev.createElement("div",{className:"sidebar--betaAnnouncementHeaderTitle--xUVM-"},ev.createElement(eq.Tx,{id:"favorited_resources.custom_sections_banner_header"})),ev.createElement("div",{role:"button",tabIndex:0,className:"sidebar--closeX--0E9D4",onClick:e=>this.setSeenAnnouncement(e)},ev.createElement(eD.n,{svg:wS}))),ev.createElement("div",{className:"sidebar--betaAnnouncementBodyContainer--4EmyW"},ev.createElement("p",null,ev.createElement(eq.Tx,{id:"favorited_resources.custom_sections_banner_body"})),ev.createElement("br",null),ev.createElement("p",null,ev.createElement(eA.pJ,{className:"sidebar--betaAnnouncementButton--m81oY",onClick:e=>this.createNewSection(e)},ev.createElement(eq.Tx,{id:"favorited_resources.custom_sections_banner_create_new_section_button"}))))):null),N=!(this.props.showLoadingState||this.props.showingFileBrowserLoader);return ev.createElement("div",{className:a},ev.createElement(hI.h,{loadingElementId:"filebrowser-loading-sidebar",loaded:N},ev.createElement("div",{className:ek.cx.flex.flexColumn.wFull.$},ev.createElement(yM,{hasBottomBorder:this.state.topIntersecting,inOfflineMode:this.props.inOfflineMode}),ev.createElement(cr.l,{className:"sidebar--sidebarScrollContainer--4RWG-",innerClassName:ek.cx.hFull.$,scrollingDisabled:!1,onScroll:e=>this.setState({scrollTop:e}),ref:e=>this.scrollContainerRef=e},ev.createElement(at.X,{onIntersectionChange:e=>{this.setState({topIntersecting:!e.isIntersecting}),e.isIntersecting||this.state.trackedScroll||(this.props.trackScroll(),this.setState({trackedScroll:!0}))}}),ev.createElement("div",{className:tQ()("sidebar--navContent--bYE-K",{"sidebar--grabbingCursor--O57HP":T})},ev.createElement("div",{className:ek.cx.flexGrow1.flex.flexColumn.$},this.props.inOfflineMode?ev.createElement(ev.Fragment,null,ev.createElement(ym,null),ev.createElement("div",{className:yb}),ev.createElement(yu,null)):ev.createElement(ev.Fragment,null,ev.createElement(vM,null),(0,eT.BZ)().ps_benchmark&&ev.createElement(vW,{selectedView:this.props.selectedView,permissionsState:this.props.permissionsState,dispatch:this.props.dispatch}),ev.createElement("div",{className:yb}),ev.createElement("div",{className:ek.cx.ml8.mr8.mt2.mb2.$},ev.createElement(yO.V,null)),(0,eT.BZ)().xr_debounce_threshold&&d&&m&&m.permission!==ao.Gu.GUEST?ev.createElement(yV,null):null,i&&ev.createElement(vV.x,{folder:i,selectedView:this.props.selectedView,permissionsState:this.props.permissionsState,dispatch:this.props.dispatch}),r&&ev.createElement(vU,{selectedView:this.props.selectedView}),r&&ev.createElement(vP.hU,{selectedView:this.props.selectedView}),ev.createElement("div",{className:yf},(()=>{if(!this.props.userStateLoaded)return null;if(h7.pl.uxEnabled()&&!d){let{ongoingTrials:e,expiredTrials:t}=h7.pl.getUpgradableProTrials(this.props.userTeamFlags,this.props.permissionsState),a=t.filter(h7.pl.canSeeProTrialExpiryUx);if(e.length>0||a.length>0)return ev.createElement(wC,{type:hi.g.PRO_TRIALS_UPGRADE,props:{ongoingUpgradableTrials:e,expiredUpgradableTrials:a}})}let e=(0,g4.di)(this.props.eduPeriodEnd,(0,g4.dE)(this.props.user)),t=e>0&&e!==1/0&&(0,g4.dE)(this.props.user),a=0===e,r=Object.values(this.props.teams).some(e=>e.student_team_state===_y.QX.STUDENT_TEAM_EXPIRED&&(0,gB.cv)(e.id,this.props.permissionsState));if((0,eT.BZ)().edu_offboarding_experience&&(t||a&&r))return ev.createElement(wC,{type:hi.g.EDU_EXPIRY,props:{daysLeft:e}});let n=!!this.props.userFlags.dismissed_edu_sidebar,i=!n&&(0,g4.dE)(this.props.user)&&!this.props.currentUserOrgId;if(i){let e=(0,gB.n$)(this.props.permissionsState).length>0;return ev.createElement(wC,{type:hi.g.EDU_UPGRADE,props:{type:e?yz.UPGRADE:yz.CREATE}})}if(this.props.jamboardOfferCtaType&&!_.student_validated_at)switch(this.props.jamboardOfferCtaType){case pa.ZA.IMPORT_JAMBOARD_FILE:return ev.createElement(wC,{type:hi.g.JAMBOARD_OFFER_NUDGE});case pa.ZA.REDEEM_OFFER:return ev.createElement(wC,{type:hi.g.JAMBOARD_OFFER_UPGRADE})}let l=0===Object.keys(this.props.orgById).length,o=!s.some(e=>null!==e.subscription||e.studentTeamAt),m=(0,eT.BZ)().ps_benchmark,u=this.props.currentTeamId&&m&&!(0,g4.dE)(this.props.user)&&!(0,gB.e3)(this.props.teams[this.props.currentTeamId]),p=!m&&l&&!(0,g4.dE)(this.props.user)&&o||u;if(p){let e=Object.values(this.props.teams).find(e=>e.id===this.props.currentTeamId),t=function(e){let t=[ao.ZG.FILES_LIMITED,ao.ZG.FILES_LIMITED_LEGACY,ao.ZG.WHITEBOARD_FILES_LIMITED,ao.ZG.WHITEBOARD_FILES_LIMITED_BETA];return t.some(t=>{var a;return null==(a=null==e?void 0:e.restrictions_list)?void 0:a.includes(t)})}(e),a=m?t:s.some(e=>[ao.ZG.FILES_LIMITED,ao.ZG.FILES_LIMITED_LEGACY,ao.ZG.WHITEBOARD_FILES_LIMITED,ao.ZG.WHITEBOARD_FILES_LIMITED_BETA].some(t=>e.restrictionsList.includes(t)));return ev.createElement(wC,{type:hi.g.UNIVERSAL,props:{onTeam:!c,hitFileLimit:a}})}let g=vN(this.props,this.props.permissionsState),E=g!==vb.NONE;return E?ev.createElement(wC,{type:hi.g.ORG_UPGRADE,props:{orgUpsellEligibility:g}}):null})()),!(m&&d)&&ev.createElement("div",{className:yb}),m&&d&&(this.props.userStateLoaded?ev.createElement(ev.Fragment,null,ev.createElement(yA,null),this.props.currentUserOrgId&&m&&!eN.ZP.mobile&&ev.createElement(vB.x9,{selectedView:this.props.selectedView,org:this.props.orgById[this.props.currentUserOrgId],orgUser:m})):ev.createElement("div",{className:yv},ev.createElement(ax.TK,null))),p&&x,(()=>{var e,t,a,n,i;if(!this.props.userStateLoaded)return ev.createElement("div",{className:yv},ev.createElement(ax.TK,null));let l=this.props.sidebarData,s=(0,eT.BZ)().ps_benchmark&&r?null==(e=null==l?void 0:l.currentTeamUser)?void 0:e.favoritedFiles:null==l?void 0:l.favoritedFiles,o=(0,eT.BZ)().ps_benchmark&&r?null==(t=null==l?void 0:l.currentTeamUser)?void 0:t.favoritedPrototypes:null==l?void 0:l.favoritedPrototypes,c=(0,eT.BZ)().ps_benchmark&&r?null==(a=null==l?void 0:l.currentTeamUser)?void 0:a.favoritedProjects:null==l?void 0:l.favoritedProjects;return ev.createElement(ev.Fragment,null,this.props.currentUserOrgId?ev.createElement(ye,{fileBrowserPreferences:null==(n=this.props.sidebarData)?void 0:n.fileBrowserPreferences,favoritedFiles:s,favoritedPrototypes:o,favoritedProjects:c,favoritedTeams:null==l?void 0:l.favoritedTeams,favoritedWorkspaces:null==l?void 0:l.favoritedWorkspaces,userSidebarSections:null==l?void 0:l.userSidebarSections,isEnterpriseSidenavEnabled:this.props.isEnterpriseSidenavEnabled,previewYOffset:this.state.scrollTop}):ev.createElement(ev.Fragment,null,ev.createElement(b7,{fileBrowserPreferences:null==(i=this.props.sidebarData)?void 0:i.fileBrowserPreferences,favoritedFiles:s,favoritedPrototypes:o,favoritedProjects:c,favoritedTeams:null,favoritedWorkspaces:null,isEnterpriseSidenavEnabled:this.props.isEnterpriseSidenavEnabled,previewYOffset:this.state.scrollTop}),!r&&w&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:yb}),ev.createElement("div",{className:tQ()(["sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa","sidebar--sharedProjectsSectionHeaderContainer--uTpsn sidebar--sectionHeaderContainer--HJzK0 sidebar--sectionHeaderName--tsbVQ sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa"])},ev.createElement(oc.x,{i18nId:"file_browser.shared_projects"})),y)),(0,eT.BZ)().ps_benchmark&&r&&ev.createElement(yc,{teamUser:null==l?void 0:l.currentTeamUser,previewYOffset:this.state.scrollTop}),b())})())),ev.createElement(at.X,{onInitialLoad:e=>{this.setState({bottomIntersecting:!e})},onIntersectionChange:e=>{this.setState({bottomIntersecting:!e.isIntersecting})}}))),!this.props.inOfflineMode&&ev.createElement(yF,{hasTopBorder:this.state.bottomIntersecting||this.state.topIntersecting}))))}}function wR(e){var t,a,r,n,i,l,s,o,c,d,m;let u;let _=(0,eb.v9)(e=>e),p=(0,eb.I0)(),g=(0,r9.Dv)(oF.b),E=(0,g6.E)({currentOrgId:e.currentUserOrgId,currentTeamId:(0,eT.BZ)().ps_benchmark&&e.currentTeamId||null}),h=(0,dV.mU)(dH.EduOffboardingData,{}),f=(0,oC._H)(e),v=!(0,uR.canMemberOrg)((null==f?void 0:f.id)??null,(0,uR.getPermissionsState)(e.permissionsState)),b="loaded"===E.status?E.data:null,y=("loaded"!==E.status||"loaded"!==h.status)&&!g,w={},T={},x=[],N=(0,pa.Ik)(),C=(null==(t=null==b?void 0:b.currentUser)?void 0:t.sharedProjectRolesWithoutOrgDeletedDrafts)||[],S=C.filter(t=>{var a;let{project:r}=t;if(!r)return!1;let n=(null==(a=r.team)?void 0:a.orgId)||r.orgId;return e.currentUserOrgId?n===e.currentUserOrgId:!n}),k=S.length>0,I=(0,ev.useMemo)(()=>b?{...b.currentUser}:null,[b]),L=e.showingFileBrowserLoader;if(ev.useEffect(()=>{var t,a;if((0,eT.BZ)().ps_benchmark&&e.currentTeamId&&I&&(null==I?void 0:I.currentTeamUser)){let r=I.currentTeamUser;!r.fileBrowserPreferences&&I.fileBrowserPreferences&&p(vr.xA.createFileBrowserPreferencesForTeamUser({prefs:I.fileBrowserPreferences,orderedFolderSubscriptions:(null==(a=null==(t=I.fileBrowserSectionPreferences)?void 0:t.filter(t=>t.teamId===e.currentTeamId)[0])?void 0:a.orderedFolderIds)??[],teamUser:r}))}},[e.currentTeamId,I,p]),I){let t;u=null==(r=null==(a=I.privilegedOrgUser)?void 0:a.licenseGroupMember)?void 0:r.licenseGroup;let d=[],m=new Set;for(let t of I.teamRoles||[])(null==(n=t.team)?void 0:n.orgId)!==e.currentUserOrgId||(null==(i=t.team)?void 0:i.deletedAt)||t.pending||(d.push(t),m.add(t.team.id),(null==(l=t.team)?void 0:l.licenseGroupId)?(T[t.team.licenseGroupId]=T[t.team.licenseGroupId]||[],T[t.team.licenseGroupId].push(t)):t.team&&x.push(t));if(I.teamRoles=d,e.currentUserOrgId&&I.baseOrgUser){let e=I.baseOrgUser;I.fileBrowserPreferences=e.fileBrowserPreferences,I.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else(0,eT.BZ)().ps_benchmark&&e.currentTeamId&&I.currentTeamUser&&(I.fileBrowserPreferences=null==(s=I.currentTeamUser)?void 0:s.fileBrowserPreferences);let _=(I.projectSubscriptions||[]).sort((e,t)=>{var a,r,n,i;return(null==(r=null==(a=e.projectV2)?void 0:a.path)?void 0:r.toLowerCase())<(null==(i=null==(n=t.projectV2)?void 0:n.path)?void 0:i.toLowerCase())?-1:1}),p={};for(let t of _){let a=t.projectV2;if(!a||(p[a.id]=t.id,(a.team?a.team.orgId!==e.currentUserOrgId:a.orgId!==e.currentUserOrgId)||!a.team&&""===a.path||a.team&&""===a.path&&(0,eT.BZ)().ps_benchmark))continue;let r=m.has(a.teamId)?a.teamId:vE.USER_FOLDERS;w[r]=w[r]||[],w[r].push(a)}vn.pQ(p),t=(0,eT.BZ)().ps_benchmark&&e.currentTeamId?null==(o=null==b?void 0:b.currentUser.currentTeamUser)?void 0:o.draftsProject:e.currentUserOrgId?null==(c=null==b?void 0:b.currentUser.baseOrgUser)?void 0:c.draftsProject:null==b?void 0:b.currentUser.draftsProject,w[vE.USER_DRAFTS]=t?[t]:[]}return ev.createElement(wL,{...e,showingFileBrowserLoader:L,hasSharedProjects:k,sidebarData:I,projectsByTeam:w,teamRolesByLicenseGroup:T,teamsUnassignedToLicenseGroup:x,mainLicenseGroup:u,isEnterpriseSidenavEnabled:(0,oC.pu)(f??void 0,v,I??void 0),showLoadingState:y,trackScroll:()=>(0,eH.iP)("Sidebar Scrolled",_),inOfflineMode:g,eduPeriodEnd:null==(m=null==(d=h.data)?void 0:d.currentUser)?void 0:m.eduPeriodEnd,jamboardOfferCtaType:N})}wL.displayName="SideBar";var wA=a(166204),wO=a(538483);function wD(e){return void 0!==e.team_id}function wF(e,t){if(e!==wO.F){if("team_id"in e&&e.team_id)return t.teams[e.team_id];if("workspace_id"in e)return e}}function wM(e){return ev.createElement(tD.j,{spacing:4},ev.createElement(ht.E,{entityId:e.planEntity.id,entityName:e.planEntity.name,imgUrl:e.planEntity.img_url}),ev.createElement(oc.x,{fontSize:13,color:"secondary"},e.planEntity.name))}let wP={folder:e=>e?{view:"folder",folderId:e}:void 0,team:e=>e?{view:"team",teamId:e}:void 0,workspace:e=>({view:"workspace",subView:ES.ep.DIRECTORY,workspaceId:e??null,selectedTab:ES.rE.TEAMS}),org:e=>e?{view:"org",orgId:e,orgViewTab:Ex.i.HOME}:void 0};function wB({resource:e}){var t,a,r;let n=(0,eb.I0)(),i=(0,uR.usePermissionsState)(),l=(0,uL.Ng)(),s=(0,oU.z8)(e),o=(0,oU.Zc)(s),c=(0,dV.mU)(dH.WorkspacesDirectoryView,{orgId:(null==l?void 0:l.id)??null},{enabled:!!l}),d="loaded"!==c.status,m=(null==(a=null==(t=c.data)?void 0:t.org)?void 0:a.workspaces)??[],u=d?[]:[...m],_=function(e,t){let a=(0,eb.v9)(e=>e);return(0,ev.useMemo)(()=>(function(e,t,a){let r=wD(e)?e:void 0;return{folder:r,team:wF(e,t),workspace:function(e,t,a){let r=wF(e,t);if(e===wO.F);else if(r&&r.workspace_id)return null==a?void 0:a.find(e=>e.id===r.workspace_id);else if(r&&!r.workspace_id&&r.org_id){let e=t.orgById[r.org_id];return e.workspaces_count?wO.F:void 0}else if("domain_capture"in e||wD(e)||"workspace_id"in e)return;return e}(e,t,a),org:function(e,t){let a=wF(e,t);return(null==a?void 0:a.org_id)?t.orgById[a.org_id]:e===wO.F?t.currentUserOrgId?t.orgById[t.currentUserOrgId]:void 0:"org_id"in e?e.org_id?t.orgById[e.org_id]:void 0:"orgId"in e?e.orgId?t.orgById[e.orgId]:void 0:"domain_capture"in e?e:void 0}(e,t)}})(e,a,t),[e,a,t])}(e,u);if(l||_.org?(null==l?void 0:l.id)!==(null==(r=_.org)?void 0:r.id):!_.team||!(0,uR.canViewTeam)(_.team.id,i)){let e=_.org??_.team;return e?ev.createElement(wM,{planEntity:e}):null}let p=e===wO.F?void 0:e.id,g=(e,t)=>{let a=t===wO.F?void 0:t.id,r=wP[e](a);(0,eH.T6)({clickedResourceType:e,clickedResourceId:a,currentResource:p,orgId:null==l?void 0:l.id}),r&&n(od.fv(r))},E=(0,eT.BZ)().workspace_privacy_view,h=["org","workspace","team","folder"].reduce((e,t)=>{let a=_[t];if(a){let r=E&&"workspace"===t&&!a.canView,n=a===bO.u?(0,eq.t)("breadcrumbs.unassigned_license_group"):r?(0,eq.t)("breadcrumbs.private_workspace_ellipses"):null==a?void 0:a.name;e.push({text:n,onClick:()=>{r||g(t,a)},parentBackgroundColor:o,isHoverable:!(a===bO.u||r)})}return e},[]);return h.pop(),ev.createElement(EL,{items:h})}function wU(e){return e.rightSideActions?ev.createElement(wV,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function wV(e){let t=(0,dV.mU)(dH.MoveDraftsTeamData,{orgId:null});return((0,EH.n_)(t,"file_creation_defaults_latency"),"loaded"!==t.status)?null:ev.createElement("div",{className:ek.cx.flex.justifyBetween.wFull.itemsCenter.columnGap16.$},e.headerLabel,ev.createElement("div",{className:ek.cx.flex.gap8.$},e.rightSideActions))}function wW(e){let t=(0,oU.z8)(e.resource),a=(0,oU.Zc)(t);return ev.createElement("div",{className:ek.cx.if(e.showNavigationChevrons,ek.cx.pl20,ek.cx.pl32).if(!!e.pageHeaderContent,ek.cx.bb1.colorBorder.bSolid).flex.flexRow.flexShrink0.gap8.itemsCenter.h48.pr32.$,style:{backgroundColor:a}},e.showNavigationChevrons&&ev.createElement(oz,{parentBackgroundColor:a}),e.pageHeaderContent?ev.createElement("span",{className:ek.cx.minW0.wFull.$},ev.createElement(wU,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})):e.resource&&ev.createElement(wB,{resource:e.resource}))}let wG=(0,cx.F)(cL.Jbu);function wj(e){return ev.createElement(ev.Fragment,null,ev.createElement(dA.z,{query:`(min-width: ${wG}px)`,defaultClass:ek.cx.sticky.top0.colorBg.zIndexTopBar.$},ev.createElement(wW,{resource:e.breadcrumbResource,pageHeaderContent:e.pageHeaderContent?ev.createElement(oc.x,{fontSize:13,truncate:!0},e.pageHeaderContent):void 0,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})),e.pageHeaderContent&&ev.createElement(wA.R,{tabs:[ev.createElement(oc.x,{key:"mobilePageHeaderKey",truncate:!0},e.pageHeaderContent)],dispatch:e.dispatch}))}function wH(e){let t=(0,eb.v9)(({selectedView:e})=>e),a=o$(),r=(0,eb.v9)(EE.HB),n=(0,gv._P)(e.currentUserOrgId,(0,eb.v9)(EE.vq));!function(){let e=(0,eT.BZ)().ps_benchmark,t=(0,eb.oR)();ev.useEffect(()=>{if(!e)return;let a=t.getState(),r=(0,uR.getPermissionsState)(a),n=(0,ct.rW)(r.user,r.currentUserOrgId,r.currentTeamId);n&&(0,ve.fg)(n.userId,(0,nt.sg)(a.selectedView),n.orgId,void 0,n.teamId)},[t,e])}();let i=r||n.data||void 0,l="orgAdminSettings"===t.view||"licenseGroup"===t.view&&t.subView===ET.gp.ADMIN||"workspace"===t.view&&t.subView===ES.ep.ADMIN,s=!e.showingFileBrowserLoader&&!l&&(!!ey.YO||i||e.pageHeaderContent);ev.useEffect(()=>{let e=e=>{var t;if(e.keyCode===ly.sr.PERIOD&&(null==(t=document.activeElement)?void 0:t.tagName)==="BODY"){if(!(0,eT.BZ)().internal_only_debug_tools||!(0,eT.BZ)().figment_debugger)return;(0,va.jW)()}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let o=(0,uR.usePermissionsState)();return ev.createElement("div",{className:ek.cx.flex.flexRow.flexGrow1.$},ev.createElement(wR,{...e,permissionsState:o,showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),ev.createElement("div",{className:"file_browser_layout--fileBrowserPageViewContainer--SLy8l"},s&&ev.createElement(wj,{dispatch:e.dispatch,pageHeaderContent:e.pageHeaderContent,pageHeaderActions:e.pageHeaderActions,breadcrumbResource:i,showNavigationChevrons:a}),!e.showingFileBrowserLoader&&e.children),ev.createElement(vt.o,{entryPoint:vt.R.FILE_BROWSER}))}var w$=a(736521),wz=a(864038),wK=a.n(wz),wZ=a(293269),wq=a(451573);let wY=(0,wq.cg)(e=>"loaded"!==e.orgTeams.status?(0,dV.AC)():(0,dV.wl)(e.orgTeams.teams)),wJ=(0,r9.ks)(wY,({target:e})=>{let t=e.getStore(),a=t.getState().orgTeams;return a.status||t.dispatch(wZ.U2({})),()=>{t.dispatch(wZ.Ux())}}),wQ=(0,r9.ks)(wY,({target:e})=>{let t=e.getStore(),a=t.getState().orgTeams;return a.status||t.dispatch(wZ.U2({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(wZ.Ux())}}),wX=(0,r9.cn)(e=>{let t=e((0,r9.ks)(wY,({target:e})=>{let t=e.getStore(),a=t.getState().orgTeams;a.status||t.dispatch(wZ.U2({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!0}))}));return"loaded"!==t.status?t:(0,dV.wl)(wK()(t.data,e=>e.id))}),w0=(0,r9.ks)(wY,({target:e})=>{let t=e.getStore(),a=t.getState().orgTeams;return a.status||t.dispatch(wZ.U2({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!0,includeSecretTeams:!0})),()=>{t.dispatch(wZ.Ux())}}),w1=(0,r9.xu)(e=>(0,r9.ks)(wY,({target:t})=>{let a=t.getStore(),r=a.getState().orgTeams;return r.status||a.dispatch(wZ.lx({workspaceId:e})),()=>{a.dispatch(wZ.Ux())}})),w2=(0,r9.xu)(e=>(0,r9.ks)(wY,({target:t})=>{let a=t.getStore(),r=a.getState().orgTeams;return r.status||a.dispatch(wZ.b0({licenseGroupId:e})),()=>{a.dispatch(wZ.Ux())}}));var w3=a(954109),w4=a(465530),w8=a(175965);function w5(e){let t=(0,dV.mU)(dH.LicenseGroupCountView,{id:e});return ev.useMemo(()=>{var e;return"loaded"===t.status?(0,dV.wl)(null==(e=t.data.licenseGroup)?void 0:e.licenseGroupMemberCounts):t},[t])}var w9=a(437815),w6=a(971237),w7=a(344031),Te=a(45974),Tt=a(902736),Ta=a(37930),Tr=a(736823),Tn=a(663257);let Ti="Org admin settings onboarding -",Tl=`${Ti} Enterprise admin -`,Ts=`${Ti} members tab -`,To=`${Ti} teams tab -`,Tc=`${Ti} activity tab -`,Td=`${Ti} license groups tab -`,Tm=`${Ti} workspaces tab -`,Tu="org_admin_settings_workspaces_tab_onboarding_key",T_="org_admin_settings_teams_tab_onboarding_key",Tp="org_admin_settings_billing_tab_onboarding_key",Tg={[fe.rN.DASHBOARD]:"org_admin_settings_dashboard_tab_onboarding_key",[fe.rN.LICENSE_GROUPS]:"org_admin_settings_license_groups_tab_onboarding_key",[fe.rN.WORKSPACES]:Tu,[fe.rN.TEAMS]:T_,[fe.rN.MEMBERS]:"org_admin_settings_members_tab_onboarding_key",[fe.rN.ACTIVITY]:"org_admin_settings_activity_tab_onboarding_key",[fe.rN.BILLING]:Tp,[fe.rN.RESOURCES]:"org_admin_settings_resources_tab_onboarding_key",[fe.rN.SETTINGS]:"org_admin_settings_settings_tab_onboarding_key"},TE="org_admin_settings_billing_groups_secondary_tab_onboarding_key",Th="activity_table_email_input_onboarding_key",Tf="activity_table_export_csv_onboarding_key",Tv="members_table_account_type_onboarding_key",Tb="members_table_last_active_onboarding_key",Ty="members_table_search_onboarding_key",Tw="members_table_upgrade_reason_onboarding_key",TT="license_group_header_create_button_onboarding_key",Tx="license_group_menu_cell_onboarding_key",TN="teams_table_create_team_onboarding_key",TC="teams_table_unassigned_tab_onboarding_key",TS="Workspace admin settings onboarding",Tk=`${TS} Billing Groups Announcement`,TI="members-table-add-members",TL="members-table-design-role-column-header",TR="admin-settings-view-toolbar",TA="Billing Group Admin Onboarding",TO=a(571491),TD=a(494010);function TF(e){return ev.createElement(tD.j,{direction:"vertical",spacing:16,width:"50%"},ev.createElement(oc.x,{fontSize:14,fontWeight:"medium"},e.header),ev.createElement(tD.j,{direction:"vertical",spacing:"12px"},e.pros.filter(e=>!!e).map((e,t)=>ev.createElement(tD.j,{key:t},ev.createElement(eD.n,{svg:TO,className:ek.cx.colorIcon.$}),ev.createElement(oc.x,null,e)))),e.action)}function TM(e){return ev.createElement(eA.rU,{onClick:e.onClick,trusted:!0,className:ek.cx.hAuto.$},ev.createElement(tD.j,{spacing:4},e.children,ev.createElement(eD.n,{svg:TD,className:ek.cx.colorIconBrand.mt1.$})))}var TP=((f=TP||{}).OrgAdminNoWorkspaces="OrgAdminNoWorkspaces",f.OrgAdminWithWorkspaces="OrgAdminWithWorkspaces",f.NonOrgAdmin="NonOrgAdmin",f);function TB(e){let t,a,r,n,i;let{variant:l,isFinalStep:s,onClose:o,onNext:c}=e,d=(0,eb.I0)();switch(l){case"OrgAdminNoWorkspaces":t=ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.heading.variant1"});break;case"OrgAdminWithWorkspaces":case"NonOrgAdmin":t=ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.heading.variant2"});break;default:(0,eL.vE)(l)}switch(l){case"OrgAdminNoWorkspaces":a=ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.paragraph.variant1"});break;case"OrgAdminWithWorkspaces":a=ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.paragraph.variant2.seat_rename"});break;case"NonOrgAdmin":a=ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.paragraph.variant3.seat_rename"});break;default:(0,eL.vE)(l)}switch(l){case"OrgAdminNoWorkspaces":r=ev.createElement(TM,{onClick:()=>{o(),d(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.BILLING}))}},ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.create_billing_group_link"})),n=ev.createElement(TM,{onClick:()=>{o(),d(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.WORKSPACES}))}},ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.create_workspace_link"}));break;case"OrgAdminWithWorkspaces":r=ev.createElement(TM,{onClick:()=>{o(),d(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.BILLING}))}},ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.manage_billing_groups_link"})),n=ev.createElement(TM,{onClick:()=>{o(),d(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.WORKSPACES}))}},ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.manage_workspaces_link"}));break;case"NonOrgAdmin":r=null,n=null;break;default:(0,eL.vE)(l)}switch(l){case"OrgAdminNoWorkspaces":i="https://help.figma.com/hc/articles/19202489035543";break;case"OrgAdminWithWorkspaces":case"NonOrgAdmin":i="https://help.figma.com/hc/articles/19100885191191";break;default:(0,eL.vE)(l)}let m=ev.createElement(tD.j,{direction:"vertical",spacing:32},ev.createElement(tD.j,{direction:"vertical"},ev.createElement(oc.x,{fontSize:24,fontWeight:"semi-bold"},t),ev.createElement(oc.x,{fontSize:14},a)),ev.createElement(tD.j,{width:"fill-parent",height:0,strokeColor:"default",strokeWidth:{bottom:1}}),ev.createElement(tD.j,{verticalAlignItems:"start"},ev.createElement(TF,{header:ev.createElement(tD.j,null,ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.pros.billing_groups.header"}),"OrgAdminNoWorkspaces"!==l&&ev.createElement(os.Ct,{text:(0,eq.t)("general.new"),color:os.JV.DESIGN})),pros:[ev.createElement(oc.x,{key:0,i18nId:"org_admin_onboarding.billing_groups_intro_modal.pros.billing_groups.pro1"}),ev.createElement(oc.x,{key:1,i18nId:"org_admin_onboarding.billing_groups_intro_modal.pros.billing_groups.pro2.seat_rename"}),"NonOrgAdmin"===l?null:ev.createElement(oc.x,{key:2,i18nId:"org_admin_onboarding.billing_groups_intro_modal.pros.billing_groups.pro3"})],action:r}),ev.createElement(TF,{header:ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.pros.workspaces.header"}),pros:[ev.createElement(oc.x,{key:0,i18nId:"org_admin_onboarding.billing_groups_intro_modal.pros.workspaces.pro1"}),ev.createElement(oc.x,{key:1,i18nId:"org_admin_onboarding.billing_groups_intro_modal.pros.workspaces.pro2"}),ev.createElement(oc.x,{key:2,i18nId:"org_admin_onboarding.billing_groups_intro_modal.pros.workspaces.pro3"})],action:n})),ev.createElement(tD.j,{width:"fill-parent",height:0,strokeColor:"default",strokeWidth:{bottom:1}}),"OrgAdminWithWorkspaces"===l&&ev.createElement(oc.x,{i18nId:"org_admin_onboarding.billing_groups_intro_modal.need_help_link",i18nParams:{contactSupportLink:ev.createElement(eA.Z6,{href:"https://help.figma.com/hc/requests/new",trusted:!0,target:"_blank"},ev.createElement(oc.x,{i18nId:"general.contact_support"}))}}),ev.createElement(tD.j,{spacing:"12px",horizontalAlignItems:"end"},ev.createElement(eA.pE,{href:i,target:"_blank"},ev.createElement(oc.x,{i18nId:"general.learn_more"})),s?ev.createElement(oM.z,{variant:"primary",onClick:o},ev.createElement(oc.x,{i18nId:"general.got_it"})):ev.createElement(oM.z,{variant:"primary",onClick:c},ev.createElement(oc.x,{i18nId:"general.next"}))));return ev.createElement(ir.Rj,{animateIn:!0,className:ek.cx.overflowHidden.$,hide:o,padding:32,size:600},m,ev.createElement("div",{style:{position:"absolute",top:8,right:8}},ev.createElement(n6.PZ,{onClick:o,trackingProperties:{trackingDescriptor:cC.y.CLOSE}})))}let TU="seen_billing_group_admin_onboarding";var TV=((v=TV||{}).BillingGroupsAnnouncement="BillingGroupsAnnouncement",v.SwitchWorkspacesBillingGroups="SwitchWorkspacesBillingGroups",v.AddMembersToBillingGroup="AddMembersToBillingGroup",v.UpdateRolesInBillingGroup="UpdateRolesInBillingGroups",v);let TW={BillingGroupsAnnouncement:!1,SwitchWorkspacesBillingGroups:!0,AddMembersToBillingGroup:!0,UpdateRolesInBillingGroups:!0};function TG(e){var t,a,r,n;let i=w5(e.licenseGroupId),l=null!=(t=i.data)&&!!t.totalCount&&parseInt(i.data.totalCount)>0,s=(0,o_.n_)(TU),o=(0,uL.$0)(),c=(0,dV.mU)(dH.CurrentUserLicenseGroupAdmins,{orgId:o}),d=(0,r9.Dv)(s),m=null==(n=null==(r=null==(a=c.data)?void 0:a.currentUser.baseOrgUser)?void 0:r.licenseGroupAdmins)?void 0:n.some(e=>e.createdAt<oC.X9),u=(0,EJ.V_)(),_=!!(u&&u.permission===ao.Gu.ADMIN),p=(0,gv.d3)(o).data??[],g=p.length>0,{show:E,isShowing:h,complete:f}=(0,so.I)({id:sd.G.BillingGroupAdminOnboarding,priority:su.b4.SECONDARY_MODAL},[d,c]);(0,eZ.O)(()=>{E({canShow:e=>!e})});let v=[];m&&!_&&v.push("BillingGroupsAnnouncement"),g&&!_&&v.push("SwitchWorkspacesBillingGroups"),v.push("AddMembersToBillingGroup"),l&&v.push("UpdateRolesInBillingGroups");let b=(0,Ta.Z)({numSteps:v.length,onComplete:f}),y=v.filter(e=>TW[e]).length,w=y>1,T=[],x=0;for(let e=0;e<v.length;e++){let t;let a=v[e],r=e===v.length-1;w&&TW[a]&&(t={stepNum:++x,totalNumSteps:y}),T.push(ev.createElement(Tj,{key:a,step:a,stepCounter:t,isShowing:h,isFinalStep:r,next:b.next,complete:f}))}return ev.createElement(Tr.Y,{currentStep:b.currentStep,isShowing:h,children:T})}function Tj(e){let{step:t,stepCounter:a,isShowing:r,isFinalStep:n,next:i,complete:l}=e,s=n?{label:ev.createElement(eq.Tx,{id:"general.got_it"}),onClick:l,type:"button",ctaTrackingDescriptor:cC.y.GOT_IT}:{label:ev.createElement(eq.Tx,{id:"general.next"}),onClick:i,type:"button",ctaTrackingDescriptor:cC.y.NEXT};switch(t){case"BillingGroupsAnnouncement":return ev.createElement(dP.R,{isShowing:r,userFlagOnShow:TU},ev.createElement(TB,{variant:TP.NonOrgAdmin,isFinalStep:n,onClose:l,onNext:i}));case"SwitchWorkspacesBillingGroups":return ev.createElement(Tn.ZZ,{isShowing:r,trackingContextName:"Multi Admin Walkthrough",userFlagOnShow:TU,onClose:l,stepCounter:a,targetKey:TR,title:ev.createElement(eq.Tx,{id:"multi_admin_onboarding.heading"}),description:ev.createElement(eq.Tx,{id:"multi_admin_onboarding.description"}),primaryCta:s,emphasized:!0,clickOutsideToHide:!0});case"AddMembersToBillingGroup":return ev.createElement(Tn.ZZ,{isShowing:r,trackingContextName:TA,userFlagOnShow:TU,onClose:l,stepCounter:a,targetKey:TI,title:ev.createElement(eq.Tx,{id:"billing_group_admin_onboarding.step_one_heading"}),description:ev.createElement(eq.Tx,{id:"billing_group_admin_onboarding.step_one_description"}),primaryCta:s,emphasized:!0,clickOutsideToHide:!0});case"UpdateRolesInBillingGroups":return ev.createElement(Tn.ZZ,{isShowing:r,trackingContextName:TA,userFlagOnShow:TU,onClose:l,stepCounter:a,targetKey:TL,title:ev.createElement(eq.Tx,{id:"billing_group_admin_onboarding.step_two_heading.seat_rename"}),description:ev.createElement(eq.Tx,{id:"billing_group_admin_onboarding.step_two_description.seat_rename"}),primaryCta:s,emphasized:!0,clickOutsideToHide:!0});default:(0,eL.vE)(t)}}var TH=a(458763),T$=a(352797);function Tz(e){let{filters:t,enabledFilterIds:a,onChange:r}=e,[n,i]=ev.useState(!1),l=(e,t)=>{let n=new Set([...a]);t.currentTarget.checked?n.add(e):n.delete(e),r(n)};return ev.createElement("div",{className:ek.cx.relative.$},ev.createElement(oM.z,{icon:"filter-32",variant:"secondary",onClick:()=>i(!n)},ev.createElement(tD.j,{horizontalAlignItems:"space-between"},ev.createElement(oc.x,{i18nId:"resources_tab.libraries.filters"}),a.size>0&&ev.createElement(tD.j,{backgroundColor:"selected",cornerRadius:2,padding:{left:4,right:4}},ev.createElement(oc.x,{color:"brand",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.filters_applied",i18nParams:{numActiveFilters:a.size}})))),n&&ev.createElement(ev.Fragment,null,ev.createElement(gb.j.DropdownModalScrim,{closeDropdown:()=>i(!1)}),ev.createElement("div",{className:"floating_filter--floatingFilterBody--E0xix _overlayBase--_overlayBase--Rkj8l"},ev.createElement(tD.j,{direction:"vertical",backgroundColor:"default",cornerRadius:2,spacing:0},ev.createElement(tD.j,{horizontalAlignItems:"space-between",strokeWidth:{bottom:1},strokeColor:"default",height:40,padding:{left:16,right:4}},ev.createElement(oc.x,{fontWeight:"semi-bold",i18nId:"resources_tab.libraries.filters"}),ev.createElement(oM.z,{icon:"x-32",variant:"text",onClick:()=>i(!n)})),ev.createElement(cr.l,{className:"floating_filter--scrollContainer--Q0b20"},ev.createElement(tD.j,{direction:"vertical",spacing:0},ev.createElement(tD.j,{height:40,padding:{left:16,right:4},horizontalAlignItems:"space-between"},ev.createElement(oc.x,{fontWeight:"semi-bold",i18nId:"resources_tab.libraries.enabled_for"}),a.size>0&&ev.createElement(oM.z,{variant:"text",onClick:()=>{r(new Set),i(!1)}},ev.createElement(oc.x,{color:"brand",i18nId:"resources_tab.libraries.clear_all"}))),ev.createElement(tD.j,{direction:"vertical",spacing:16,padding:{top:4,left:16,right:16,bottom:16}},t.map(e=>ev.createElement(pe.X,{key:e.id,label:e.name,truncateLabel:{truncate:"end"},checked:a.has(e.id),onChange:t=>l(e.id,t)})))))))))}var TK=a(797475),TZ=a(690741),Tq=a(571713);let TY=(0,r9.cn)(void 0),TJ=a(494010);function TQ({label:e,children:t}){return ev.createElement(tD.j,{direction:"vertical",height:"hug-contents",spacing:0},ev.createElement(oc.x,{color:"secondary"},e),t)}let TX=function({fileData:e,orgData:t}){var a,r,n,i,l,s,o;let c=(0,uL.Ng)(),d=(0,eb.v9)(e=>{var t;return null==(t=e.user)?void 0:t.id}),m=null==(a=e.library)?void 0:a.updatedAt,u=(null==(r=e.ownerRole)?void 0:r.user)||(null==(i=null==(n=e.repo)?void 0:n.ownerRole)?void 0:i.user),_=(null==(l=e.library)?void 0:l.approvedLibraries)??[],p=(0,r9.Dv)(TY),g=(0,oC.dU)(c)&&!!p&&_.some(e=>e.resourceType===TZ.y.Workspace&&e.resourceId===p),E=(0,oC.TO)(c)&&c&&_.some(e=>e.resourceType===TZ.y.Org&&e.resourceId===c.id),h=null==(o=null==(s=t.workspaces)?void 0:s.find(e=>e.id===p))?void 0:o.name;return ev.createElement(tD.j,{direction:"vertical",width:180,spacing:16},ev.createElement(tD.j,{height:120},ev.createElement(fK.mB,{editor_type:null,client_meta:"",thumbnail_url:`/file/${e.key}/thumbnail`,additionalClassName:ek.cx.wFull.hFull.bRadius4.$,isLocked:!1})),ev.createElement(TQ,{label:(0,eq.t)("resources_tab.libraries.library_name")},ev.createElement("span",{className:ek.cx.maxWFull.overflowBreakWord.alignTop.$,"data-testid":"library-info-library-name"},e.name,(g||E)&&ev.createElement("div",{className:ek.cx.inlineBlock.$},ev.createElement(Tq.x4,{orgNameForTooltip:E?t.name:void 0,workspaceNameForTooltip:g?h:void 0})))),m&&ev.createElement(TQ,{label:(0,eq.t)("resources_tab.libraries.last_published")},ev.createElement(n2.Lt,{date:m})),ev.createElement(TQ,{label:(0,eq.t)("resources_tab.libraries.library_owner")},ev.createElement("div",{className:ek.cx.pt2.wFull.$},u?ev.createElement(ds.oJ,{includeUserEmailAddress:!0,size:24,entity:{imageUrl:u.imgUrl,name:u.name??void 0,email:u.email??void 0},showIsMe:u.id===d}):ev.createElement(oc.x,{i18nId:"resources_tab.libraries.file_has_no_owner"}))),ev.createElement("a",{className:ek.cx.cursorPointer.colorTextBrand.$,href:(0,bp.z4)({file:{key:e.key,name:e.name}}),target:"_blank"},ev.createElement(tD.j,{spacing:4},ev.createElement(oc.x,{i18nId:"resources_tab.libraries.open_library_file"}),ev.createElement(eD.n,{svg:TJ,className:ek.cx.colorIconBrand.$}))))};var T0=a(983635),T1=a(847059),T2=a(785880),T3=a(147142),T4=a(687865),T8=a(615675);function T5({request:e,fileKey:t,resourceId:a,resourceType:r}){var n;let i=`optimistic-approved-library-create-${(0,rY.k)()}`;return null==(n=(0,EH.i0)())?void 0:n.optimisticallyCreate({ApprovedLibrary:{[i]:{fileKey:t,resourceId:a,resourceType:r}}},e)}function T9({request:e,approvedLibraryId:t}){var a;return null==(a=(0,EH.i0)())?void 0:a.optimisticallyDelete({ApprovedLibrary:{[t]:null}},e)}let T6=new class{constructor(){this.createWorkspaceApprovedLibrary=({workspaceId:e,fileKey:t,onfulfilled:a,onrejected:r})=>{let n=rI.ZP.post(`/api/workspace_approved_library/${t}`,{workspace_id:e}).then(a,r);return T5({request:n,fileKey:t,resourceId:e,resourceType:TZ.y.Workspace})},this.deleteWorkspaceApprovedLibrary=({approvedLibraryId:e,workspaceId:t,fileKey:a,onfulfilled:r,onrejected:n})=>{let i=rI.ZP.del(`/api/workspace_approved_library/${a}`,{workspace_id:t}).then(r,n);return T9({request:i,approvedLibraryId:e})},this.createOrgApprovedLibrary=({orgId:e,fileKey:t,onfulfilled:a,onrejected:r})=>{let n=rI.ZP.post(`/api/org_approved_library/${t}`,{org_id:e}).then(a,r);return T5({request:n,fileKey:t,resourceId:e,resourceType:TZ.y.Org})},this.deleteOrgApprovedLibrary=({approvedLibraryId:e,orgId:t,fileKey:a,onfulfilled:r,onrejected:n})=>{let i=rI.ZP.del(`/api/org_approved_library/${a}`,{org_id:t}).then(r,n);return T9({request:i,approvedLibraryId:e})}}},T7=rv.t1.Mutation(async e=>{await T6.createOrgApprovedLibrary(e)}),xe=rv.t1.Mutation(async e=>{await T6.deleteOrgApprovedLibrary(e)});function xt({file:e,org:t}){var a;let r=(0,eb.I0)(),n=(0,rv.Db)(T7),i=(0,rv.Db)(xe),[l,s]=ev.useState(!1),[o,c]=ev.useState(!1),d=(null==(a=e.library)?void 0:a.approvedLibraries)??[],m=(0,T8.hM)(d,t.id),u=null!=m,_=u&&!o?(0,T8.B9)({orgName:t.name}):{},p={libraryName:e.name,resourceName:t.name};return ev.createElement(tD.j,{direction:"horizontal",width:"fill-parent",height:"hug-contents",verticalAlignItems:"start",padding:{top:10,bottom:4}},ev.createElement("div",{className:ek.cx.minW0.wFull.$},ev.createElement(tD.j,{direction:"vertical",height:"hug-contents",width:"fill-parent",spacing:0},ev.createElement(eq.Tx,{id:"resources_tab.approved_libraries.set_as_approved"}))),ev.createElement("div",{..._},ev.createElement(T3.W,{disabled:l,on:u,onChange:u?()=>{m&&(s(!0),c(!0),i({approvedLibraryId:m.id,orgId:t.id,fileKey:e.key,onfulfilled:()=>{s(!1),r(r7.R.enqueue({message:(0,eq.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_success",p)}))},onrejected:()=>{s(!1);let e=(0,eq.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_error",p);r(dl.l.error(e)),console.error(e)}}))}:()=>{s(!0),c(!0),n({orgId:t.id,fileKey:e.key,onfulfilled:()=>{s(!1),r(r7.R.enqueue({message:(0,eq.t)("resources_tab.approved_libraries_toggle.mark_as_approved_success",p)}))},onrejected:()=>{s(!1);let e=(0,eq.t)("resources_tab.approved_libraries_toggle.mark_as_approved_error",p);r(dl.l.error(e)),console.error(e)}})}})))}let xa=rv.t1.Mutation(async e=>{await T6.createWorkspaceApprovedLibrary(e)}),xr=rv.t1.Mutation(async e=>{await T6.deleteWorkspaceApprovedLibrary(e)});function xn({file:e,org:t,workspaceId:a,workspaceName:r}){var n;let i=(0,eb.I0)(),l=(0,uL.Ng)(),s=(0,rv.Db)(xa),o=(0,rv.Db)(xr),[c,d]=ev.useState(!1),[m,u]=ev.useState(!1),_=(null==(n=e.library)?void 0:n.approvedLibraries)??[],p=(0,T8.Y5)(_,a),g=(0,T8.hM)(_,(null==l?void 0:l.id)??null),E=null!=p,h=(0,oC.TO)(l)&&null!=g,f=h?{...(0,T8.B9)({orgName:t.name}),"data-tooltip-is-workspace-toggle-disabled":h}:E&&!m?(0,T8.B9)({workspaceName:r}):{},v={libraryName:e.name,resourceName:r};return ev.createElement(tD.j,{direction:"horizontal",width:"fill-parent",height:"hug-contents",verticalAlignItems:"start",padding:{top:10,bottom:4}},ev.createElement("div",{className:ek.cx.minW0.wFull.$},ev.createElement(tD.j,{direction:"vertical",height:"hug-contents",width:"fill-parent",spacing:0},ev.createElement(eq.Tx,{id:"resources_tab.approved_libraries.set_as_approved"}))),ev.createElement("div",{...f},ev.createElement(T3.W,{disabled:c||h,on:E||h,onChange:E?()=>{p&&(d(!0),u(!0),o({approvedLibraryId:p.id,workspaceId:a,fileKey:e.key,onfulfilled:()=>{d(!1),i(r7.R.enqueue({message:(0,eq.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_success",v)}))},onrejected:()=>{d(!1);let e=(0,eq.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_error",v);i(dl.l.error(e)),console.error(e)}}))}:()=>{d(!0),u(!0),s({workspaceId:a,fileKey:e.key,onfulfilled:()=>{d(!1),i(r7.R.enqueue({message:(0,eq.t)("resources_tab.approved_libraries_toggle.mark_as_approved_success",v)}))},onrejected:()=>{d(!1);let e=(0,eq.t)("resources_tab.approved_libraries_toggle.mark_as_approved_error",v);i(dl.l.error(e)),console.error(e)}})}})))}var xi=((b=xi||{}).OFF="OFF",b.ALL_FILES="ALL_FILES",b.DESIGN_FILES="DESIGN_FILES",b.FIGJAM_FILES="FIGJAM_FILES",b);let xl="use-org-setting-toggle",xs={OFF:"visibility-off-radio",ALL_FILES:"visibility-all-radio",DESIGN_FILES:"visibility-design-radio",FIGJAM_FILES:"visibility-figjam-radio"},xo=e=>{if(e){let{isSubscribed:t,figJamSubscribed:a}=e;if(t&&a)return"ALL_FILES";if(t)return"DESIGN_FILES";if(a)return"FIGJAM_FILES"}return"OFF"},xc=e=>{switch(e){case"ALL_FILES":return(0,eq.t)("resources_tab.libraries.subscription.all_files");case"DESIGN_FILES":return(0,eq.t)("resources_tab.libraries.subscription.design_files");case"FIGJAM_FILES":return(0,eq.t)("resources_tab.libraries.subscription.figjam_files");default:return(0,eq.t)("resources_tab.libraries.subscription.off")}},xd=e=>{switch(e){case"ALL_FILES":return{designSubscribed:!0,figjamSubscribed:!0};case"DESIGN_FILES":return{designSubscribed:!0,figjamSubscribed:!1};case"FIGJAM_FILES":return{designSubscribed:!1,figjamSubscribed:!0};case"OFF":return{designSubscribed:!1,figjamSubscribed:!1}}};function xm({fileData:e,orgData:t,selectedLicenseGroupId:a,selectedWorkspaceId:r}){var n,i,l,s,o,c;let d=(0,eb.I0)(),m=ev.useMemo(()=>{var e,n;if(!a&&!r)return{...t,type:TZ.y.Org};if(a){let r=null==(e=t.licenseGroups)?void 0:e.find(e=>e.id===a);return r&&{...r,type:TZ.y.LicenseGroup}}let i=null==(n=t.workspaces)?void 0:n.find(e=>e.id===r);return i&&{...i,type:TZ.y.Workspace}},[t,a,r]),u=(0,dV.mU)(dH.LibraryModalVariablesData,{fileKey:e.key},{enabled:(0,eT.BZ)().ds_workspace_team_default_modes}),_=(0,w6.$4)(),p=(0,uL.Ng)(),[g,E]=ev.useState({}),[h,f]=ev.useState(!1),[v,b]=ev.useState(null),[y,w]=ev.useState(!1),[T,x]=ev.useState(null),[N,C]=ev.useState(null),S=(0,oC.dU)(p),k=(0,oC.TO)(p),I=r;if(!r){let e=_.find(e=>e.id===a);e&&(I=e.mirrored_workspace_id)}let L=function(e,t,a,r){let n=(0,EJ.V_)(),i=(0,oC.TO)(t)&&(0,oC.FT)(t),l=(0,T0.tw)(r.key),s=(null==n?void 0:n.permission)===ao.Gu.ADMIN;return ev.useCallback(t=>{if((null==e?void 0:e.type)!==TZ.y.Workspace||!i||!l||s||"ALL_FILES"===t)return!1;let r=a.librarySubscriptionByLibraryKey;if(!r)return!1;let n={design:r.isSubscribed,figjam:r.figJamSubscribed},o=xd(t);return(0,nM.zC)(n,o)},[e,i,l,s,a])}(m,p,t,e);if(ev.useEffect(()=>{var e,t;v!==I&&(f(!1),b(I),(0,eT.BZ)().ds_workspace_team_default_modes&&I&&(null==(e=u.data)?void 0:e.file)&&T1.M.getDefaultModes({fileKey:null==(t=u.data)?void 0:t.file.key,entityType:"workspace",entityId:I}).then(e=>{E(e.data.meta),f(!0)}))},[v,null==(n=u.data)?void 0:n.file,I]),!m)return ev.createElement(ev.Fragment,null);let R=S&&I,A=!a&&!r,O=!!(a||r)&&null===m.librarySubscriptionByLibraryKey,D=O?xo(t.librarySubscriptionByLibraryKey):xo(m.librarySubscriptionByLibraryKey);return ev.createElement(tD.j,{direction:"vertical",padding:16},ev.createElement(oc.x,{i18nId:"resources_tab.libraries.manage_library_for",i18nParams:{orgOrWorkspaceName:m.name},fontWeight:"medium",truncate:"line-clamp",lineClamp:2}),k&&A&&ev.createElement(ev.Fragment,null,ev.createElement(xt,{file:e,org:t}),ev.createElement(xu,null)),(a||r)&&ev.createElement(ev.Fragment,null,R&&I&&ev.createElement(ev.Fragment,null,ev.createElement(xn,{file:e,org:t,workspaceId:I,workspaceName:m.name}),ev.createElement(xu,null)),y&&r&&T&&ev.createElement(T4.t,{isShowing:!0,onCancel:()=>w(!1),onConfirm:()=>{N&&(d((0,w3.xh)({libraryWorkspaceSubscription:{workspace_id:r,file_key:e.key,subscriptions:N},libraryName:e.name,workspaceName:m.name})),w(!1),C(null),x(null))},targetKey:T,fileKey:e.key}),ev.createElement(tD.j,{direction:"horizontal",width:"fill-parent",height:"hug-contents",verticalAlignItems:"start",padding:{vertical:R?4:8}},ev.createElement("div",{className:ek.cx.minW0.wFull.$},ev.createElement(tD.j,{direction:"vertical",height:"hug-contents",width:"fill-parent",spacing:0},ev.createElement("div",{className:ek.cx.inlineFlex.pre.maxWFull.$},ev.createElement(eq.Tx,{id:"resources_tab.libraries.use_orgs_setting",orgName:ev.createElement(oc.x,{truncate:!0},t.name)})),ev.createElement(oc.x,{color:"secondary",i18nId:"resources_tab.libraries.current",i18nParams:{setting:xc(xo(t.librarySubscriptionByLibraryKey))}}))),ev.createElement("span",{"data-onboarding-key":xl},ev.createElement(T3.W,{on:O,onChange:()=>{a?m.librarySubscriptionByLibraryKey?d((0,w3.iM)({libraryLicenseGroupSubscription:{id:m.librarySubscriptionByLibraryKey.id,license_group_id:a,file_key:e.key},libraryName:e.name,licenseGroupName:m.name})):d((0,w3.$J)({libraryLicenseGroupSubscription:{license_group_id:a,file_key:e.key,subscriptions:{design:!1,figjam:!1}},libraryName:e.name,licenseGroupName:m.name})):r&&(m.librarySubscriptionByLibraryKey?d((0,w3.It)({libraryWorkspaceSubscription:{id:m.librarySubscriptionByLibraryKey.id,workspace_id:r,file_key:e.key},libraryName:e.name,workspaceName:m.name})):L("OFF")?(w(!0),x(xl),C({design:!1,figjam:!1})):d((0,w3.xh)({libraryWorkspaceSubscription:{workspace_id:r,file_key:e.key,subscriptions:{design:!1,figjam:!1}},libraryName:e.name,workspaceName:m.name})))}}))),!R&&ev.createElement("div",{className:ek.cx.bt1.bSolid.colorBorder.wFull.h1.mt8.$})),ev.createElement(Ed.E,{value:D,onChange:n=>{var i,l;if(n===D)return;let s={figjam:"ALL_FILES"===n||"FIGJAM_FILES"===n,design:"ALL_FILES"===n||"DESIGN_FILES"===n};a?d((0,w3.$J)({libraryLicenseGroupSubscription:{id:m.librarySubscriptionByLibraryKey.id,license_group_id:a,file_key:e.key,subscriptions:s},libraryName:e.name,licenseGroupName:m.name})):r?L(n)?(w(!0),x(xs[n]),C(s)):d((0,w3.xh)({libraryWorkspaceSubscription:{id:m.librarySubscriptionByLibraryKey.id,workspace_id:r,file_key:e.key,subscriptions:s},libraryName:e.name,workspaceName:m.name})):d((0,w3.SK)({libraryOrgSubscription:{org_id:t.id,file_key:e.key,subscriptions:s},userInitiated:!0,libraryName:e.name,orgName:t.name,libraryTeamId:e.teamId,currentSubscription:{design:!!(null==(i=m.librarySubscriptionByLibraryKey)?void 0:i.isSubscribed),figjam:!!(null==(l=m.librarySubscriptionByLibraryKey)?void 0:l.figJamSubscribed)}}))}},["OFF","ALL_FILES","DESIGN_FILES","FIGJAM_FILES"].map(e=>ev.createElement(Ed._,{dataOnboardingKey:xs[e],key:e,value:e,disabled:O,className:ek.cx.mt8.mb8.h16.if(O,ek.cx.opacity0_5).$,labelClassName:ek.cx.font11.$},xc(e)))),I&&(0,eT.BZ)().ds_workspace_team_default_modes&&((null==(l=null==(i=u.data)?void 0:i.file)?void 0:l.variableCollections.length)??0)>0&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.bt1.bSolid.colorBorder.wFull.h1.mt16.$}),ev.createElement(oc.x,{i18nId:"resources_tab.libraries.default_modes",fontWeight:"medium",truncate:"line-clamp",lineClamp:2}),h?null==(c=null==(o=null==(s=u.data)?void 0:s.file)?void 0:o.variableCollections)?void 0:c.map(e=>{var t,a;return e.modes&&e.modes.length>1&&I&&ev.createElement(tD.j,{width:"fill-parent",height:"hug-contents",key:e.id,spacing:16,verticalAlignItems:"center"},ev.createElement("span",{className:"library_subscription_settings--name--nMhQm"},e.name),ev.createElement(T2.sF,{variableSet:e,modeDropdownStyle:"library_subscription_settings--modeDropdown--ijTre",fileKey:null==(a=null==(t=u.data)?void 0:t.file)?void 0:a.key,entity:{entityType:"workspace",entityId:I},defaultModeId:g[e.key],isLibraryFileEnabled:"OFF"!==D}))}):ev.createElement(ax.jz,null)))}function xu(){return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.bb1.bSolid.colorBorder.wFull.h1.mt8.mb8.$}),ev.createElement(oc.x,{i18nId:"resources_tab.libraries.visibility_settings",fontWeight:"medium",truncate:"line-clamp",lineClamp:2}))}let x_=ek.cx.lh32.h32.pl16.wFull.cursorDefault;function xp({content:e}){let[t,a]=ev.useState(!1);return ev.createElement(ev.Fragment,null,ev.createElement(at.X,{onIntersectionChange:e=>{a(!e.isIntersecting)}}),ev.createElement("div",{className:x_.sticky.top0.colorBg.zIndex1.pt8.bRadius4.if(t,ek.cx.bb1.bSolid.colorBorder).$},ev.createElement(oc.x,{fontWeight:"medium"},e)))}function xg({text:e,subscribed:t,selected:a,onClick:r}){return ev.createElement("div",{onClick:r,className:tQ()(x_.borderBox.$,a?ek.cx.colorBgSelected.$:"library_subscription_settings--rowHover--ssDfP"),role:"link",tabIndex:0},ev.createElement(tD.j,{width:"fill-parent",spacing:0},ev.createElement(oc.x,{truncate:!0},e),ev.createElement(tD.m,{minSize:4}),t&&ev.createElement(oc.x,{color:"success",i18nId:"resources_tab.libraries.on"}),ev.createElement(t3.JO,{icon:"chevron-right-32"})))}let xE=e=>!!(e&&(e.isSubscribed||e.figJamSubscribed)),xh=(e,t)=>e?xE(e):xE(t),xf=(e,t)=>e?xE(e):xE(t),xv=function({fileData:e,orgData:t}){var a;let[r,n]=ev.useState(null),[i,l]=ev.useState(null),s=(0,uR.usePermissionsState)(),o=(0,uR.canAdminOrg)(t.id,s),c=t.librarySubscriptionByLibraryKey,d=ev.useMemo(()=>{let e=t.licenseGroups||[],a=o?e:e.filter(e=>(0,uR.canAdminLicenseGroup)(e.id,s));return null==a?void 0:a.sort((e,t)=>{let a=xh(e.librarySubscriptionByLibraryKey,c),r=xh(t.librarySubscriptionByLibraryKey,c);return a&&!r?-1:!a&&r?1:e.name&&t.name&&e.name.toLowerCase()<t.name.toLowerCase()?-1:1})},[o,t,s,c]),m=ev.useMemo(()=>{let e=t.workspaces||[],a=o?e:e.filter(e=>(0,uR.canAdminWorkspace)(e.id,s));return null==a?void 0:a.sort((e,t)=>{let a=xf(e.librarySubscriptionByLibraryKey,c),r=xf(t.librarySubscriptionByLibraryKey,c);return a&&!r?-1:!a&&r?1:e.name&&t.name&&e.name.toLowerCase()<t.name.toLowerCase()?-1:1})},[o,t,s,c]),u=(0,oC.d$)(t)&&!(0,oC.OR)(t)&&(null==d?void 0:d.length)>0,_=(0,oC.d$)(t)&&(0,oC.OR)(t)&&(null==m?void 0:m.length)>0,p=o&&(u||_);ev.useEffect(()=>{u&&n(e=>o&&null===e||d&&d.some(t=>t.id===e)?e:!o&&d&&d.length?d[0].id:null),_&&l(e=>o&&null===e||m&&m.some(t=>t.id===e)?e:!o&&m&&m.length?m[0].id:null)},[o,t,d,m,u,_]);let g=(0,r9.b9)(TY),E=r?null==(a=d.find(e=>e.id===r))?void 0:a.mirroredWorkspaceId:i;return ev.useEffect(()=>(g(E),()=>{g(void 0)}),[E,g]),ev.createElement("div",{className:ek.cx.b1.bRadius4.colorBorder.wFull.hFull.minW0.$},ev.createElement(tD.j,{spacing:0,height:"fill-parent"},ev.createElement(cr.l,{className:ek.cx.wHalf.hFull.$},o&&ev.createElement(ev.Fragment,null,ev.createElement(xp,{content:(0,eq.t)("resources_tab.libraries.organization")}),ev.createElement(xg,{text:t.name,subscribed:xE(c),selected:!(r||i),onClick:()=>{n(null),l(null)}})),p&&ev.createElement(tD.j,{padding:{left:16,right:16,top:8}},ev.createElement("div",{className:ek.cx.bt1.bSolid.colorBorder.wFull.h1.$})),u&&ev.createElement(tD.j,{direction:"vertical",spacing:0},ev.createElement(xp,{content:(0,eq.t)("resources_tab.libraries.workspaces")}),d.map(e=>e.name&&ev.createElement(xg,{key:e.id,text:e.name,selected:!!r&&r===e.id,subscribed:xh(e.librarySubscriptionByLibraryKey,c),onClick:()=>n(e.id)}))),_&&ev.createElement(tD.j,{direction:"vertical",spacing:0},ev.createElement(xp,{content:(0,eq.t)("resources_tab.libraries.workspaces")}),m.map(e=>e.name&&ev.createElement(xg,{key:e.id,text:e.name,selected:!!i&&i===e.id,subscribed:xf(e.librarySubscriptionByLibraryKey,c),onClick:()=>l(e.id)})))),ev.createElement("div",{className:ek.cx.wHalf.hFull.bl1.colorBorder.bSolid.$},(o||r||i)&&ev.createElement(cr.l,{className:ek.cx.wFull.hFull.$},ev.createElement(xm,{fileData:e,orgData:t,selectedLicenseGroupId:r,selectedWorkspaceId:i})))))},xb=(0,it.Y3)(function({fileKey:e}){var t,a;let r=(0,eb.I0)(),n=(0,eb.v9)(e=>e.currentUserOrgId),i=(0,fN.i)(),l=(0,dV.mU)(dH.LibraryManagementData,{fileKey:e,orgId:n}),s=null==(t=l.data)?void 0:t.file,o=null==(a=l.data)?void 0:a.org,c=ev.useCallback(()=>r(ig.eI()),[r]);ev.useEffect(()=>{"errors"!==l.status&&("loaded"!==l.status||s&&o)||(r(r7.R.enqueue({error:!0,message:(0,eq.t)("resources_tab.libraries.couldnt_load_library_information")})),c())},[c,r,s,o,l.status]);let d=i.windowInnerWidth<=(0,cx.z)(cL.Jbu),m=s&&!(0,TK.a)({org_browsable:s.orgBrowsable,link_access:s.linkAccess}),u=s&&o&&(()=>{if(!s||!o)return null;let e={link_access:s.linkAccess,proto_link_access:s.protoLinkAccess,org_audience:s.orgAudience,org_browsable:s.orgBrowsable,has_file_link_password:s.hasFileLinkPassword,has_proto_link_password:s.hasProtoLinkPassword},t={name:o.name,id:o.id,shared_org_license_group_settings:(0,hA.vR)(o,o.sharedOrgLicenseGroupSetting)};return(0,bu.BB)(e,t)})(),_=s&&o&&(()=>{if(!s||!o)return null;let e={link_access:ao.I1.ORG_VIEW,proto_link_access:null,org_audience:!0,org_browsable:!0,has_file_link_password:!1,has_proto_link_password:!1},t={name:o.name,id:o.id,shared_org_license_group_settings:(0,hA.vR)(o,o.sharedOrgLicenseGroupSetting)};return(0,bu.BB)(e,t)})();return ev.createElement(ib.ge,{title:s&&d?s.name:(0,eq.t)("resources_tab.libraries.manage_this_library"),maxWidth:648,onClose:c},ev.createElement(tD.j,{direction:"vertical",spacing:0},m&&ev.createElement(tD.j,{height:"hug-contents",padding:8,spacing:4,verticalAlignItems:"start",backgroundColor:"warning","data-testid":"library-management-modal-permissions-warning"},ev.createElement("div",{className:"library_management_modal--permissionsWarningIcon--8159t"},ev.createElement(t3.JO,{icon:"info-32"})),ev.createElement(oc.x,{color:"onwarning",fontSize:13,i18nId:"resources_tab.libraries.changing_permissions_warning",i18nParams:{currentPermissions:u,resultingPermissions:_}})),ev.createElement(tD.j,{spacing:16,padding:16,verticalAlignItems:"start",width:"fill-parent",height:400},"loading"===l.status&&ev.createElement(ax.jz,null),"loaded"===l.status&&s&&o&&ev.createElement(ev.Fragment,null,!d&&ev.createElement(TX,{fileData:s,orgData:o}),ev.createElement(xv,{fileData:s,orgData:o})))))},"LIBRARY_MANAGEMENT_MODAL");var xy=a(162648),xw=((y=xw||{}).ORG="ORG",y.LICENSE_GROUP="LICENSE_GROUP",y.WORKSPACE="WORKSPACE",y),xT=((w=xT||{}).NAME="NAME",w.ENABLED_FOR="ENABLED_FOR",w.COMPONENTS="COMPONENTS",w.STYLES="STYLES",w);let xx=new TH.Or([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"library_file_name",weight:1}]}),xN="NONE";function xC(e){var t,a,r,n,i,l,s;let{org:o,licenseGroupId:c,workspaceId:d,libraryStats:m}=e,u=(0,eb.I0)(),[_,p]=ev.useState(new Set(c?[c]:d?[d]:[])),[g,E]=ev.useState(""),h=(0,w6.jF)(),f=(0,gv.d3)(o.id),v=(0,dV.mU)(dH.LibrarySubscriptionView,{orgId:o.id});ev.useEffect(()=>{p(new Set(c?[c]:d?[d]:[])),E("")},[c,d]),ev.useEffect(()=>{("errors"===v.status||"errors"===f.status||"loaded"===v.status&&null===v.data.org)&&u(r7.R.enqueue({error:!0,message:(0,eq.t)("resources_tab.libraries.couldnt_load_library_information")}))},[v.status,null==(t=v.data)?void 0:t.org,f.status,u]);let b=null==(r=null==(a=v.data)?void 0:a.org)?void 0:r.librarySubscriptions,y=null==(i=null==(n=v.data)?void 0:n.org)?void 0:i.licenseGroups,w=null==(s=null==(l=v.data)?void 0:l.org)?void 0:s.workspaces,T=ev.useMemo(()=>{let e={},t=new Set;if(null==b||b.forEach(a=>{if((a.isSubscribed||a.figJamSubscribed)&&(t.add(a.fileKey),a.fileKey in e||(e[a.fileKey]=[]),e[a.fileKey].push({type:"ORG",id:o.id,name:o.name}),(0,oC.d$)({id:o.id}))){if((0,oC.OR)({id:o.id})){let t=f.data??[];t.forEach(t=>e[a.fileKey].push({type:"WORKSPACE",id:t.id,name:t.name}))}else h.forEach(t=>e[a.fileKey].push({type:"LICENSE_GROUP",id:t.id,name:t.name}))}}),(0,oC.d$)({id:o.id})){if((0,oC.OR)({id:o.id})){let a=f.data??[],r=new Set(a.map(e=>e.id));null==w||w.forEach(a=>{var n;r.has(a.id)&&(null==(n=a.librarySubscriptions)||n.forEach(r=>{r.fileKey in e||(e[r.fileKey]=[]);let n=r.fileKey,i=t.has(n),l=r.isSubscribed||r.figJamSubscribed;l&&!i&&e[r.fileKey].push({type:"WORKSPACE",id:a.id,name:a.name||""}),!l&&i&&(e[r.fileKey]=e[r.fileKey].filter(e=>!("WORKSPACE"===e.type&&e.id===a.id)))}))})}else{let a=new Set(h.map(e=>e.id));null==y||y.forEach(r=>{var n;a.has(r.id)&&(null==(n=r.librarySubscriptions)||n.forEach(a=>{a.fileKey in e||(e[a.fileKey]=[]);let n=a.fileKey,i=t.has(n),l=a.isSubscribed||a.figJamSubscribed;l&&!i&&e[a.fileKey].push({type:"LICENSE_GROUP",id:r.id,name:r.name||""}),!l&&i&&(e[a.fileKey]=e[a.fileKey].filter(e=>!("LICENSE_GROUP"===e.type&&e.id===r.id)))}))})}}return e},[o.id,o.name,b,y,h,w,f]),x=ev.useMemo(()=>{let e=[];if((0,oC.d$)({id:o.id})){if((0,oC.OR)({id:o.id})){let t=f.data??[],a=new Set(t.map(e=>e.id));null==w||w.forEach(t=>{a.has(t.id)&&t.name&&e.push({id:t.id,name:t.name})})}else{let t=new Set(h.map(e=>e.id));null==y||y.forEach(a=>{t.has(a.id)&&a.name&&e.push({id:a.id,name:a.name})})}(0,nx.aV)(e,"name")}return[{id:xN,name:(0,eq.t)("resources_tab.libraries.none")},{id:"ORG",name:o.name},...e]},[o.id,o.name,y,h,w,f]),N=ev.useMemo(()=>{let e=m.files;return e=e.filter(e=>(function(e,t){if(0===t.size||t.has(xN)&&(!e||0===e.length))return!0;for(let a of e||[])if("ORG"===a.type){if(t.has("ORG"))return!0}else if(t.has(a.id))return!0;return!1})(T[e.library_file_key],_)),g&&(xx.set(e),e=xx.search(g)),e},[m.files,T,g,_]),{sortState:C,updateSortState:S,sortedItems:k}=function(e,t,a){let[r,n]=ev.useState(e),i=ev.useMemo(()=>({NAME:e=>e.library_file_name,ENABLED_FOR:e=>{var t;return(null==(t=a[e.library_file_key])?void 0:t.map(e=>e.name).join(","))||""},COMPONENTS:e=>e.num_components,STYLES:e=>e.num_styles}),[a]),l=ev.useMemo(()=>{let e=[...t];return(0,nx.Wk)(e,i[r.column],r.isReversed,r.secondaryColumn&&(null==i?void 0:i[r.secondaryColumn]),r.isSecondaryReversed),e},[t,i,r]);return{sortState:r,updateSortState:e=>{r.column===e?n(e=>({...e,isReversed:!e.isReversed})):n(t=>({column:e,isReversed:!1,secondaryColumn:t.column,isSecondaryReversed:t.isReversed}))},sortedItems:l}}({column:"NAME",isReversed:!1},N,T),I=(0,eb.v9)(e=>e.fileByKey),L=ev.useCallback(e=>{let t=I[e];return(null==t?void 0:t.thumbnail_url)?t.thumbnail_url:`/file/${e}/thumbnail`},[I]),R=e=>{let t=T[e];if(!t||0===t.length)return ev.createElement(oc.x,{color:"secondary",i18nId:"resources_tab.libraries.no_subscriptions"});let a=t.slice(0,2).map(e=>e.name).join(", ");return t.length>2?ev.createElement(oc.x,{i18nId:"resources_tab.libraries.plural_workspaces",i18nParams:{namesOfLicenseGroups:a,extraWorkspaceNum:t.length-2},truncate:"line-clamp",lineClamp:2}):ev.createElement(oc.x,{truncate:"line-clamp",lineClamp:2},a)},A=e=>{u((0,ig.K4)({type:xb,data:{fileKey:e.library_file_key}}))},O=ev.createElement(Tz,{filters:x,enabledFilterIds:_,onChange:p}),D=ev.createElement("div",{style:ie.sx.add({minWidth:"800px"}).$,className:ek.cx.pb24.$},ev.createElement("div",{className:"libraries_section--tableRowHeader--kXqsc libraries_section--tableRow--oJooX"},ev.createElement("div",{className:ek.cx.pt8.pb8.colorBorder.bSolid.bt1.bb1.wFull.$},ev.createElement(nN.Pl,{focusOnMount:!1,query:g,onChange:E,clearSearch:()=>{E("")},placeholder:(0,eq.t)("resources_tab.libraries.search.label_with_ellipsis")})),ev.createElement(pw.SC,{header:!0,useAdminTableStyles:!0},ev.createElement(tD.j,{spacing:0},ev.createElement(pw.qN,{style:ie.sx.add({width:"40%"}).$},ev.createElement(pw.de,{className:ek.cx.colorText.$,isDescending:!C.isReversed,sortBy:()=>S("NAME"),field:"NAME",hasArrow:"NAME"===C.column},ev.createElement(oc.x,{fontWeight:"semi-bold",color:"default",i18nId:"resources_tab.libraries.name"}))),ev.createElement(pw.qN,{style:ie.sx.add({width:"30%"}).$},ev.createElement(pw.de,{className:ek.cx.colorText.$,isDescending:!C.isReversed,sortBy:()=>S("ENABLED_FOR"),field:"ENABLED_FOR",hasArrow:"ENABLED_FOR"===C.column},ev.createElement(oc.x,{color:"default",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.enabled_for"}))),ev.createElement(pw.qN,{style:ie.sx.add({width:"10%"}).justifyEnd.$},ev.createElement(pw.de,{rightAligned:!0,className:ek.cx.colorText.$,isDescending:!C.isReversed,sortBy:()=>S("COMPONENTS"),field:"COMPONENTS",hasArrow:"COMPONENTS"===C.column},ev.createElement(oc.x,{color:"default",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.components"}))),ev.createElement(pw.qN,{style:ie.sx.add({width:"10%"}).justifyEnd.$},ev.createElement(pw.de,{rightAligned:!0,className:ek.cx.colorText.$,isDescending:!C.isReversed,sortBy:()=>S("STYLES"),field:"STYLES",hasArrow:"STYLES"===C.column},ev.createElement(oc.x,{color:"default",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.styles"}))),ev.createElement(pw.qN,{style:ie.sx.add({width:"10%"}).$},ev.createElement("span",null)," ")))),("loading"===v.status||"loading"===f.status)&&ev.createElement(pw.PI,null),"loaded"===v.status&&"loaded"===f.status&&!k.length&&ev.createElement(xy.eP,null,g?ev.createElement(oc.x,{i18nId:"resources_tab.libraries.search.no_results"}):_.size>0?ev.createElement(oc.x,{i18nId:"resources_tab.libraries.filter.no_results"}):ev.createElement(oc.x,{i18nId:"resources_tab.libraries.no_libraries_text"})),"loaded"===v.status&&"loaded"===f.status&&ev.createElement(ev.Fragment,null,k.map(e=>ev.createElement(pw.SC,{key:e.library_file_key,useAdminTableStyles:!0,className:"libraries_section--tableRowBody--e7bNv libraries_section--tableRow--oJooX",onClick:()=>A(e)},ev.createElement(tD.j,{spacing:0},ev.createElement(tD.j,{width:"40%",padding:{right:16},spacing:16},ev.createElement(tD.j,{width:80,height:48},ev.createElement(fK.mB,{editor_type:null,client_meta:"",thumbnail_url:L(e.library_file_key),additionalClassName:ek.cx.wFull.hFull.bRadius4.$,isLocked:!1})),ev.createElement(oc.x,{truncate:!0},e.library_file_name)),ev.createElement(tD.j,{width:"30%",padding:{right:16}},R(e.library_file_key)),ev.createElement(tD.j,{width:"10%",horizontalAlignItems:"end"},ev.createElement(oc.x,null,e.num_components)),ev.createElement(tD.j,{width:"10%",horizontalAlignItems:"end"},ev.createElement(oc.x,null,e.num_styles)),ev.createElement(tD.j,{width:"10%",horizontalAlignItems:"end"},ev.createElement(t3.JO,{icon:"chevron-right-32"}))))),(g||_.size>0)&&ev.createElement(pw.SC,{useAdminTableStyles:!0,className:"libraries_section--showAllLibrariesRow--ML78L libraries_section--tableRow--oJooX",onClick:()=>{E(""),p(new Set([]))}},ev.createElement(tD.j,{horizontalAlignItems:"center"},ev.createElement(oc.x,{color:"brand",i18nId:"resources_tab.libraries.show_all_libraries_button"})))));return ev.createElement(ev.Fragment,null,ev.createElement(T$.Z,{hasHorizontalPadding:!0,title:(0,eq.t)("resources_tab.libraries"),rightActions:O}),ev.createElement("div",{className:ek.cx.overflowAuto.$},ev.createElement(cr.l,{className:ek.cx.wFull.hFull.$,minContentWidth:800},D)))}var xS=a(229845),xk=a(299370),xI=a(958550),xL=a(973655);let xR=a(528902),xA=(e=>{var t;return(t=class extends ev.PureComponent{constructor(){super(...arguments),this.onCopyEmailToClipboard=e=>{e.stopPropagation(),this.props.entity.email&&this.props.dispatch(mH.s4({emailList:[this.props.entity.email]}))}}render(){return ev.createElement(e,{...this.props,onEmailClick:this.onCopyEmailToClipboard,emailLinkIcon:xR,includeUserEmailAddress:!0})}}).displayName="Copyable",t})(ds.oJ);var xO=a(270128),xD=a(711326);let xF=e=>(0,xD.C8)({initial:"await_reset",states:[{id:"await_reset",transitions:[(0,xD.rH)("Reset Onboarding","reset")]},{id:"reset",transitions:[(0,xD.rH)("curator_content_shown","await_reset",{condition:({event:t})=>t.properties.shown===e})]}]}),xM="seen_org_admin_teams_onboarding",xP=(0,o_.n_)(xM),xB=(0,xD.Q9)("org_admin_teams_onboarding",xF(sd.G.OrgAdminTeamOnboarding));function xU(e){let t=(0,r9.Dv)(xP),{isShowing:a,complete:r,show:n,uniqueId:i}=(0,so.I)({id:sd.G.OrgAdminTeamOnboarding,priority:su.b4.DEFAULT_MODAL},[t]),l=(0,xO.eO)(xB);return(0,eZ.O)(()=>{"reset"===l.currentState?n():n({canShow:e=>!e})}),(0,sc.J)(i,"Reset Onboarding",()=>n()),ev.createElement(Tn.ZZ,{isShowing:a,trackingContextName:`${To} Org Access`,targetKey:"teams_table_onboarding_key",userFlagOnShow:xM,onClose:r,primaryCta:{label:ev.createElement(eq.Tx,{id:"onboarding_pointers.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:cC.y.GOT_IT},description:ev.createElement(eq.Tx,{id:"onboarding_pointers.teams_access_onboarding"})})}let xV="seen_workspace_admin_onboarding",xW=(0,o_.n_)(xV);var xG=((T=xG||{}).BillingGroupsAnnouncement="BillingGroupsAnnouncement",T.AddTeamsToWorkspace="AddTeamsToWorkspace",T.CheckUnassignedTeams="CheckUnassignedTeams",T);function xj(){var e,t,a,r,n,i,l,s,o,c;let d=(0,EJ.V_)(),m=(0,uL.$0)(),u=(0,dV.mU)(dH.CurrentUserAssignedWorkspaceView,{orgId:m}),_=(0,dV.mU)(dH.CurrentUserLicenseGroupAdmins,{orgId:m}),p=(0,r9.Dv)(xW),g=!!(d&&d.permission===ao.Gu.ADMIN),{show:E,isShowing:h,complete:f}=(0,so.I)({id:sd.G.WorkspaceAdminOnboarding,priority:su.b4.DEFAULT_MODAL},[p,u,_]);(0,eZ.O)(()=>{E({canShow:e=>!e})});let v=(null==(t=null==(e=_.data)?void 0:e.currentUser.baseOrgUser)?void 0:t.licenseGroupAdmins)&&(null==(r=null==(a=_.data)?void 0:a.currentUser.baseOrgUser)?void 0:r.licenseGroupAdmins.length)>0,b=null==(l=null==(i=null==(n=u.data)?void 0:n.currentUser.baseOrgUser)?void 0:i.workspaceUsers)?void 0:l.some(e=>void 0===e.createdAt),y=null==(c=null==(o=null==(s=u.data)?void 0:s.currentUser.baseOrgUser)?void 0:o.workspaceUsers)?void 0:c.some(e=>e.permission===ao.F9.ADMIN&&new Date(e.createdAt)<oC.X9),w=(()=>{let e=[];return!y||g||v||e.push("BillingGroupsAnnouncement"),e.push("AddTeamsToWorkspace"),e.push("CheckUnassignedTeams"),e})(),T=(0,Ta.Z)({numSteps:w.length,onComplete:f});return ev.createElement(Tr.Y,{currentStep:T.currentStep,isShowing:!b&&h,children:w.map(e=>ev.createElement(xH,{key:e,step:e,isShowing:h,next:T.next,complete:f}))})}function xH(e){let{step:t,isShowing:a,next:r,complete:n}=e;switch(t){case"BillingGroupsAnnouncement":return ev.createElement(dP.R,{isShowing:a,userFlagOnShow:xV},ev.createElement(e3.Ui,{name:Tk},ev.createElement(TB,{variant:TP.NonOrgAdmin,onClose:n,onNext:r,isFinalStep:!1})));case"AddTeamsToWorkspace":return ev.createElement(Tn.ZZ,{isShowing:a,trackingContextName:TS,userFlagOnShow:xV,onClose:n,stepCounter:{stepNum:1,totalNumSteps:2},targetKey:TN,title:ev.createElement(eq.Tx,{id:"workspace_admin.onboarding.step_one_heading"}),description:ev.createElement(eq.Tx,{id:"workspace_admin.onboarding.step_one_description"}),primaryCta:{label:ev.createElement(eq.Tx,{id:"general.next"}),onClick:r,type:"button",ctaTrackingDescriptor:cC.y.NEXT},emphasized:!0,clickOutsideToHide:!0});case"CheckUnassignedTeams":return ev.createElement(Tn.ZZ,{isShowing:a,trackingContextName:TS,userFlagOnShow:xV,onClose:n,stepCounter:{stepNum:2,totalNumSteps:2},targetKey:TC,title:ev.createElement(eq.Tx,{id:"workspace_admin.onboarding.step_two_heading"}),description:ev.createElement(eq.Tx,{id:"workspace_admin.onboarding.step_two_description"}),primaryCta:{label:ev.createElement(eq.Tx,{id:"general.got_it"}),onClick:n,type:"button",ctaTrackingDescriptor:cC.y.GOT_IT},emphasized:!0,clickOutsideToHide:!0});default:(0,eL.vE)(t)}}var x$=a(944075),xz=a(136509),xK=a(641222);function xZ({selectedLicenseGroupId:e,onFilterUpdate:t,getCount:a}){let r=(0,eb.I0)(),n=(0,mj.L)(),i=(0,uL.Ng)(),l=(0,eb.v9)(({licenseGroups:e})=>e),s=(0,w6.$4)(),o=(0,eb.v9)(({user:e})=>null==e?void 0:e.id),c=(0,EJ.V_)(),d=!!(c&&c.permission===ao.Gu.ADMIN),m=(0,eb.v9)(({orgUsersByOrgId:e,currentUserOrgId:t})=>t&&Object.values(e.orgUsers[t])),u=(0,w6.US)(),_=(0,eb.v9)(({selectedView:e})=>"orgAdminSettings"===e.view);if(!o||!m||!u||!_)return null;let{groupsUserIsAdminOf:p,otherLicenseGroups:g}=(0,w6.O)(s,o,!d);if(0===p.length&&0===g.length)return null;let E=p.concat(g).map(e=>e.id).concat(bO.u);return ev.createElement(xK.MF,{label:(0,oC.uH)(i.id)?(0,eq.t)("members_table.menu_bar_filter.billing_group"):(0,eq.t)("members_table.menu_bar_filter.workspace"),dispatch:r,dropdownShown:n,dropdownType:"FILTER_LICENSE_GROUP_DROPDOWN",values:E,selectedValue:e,getCount:a,getDisplayText:e=>(0,xz.q4)(e,l),updateFilter:e=>t(e)})}let xq="license_group_assign_onboarding_key";function xY(){let e=(0,eb.I0)(),t=(0,uL.Ng)(),a=(0,oC.uH)(null==t?void 0:t.id),r=(0,eb.v9)(({selectedView:e})=>e),n="licenseGroup"===r.view&&r.subView===ET.gp.ADMIN&&r.licenseGroupId,i=(0,w6.US)(),l=(0,eb.v9)(({licenseGroups:e})=>n?e[n]:void 0);if(!i||!l||"licenseGroup"!==r.view||r.subView!==ET.gp.ADMIN)return null;let s=r.membersTabViewingUnassigned,o=s?bO.u:l.id,c=t=>{e(od.fv({...r,membersTabViewingUnassigned:t===bO.u}))};return ev.createElement("div",{className:ek.cx.pb20.$},ev.createElement(EB.v,{tabs:[ev.createElement(EB.y,{dataOnboardingKey:l.id===o?xq:void 0,key:l.id,tab:l.id,isSelected:o===l.id,onClick:c,tabName:a?(0,eq.t)("billing_group.members"):l.name}),ev.createElement(EB.y,{dataOnboardingKey:s?xq:void 0,key:bO.u,tab:bO.u,isSelected:o===bO.u,onClick:c,tabName:(0,eq.t)("license_group.unassigned")})]}))}function xJ({selectedWorkspaceId:e,onFilterUpdate:t,getCount:a}){let r=(0,eb.I0)(),n=(0,mj.L)(),i=(0,eb.v9)(e=>e.currentUserOrgId),l=(0,gv.d3)(i),s="loading"===l.status?[]:l.data??[],o={};s.forEach(e=>o[e.id]=e);let c=(0,eb.v9)(({selectedView:e})=>"orgAdminSettings"===e.view);if(!c||!s.length)return null;let d=s.map(e=>e.id).concat(wO.F);return ev.createElement(xK.MF,{label:(0,eq.t)("members_table.menu_bar_filter.workspace"),dispatch:r,dropdownShown:n,dropdownType:"FILTER_WORKSPACE_DROPDOWN",values:d,selectedValue:e,getCount:a,getDisplayText:e=>{var t;return e===wO.F?(0,eq.t)("license_group.unassigned"):(null==(t=o[e])?void 0:t.name)??""},updateFilter:e=>t(e)})}function xQ(e){var t;let a=(0,eb.I0)(),r=(0,eb.v9)(({selectedView:e})=>e);if("workspace"!==r.view||r.subView!==ES.ep.ADMIN||!r.workspaceId)return null;let n=r.membersTabViewingUnassigned,i=n?wO.F:null==(t=e.workspace)?void 0:t.id,l=e=>{a(od.fv({...r,membersTabViewingUnassigned:e===wO.F}))};return ev.createElement("div",{className:ek.cx.pb20.$},e.workspace&&ev.createElement(EB.v,{tabs:[ev.createElement(EB.y,{key:e.workspace.id,tab:e.workspace.id,isSelected:i===e.workspace.id,onClick:l,tabName:e.workspace.name}),ev.createElement(EB.y,{key:wO.F,dataOnboardingKey:TC,tab:wO.F,isSelected:i===wO.F,onClick:l,tabName:(0,eq.t)("workspace.unassigned")})]}))}var xX=a(334136),x0=a(272976),x1=a(963465),x2=a(108051),x3=a(87794);let x4=(0,it.Y3)(function(e){var t;let a=(0,eb.I0)(),r=(0,uR.usePermissionsState)(),n=null==(t=r.user)?void 0:t.id;return ev.createElement(e3.Ui,{name:"Team Confirm Leave Modal",properties:{userId:n,teamId:e.team.id}},ev.createElement(ib.sv,{title:(0,eq.t)("file_browser.team.change_to_secret_team_confirmation_title",{teamName:e.team.name}),destructive:!0,onConfirm:()=>{a((0,gf.Xc)({team:e.team,orgAccess:ao.Zn.SECRET}))},confirmText:(0,eq.t)("file_browser.team.change_to_secret_team_confirm")},ev.createElement(eq.Tx,{id:"file_browser.team.you_will_lose_access_to_secret_team_warning"})))},"TeamConfirmChangeToSecretOrgAccess");function x8(e,t,a,r,n,i){i((t!==ao.Zn.SECRET||a?1:r&&n?1:0)?(0,gf.Xc)({team:e,orgAccess:t}):(0,ig.K4)({type:x4,data:{team:e}}))}var x5=a(722365),x9=a(449606),x6=((x=x6||{}).JOINED="JOINED",x.NOT_JOINED="NOT_JOINED",x);let x7=()=>{let e=[],t=[ao.Zn.PUBLIC,ao.Zn.PRIVATE,ao.Zn.SECRET];return t.forEach(t=>{e.push({type:"option",key:t,text:(0,uR.orgAccessStrings)()[t]})}),e},Ne=(e,t,a,r)=>{let n=(0,eb.I0)(),i=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),l=(0,eb.v9)(({selectedView:e})=>e),s="orgAdminSettings"===l.view;return{onAddToLicenseGroup:(e,t,a)=>{n(wZ.xY({teams:[e],licenseGroupId:t,licenseGroupName:a}))},onAddToWorkspace:(e,t,a)=>{n(wZ.Mz({teams:[e],workspaceId:t,workspaceName:a}))},onChangeOrgAccess:(e,t)=>{x8(e,t,(0,uR.hasAdminRoleAccessOnTeam)(e.id,i),s,!!e.orphaned,n)},onDeleteTeam:e=>{n((0,ig.K4)({type:x3.d,data:{team:e,subscriptionStatus:!0}}))},onJoinRequest:e=>{n((0,ig.K4)({type:x2.M_,data:{team:e}}))},onOpenTeam:e=>n(od.g(e)),onRenameTeam:e=>{n(uK.ZW()),n((0,ig.K4)({type:_8.A2,data:{team:e}}))},onTransferTeam:e=>{n((0,ig.K4)({type:x9.Mz,data:{team:e,entryPoint:x9.ts.ORG_ADMIN_TEAMS_TABLE,onRequestClose:a}}))},onRevokeTeamTransferRequest:e=>{var a;t&&t.get(e)&&rI.ZP.del(`/api/asset_transfer/${null==(a=t.get(e))?void 0:a.asset_transfer_request_id}`).then(()=>r(e),()=>{n(r7.R.enqueue({message:(0,eq.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},onViewTeamMembers:e=>n(od.fv({teamId:e,view:"team",teamViewTab:gP.x.MEMBERS})),onWithdrawRequestForTeam:t=>{let a=e[t.id].id;n(x1.pn({requestId:a}))},onRemoveFromLicenseGroup:e=>{n(wZ.J8({teams:[e]}))},onRemoveFromWorkspace:e=>{n(wZ.LP({teams:[e]}))},onOpenAccessSettings:e=>{n((0,ig.K4)({type:x5.hs,data:{team:e}}))}}};var Nt=((N=Nt||{}).MIXED_JOIN="MIXED_JOIN",N);let Na=new Set([xX.vN.CLICK_JOIN_AS_ADMIN,xX.vN.BYPASS_REQUEST]);function Nr({licenseGroupsCanMoveTo:e,workspacesCanMoveTo:t,org:a,selectedTeams:r,teamRoleRequests:n,teamPendingTransfers:i,pendingTransferRequests:l,onRevokeTransferRequestSuccess:s}){var o;let c;let d=(0,eb.I0)(),m=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),{onChangeOrgAccess:u,onDeleteTeam:_,onJoinRequest:p,onOpenTeam:g,onRenameTeam:E,onTransferTeam:h,onRevokeTeamTransferRequest:f,onViewTeamMembers:v,onWithdrawRequestForTeam:b,onOpenAccessSettings:y}=Ne(n,i,l,s);if(0===r.length)return ev.createElement(ev.Fragment,null);let w=r.map(e=>e.id),T=new Map;r.forEach(e=>{let t=(0,xX.xP)(e,n[e.id],m,a.id),r=T.get(t)||[];r.push(e),T.set(t,r)});let x=e=>T.get(e)||[],N=e=>x(e).map(e=>e.id),C=null,S=r.every(e=>(0,xX.Q5)(e,m,a.id)),k=(0,oC.uH)(a.id);if(S){let e=[...T.keys()];1===e.length?C=e[0]:e.every(e=>Na.has(e))&&(C="MIXED_JOIN")}switch(C){case xX.vN.CLICK_JOIN:case xX.vN.CLICK_JOIN_AS_ADMIN:c=(0,eq.t)("teams_table.join");break;case xX.vN.CLICK_LEAVE:c=(0,eq.t)("teams_table.leave");break;case xX.vN.CLICK_WITHDRAW:c=(0,eq.t)("teams_table.cancel_join_request");break;case xX.vN.BYPASS_REQUEST:c=(0,eq.t)("teams_table.join_team_as_owner");break;case xX.vN.CLICK_REQUEST:c=(0,eq.t)("teams_table.request_to_join");break;default:c=(0,eq.t)("teams_table.join")}let I=null===C,L=!r.every(e=>(0,uR.hasAdminRoleAccessOnTeam)(e.id,m)),R=()=>{d(wZ.xh({teamIds:w}))},A=e=>{d(wZ.xh({teamIds:e??w,level:uq.V.ADMIN}))},O=()=>{for(let e of w)d((0,ig.K4)({type:x0.Y,data:{teamId:e}}))},D=()=>{for(let e of r)p(e)},F=e=>{d(wZ.xh({teamIds:e??w,level:uq.V.OWNER}))},M=()=>{for(let e of r)b(e)},P=e=>{for(let t of r)t.org_access!==e&&u(t,e)},B=e=>{e?d(wZ.xY({teams:r,licenseGroupId:e.id,licenseGroupName:e.name})):d(wZ.J8({teams:r}))},U=e=>{e?d(wZ.Mz({teams:r,workspaceId:e.id,workspaceName:e.name})):d(wZ.LP({teams:r}))},V=()=>{if(!I)switch(C){case xX.vN.CLICK_LEAVE:O();return;case xX.vN.CLICK_WITHDRAW:M();return;case xX.vN.CLICK_JOIN:R();return;case xX.vN.CLICK_JOIN_AS_ADMIN:A();return;case xX.vN.BYPASS_REQUEST:F();return;case xX.vN.CLICK_REQUEST:D();return;case"MIXED_JOIN":A(N(xX.vN.CLICK_JOIN_AS_ADMIN)),F(N(xX.vN.BYPASS_REQUEST));return;default:return}},W=e=>e?(0,eq.t)("teams_table.this_action_cannot_be_applied_to_all_selected_teams"):void 0,G=ev.createElement(xK.j2,{key:"join",disabled:I,tooltip:W(I),onClick:()=>{V()},label:c}),j=ev.createElement(xK.j2,{key:"delete",disabled:L,tooltip:W(L),onClick:()=>{if(!L)for(let e of r)_(e)},label:(0,eq.t)("teams_table.delete")}),H=new Set(r.map(e=>e.license_group_id)),$={type:xK.WH.NONE};if(1===H.size){let e=Array.from(H)[0];$=null==e?{type:xK.WH.UNASSIGNED}:{type:xK.WH.WORKSPACE,workspaceId:e}}let z=ev.createElement(xK.sJ,{key:"lg-update-group",licenseGroups:e,selectedLicenseGroup:$,onChange:e=>B(e)}),K=new Set(r.map(e=>e.workspace_id)),Z={type:xK.WH.NONE};if(1===K.size){let e=Array.from(K)[0];Z=null==e?{type:xK.WH.UNASSIGNED}:{type:xK.WH.WORKSPACE,workspaceId:e}}let q=ev.createElement(xK.Ej,{key:"workspace-update-group",workspaces:t,selectedWorkspace:Z,onChange:e=>U(e)}),Y=[],J=1===r.length&&(0,uR.canViewTeam)(r[0].id,m)&&(r[0].org_access===ao.Zn.PUBLIC||(0,uR.hasViewerRoleAccessOnTeam)(r[0].id,m)),Q=1===r.length&&(0,uR.canViewTeam)(r[0].id,m),X=1===r.length&&(0,uR.canManageOrgTeam)(r[0].id,m),ee=w.every(e=>(0,uR.canManageOrgTeam)(e,m)),et=1===r.length&&(0,uR.canManageOrgTeam)(r[0].id,m),ea=new Set(r.map(e=>e.org_access)),er=1===r.length&&(0,uR.canAdminOrg)(a.id,m)&&(0,uR.canManageOrgTeam)(r[0].id,m),en=(0,xI.IQ)((null==(o=r[0])?void 0:o.id)||null,(null==a?void 0:a.id)||null)?ev.createElement(xK.j2,{key:"change-access-settings",disabled:!et,tooltip:W(!et),onClick:et?()=>y(r[0]):void 0,label:(0,eq.t)("teams_table.manage_access_setting")}):ev.createElement(xK.h2,{key:"org-access-selector",disabled:!ee,tooltip:W(!ee),selectedOrgAccess:1===ea.size?[...ea][0]:null,orgAccessOptions:x7(),onChange:e=>P(e)});return Y.push(ev.createElement(xK.j2,{key:"view-projects",disabled:!J,tooltip:W(!J),onClick:J?()=>g(r[0].id):void 0,label:(0,eq.t)("teams_table.view_projects")}),ev.createElement(xK.j2,{key:"view-members",disabled:!Q,tooltip:W(!Q),onClick:Q?()=>v(r[0].id):void 0,label:(0,eq.t)("teams_table.view_team_members")}),ev.createElement(xK.j2,{key:"rename-team",disabled:!X,tooltip:W(!X),onClick:X?()=>E(r[0]):void 0,label:(0,eq.t)("teams_table.rename")}),en,k?q:z,i&&i.get(r[0].id)?ev.createElement(xK.j2,{key:"revoke-team-transfer",disabled:!er,tooltip:W(!er),onClick:()=>f(r[0].id),label:(0,eq.t)("teams_table.revoke_transfer_request")}):ev.createElement(xK.j2,{key:"transfer-team",disabled:!er,tooltip:W(!er),onClick:er?()=>h(r[0]):void 0,label:(0,eq.t)("teams_table.transfer")}),j,G),ev.createElement(ev.Fragment,null,Y)}var Nn=a(315100),Ni=a(864357),Nl=a(476465);let Ns="default_teams_edit_modal--container--E3dQ8 default_teams_edit_modal--flexVerticalGap8px--Zmf4X",No="default_teams_edit_modal--buttonContainer---Ss5O default_teams_edit_modal--flexHorizontalGap8px--eMeii",Nc="default_teams_edit_modal--autocompleteResults--fgiBu",Nd="default_teams_edit_modal--teamToken--4RNIJ default_teams_edit_modal--flexHorizontalGap8px--eMeii",Nm="default_teams_edit_modal--teamRow--bg9Zy default_teams_edit_modal--flexHorizontalGap8px--eMeii",Nu="default_teams_edit_modal--teamRowInfo--97b0A",N_="default_teams_edit_modal--teamRowDetails--fGrVt",Np="default_teams_edit_modal--teamRowSelected--TQOOW default_teams_edit_modal--teamRow--bg9Zy default_teams_edit_modal--flexHorizontalGap8px--eMeii",Ng="default_teams_edit_modal--teamRowDetailsSelected--gJQy- default_teams_edit_modal--teamRowDetails--fGrVt",NE=e=>e.org_access===ao.Zn.SECRET?"Secret teams can\u2019t be added as default teams.":null;function Nh(e){let t;let a=e.token.content;switch(a.org_access){case ao.Zn.PRIVATE:t="closed";break;case ao.Zn.SECRET:t="secret"}return ev.createElement("div",{className:Nd},ev.createElement(oo.Ir,{team:a,size:oo.DZ.SMALL,fallbackDisplay:fA.D.HIDDEN}),ev.createElement("span",null,a.name,t&&` (${t})`))}function Nf(e){let t;let a=e.searchResult;switch(a.org_access){case ao.Zn.PUBLIC:t="Open team";break;case ao.Zn.PRIVATE:t="Closed team";break;case ao.Zn.SECRET:t="Secret team"}return ev.createElement("div",{className:e.isSelected?Np:Nm},ev.createElement(oo.Ir,{team:a}),ev.createElement("div",{className:Nu},ev.createElement("span",null,a.name),ev.createElement("div",{className:e.isSelected?Ng:N_},t&&ev.createElement(ev.Fragment,null,ev.createElement("span",null,t),ev.createElement("span",null,"\xa0\xb7\xa0")),a.licenseGroupName&&ev.createElement(ev.Fragment,null,ev.createElement("span",{className:ek.cx.maxW150.ellipsis.noWrap.overflowHidden.$},a.licenseGroupName),ev.createElement("span",null,"\xa0\xb7\xa0")),ev.createElement("span",null,(0,dg._6)(a.member_count,"member")),ev.createElement("span",null,"\xa0\xb7\xa0"),ev.createElement("span",null,(0,dg._6)(a.projects,"project")))))}let Nv=(e,t)=>{var a;let r=e.license_group_id&&(null==(a=t[e.license_group_id])?void 0:a.name);return r?{...e,licenseGroupName:r}:e},Nb=(0,it.Y3)(function(e){let{licenseGroupId:t}=e,a=(0,eb.I0)(),r=(0,eb.v9)(e=>(0,uR.getPermissionsStateMemoized)(e)),n=(0,r9.Dv)(wX),i=(0,w6.$4)(),l=ev.useMemo(()=>wK()(i,e=>e.id),[i]),s=l[t],[o,c]=ev.useState((0,Ni.UA)()),[d,m]=ev.useState(!1),u="loaded"!==n.status;ev.useEffect(()=>{if(u||d)return;let e=(0,Ni.UA)();c({...e,tokens:null==s?void 0:s.default_team_ids.filter(e=>e in n.data).map(e=>({state:Nn.k.OK,content:Nv(n.data[e],l)}))})},[u,d,null==s?void 0:s.default_team_ids,l,n]);let _=()=>{(0,eK.L9)("CTA Clicked",{name:"Edit Default Teams Modal Cancel",licenseGroupId:t,orgId:r.currentUserOrgId}),a(ig.hV())};return ev.createElement(ib.ge,{title:"Edit default teams",onClose:_,minWidth:500},ev.createElement("div",{className:Ns},u&&ev.createElement(ax.jz,null),!u&&ev.createElement(ev.Fragment,null,ev.createElement("span",null,"When people join"," ",(null==s?void 0:s.name)?ev.createElement("span",{className:ek.cx.fontSemiBold.$},s.name):"this workspace"," ","they\u2019ll also be added to the following teams:"),ev.createElement("div",null,ev.createElement(Nl.P,{autocompleteResultsClassName:Nc,autocomplete:o,placeholder:"Search for a team",onChange:e=>{let t="",a=[];e.tokens.forEach(e=>{let r=NE(e.content);r&&(t=r),a.push({...e,state:r?Nn.k.ERROR:Nn.k.OK})}),c({...e,tokens:a,errorMessage:t}),m(!0)},validateToken:ex.ZT,searchResults:e=>{let t=new TH.Or([],{keys:["name"],threshold:0,tokenize:!0,matchAllTokens:!0}),a=o.tokens.map(e=>e.content.id);return t.set(Object.values(n.data||{}).filter(e=>!a.includes(e.id)).map(e=>Nv(e,l))),t.search(e.inputValue)},SearchResultComponent:Nf,TokenComponent:Nh})),o.errorMessage&&ev.createElement("span",{className:ek.cx.textRed__DEPRECATED.$,"data-testid":"error-label"},o.errorMessage),ev.createElement("span",null,ev.createElement("span",{className:ek.cx.fontSemiBold.$},"Note:")," New users will join default teams as viewers. For closed default teams, admins will automatically get requests to approve new users.")),ev.createElement("div",{className:No},ev.createElement(eA.PL,{onClick:_},"Cancel"),ev.createElement(e3.Ui,{name:"Edit Default Teams Modal Submit",properties:{licenseGroupId:t,orgId:r.currentUserOrgId}},ev.createElement(eA.RS,{onClick:()=>{a(w4.lH({licenseGroup:s,teamIds:o.tokens.map(e=>e.content.id)})),a(ig.hV())},disabled:u||!!o.errorMessage},"Save")))))},"DefaultTeamsEditModal");var Ny=a(954339),Nw=a(885755),NT=a(760592),Nx=a(907755),NN=a(718190),NC=a(830774);let NS="members_list_row--column--sjkm6",Nk="members_list_row--permissionsColumnModal--DmrwM members_list_row--column--sjkm6",NI="members_list_row--roleRowWithRequests--XyFiS members_list_row--_membersListRowGridWithRequests--QKlno members_list_row--_membersListRowGridWithRequestsBase--1SKSK",NL="members_list_row--roleRowWithRequestsModal--NgVNb members_list_row--_membersListRowGridWithRequestsBase--1SKSK",NR="members_list_row--acceptDenyText--qr0Ia text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd",NA="members_list_row--nameAndEmailColumn--Y-nIi members_list_row--column--sjkm6 members_list_row--_showWhenNarrow--yvNJA",NO="members_list_row--nameColumn--03Kk8 members_list_row--column--sjkm6 members_list_row--_hideWhenNarrow--ap5yi",ND="members_list_row--emailColumn--QWSwh members_list_row--column--sjkm6 members_list_row--_hideWhenNarrow--ap5yi",NF="members_list_row--fixedContextMenu--XDj8B",NM="members_list_row--select--CLzyo members_list_row--column--sjkm6",NP="members_list_row--dropdownIcon----Fyu",NB="members_list_row--avatarWithHandle--0yGj6",NU=a(681283),NV=a(239722),NW=a(527925);class NG extends ev.Component{constructor(){super(...arguments),this.TEAM_MEMBER_LIST_ROW_DROPDOWN="team-member-list-row-dropdown",this.levelsDivRef=e=>{e&&(this.levelsDiv=e)},this.isDropdownShown=()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.TEAM_MEMBER_LIST_ROW_DROPDOWN&&this.props.dropdownShown.data.roleId===this.props.role.id,this.toggleDropdown=e=>{var t;if(this.isDropdownShown())this.props.dispatch(od.kp());else{if(!this.levelsDiv)return;let a=null==(t=this.levelsDiv)?void 0:t.getBoundingClientRect(),r=a.bottom+e>window.innerHeight,n=window.innerHeight-a.bottom;this.props.dispatch(od.SP({type:this.TEAM_MEMBER_LIST_ROW_DROPDOWN,data:{roleId:this.props.role.id,position:{top:r?"auto":a.top,bottom:r?n:"auto",left:a.left-28,right:"auto"}}}))}},this.resendInvite=()=>{this.props.dispatch((0,uZ.c_)({role:this.props.role}))},this.onChangeLevel=e=>{(0,eL.q8)(this.props.role.resource_type===ao._g.TEAM,"MembersListRow is only for team roles");let t=()=>this.props.dispatch((0,NT.xI)({role:this.props.role,level:e}));e===uq.V.OWNER?this.props.dispatch((0,ig.K4)({type:NN.z,data:{resourceType:this.props.role.resource_type,resourceName:this.props.resourceName,newOwnerName:this.props.role.user.handle,onConfirmTransfer:()=>{t()}}})):t()},this.getPendingEntity=e=>{let t=this.props.contacts?this.props.contacts.usersByEmail[e.user.email]:{},a={...e.user,id:e.user?e.user.id:void 0};return{...t,...a}},this.viewUser=(e,t)=>{var a;this.props.isModal&&this.props.dispatch(ig.hV()),this.props.dispatch(od.fv({view:"user",userId:t.id,userViewTab:Nx.l.INTERNAL_PROFILE,orgId:(null==(a=this.props.team)?void 0:a.org_id)||null}))}}getEmail(){if(this.props.role.user_id===this.props.user.id)return this.props.user.email;if(this.props.contacts){let e=Object.keys(this.props.contacts.usersByEmail).find(e=>this.props.role.user_id===this.props.contacts.usersByEmail[e].id);if(e)return e}return this.props.role.user.email}renderPermissionSelect(){let e;let t=[],a=!1;if(this.props.teamIsOrphaned&&this.props.canAdminOrg)t.push(uq.V.OWNER),t.push(uq.V.ADMIN),t.push(uq.V.EDITOR),t.push(uq.V.VIEWER),a=this.props.role.pending;else if(this.props.canManageOrgTeam&&this.props.role.user_id===this.props.user.id&&!this.props.isOwnerOfResource)t.push(uq.V.ADMIN),t.push(uq.V.EDITOR),t.push(uq.V.VIEWER),a=this.props.role.pending;else if(this.props.role.user_id!==this.props.user.id||this.props.isOwnerOfResource){if(!this.props.canEditRole)return ev.createElement("span",{className:"members_list_row--nonDropdownPadding--Rb39o"},(0,uR.levelNameCapitalized)(this.props.role.level));this.props.isOwnerOfResource&&!this.props.role.pending&&t.push(uq.V.OWNER),this.props.canMakeAdmin&&t.push(uq.V.ADMIN),t.push(uq.V.EDITOR),t.push(uq.V.VIEWER),a=this.props.role.pending}else t.push(this.props.role.level);let r=Math.max(0,t.indexOf(this.props.role.level)),n=-24*r;return this.isDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position&&(e={...this.props.dropdownShown.data.position},e.top+=n),ev.createElement("div",{ref:this.levelsDivRef},ev.createElement("div",{className:NM,onClick:()=>this.toggleDropdown(120+n)},ev.createElement("span",null,(0,uR.levelNameCapitalized)(this.props.role.level)),ev.createElement(eD.n,{svg:NW,className:NP})),this.isDropdownShown()&&ev.createElement(gb.j.Dropdown,{className:NF,style:e},t.map(e=>ev.createElement(gb.j.CheckableOption,{key:e,onClick:this.props.role.level!==e?()=>this.onChangeLevel(e):void 0,checked:this.props.role.level===e},(0,uR.levelNameCapitalized)(e))),ev.createElement(gb.j.Separator,null),a&&ev.createElement(gb.j.Option,{onClick:this.resendInvite},ev.createElement(eq.Tx,{id:"file_browser.team.resend_invite"})),ev.createElement(gb.j.Option,{onClick:()=>this.onChangeLevel(uq.V.NONE)},this.props.role.user_id!==this.props.user.id||this.props.isOwnerOfResource?ev.createElement(eq.Tx,{id:"file_browser.team.remove_confirm"}):ev.createElement(eq.Tx,{id:"file_browser.team.leave_confirm"}))))}renderAvatarWithHandle(e,t){let a;this.props.role.pending||(a=this.viewUser);let r=this.props.memberIsAdmin;return ev.createElement(ds.oJ,{entity:e,initializableEntityProperties:["handle","name","email"],size:24,showIsMe:this.props.role.user_id===this.props.user.id,enabled:this.props.role.pending,defaultFallbackAvatarSvg:this.props.role.pending?NV:void 0,className:this.props.isModal?"members_list_row--avatarWithHandleModal--KYpRN admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa":NB,onClick:a,overrideHandle:t?e.handle||e.name||e.email:void 0,defaultText:"--",badge:r?{color:os.JV.DEFAULT,text:(0,eq.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:t})}render(){let{isModal:e,role:t,warningTooltipId:a,restrictedText:r}=this.props,n=t.pending?this.getPendingEntity(t):t.user;return n.email=this.getEmail(),ev.createElement("div",{className:tQ()({[NI]:!e,[NL]:e})},e&&ev.createElement("div",{className:"members_list_row--nameColumnModal--auq6u members_list_row--column--sjkm6"},this.renderAvatarWithHandle(n,!0)),!e&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:NO},this.renderAvatarWithHandle(n,!1)),ev.createElement("div",{className:NA},this.renderAvatarWithHandle(n,!0)),ev.createElement("div",{className:ND},ev.createElement(oc.x,{truncate:!0},n.email)),ev.createElement("div",null)),ev.createElement("div",{className:e?Nk:NS},a&&ev.createElement(eD.n,{className:"members_list_row--warningIcon--mDvl-",svg:NU,"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":a,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0,"data-tooltip-restricted-text":r}),this.renderPermissionSelect()))}}NG.displayName="MemberListRow";let Nj=(0,eb.$j)((e,t)=>{let a=null,r="",n=t.role.org_user,i=(0,uR.isOrgUserRestricted)(n,ao.gg.DESIGN),l=(0,uR.isOrgUserRestricted)(n,ao.gg.WHITEBOARD);if(n&&(i||l)){let s=e.currentUserOrgId&&!!e.orgById[e.currentUserOrgId].figjam_disabled_at;t.role.level!==uq.V.VIEWER&&(r=(0,NC.Lh)(!!i,!!l),a=n.user_id===e.user.id?!i&&l&&s?null:aN._7.PERMISSIONS_MODAL_RESTRICTED_USER_ORG_SELF:aN._7.PERMISSIONS_MODAL_RESTRICTED_USER_ORG_OTHER)}let s=(0,uR.getResourceTeamId)(t.role,e),o=s&&e.teams[s]||null,c=!!(t.role.user_id&&(0,uR.canAdminOrg)(e.currentUserOrgId,e,t.role.user_id)),d=!!(t.role.user_id&&o&&(0,uR.canAdminLicenseGroup)(o.license_group_id,e,t.role.user_id));return{user:e.user,contacts:e.contacts,currentOrgId:e.currentUserOrgId,orgById:e.orgById,orgDomains:e.orgDomains,modalShown:e.modalShown,dropdownShown:e.dropdownShown,team:o,canEditRole:(0,uR.canEditRole)(t.role,e),canAdminOrg:(0,uR.canAdminOrg)(e.currentUserOrgId,e),canMakeAdmin:(0,uR.canMakeAdmin)(t.role.resource_type,t.role.resource_id_or_key,e),canManageOrgTeam:(0,uR.canManageOrgTeam)(s,e),warningTooltipId:a,restrictedText:r,resourceName:(0,uR.getResourceName)(t.role,e),isOwnerOfResource:!!s&&(0,uR.isResourceOwner)(e.user.id,s,ao._g.TEAM,e.roles),memberIsAdmin:c||d}})(NG),NH=a(527925),N$="team-pending-member-role-request-dropdown",Nz=()=>{let e=(0,eb.v9)(e=>e.dropdownShown);return e&&(null==e?void 0:e.type)===N$?e:null};function NK(e){let t=(0,eb.I0)(),a=Nz(),r=ev.useRef(null),[n,i]=ev.useState(e.request.level),l=(0,eb.v9)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),s=ev.useMemo(()=>l?[uq.V.EDITOR]:[uq.V.VIEWER,uq.V.EDITOR],[l]),o={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},c=n=>{if(a)t(od.kp());else{let a=r&&r.current&&r.current.getBoundingClientRect(),i=(null==a?void 0:a.bottom)??0+n>window.innerHeight,l=window.innerHeight-((null==a?void 0:a.bottom)??0);t(od.SP({type:N$,data:{requestId:e.request.id,position:{top:i?"auto":null==a?void 0:a.top,bottom:i?l:"auto",left:(null==a?void 0:a.left)??-28,right:"auto"}}}))}},d=e=>{i(e),t(od.kp())},m=ev.useMemo(()=>{let e=Math.max(0,s.indexOf(n));return -24*e},[n,s]),u=ev.useMemo(()=>{let e;return a&&a.data&&a.data.position&&(e={...a.data.position},e.top+=m),e},[a,m]),_=(e,a)=>{t(od.fv({view:"user",userId:a.id,userViewTab:Nx.l.INTERNAL_PROFILE}))},p=(e,t)=>ev.createElement(ds.oJ,{entity:e,initializableEntityProperties:["handle","name","email"],size:24,className:NB,onClick:_,overrideHandle:t?e.handle||e.name||e.email:void 0,defaultText:"--"}),g={request_id:e.request.id,team_id:e.request.teamId,type:n,response:"accept",source:"TeamPendingMembersRow"};return ev.createElement("div",{className:e.isModal?NL:NI},e.isModal&&ev.createElement("div",{className:NS},p(o,!0)),!e.isModal&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:NO},p(o,!1)),ev.createElement("div",{className:NA},p(o,!0)),ev.createElement("div",{className:ND},o.email)),ev.createElement("div",{className:tQ()({[NS]:!0,"members_list_row--flexRight--ZO5qr":e.isModal})},ev.createElement("span",{onClick:()=>{g.response="deny",(0,eK.L9)("permission_request_responded",g),t(x1.Ok({requestId:e.request.id}))},className:NR,role:"button",tabIndex:-1},ev.createElement(eq.Tx,{id:"file_browser.team.dismiss"})),ev.createElement("span",{onClick:()=>{(0,eK.L9)("permission_request_responded",g),t(x1.oP({requestId:e.request.id,level:n,teamId:e.request.teamId,email:e.request.user.email??"",user:o}))},className:NR,role:"button",tabIndex:-1},ev.createElement(eq.Tx,{id:"file_browser.team.approve"}))),ev.createElement("div",{className:e.isModal?Nk:NS},ev.createElement("div",{ref:r},ev.createElement("div",{className:NM,role:"button",tabIndex:0,onClick:()=>{s.length>1&&c(120+m)}},ev.createElement("span",null,(0,uR.levelNameCapitalized)(n)),s.length>1&&ev.createElement(eD.n,{svg:NH,className:NP})),a&&a.data.requestId===e.request.id&&s.length>1&&ev.createElement(gb.j.Dropdown,{className:NF,style:u},s.map(e=>ev.createElement(gb.j.CheckableOption,{key:e,onClick:n!==e?()=>{d(e)}:void 0,checked:n===e},(0,uR.levelNameCapitalized)(e)))))))}function NZ(e){var t,a;let r=(0,dV.mU)(dH.PendingTeamRoleRequestsByTeamId,{teamId:e.teamId});if("loaded"===r.status){let n=null==(a=null==(t=r.data.team)?void 0:t.pendingTeamRoleRequests)?void 0:a.map(t=>ev.createElement(NK,{request:t,key:t.id,isModal:e.isModal}));return n&&n.length>0?ev.createElement(ev.Fragment,null,n,ev.createElement("div",{className:e.isModal?"members_list_row--pendingRequestDividerModal--rmgt- members_list_row--pendingRequestDivider--4WlYK":"members_list_row--pendingRequestDivider--4WlYK"})):ev.createElement(ev.Fragment,null)}return ev.createElement(ev.Fragment,null)}function Nq(e){let t=(0,eb.v9)(t=>t.roles.byTeamId[e.teamId]||{}),a=(()=>{let e=[],a={};Object.values(t).forEach(t=>{if(t.pending){e.push(t);return}a[t.user.id]=t});let r=e.filter(e=>!e.user.id||!a[e.user.id]),n=Object.values(a).concat(...r),i=n.sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending?-1:e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1);return i})(),r=a.every(e=>e.level!==uq.V.OWNER&&e.level!==uq.V.ADMIN);return 0===a.length?ev.createElement("div",null,ev.createElement(eq.Tx,{id:"file_browser.team.no_members"})):ev.createElement("div",{className:e.isModal?"":"members_list--centeredContainer--TiQPU text--fontPos13--xW8hS text--_fontBase--QdLsd"},!e.isModal&&ev.createElement("div",{className:"members_list--headerRowWithRequests--3Qz2N members_list_row--_membersListRowGridWithRequests--QKlno members_list_row--_membersListRowGridWithRequestsBase--1SKSK"},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"file_browser.team.member_list_name"})),ev.createElement("div",{className:"members_list--headerEmailColumn--DDMCl members_list_row--_hideWhenNarrow--ap5yi"},ev.createElement(eq.Tx,{id:"file_browser.team.member_list_email"})),ev.createElement("div",null),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"file_browser.team.member_list_permissions"}))),ev.createElement(NZ,{teamId:e.teamId,isModal:e.isModal??!1}),a.map(t=>ev.createElement("div",{key:t.id,className:e.isModal?"members_list--memberRowForModal--UXhvd":""},ev.createElement(Nj,{role:t,key:`team-role-${t.id}`,teamIsOrphaned:r,isModal:e.isModal}))))}var NY=a(931095),NJ=a(828385),NQ=a(893262),NX=a(465151),N0=a(763836);let N1=(0,it.Y3)(function({team:e}){let t=(0,eb.I0)();return ev.createElement(N0.q,{title:(0,eq.t)("resource_rename_modal.team_description.title"),initialName:e.description??"",placeholder:(0,eq.t)("resource_rename_modal.team_description.placeholder"),submitText:(0,eq.t)("resource_rename_modal.team_description.submit"),onRename:a=>t(uK.YW({teamId:e.id,description:a}))})},"UpdateTeamDescriptionModal");var N2=a(262734);let N3=a(790070),N4=()=>({[ao.Ze.EDIT]:ev.createElement(eq.Tx,{id:"team_creation.can_edit_description"}),[ao.Ze.VIEW]:ev.createElement(eq.Tx,{id:"team_creation.can_view_description"})});function N8(e){let t="team-default-permission-dropdown",a=()=>e.dropdownShown&&e.dropdownShown.type===t;return ev.createElement("div",{className:"team_default_permission_dropdown--defaultPermission--KDT-i"},ev.createElement("button",{className:"team_default_permission_dropdown--select--pAQ0G",onClick:r=>{r.stopPropagation(),r.preventDefault(),a()?e.dispatch(od.kp()):e.dispatch(od.SP({type:t}))}},(0,uR.defaultPermissionStrings)()[e.defaultPermission],ev.createElement(eD.n,{svg:N3,className:"team_default_permission_dropdown--downCaret--umRYM"})),a()&&ev.createElement("div",{className:"team_default_permission_dropdown--defaultPermissionDropdownContainer--LXUX6"},ev.createElement(gb.j.Dropdown,{className:"team_default_permission_dropdown--defaultPermissionDropdown--QVwoW"},ev.createElement(gb.j.CheckableOption,{checked:e.defaultPermission===ao.Ze.VIEW,onClick:()=>{e.onChangeDefaultPermission(ao.Ze.VIEW)}},(0,uR.defaultPermissionStrings)()[ao.Ze.VIEW]),ev.createElement(gb.j.CheckableOption,{checked:e.defaultPermission===ao.Ze.EDIT,onClick:()=>{e.onChangeDefaultPermission(ao.Ze.EDIT)}},(0,uR.defaultPermissionStrings)()[ao.Ze.EDIT]))))}var N5=a(655430),N9=a(248908),N6=a(983996),N7=a(525726),Ce=a(426577),Ct=a(486772),Ca=a(382476),Cr=a(436970);let Cn="settings_view--blueLink--ypxB- blue_link--blueLink--9rlnd",Ci="settings_view--redLink--w3H4t blue_link--blueLink--9rlnd",Cl="settings_view--section---YT0h",Cs="settings_view--sectionHeader--gETYS text--fontPos13--xW8hS text--_fontBase--QdLsd",Co="settings_view--upgradeBanner--p3nIo",Cc="settings_view--upgrageBannerIcon--LwuU9",Cd="settings_view--upgradeBannerBody---s423",Cm="settings_view--blueLinkForBanner--v8CUg settings_view--blueLink--ypxB- blue_link--blueLink--9rlnd",Cu="settings_view--accessIcon--WbLrO",C_=a(174341),Cp=a(660592);function Cg(e){let t=(0,eb.I0)(),a=e.team,r=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),n=(0,uR.hasAdminRoleAccessOnTeam)(a.id,r),i=(0,uR.canAdminTeam)(a.id,r),l=(0,uR.canAdminOrg)(a.org_id,r),s=(0,xX.cH)(e.team,r),o=(0,_q.YM)(r),c=!!(0,eb.v9)(e=>(0,NX._)(e)),d=(0,eb.v9)(e=>e.dropdownShown),m=(0,Ca.Lj)(),u=(null==o?void 0:o.permission)===ao.Gu.GUEST,_=a.default_permission??ao.Ze.VIEW,p=a.org_id?r.orgById[a.org_id]:null,g=e.billing.summary.annual_subscription,E=e.billing.summary.monthly_subscription,h=!!g&&!g.canceled_at,f=!!E&&!E.canceled_at,v=(0,gB.e3)(a)&&!a.org_id,b=(0,xI.IQ)((null==a?void 0:a.id)||null,(null==a?void 0:a.org_id)||null),y=(0,eT.BZ)().enable_starter_team_transfers,w=y?!u:!u&&a.org_id||v,T=y?l||i:l||v&&i,x=y?l||i:l||v,N=(0,dV.mU)(dH.TeamSettings,{teamId:e.team.id}),C=ev.useMemo(()=>{if("loaded"===N.status&&N.data){let e=N.data.team&&"loaded"===N.data.team.status?N.data.team.data:null;return e&&"loaded"===e.workspace.status?e.workspace.data:null}},[N]),{pending:S,updatePending:k}=e;ev.useEffect(()=>{i&&k()},[null==S?void 0:S.id,k,i]);let I=async e=>{try{await gI.j.updateAiFeaturesDisabled({teamId:a.id,aiFeaturesDisabled:e}),t(uK.gz({team:{id:a.id,ai_features_disabled:e},userInitiated:!0}))}catch{t(dl.l.error((0,eq.t)("file_browser.file_browser_actions.team_update_error")))}},L=()=>{if(!v){t((0,ig.K4)({type:_8.nY,data:{teamId:a.id,upsellSource:g0.V.TEAM_SETTINGS_MODAL,openCheckoutInNewTab:!0}}));return}ew.default.redirect("/purchase-organization","_blank")},R=e=>{t((0,ig.K4)({type:x3.d,data:{team:a,subscriptionStatus:e}}))};return ev.createElement("div",null,ev.createElement("div",null,ev.createElement("div",{className:Cl},ev.createElement("div",{className:Cs},ev.createElement(eq.Tx,{id:"file_browser.team_settings.team_name"})),ev.createElement("div",null,a.name),i&&ev.createElement("div",null,ev.createElement("button",{className:Cn,onClick:()=>{t((0,ig.K4)({type:_8.A2,data:{team:a}}))}},ev.createElement(eq.Tx,{id:"file_browser.team_settings.change_name"})))),(i||a.description)&&ev.createElement("div",{className:Cl},ev.createElement("div",{className:Cs},ev.createElement(eq.Tx,{id:"file_browser.about"})),ev.createElement("div",null,a.description),i&&ev.createElement("div",null,ev.createElement("button",{className:Cn,onClick:()=>{t((0,ig.K4)({type:N1,data:{team:a}}))}},a.description?ev.createElement(eq.Tx,{id:"file_browser.team.change_description"}):ev.createElement(eq.Tx,{id:"file_browser.team.add_a_description"}))))),i&&a.org_access!==ao.Zn.SECRET&&ev.createElement("div",{className:Cl},ev.createElement("div",{className:Cs},ev.createElement(eq.Tx,{id:"file_browser.team_settings_modal.community_profile"})),ev.createElement("div",null,a.community_profile_handle?(0,eq.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:a.community_profile_handle}):""),ev.createElement("div",null,ev.createElement("button",{className:Cn,onClick:()=>{t((0,ig.K4)({type:N6.Bh,data:{teamId:a.id,profileId:a.community_profile_id,profileHandle:a.community_profile_handle}}))}},a.community_profile_handle?(0,eq.t)("file_browser.team_settings.change_profile_handle"):(0,eq.t)("file_browser.team_settings.set_profile_handle"))),a.community_profile_handle&&ev.createElement("div",null,ev.createElement("button",{className:Cn,onClick:()=>{a.community_profile_id&&a.community_profile_handle&&t((0,ig.K4)({type:N7.p,data:{dispatch:t,profileId:a.community_profile_id,handle:a.community_profile_handle}}))}},ev.createElement(eq.Tx,{id:"file_browser.team_settings.delete_profile"}))),a.community_profile_handle&&a.org_id&&ev.createElement("div",null,ev.createElement("button",{className:Cn,onClick:()=>{a.community_profile_id&&t((0,ig.K4)({type:N2.b,data:{profileId:a.community_profile_id,profileHandle:a.community_profile_handle,emptyStateText:(0,eq.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:a.community_profile_handle})}}))}},ev.createElement(eq.Tx,{id:"file_browser.team_settings.manage_restricted_commenters"})))),ev.createElement("div",{className:Cl},ev.createElement("div",{className:Cs},a.org_id?ev.createElement(eq.Tx,{id:"file_browser.team_settings.shared"}):ev.createElement(eq.Tx,{id:"file_browser.team_settings_modal.libraries"})),ev.createElement("div",null,ev.createElement("button",{className:Cn,onClick:()=>{t((0,ig.K4)({type:N9.yT,data:{teamId:a.id}}))}},ev.createElement(eq.Tx,{id:"file_browser.team_settings.view_team_libraries"}))),c&&ev.createElement("div",null,ev.createElement("button",{className:Cn,onClick:()=>{t((0,ig.K4)({type:N9.IH}))}},ev.createElement(eq.Tx,{id:"file_browser.team_settings.view_team_fonts"}))),m&&ev.createElement("div",null,ev.createElement("button",{className:Cn,onClick:()=>{t((0,ig.K4)({type:Cr.P,data:{showMakeDefaultButton:!0,entryPoint:"team settings"}}))}},ev.createElement(eq.Tx,{id:"file_browser.team_settings.view_team_figjam_palettes"})))),null!=a.org_id&&a.org_access&&ev.createElement("div",{className:Cl},ev.createElement("div",{className:Cs},ev.createElement(eq.Tx,{id:"file_browser.settings.access"})),ev.createElement("div",null,b?ev.createElement(ev.Fragment,null,(()=>{let e=a.sharing_audience_control,t=C||null,r=ev.createElement(eD.n,{className:Cu,svg:Cp});return(e===ao.I1.ORG_EDIT||e===ao.I1.ORG_VIEW)&&p?r=ev.createElement(ds.Kn,{size:20,className:Cu,entity:p}):(e===ao.I1.WORKSPACE_EDIT||e===ao.I1.WORKSPACE_VIEW)&&(r=ev.createElement("div",{className:Cu},t&&ev.createElement(ds.zf,{entity:t,size:20}))),ev.createElement("div",{className:"settings_view--accessDescription--M8-5K"},r,(0,Ce.V)(p,t,a.sharing_audience_control,a.org_access,a.default_permission))})(),i&&p&&ev.createElement("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--baOXf modal--blueLink--9GcJu blue_link--blueLink--9rlnd",onClick:()=>{t((0,ig.K4)({type:x5.hs,data:{team:a,goBack:()=>{t((0,ig.eI)())}}}))}},ev.createElement(eq.Tx,{id:"team_view.team_permissions_modal.change"}))):ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"file_browser.team_settings.access_with_org"}),i&&ev.createElement(gT,{orgAccess:a.org_access,dropdownShown:d,onChangeOrgAccess:e=>{x8(a,e,n,l,s,t)},dispatch:t}),!i&&ev.createElement("span",null," ",(0,uR.orgAccessStrings)()[a.org_access]))),p&&!b&&ev.createElement(oc.x,{color:"secondary"},gw(p.name)[a.org_access]),!i&&ev.createElement("div",null,ev.createElement(oc.x,{color:"secondary"},ev.createElement(eq.Tx,{id:"file_browser.team_settings.team_admins_and_owners_can_change"})))),null!=a.org_id&&a.org_access===ao.Zn.PUBLIC&&!b&&ev.createElement("div",{className:Cl},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"file_browser.team_settings.default_permission"}),i&&ev.createElement(N8,{defaultPermission:_,dropdownShown:d,onChangeDefaultPermission:e=>{t((0,gf.Tb)({team:a,defaultPermission:e}))},dispatch:t}),!i&&ev.createElement("span",null," ",(0,uR.defaultPermissionStrings)()[_])),ev.createElement("div",null,ev.createElement(oc.x,{color:"secondary"},N4()[_])),!i&&ev.createElement("div",null,ev.createElement(oc.x,{color:"secondary"},ev.createElement(eq.Tx,{id:"file_browser.team_settings.team_admins_and_owners_can_change"})))),!a.org_id&&i&&ev.createElement("div",{className:Cl},ev.createElement("div",{className:Cs},ev.createElement(eq.Tx,{id:"file_browser.team_settings.figma_and_figjam_ai"}),ev.createElement(os.Ct,{text:(0,eq.t)("general.beta"),className:"settings_view--betaTag--kpVAI",color:os.JV.DESIGN})),ev.createElement("div",{className:"settings_view--toggleSectionContainer--BPmF-"},ev.createElement("div",{className:"settings_view--toggleSectionContainerDescription--FW8Bn"},ev.createElement(eq.Tx,{id:"file_browser.team_settings.enable_ai_features",spaceChar:ev.createElement(ev.Fragment,null,"\xa0"),learnMoreLink:ev.createElement("a",{target:"_blank",rel:"noopener",className:Cn,href:Ct.IY},ev.createElement(eq.Tx,{id:"file_browser.team_settings.learn_more"}))})),ev.createElement(T3.W,{on:!a.ai_features_disabled,onChange:e=>{I(!e)}})),ev.createElement("div",{className:"settings_view--descriptionSecondary--vsf1-"},ev.createElement(eq.Tx,{id:"file_browser.team_settings.enable_ai_features_description"}))),v&&i&&ev.createElement("div",{className:Cl},ev.createElement("div",{className:Cs},ev.createElement(eq.Tx,{id:"settings_table.plan_and_billing"})),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"file_browser.team_settings_modal.admin_console_billing_nudge"})),ev.createElement("button",{className:Cn,onClick:()=>{t(od.fv({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:gP.m.BILLING})),t((0,ig.eI)())}},ev.createElement(eq.Tx,{id:"file_browser.team_settings_modal.admin_console_billing_button"}))),w&&ev.createElement("div",{className:Cl},ev.createElement("div",{className:Cs},ev.createElement(eq.Tx,{id:"file_browser.team_settings.transfer"})),ev.createElement("div",null,S?ev.createElement(ev.Fragment,null,ev.createElement("div",null,ev.createElement(eq.Tx,{id:"file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",sourceUserEmail:S.source_user_email,destinationUserEmail:S.destination_user_email})),x&&ev.createElement("div",null,ev.createElement("button",{className:Ci,onClick:e.onRevokeTransfer},ev.createElement(eq.Tx,{id:"file_browser.folder_settings.revoke"})))):T?ev.createElement(eq.Tx,{id:"file_browser.team_settings.transfer_team_link_to_an_external_organization",transferTeamLink:ev.createElement("button",{className:Cn,onClick:()=>{t((0,ig.K4)({type:x9.Mz,data:{team:a,entryPoint:x9.ts.ORG_TEAM_SETTINGS,onRequestClose:e.updatePending}}))}},ev.createElement(eq.Tx,{id:"file_browser.team_settings.transfer_team"}))}):ev.createElement(ev.Fragment,null,ev.createElement("div",null,ev.createElement(eq.Tx,{id:"file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",orgName:null==p?void 0:p.name})),ev.createElement("div",null,ev.createElement("button",{className:Cn,onClick:()=>{t((0,ig.K4)({type:N5.a,data:{team:a,entryPoint:x9.ts.ORG_TEAM_SETTINGS}}))}},ev.createElement(eq.Tx,{id:"file_browser.team_settings.see_who_can_help_with_transfers"})))))),!v&&!a.org_id&&i&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:Cl},ev.createElement("div",{className:Cs},ev.createElement(eq.Tx,{id:"team_view.settings_table.delete_team"})),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"team_view.settings_table.delete_team_description"})),ev.createElement("div",null,ev.createElement("button",{className:Ci,onClick:()=>R(h||f)},ev.createElement(eq.Tx,{id:"file_browser.team_settings.delete_team"})))),ev.createElement("div",{className:Co},ev.createElement(eD.n,{className:Cc,svg:C_}),ev.createElement("div",{className:Cd},ev.createElement("strong",null,ev.createElement(eq.Tx,{id:"upgrade.ready_to_go_beyond_free_plan"})),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"upgrade.more_features"}),ev.createElement(e3.XT,{className:Cm,onClick:L,trackingProperties:{trackingDescriptor:cC.y.UPGRADE,upsellSource:g0.V.TEAM_SETTINGS_MODAL}},ev.createElement(eq.Tx,{id:"upgrade.view_plans"})))))),v&&i&&ev.createElement("div",{className:Co},ev.createElement(eD.n,{className:Cc,svg:C_}),ev.createElement("div",{className:Cd},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"file_browser.team_settings_modal.upgrade_to_organization"}),ev.createElement(e3.XT,{className:Cm,onClick:L,trackingProperties:{trackingDescriptor:cC.y.UPGRADE_TO_ORGANIZATION,upsellSource:g0.V.TEAM_SETTINGS_MODAL}},ev.createElement(eq.Tx,{id:"file_browser.team_settings_modal.upgrade"}))))))}let CE=a(812396),Ch=(0,NQ.Bw)();var Cf=((C=Cf||{}).SETTINGS="SETTINGS",C.MEMBERS="MEMBERS",C);let Cv=(0,r0.u4)(async(e,{teamId:t})=>{await ve.dI.promise;let a=e.getState();t&&(0,uR.canViewTeam)(t,a)&&(0,Nw._C)(t,e)});function Cb(e){let t=new Map([["MEMBERS",(0,eq.t)("file_browser.team_settings_modal.members_tab")],["SETTINGS",(0,eq.t)("file_browser.team_settings_modal.settings_tab")]]),a=(0,eb.v9)(t=>(0,uR.canEditTeam)(e.team.id,t)),r=ev.useRef(null),{setToolbarWidth:n}=e;ev.useEffect(()=>{var e;if(r){let t=null==(e=r.current)?void 0:e.offsetWidth;t&&n(t)}},[n]);let i=[];return(t.forEach((t,r)=>{("SETTINGS"!==r||!a)&&("MEMBERS"!==r||(0,xI.IQ)(e.team.id,e.team.org_id)&&e.team.org_id)||i.push(ev.createElement(Ch,{tab:r,mobileNavTabTitle:t,selectedTab:e.selectedTab,key:r,onClick:()=>e.setTab(r)},t))}),e.isMobile)?ev.createElement(NY.f,{tabs:i,dispatch:e.dispatch,width:"100vw"}):ev.createElement("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--Ui-Tg",style:{minWidth:e.contentWidth},ref:r},ev.createElement(NJ.u,{containerClassName:"team_settings_modal--toolBarContainerFullWidth--UA2OT team_settings_modal--toolBarContainer--uvT4G team_settings_modal--borderRadius--7cvDS",tabs:i,hideToolBarOnDesktop:!1}),ev.createElement(n6.ol,{dispatch:e.dispatch,className:"team_settings_modal--settingsCloseButton--sf3hL",onClose:()=>Cw(e.dispatch,e.team,e.viewOnClose)}))}let Cy="TEAM_SETTINGS_MODAL",Cw=(e,t,a)=>{e(od.fv(a))},CT=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=ev.useRef(null),[r,n]=ev.useState(-1),i=e.teamSettingsProps,l=e.canAdmin,s=e.entryView,o=(0,eb.v9)(e=>e.teams[i.team.id]),c=(0,eb.v9)(e=>e.avatarEditorState),d=(0,eb.v9)(e=>e.roles||{});if(ev.useEffect(()=>{t(Ny.oD())},[t]),ev.useEffect(()=>{o&&t(Cv({teamId:o.id}))},[t,o]),!o)return null;let m=eN.K1,u=m?window.innerWidth:Math.min(.7*window.innerWidth,650),_=m?window.innerWidth:Math.max(u,r),p=l?ev.createElement(bD.eL,{entity:o,entityType:bA.py.TEAM,avatarEditorState:c,size:80,dispatch:t,avatarSvg:CE,svgSizeRatio:.6}):ev.createElement(oo.Ir,{team:o,size:80,avatarSvg:CE,svgSizeRatio:.6});return ev.createElement(e3.Ui,{name:"Team Settings Modal",properties:{teamId:o.id}},ev.createElement(ir.u_,{popStack:!0,size:_,height:m?window.innerHeight:.8*window.innerHeight,className:m?"team_settings_modal--fullScreenModal--JpmRA team_settings_modal--modal--hXRLf modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E":"team_settings_modal--modalNoPadding--vTKGm team_settings_modal--modal--hXRLf modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",dispatch:t,modalRef:a,onHide:()=>Cw(t,o,s)},ev.createElement(Cb,{selectedTab:e.tab,setTab:e=>{t(ig.cU({type:Cy,data:{tab:e,canAdmin:l,teamSettingsProps:i,entryView:s}}));let r="team"===s.view?{view:"team",teamId:o.id,teamViewTab:"SETTINGS"===e?gP.x.SETTINGS:gP.x.MEMBERS}:s;t(od.fv(r));let n=a.current;n&&(n.scrollTop=0)},dispatch:t,isMobile:m,contentWidth:u,setToolbarWidth:n,team:o,viewOnClose:s}),ev.createElement("div",{className:"team_settings_modal--modalBody--1wz43"},ev.createElement("div",{className:"team_settings_modal--avatarContainer--mluVf"},p),"SETTINGS"===e.tab&&ev.createElement(e3.Ui,{name:"Team Settings"},ev.createElement("div",{className:"team_settings_modal--settingsContainer--I6MhY"},ev.createElement(Cg,{team:o,pending:i.pending,onRevokeTransfer:i.onRevokeTransfer,updatePending:i.updatePending,billing:i.billing}))),"MEMBERS"===e.tab&&ev.createElement("div",{className:"team_settings_modal--membersContainer--n-pMM"},ev.createElement("div",{className:"team_settings_modal--membersHeader--ZxZWg"},ev.createElement(oc.x,{color:"secondary",fontSize:12},o.name,ev.createElement(eq.Tx,{id:"file_browser.team_settings_modal.members_tab_header",numMembers:(0,Eb.qd)(d,o.id).length}))),ev.createElement(Nq,{teamId:o.id,isModal:!0})))))},Cy,it.Et.YES),Cx=(e,t,a,r)=>{let n=(0,eb.I0)();return ev.useCallback(()=>{var i,l;void 0!==t&&((0,xI.IQ)((null==(i=t.team)?void 0:i.id)||null,(null==(l=t.team)?void 0:l.org_id)||null)&&e===Cf.MEMBERS&&t.team.org_id?n(ig.K4({type:_8.nB,data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):n(ig.K4({type:CT,data:{tab:e,teamSettingsProps:t,canAdmin:a,entryView:r}})))},[e,t,a,r,n])};var CN=a(948042);let CC="teams_table--menuBar--HgJZM multi_select_list--menuBar--8xNGR",CS="teams_table--teamNameColumn--shBNF teams_table--column--F5XKe table--column--974RA",Ck="teams_table--licenseGroupColumn--LM1U- teams_table--column--F5XKe table--column--974RA",CI="teams_table--ownerColumn--AUoZk teams_table--column--F5XKe table--column--974RA",CL="teams_table--projectsColumn--xOqvQ teams_table--column--F5XKe table--column--974RA",CR="teams_table--membersColumn---Vt9A teams_table--column--F5XKe table--column--974RA",CA="teams_table--orgAccessColumn--PTlhV teams_table--column--F5XKe table--column--974RA",CO="teams_table--iconColumn--8sywl admin_settings_page--iconColumn--qxUMs",CD="teams_table--pendingIconColumn--DzFep admin_settings_page--iconColumn--qxUMs",CF="teams_table--blueLink--ppPnv blue_link--blueLink--9rlnd",CM="teams_table--actionBar--Z-EEc",CP="teams_table--bannerWarningIcon--pg76-",CB="teams_table--warningIconContainer--Yi0NS",CU="teams_table--teamAvatarLabel--HDLkp",CV=a(267837);function CW({areDropdownsDisabled:e,dropdownShown:t,licenseGroupsCanMoveTo:a,workspacesCanMoveTo:r,org:n,team:i,teamPendingTransfers:l,teamRoleRequests:s,onRevokeTransferRequestSuccess:o,pendingTransferRequests:c}){var d;let m=(0,eb.I0)(),u=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),_=(0,eb.v9)(e=>e.teamBilling),p=(0,eb.v9)(e=>e.teams[i.id]),g=(0,w6.US)(),E=(0,o8.A6)(),[h,f]=ev.useState(),{onChangeOrgAccess:v,onDeleteTeam:b,onJoinRequest:y,onOpenTeam:w,onRenameTeam:T,onTransferTeam:x,onRevokeTeamTransferRequest:N,onWithdrawRequestForTeam:C,onAddToLicenseGroup:S,onAddToWorkspace:k,onRemoveFromLicenseGroup:I,onRemoveFromWorkspace:L,onOpenAccessSettings:R}=Ne(s,l,c,o),A=e=>{m((0,ig.K4)({type:x0.Y,data:{teamId:e.id}}))},O=(0,wZ.oN)(i.id),D=(0,wZ.oN)(i.id,uq.V.ADMIN),F=(0,wZ.oN)(i.id,uq.V.OWNER),M=ev.useCallback(()=>{rI.ZP.del(`/api/asset_transfer/${null==h?void 0:h.id}`).then(()=>{f(void 0),m(r7.R.enqueue({message:(0,eq.t)("asset_transfers.revoke.transfer_revoked")}))},e=>{m(r7.R.enqueue({message:(0,eq.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},[null==h?void 0:h.id,m]),P=ev.useMemo(()=>{if(p)return{team:p,pending:h,onRevokeTransfer:M,updatePending:c,billing:_}},[M,c,p,_,h]),B=Cx(Cf.MEMBERS,P,(0,uR.canAdminTeam)(i.id,u),E),U=Cx(Cf.SETTINGS,P,(0,uR.canAdminTeam)(i.id,u),E);if(e)return ev.createElement(ev.Fragment,null);let V=`MENU_DROPDOWN-${i.id}`,W=(null==t?void 0:t.type)===V,G=[];if((0,uR.canViewTeam)(i.id,u)&&((i.org_access===ao.Zn.PUBLIC||(0,uR.hasViewerRoleAccessOnTeam)(i.id,u))&&G.push({displayText:(0,eq.t)("teams_table.view_projects"),callback:()=>w(i.id)}),P&&(G.push({displayText:(0,eq.t)("teams_table.view_team_members"),callback:B}),G.push({displayText:(0,eq.t)("teams_table.view_settings"),callback:U}))),G.push({displayText:"",separator:!0}),(0,uR.canManageOrgTeam)(i.id,u)){G.push({displayText:(0,eq.t)("teams_table.rename_team"),callback:()=>T(i)});let e=[ao.Zn.PUBLIC,ao.Zn.PRIVATE,ao.Zn.SECRET],t=e.map(e=>({displayText:(0,uR.orgAccessStrings)()[e],isChecked:i.org_access===e,callback:()=>v(i,e)}));(0,xI.IQ)((null==i?void 0:i.id)||null,(null==i?void 0:i.org_id)||null)?G.push({displayText:(0,eq.t)("teams_table.manage_access_setting"),callback:()=>R(i)}):G.push({displayText:"Edit org access",children:t})}let j=(0,oC.uH)(n.id);g&&!j&&G.push({displayText:"Change workspace",children:((e,t)=>{let r=a.map(a=>({displayText:a.name,isChecked:t===a.id,callback:()=>S(e,a.id,a.name)}));return r.push({displayText:"",separator:!0}),r.push({displayText:t?(0,eq.t)("members_table.license_group_cell.unassign"):(0,eq.t)("license_group.unassigned"),isChecked:!t,callback:()=>I(e)}),r})(i,i.license_group_id)}),j&&r.length>0&&G.push({displayText:"Change workspace",children:((e,t)=>{let a=r.map(a=>({displayText:a.name,isChecked:t===a.id,callback:()=>k(e,a.id,a.name)}));return a.push({displayText:"",separator:!0}),a.push({displayText:t?(0,eq.t)("members_table.license_group_cell.unassign"):(0,eq.t)("license_group.unassigned"),isChecked:!t,callback:()=>L(e)}),a})(i,i.workspace_id)}),G.push({displayText:"",separator:!0}),(0,uR.canAdminOrg)(n.id,u)&&(0,uR.canManageOrgTeam)(i.id,u)&&(l&&l.get(i.id)?G.push({displayText:(0,eq.t)("teams_table.revoke_transfer_request"),callback:()=>N(i.id)}):G.push({displayText:(0,eq.t)("teams_table.transfer_team"),callback:()=>x(i)})),(0,uR.hasAdminRoleAccessOnTeam)(i.id,u)&&G.push({displayText:(0,eq.t)("teams_table.delete_team"),callback:()=>b(i)});let H=(e=>{let t=(0,xX.xP)(e,s[e.id],u,n.id);return null===t?null:{displayText:(()=>{switch(t){case xX.vN.CLICK_LEAVE:return(0,eq.t)("teams_table.leave_team");case xX.vN.CLICK_WITHDRAW:return(0,eq.t)("teams_table.cancel_join_request");case xX.vN.CLICK_JOIN:return(0,eq.t)("teams_table.join_team");case xX.vN.CLICK_JOIN_AS_ADMIN:return(0,eq.t)("teams_table.join_team_as_admin");case xX.vN.BYPASS_REQUEST:return(0,eq.t)("teams_table.join_team_as_owner");case xX.vN.CLICK_REQUEST:return(0,eq.t)("teams_table.request_to_join")}})(),callback:(()=>{switch(t){case xX.vN.CLICK_LEAVE:return()=>A(e);case xX.vN.CLICK_WITHDRAW:return()=>C(e);case xX.vN.CLICK_JOIN:return O;case xX.vN.CLICK_JOIN_AS_ADMIN:return D;case xX.vN.BYPASS_REQUEST:return F;case xX.vN.CLICK_REQUEST:return()=>y(e)}})()}})(i);return(H&&(G.push({displayText:"",separator:!0}),G.push(H)),G.every(e=>e.separator))?ev.createElement(ev.Fragment,null):ev.createElement(xK.ud,{className:CN.SH,dispatch:m,hideChevron:!0,showingDropdown:W,type:V,isRightAligned:!0,isMultilevelDropdown:!0},ev.createElement(eD.n,{svg:CV,className:"teams_table--menuIcon--9m-kB admin_settings_page--menuIcon--dMpHa"}),W&&t&&(null==(d=null==t?void 0:t.data)?void 0:d.targetRect)&&ev.createElement(mz.z,{showPoint:!1,items:G,onSelectItem:e=>{e.callback&&e.callback("",null,m)},parentRect:t.data.targetRect,dispatch:m}))}var CG=a(523562);let Cj=e=>e.org_access===ao.Zn.SECRET?"Secret teams can\u2019t be added as default teams.":null;function CH(e){let t;let a=e.token.content;switch(a.org_access){case ao.Zn.PRIVATE:t="closed";break;case ao.Zn.SECRET:t="secret"}return ev.createElement("div",{className:Nd},ev.createElement(oo.Ir,{team:a,size:oo.DZ.SMALL,fallbackDisplay:fA.D.HIDDEN}),ev.createElement("span",null,a.name,t&&` (${t})`))}function C$(e){let t;let a=e.searchResult;switch(a.org_access){case ao.Zn.PUBLIC:t="Open team";break;case ao.Zn.PRIVATE:t="Closed team";break;case ao.Zn.SECRET:t="Secret team"}return ev.createElement("div",{className:e.isSelected?Np:Nm},ev.createElement(oo.Ir,{team:a}),ev.createElement("div",{className:Nu},ev.createElement("span",null,a.name),ev.createElement("div",{className:e.isSelected?Ng:N_},t&&ev.createElement(ev.Fragment,null,ev.createElement("span",null,t),ev.createElement("span",null,"\xa0\xb7\xa0")),a.workspaceName&&ev.createElement(ev.Fragment,null,ev.createElement("span",{className:ek.cx.maxW150.ellipsis.noWrap.overflowHidden.$},a.workspaceName),ev.createElement("span",null,"\xa0\xb7\xa0")),ev.createElement("span",null,(0,dg._6)(a.member_count,"member")),ev.createElement("span",null,"\xa0\xb7\xa0"),ev.createElement("span",null,(0,dg._6)(a.projects,"project")))))}let Cz=(e,t)=>t?{...e,workspaceName:t}:e,CK=(0,it.Y3)(function(e){var t;let{workspaceId:a}=e,r=(0,eb.I0)(),n=(0,eb.v9)(e=>(0,uR.getPermissionsStateMemoized)(e)),i=(0,r9.Dv)(wX),l=(0,dV.mU)(dH.WorkspaceDefaultTeamsView,{workspaceId:a}),s=null==(t=null==l?void 0:l.data)?void 0:t.workspace,o=ev.useMemo(()=>(null==s?void 0:s.defaultTeams)||[],[s]),c=ev.useMemo(()=>{let e=new Map;return o.forEach(t=>{var a,r;e.set(t.teamId,null==(r=null==(a=t.team)?void 0:a.workspace)?void 0:r.name)}),e},[o]),[d,m]=ev.useState((0,Ni.UA)()),[u,_]=ev.useState(!1),p="loaded"!==i.status||"loaded"!==l.status;ev.useEffect(()=>{if(p||u)return;let e=(0,Ni.UA)();m({...e,tokens:o.filter(e=>e.teamId in i.data).map(function(e){return{state:Nn.k.OK,content:Cz(i.data[e.teamId],c.get(e.teamId))}})})},[p,u,o,i,c]);let g=()=>{(0,eK.L9)("CTA Clicked",{name:"Edit Default Teams Modal Cancel",workspaceId:a,orgId:n.currentUserOrgId}),r(ig.hV())},E=ev.createElement("span",{className:ek.cx.fontSemiBold.$},null==s?void 0:s.name),h=(null==s?void 0:s.name)?ev.createElement(eq.Tx,{id:"workspace.when_people_join_workspace_name",styledWorkspaceName:E}):ev.createElement(eq.Tx,{id:"workspace.when_people_join_this_workspace"});return ev.createElement(ib.ge,{title:(0,eq.t)("workspace.edit_default_teams"),onClose:g,minWidth:500},ev.createElement("div",{className:Ns},p&&ev.createElement(ax.jz,null),!p&&ev.createElement(ev.Fragment,null,ev.createElement("span",null,h),ev.createElement("div",null,ev.createElement(Nl.P,{autocompleteResultsClassName:Nc,autocomplete:d,placeholder:"Search for a team",onChange:e=>{let t="",a=[];e.tokens.forEach(e=>{let r=Cj(e.content);r&&(t=r),a.push({...e,state:r?Nn.k.ERROR:Nn.k.OK})}),m({...e,tokens:a,errorMessage:t}),_(!0)},validateToken:ex.ZT,searchResults:e=>{let t=new TH.Or([],{keys:["name"],threshold:0,tokenize:!0,matchAllTokens:!0}),a=d.tokens.map(e=>e.content.id);return t.set(Object.values(i.data||{}).filter(e=>!a.includes(e.id)).map(function(e){var t;let a=o.find(t=>t.teamId===e.id),r=null==(t=null==a?void 0:a.team)?void 0:t.workspace;return Cz(e,r?r.name:void 0)})),t.search(e.inputValue)},SearchResultComponent:C$,TokenComponent:CH})),d.errorMessage&&ev.createElement("span",{className:ek.cx.textRed__DEPRECATED.$,"data-testid":"error-label"},d.errorMessage),ev.createElement("span",null,ev.createElement("span",{className:ek.cx.fontSemiBold.$},(0,eq.t)("workspace.note")),(0,eq.t)("workspace.new_users_will_join"))),ev.createElement("div",{className:No},ev.createElement(eA.PL,{onClick:g},(0,eq.t)("workspace.cancel")),ev.createElement(e3.Ui,{name:"Edit Default Teams Modal Submit",properties:{workspaceId:a,orgId:n.currentUserOrgId}},ev.createElement(eA.RS,{onClick:()=>{if(s){let e={id:s.id,name:s.name,defaultTeams:s.defaultTeams||[]};r(CG.lH({workspace:e,teamIds:d.tokens.map(e=>e.content.id)}))}r(ig.hV())},disabled:p||!!d.errorMessage},(0,eq.t)("workspace.save"))))))},"WorkspaceDefaultTeamsEditModal"),CZ=a(850663),Cq=a(753224);var CY=((S=CY||{})[S.SEARCH=0]="SEARCH",S[S.FILTER=1]="FILTER",S);let CJ=()=>({[x6.JOINED]:(0,eq.t)("teams_table.membership_filter.my_teams_option"),[x6.NOT_JOINED]:(0,eq.t)("teams_table.membership_filter.not_my_teams_option")});function CQ(e){var t;let{dropdownShown:a,filterCounts:r,lastFilterAction:n,onFilter:i,onSearch:l,org:s,orphanedTeamFilter:o,searchQuery:c,selectedOrgAccessFilter:d,selectedTeamMembershipFilter:m,teamRoleRequests:u,teams:_,selectedLicenseGroupFilter:p,selectedWorkspaceFilter:g,selectedDiscoverabilityFilter:E}=e,[h,f]=ev.useState(!1),v=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),b=(0,eb.I0)(),y=(0,lR.xJ)(),[w,T]=ev.useState(new Map),x=ev.useCallback(()=>{xL.j.getOrgTeamTransfers({orgId:s.id}).then(({data:e})=>{let t=e.meta;if(t)for(let e of t)T(t=>new Map(t.set(e.source_team_id,e)))})},[s.id]),N=e=>{T(t=>new Map(t.set(e,null))),b(r7.R.enqueue({message:(0,eq.t)("asset_transfers.revoke.transfer_revoked")}))},{onChangeOrgAccess:C,onAddToLicenseGroup:S,onRemoveFromLicenseGroup:k,onAddToWorkspace:I,onRemoveFromWorkspace:L}=Ne(u,w,x,N),R=(0,w6.$4)(),A=(0,w6.US)(),O=(0,eb.v9)(({selectedView:e})=>e),D="orgAdminSettings"===O.view,F="workspace"===O.view&&O.subView===ES.ep.ADMIN,M=(0,eb.v9)(({licenseGroups:e})=>e),P=(0,eb.v9)(({selectedView:e})=>"licenseGroup"===e.view&&e.subView===ET.gp.ADMIN?e.licenseGroupId:null),B=P?null==(t=M[P])?void 0:t.mirrored_workspace_id:null,U=(0,eb.v9)(({selectedView:e})=>"workspace"===e.view&&e.subView===ES.ep.ADMIN?e.workspaceId:null),{groupsUserIsAdminOf:V,otherLicenseGroups:W}=(0,w6.O)(R,y.id,!D),G=!eN.K1&&D,j=V.concat(W),H=(0,oC.uH)(s.id),$=(0,gv.d3)(s.id),z=$.data||[],K={};z.forEach(e=>K[e.id]=e);let Z=(0,xI.IQ)(null,(null==s?void 0:s.id)||null),q=U&&g!==wO.F&&(0,oC.BD)(),Y=P&&p!==bO.u,J=q||Y,Q=JSON.stringify(w);ev.useEffect(()=>{x()},[Q,x]);let X=()=>{let e={};if(H)e={workspaceId:U||g||void 0};else{let t;t=P||p||void 0;let a=t?M[t]:void 0;e={licenseGroupId:t||void 0,licenseGroupName:(null==a?void 0:a.name)||void 0}}b(ig.K4({type:vS.d3,data:e}))},ee=()=>{P?B&&(0,oC.BD)()?b((0,ig.K4)({type:CK,data:{workspaceId:B}})):b((0,ig.K4)({type:Nb,data:{licenseGroupId:P}})):U&&b((0,ig.K4)({type:CK,data:{workspaceId:U}}))},et=e=>`ORG-ACCESS-DROPDOWN-${e.id}`;function ea(e,t){return ev.createElement(CW,{org:s,team:e,areDropdownsDisabled:t,dropdownShown:a,teamRoleRequests:u,teamPendingTransfers:w,pendingTransferRequests:x,onRevokeTransferRequestSuccess:N,licenseGroupsCanMoveTo:j,workspacesCanMoveTo:z})}function er(e){var t,a;if(w&&w.get(e.id)){let r=(0,eq.t)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:null==(t=w.get(e.id))?void 0:t.source_user_email,destinationUserEmail:null==(a=w.get(e.id))?void 0:a.destination_user_email});return ev.createElement("div",{className:CB,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":r,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":2,"data-tooltip-max-width":250},ev.createElement(eD.n,{svg:Cq,className:CP}))}return ev.createElement(ev.Fragment,null)}let en=e=>{let t=j.map(e=>({type:"option",key:e.id,text:e.name}));return t.push({type:"separator",key:"separator"}),t.push({type:"option",key:bO.u,text:e?(0,eq.t)("members_table.license_group_cell.unassign"):(0,eq.t)("license_group.unassigned"),selectedLabelClass:ek.cx.textFGBlack54__DEPRECATED.$}),t},ei=e=>{let t=e&&K[e]?e:null,a=z.map(e=>({type:"option",key:e.id,text:e.name}));return a.push({type:"separator",key:"separator"}),a.push({type:"option",key:wO.F,text:t?(0,eq.t)("members_table.workspace_cell.unassign"):(0,eq.t)("workspace.unassigned"),selectedLabelClass:ek.cx.textFGBlack54__DEPRECATED.$}),{options:a,selectedValue:t??wO.F}},el=()=>{let e=[];function t(){return ev.createElement(ev.Fragment,null,"\u2013")}return e.push({name:(0,eq.t)("teams_table.team_name"),className:CS,getSortValue:e=>e.name,cellComponent:e=>ev.createElement(tD.j,null,ev.createElement(ds.Zq,{entity:e,size:22,className:CU}),Z&&(e.org_access===ao.Zn.PRIVATE||e.org_access===ao.Zn.SECRET)&&ev.createElement("div",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":e.org_access===ao.Zn.PRIVATE?(0,eq.t)("teams_table.closed_team_tooltip_header"):(0,eq.t)("teams_table.secret_team_tooltip_header"),"data-tooltip-subtext":e.org_access===ao.Zn.PRIVATE?(0,eq.t)("teams_table.closed_team_tooltip_subtitle"):(0,eq.t)("teams_table.secret_team_tooltip_subtitle"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ev.createElement(lu.J,{icon:"lock-16"})))}),e.push({name:(0,eq.t)("teams_table.owner"),className:CI,getSortValue:e=>{var t;return(null==(t=e.owner)?void 0:t.handle)?`a${e.owner.handle}`:`z${e.name}`},cellComponent:e=>e.owner?ev.createElement(xA,{entity:e.owner,size:22,dispatch:b}):ev.createElement(t,null)}),e.push({name:(0,eq.t)("teams_table.projects"),className:CL,getSortValue:e=>e.projects,sortNumerically:!0,cellComponent:e=>ev.createElement(eq.Tx,{id:"teams_table.project_count",numProjects:e.projects})}),e.push({name:(0,eq.t)("teams_table.members"),className:CR,getSortValue:e=>e.member_count||0,sortNumerically:!0,cellComponent:e=>ev.createElement(eq.Tx,{id:"teams_table.member_count",numMembers:e.member_count})}),Z||e.push({name:(0,eq.t)("teams_table.org_access"),className:CA,getSortValue:e=>{let t=e.org_access||ao.Zn.PUBLIC;switch(t){case ao.Zn.PUBLIC:return`a${e.name}`;case ao.Zn.PRIVATE:return`b${e.name}`;case ao.Zn.SECRET:return`c${e.name}`}},cellComponent:(e,r)=>e.org_access?(0,uR.canManageOrgTeam)(e.id,v)?ev.createElement(x$.Q,{dispatch:b,dropdownShown:a,value:e.org_access,options:x7(),onChange:t=>{C(e,t)},id:et(e),disabled:r}):ev.createElement(ev.Fragment,null,(0,uR.orgAccessStrings)()[e.org_access]):ev.createElement(t,null)}),s.bigma_enabled&&A&&!H&&e.push({name:(0,eq.t)("teams_table.enterprise.workspace"),getSortValue:e=>{var t;return e.license_group_id&&(null==(t=M[e.license_group_id])?void 0:t.name)||""},className:Ck,cellComponent:(e,t)=>{let r=`UPDATE_TEAM_LICENSE_GROUP-${e.id}`;return ev.createElement("div",{className:ek.cx.maxWFull.$},ev.createElement(x$.Q,{dispatch:b,dropdownShown:a,disabled:t,value:e.license_group_id??bO.u,options:en(e.license_group_id),onChange:t=>{var a;t===bO.u?k(e):S(e,t,null==(a=M[t])?void 0:a.name)},id:r}))}}),s.bigma_enabled&&z.length>0&&H&&e.push({name:(0,eq.t)("teams_table.enterprise.workspace"),getSortValue:e=>{var t;return e.workspace_id&&(null==(t=K[e.workspace_id])?void 0:t.name)||""},className:Ck,cellComponent:(e,t)=>{let r=`UPDATE_TEAM_WORKSPACE-${e.id}`,{options:n,selectedValue:i}=ei(e.workspace_id);return ev.createElement("div",{className:ek.cx.maxWFull.$},"loaded"===$.status?ev.createElement(x$.Q,{dispatch:b,dropdownShown:a,disabled:t,value:i,options:n,onChange:t=>{var a;t===wO.F?L(e):I(e,t,null==(a=K[t])?void 0:a.name)},id:r}):ev.createElement("div",{style:ie.sx.w64.$},ev.createElement(xS.g4,{className:ek.cx.h24.w64.$,animationType:xS.F4.SHIMMER})))}}),e.push({name:" ",className:CD,cellComponent:er}),e.push({name:"",className:CO,cellComponent:ea}),e},es=el(),[eo,ec,ed]=(0,fC.g)({columnName:(0,eq.t)("teams_table.team_name"),isReversed:!1},_,es);return ev.createElement(ev.Fragment,null,ev.createElement(T$.Z,{title:(0,w7.K)(fe.rN.TEAMS),hasHorizontalPadding:!0,rightActions:ev.createElement(tD.j,{width:"hug-contents"},ev.createElement(oM.z,{icon:"plus-32",onClick:X,"data-onboarding-key":TN},ev.createElement(oc.x,{i18nId:"teams_table.team"})),ev.createElement(oM.J,{onClick:()=>{if(h)return;f(!0),b(r7.R.enqueue({message:(0,eq.t)("teams_table.csv_export.preparing_request"),type:"orgTeam.exportCSV",icon:xk.B4.SPINNER}));let t=U||B,a=t?`/api/workspace/${t}/export_teams`:`/api/orgs/${e.org.id}/export_teams`;rI.ZP.post(a).then(()=>{b(r7.R.enqueue({message:(0,eq.t)("teams_table.csv_export.generating"),type:"orgTeam.exportCSV",icon:xk.B4.CHECK})),f(!1)},()=>{b(r7.R.enqueue({message:(0,eq.t)("teams_table.csv_export.error"),type:"orgTeam.exportCSV",icon:xk.B4.EXCLAMATION,error:!0})),f(!1)})},trackingProperties:{action:"Export CSV"}},ev.createElement(oc.x,{i18nId:"teams_table.csv_export.get_csv"})))}),ev.createElement(fz.Ch,{hasNewScrollContext:!0,emptyContent:ev.createElement(xy.eP,null,(()=>{let e=()=>{i({orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null})},t=p?ev.createElement(eq.Tx,{id:"teams_table.no_teams_to_show"}):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"teams_table.your_organization_does_not_have_any_teams_yet"})," ",ev.createElement("a",{className:CF,onClick:X},ev.createElement(eq.Tx,{id:"teams_table.create_one"}))),a=ev.createElement("span",null,(0,eq.t)("teams_table.no_teams_to_show")," ",ev.createElement("a",{className:CF,onClick:()=>e()},ev.createElement(eq.Tx,{id:"multi_select_list.reset_filters"}))),r=ev.createElement(eq.Tx,{id:"teams_table.no_search_results"}),l=d||m||o;return l&&c?0===n?r:a:l?a:c?r:t})()),items:ed,getItemKey:e=>e.id,columns:el(),stickyContent:(()=>{let t=H?(0,bE.yl)(_):(0,w6.lz)(_);return ev.createElement(ev.Fragment,null,F&&(0,oC.yL)(e.org.id)&&ev.createElement(sb.V,null,ev.createElement(xj,null)),H&&U?ev.createElement(xQ,{workspace:z.filter(e=>e.id===U)[0]}):ev.createElement(xY,null),ev.createElement("div",{className:CC},ev.createElement("div",{className:CN.FB},ev.createElement("div",{className:ek.cx.pr8.$},ev.createElement(nN.Pl,{onChange:l,focusOnMount:!1,query:c,clearSearch:()=>{l("")},placeholder:(0,eq.t)("teams_table.search_teams_with_ellipsis")})),H?ev.createElement(xJ,{selectedWorkspaceId:g,onFilterUpdate:e=>i({workspaceFilter:e}),getCount:e=>t[e]??0}):ev.createElement(xZ,{selectedLicenseGroupId:p,onFilterUpdate:e=>i({licenseGroupFilter:e}),getCount:e=>t[e]??0}),Z?ev.createElement(xK.MF,{dropdownShown:a,dropdownType:"FILTER_DISCOVERABILITY_DROPDOWN",selectedValue:E,getDisplayText:e=>(0,uR.discoverabilityStrings)()[e],getSelectedDisplayText:e=>{switch(e){case _y.X_.ORG_BROWSABLE:return(0,eq.t)("teams_table.discoverability_filter.visible");case _y.X_.HIDDEN:return(0,eq.t)("teams_table.discoverability_filter.hidden");default:return(0,eq.t)("teams_table.discoverability_filter.all")}},getCount:e=>r.discoverabilityFilter[e],updateFilter:e=>i({discoverabilityFilter:e}),values:Object.values(_y.X_),dispatch:b}):ev.createElement(xK.MF,{"data-onboarding-key":"teams_table_onboarding_key",dropdownShown:a,dropdownType:"FILTER_ORG_ACCESS_DROPDOWN",selectedValue:d,getDisplayText:e=>(0,uR.orgAccessStrings)()[e],getSelectedDisplayText:e=>{switch(e){case ao.Zn.PUBLIC:return(0,eq.t)("teams_table.org_access_filter.open");case ao.Zn.PRIVATE:return(0,eq.t)("teams_table.org_access_filter.closed");case ao.Zn.SECRET:return(0,eq.t)("teams_table.org_access_filter.secret");default:return(0,eq.t)("teams_table.org_access_filter.all")}},getCount:e=>r.orgAccessFilter[e],updateFilter:e=>i({orgAccessFilter:e}),values:Object.values(ao.Zn),dispatch:b}),ev.createElement(xK.MF,{dropdownShown:a,dropdownType:"FILTER_TEAM_MEMBERSHIP_DROPDOWN",selectedValue:m,getDisplayText:e=>CJ()[e],getSelectedDisplayText:e=>{switch(e){case x6.JOINED:return(0,eq.t)("teams_table.membership_filter.my_teams_label");case x6.NOT_JOINED:return(0,eq.t)("teams_table.membership_filter.not_my_teams_label");default:return(0,eq.t)("teams_table.membership_filter.all")}},getCount:e=>r.teamMembershipFilter[e],updateFilter:e=>i({teamMembershipFilter:e}),values:Object.values(x6),dispatch:b}),ev.createElement(e3.UE,{className:CN.Vw,onClick:()=>i({orphanedTeamFilter:!o}),trackingProperties:{filterType:"OrphanedTeamFilter",isFilterEnabled:!o}},ev.createElement(eA.v_,{checked:o,onChange:ex.ZT}),ev.createElement(eq.Tx,{id:"teams_table.teams_without_owners"}))),ev.createElement("div",{className:CN.bv},J&&ev.createElement("div",{className:CN.SH,onClick:ee},ev.createElement(eD.n,{className:CN.c_,svg:CZ}),ev.createElement(eq.Tx,{id:"teams_table.enterprise.edit_default_teams"})))))})(),actionBar:e=>ev.createElement(Nr,{licenseGroupsCanMoveTo:j,workspacesCanMoveTo:z,org:s,selectedTeams:e,teamRoleRequests:u,teamPendingTransfers:w,pendingTransferRequests:x,onRevokeTransferRequestSuccess:N}),actionBarClassName:CM,itemTypeContext:{itemType:"team",getSelectedCountString:e=>(0,eq.t)("multi_select_list.selected_count_team",{numSelected:e})},minContentWidth:(0,cx.z)(cL.Vi7),isBannerHeightDynamic:!0,sortState:eo,onSetSortState:ec}),G?ev.createElement(sb.V,null,ev.createElement(xU,null)):null)}let CX=new TH.Or([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"owner.handle",weight:1},{name:"owner.email",weight:1}]});function C0(e){let{dispatch:t,dropdownShown:a,teams:r,teamRoleRequests:n,user:i,selectedLicenseGroupTab:l,selectedWorkspaceId:s}=e,o=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),[c,d]=ev.useState({licenseGroupFilter:l??null,workspaceFilter:s??null,orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null,discoverabilityFilter:null}),[m,u]=ev.useState(CY.FILTER),[_,p]=ev.useState(""),g=r.map(e=>({...e,owner:C1(e),userTeamMembership:(0,uR.hasViewerRoleAccessOnTeam)(e.id,o)?x6.JOINED:x6.NOT_JOINED}));ev.useEffect(()=>{t((0,gf.fO)())},[t]),ev.useEffect(()=>{l&&d(e=>({...e,licenseGroupFilter:l}))},[l]),ev.useEffect(()=>{s&&d(e=>({...e,workspaceFilter:s}))},[s]);let E=[],h={orgAccessFilter:{[ao.Zn.PUBLIC]:0,[ao.Zn.PRIVATE]:0,[ao.Zn.SECRET]:0},teamMembershipFilter:{[x6.JOINED]:0,[x6.NOT_JOINED]:0},discoverabilityFilter:{[_y.X_.ORG_BROWSABLE]:0,[_y.X_.HIDDEN]:0}},f=e=>e.hidden?_y.X_.HIDDEN:e.org_browsable?_y.X_.ORG_BROWSABLE:null,v=e=>{if(c.orgAccessFilter&&c.orgAccessFilter!==e.org_access||c.discoverabilityFilter&&c.discoverabilityFilter!==f(e)||c.teamMembershipFilter&&c.teamMembershipFilter!==e.userTeamMembership||c.orphanedTeamFilter&&e.owner)return!1;if(c.licenseGroupFilter){let t=c.licenseGroupFilter===bO.u;if(t&&null!==e.license_group_id||!t&&c.licenseGroupFilter!==e.license_group_id)return!1}if(c.workspaceFilter){let t=c.workspaceFilter===wO.F;if(t&&null!==e.workspace_id||!t&&c.workspaceFilter!==e.workspace_id)return!1}return!0};return _&&(CX.set(g),g=CX.search(_)),g.forEach(e=>{if(v(e)){E.push(e),null!==e.org_access&&h.orgAccessFilter[e.org_access]++;let t=f(e);null!==t&&h.discoverabilityFilter[t]++,h.teamMembershipFilter[e.userTeamMembership]++}}),ev.createElement(CQ,{dropdownShown:a,lastFilterAction:m,selectedOrgAccessFilter:c.orgAccessFilter,onFilter:e=>{d({...c,...e}),u(CY.FILTER)},onSearch:e=>{p(e),u(CY.SEARCH)},org:e.org,filterCounts:h,orphanedTeamFilter:c.orphanedTeamFilter,searchQuery:_,selectedTeamMembershipFilter:c.teamMembershipFilter,teams:E,teamRoleRequests:n,user:i,selectedLicenseGroupFilter:c.licenseGroupFilter,selectedWorkspaceFilter:c.workspaceFilter,selectedDiscoverabilityFilter:c.discoverabilityFilter})}let C1=e=>{var t,a;return e.orphaned||(null==(a=null==(t=e.top_members)?void 0:t[0])?void 0:a.level)!==uq.V.OWNER?null:e.top_members[0].user};var C2=a(242683),C3=a(133419),C4=a(606536),C8=a(552452),C5=a(599824);let C9="org_admin_settings_onboarding_pointers--keyboard--4G-Yb text--fontPos9--naThA text--_fontBase--QdLsd",C6="seen_org_admin_members_onboarding",C7=(0,xD.Q9)("org_admin_members_onboarding",xF(sd.G.OrgAdminMembersOnboarding)),Se=(0,o_.n_)(C6),St=[fz.s$,Tb,Tw,Tv,Ty],Sa=[fz.s$,Tb,Tv,Ty],Sr={[fz.s$]:`${Ts} Multi select`,[Tb]:`${Ts} Recent Activity`,[Tw]:`${Ts} Upgraded`,[Tv]:`${Ts} Account Type`,[Ty]:`${Ts} Search`},Sn=(e,t)=>{switch(e){case fz.s$:return ev.createElement(eq.Tx,{id:"onboarding_pointers.multiple_select_onboarding",shiftKey:ev.createElement("kbd",{className:C9},ev.createElement(eq.Tx,{id:"onboarding_pointers.shift_key"}))});case Tb:return ev.createElement(eq.Tx,{id:"onboarding_pointers.recent_activity_onboarding.seat_rename"});case Tw:return ev.createElement(eq.Tx,{id:"onboarding_pointers.member_upgraded_onboarding"});case Tv:if(t)return ev.createElement(eq.Tx,{id:"onboarding_pointers.account_type_filter_onboarding_for_workspace_admin"});return ev.createElement(eq.Tx,{id:"onboarding_pointers.account_type_filter_onboarding.seat_rename"});case Ty:return ev.createElement(eq.Tx,{id:"onboarding_pointers.member_search_onboarding"})}};function Si({isWorkspaceAdminMembersTable:e=!1}){let t=(0,r9.Dv)(Se),{isShowing:a,complete:r,show:n,uniqueId:i}=(0,so.I)({id:sd.G.OrgAdminMembersOnboarding,priority:su.b4.DEFAULT_MODAL},[t]),l=(0,eb.I0)(),s=(0,xO.eO)(C7),o=e?Sa:St,c=o.length,{next:d,reset:m}=(0,Ta.Z)({numSteps:c,onComplete:r});(0,eZ.O)(()=>{"reset"===s.currentState?n():n({canShow:e=>!e})});let u=(0,ev.useCallback)(()=>{m(),n()},[m,n]);(0,sc.J)(i,"Reset Onboarding",u);let _=(0,ev.useCallback)(()=>{l(m1.v({[C6]:!0})),r()},[l,r]);return ev.createElement(C5.Ok,{steps:o.map((t,a)=>({key:t,isShowing:!0,trackingContextName:Sr[t],targetKey:t,primaryCta:{label:a+1<c?ev.createElement(eq.Tx,{id:"general.next"}):ev.createElement(eq.Tx,{id:"general.done"}),type:"button",onClick:d,ctaTrackingDescriptor:a+1<c?cC.y.NEXT:cC.y.DONE},description:Sn(t,e),onClose:_})),onComplete:_,isShowing:a})}let Sl="seen_org_admin_selection_onboarding",Ss=(0,xD.Q9)("org_admin_selection_onboarding",xF(sd.G.OrgAdminSelectionOnboarding)),So=(0,o_.n_)(Sl);function Sc(e){let t=(0,r9.Dv)(So),{isShowing:a,complete:r,show:n,uniqueId:i}=(0,so.I)({id:sd.G.OrgAdminSelectionOnboarding,priority:su.b4.DEFAULT_MODAL},[t]),l=(0,xO.eO)(Ss);return(0,sc.J)(i,"CTA Clicked",e=>{var t;(null==(t=e.properties)?void 0:t.trackingContext)===`${r2.V4.ORG_ADMIN_SETTINGS_PAGE} > MultiSelectList - Row`&&("reset"===l.currentState?n():n({canShow:e=>!e}))}),ev.createElement(Tn.ZZ,{isShowing:a,trackingContextName:`${Ti} Shift Select`,userFlagOnShow:Sl,targetKey:"msl_selected_row_onboarding_key",onClose:r,primaryCta:{label:ev.createElement(eq.Tx,{id:"onboarding_pointers.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:cC.y.GOT_IT},description:ev.createElement(oc.x,{i18nId:"onboarding_pointers.row_select_onboarding",i18nParams:{shiftKey:ev.createElement("kbd",{className:C9},ev.createElement(eq.Tx,{id:"onboarding_pointers.shift_key"}))}})})}let Sd="admin_banner--infoIcon--0MZLm",Sm="admin_banner--iconOnDesign--jZKJx";var Su=((k=Su||{})[k.BLUE=0]="BLUE",k[k.GREEN=1]="GREEN",k[k.LIGHT_BLUE=2]="LIGHT_BLUE",k[k.YELLOW=3]="YELLOW",k[k.RED=4]="RED",k[k.LIGHT_YELLOW=5]="LIGHT_YELLOW",k[k.LIGHT_GREEN=6]="LIGHT_GREEN",k);function S_(e){return({0:"admin_banner--blue--SXNxs",1:"admin_banner--green--oV1nT",2:"admin_banner--lightBlue--G5VVd",3:"admin_banner--yellow--nBPm4",4:"admin_banner--red--p4-kY",5:"admin_banner--lightYellow--fMCLU",6:"admin_banner--lightGreen--JXQv1"})[e]}function Sp(e){return ev.createElement("div",{className:tQ()(S_(e.color),"admin_banner--banner--3F4Yp",{"admin_banner--responsiveBanner--h-4nE":e.isResponsive,"admin_banner--noNegativeMargin--EA8b5":e.removeNegativeMargin})},e.children)}function Sg(e){let t=S_(e.color??2);return ev.createElement(e3.Ui,{name:e.trackingContext,properties:e.trackingProperties},ev.createElement("div",{className:tQ()(e.className||"","admin_banner--dismissibleBanner--PHx0C admin_banner--banner--3F4Yp",t)},ev.createElement("div",{className:"admin_banner--dismissibleBannerMessage--95Vk9"},e.icon&&ev.createElement(eD.n,{className:Sd,svg:e.icon}),ev.createElement("span",{className:ek.cx.wFull.$},e.children)),ev.createElement(n6.PZ,{className:tQ()(t,"admin_banner--xIconWrapper--gtEAn"),onClick:e.onClose,innerText:"Banner dismissed"})))}let SE=a(589668);function Sh(){var e;let t=(0,eb.v9)(({selectedView:e})=>e),a="licenseGroup"===t.view&&t.subView===ET.gp.ADMIN&&t.licenseGroupId,r=(0,w6.US)(),n=(0,eb.v9)(({licenseGroups:e})=>a?e[a]:void 0),i=(0,uL.$0)(),l=(0,w$.A9)(i),s=null==(e=l.data)?void 0:e.invoices,o=s&&(0,_9.qQ)(s),c=n&&!(0,w6.N)(n,s);return c&&o&&r?ev.createElement(Sp,{color:Su.BLUE},ev.createElement(eD.n,{autosize:!0,width:"16px",height:"16px",svg:SE,className:Sm}),ev.createElement(eq.Tx,{id:"members_table.workspace_true_up.complete.seat_rename"})):null}var Sf=a(48518),Sv=a(12023),Sb=a(17030);let Sy="org_invite_modal--modalWrapper--oH5a6",Sw="org_invite_modal--description--dT4ZB";function ST(e){return ev.createElement("div",null,e.token.content)}function Sx({licenseGroupId:e,workspaceId:t,org:a,orgHasGuestsInviteAllowlist:r,canInviteMembers:n,dispatch:i,multiLineForm:l,buttonClassName:s,modalWrapperClassName:o,descriptionClassName:c}){var d;let m=(0,eb.v9)(e=>e.orgDomains.domains),u=(0,eb.v9)(({licenseGroups:t})=>e?t[e]:void 0),_=(0,dV.mU)(dH.OrgInviteModalView,{workspaceId:t},{enabled:!!t}),p=null==(d=_.data)?void 0:d.workspace,g=(0,eb.v9)(e=>e.autocomplete),E=(0,eb.v9)(e=>e.dropdownShown),h=(0,eb.v9)(e=>e.idpUserById.isCreatingOrgInvite),f=a.invite_whitelist_enforced?ao.oz.FULL:ao.oz.STARTER,[v,b]=ev.useState(f),[y,w]=ev.useState(!1),T=()=>{let e=(0,oC.uH)(a.id);return e?u&&p?ev.createElement(eq.Tx,{id:"org_invite.email_input_description.billing_group_and_workspace_disclaimer",billingGroupName:u.name,workspaceName:p.name}):u?ev.createElement(eq.Tx,{id:"org_invite.email_input_description.billing_group_disclaimer",billingGroupName:u.name}):p?ev.createElement(eq.Tx,{id:"org_invite.email_input_description.workspace_disclaimer",workspaceName:p.name}):null:u?ev.createElement(eq.Tx,{id:"org_invite.email_input_description.workspace_disclaimer",workspaceName:u.name}):null},x=a=>{i(Sv.j0({emails:(0,Ni.Oe)(a),licenseGroupId:e,workspaceId:t,accountType:v})),i(Sf.mc())},N=e=>{let t=(0,n1.Jh)(e)&&(0,oC.nv)(m,e)&&n,a=(0,n1.Jh)(e)&&r;return{state:t||a?Nn.k.OK:Nn.k.ERROR,content:e}},C=e=>{if(m.length>=1){let t=(0,Ni.Oe)(e).filter(e=>(0,n1.Jh)(e)&&!(0,oC.nv)(m,e));if((t=[...new Set(t)]).length>0){i((0,ig.K4)({type:Sk,data:{emails:t,onConfirm:()=>{x(e)}}}));return}}x(e)};return a.invite_whitelist_enforced?ev.createElement("div",{className:tQ()(Sy,o)},ev.createElement("p",{className:tQ()(Sw,c)},ev.createElement(eq.Tx,{id:"org_invite.email_input_description.invite_allowlist_enforced"})," ",T()),ev.createElement(Sb.x,{autocomplete:g,buttonText:(0,eq.t)("org_invite.invite_button"),dispatch:i,dropdownShown:E,dropdownKey:"org-invite-account-type-dropdown",getSelectText:uR.getOrgAccountTypeString,inviteLevel:v,isSubmitting:h,onInviteLevelChange:b,options:[ao.oz.FULL,ao.oz.RESTRICTED],onSubmit:C,shouldAutoFocus:!0,validateToken:N,TokenComponent:ST,multiLineForm:!!l,buttonClassName:s})):ev.createElement("div",{className:tQ()(Sy,o)},ev.createElement("p",{className:tQ()(Sw,c)},(()=>{if(r)return ev.createElement(eq.Tx,{id:"org_invite.email_input_description.guest_invite_allow_list",orgName:a.name});let e=m.map(e=>`@${e.domain}`);if(y)return ev.createElement(eq.Tx,{id:"org_invite.email_input_description.multiple_domains.expanded",orgName:a.name,domainList:ev.createElement(h9.x,null,e.map(e=>ev.createElement("span",{key:e},e)))});let t=e[0],n=e.length-1;return 0===n?ev.createElement(eq.Tx,{id:"org_invite.email_input_description.single_domain",domain:t,orgName:a.name}):ev.createElement(eq.Tx,{id:"org_invite.email_input_description.multiple_domains.with_expand_link",orgName:a.name,domain:t,expandLink:ev.createElement(eA.UU,{onClick:()=>w(!0),trusted:!0},ev.createElement(eq.Tx,{id:"org_invite.email_input_description.multiple_domains.expand_link",remainingDomainCount:n}))})})()," ",T()),ev.createElement(Sb.x,{autocomplete:g,buttonText:(0,eq.t)("org_invite.invite_button"),dispatch:i,dropdownShown:null,inviteLevel:v,isSubmitting:h,onSubmit:C,shouldAutoFocus:!0,validateToken:N,TokenComponent:ST,multiLineForm:!!l,buttonClassName:s}))}let SN=(e,t)=>(e.invite_whitelist_guest_invite_setting===uO.lz.REQUIRE_APPROVAL||e.invite_whitelist_enforced_guests)&&"licenseGroup"!==t,SC=(e,t)=>!e.invite_whitelist_member_allowlist_enabled||"orgAdminSettings"===t,SS=(0,it.Y3)(function({licenseGroupId:e,workspaceId:t}){let a=(0,uL.Ng)(),r=(0,eb.I0)(),n=(0,eb.v9)(e=>e.selectedView);if(!a)return ev.createElement(ev.Fragment,null);let i=SN(a,n.view),l=a.invite_whitelist_enforced||i?(0,eq.t)("org_invite.invite_users",{orgName:a.name}):(0,eq.t)("org_invite.invite_members",{orgName:a.name});return ev.createElement(e3.Ui,{name:"Org Invite Modal"},ev.createElement(ib.ge,{title:l,onClose:()=>{r(ig.eI()),r(Sf.mc())}},ev.createElement(Sx,{licenseGroupId:e,workspaceId:t,org:a,orgHasGuestsInviteAllowlist:i,canInviteMembers:SC(a,n.view),dispatch:r})))},"ORG_INVITE_MODAL"),Sk=(0,it.Y3)(function(e){let t=(0,eb.I0)();return ev.createElement(ir.cV,{confirmationTitle:(0,eq.t)("org_invite.pending_guest_confirmation.title"),confirmText:(0,eq.t)("org_invite.pending_guest_confirmation.button"),disableClickOutsideToHide:!0,dispatch:t,onConfirm:e.onConfirm,popStack:!0,size:"small"},ev.createElement("div",{className:m2.Tr},ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"org_invite.pending_guest_confirmation.description",numEmails:e.emails.length,emailList:ev.createElement(h9.x,{className:"org_invite_modal--orgGuestEmails--JpKT2"},e.emails)}),ev.createElement("a",{className:"org_invite_modal--orgGuestLink--tugVV blue_link--blueLink--9rlnd",target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/articles/360039960434"}," ",ev.createElement(eq.Tx,{id:"org_invite.pending_guest_confirmation.learn_more_link"})))))},"CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL");var SI=((I=SI||{})[I.INVITE_USERS=0]="INVITE_USERS",I[I.ADD_MEMBERS=1]="ADD_MEMBERS",I);let SL=e=>{switch(e){case 1:return{name:(0,eq.t)("add_unassigned_members_modal.add_members_tab"),view:1};case 0:return{name:(0,eq.t)("add_unassigned_members_modal.invite_users_tab"),view:0}}},SR=(e,t,a)=>r=>({org:e,isMe:t.user_id===r.user_id,orgUser:r,dispatch:a});var SA=a(971066),SO=a(495851),SD=a(486369),SF=a(458766),SM=a(65002);let SP="guest_resources--disclaimer--qWjKm",SB="guest_resources--row--E1C-K guest_resources--_row--zwYbD",SU="guest_resources--columnName--G2UHJ table--column--974RA",SV="guest_resources--columnNameAccessible--R-A1Y guest_resources--columnName--G2UHJ table--column--974RA",SW="guest_resources--columnMeta---3PoB table--column--974RA",SG="guest_resources--columnLevel--FiZId table--column--974RA",Sj="guest_resources--sectionContainer--2n3-q",SH="guest_resources--sectionHeaderRow--TuN3y",S$="guest_resources--sectionBody--W78YJ";function Sz(e){return ev.createElement("div",{style:{height:e.height}})}function SK(e){let t=(0,eb.I0)();return ev.createElement("div",{className:SB},(()=>{if(e.hasCheckedAccess&&e.resource.can_view){let a=e.resource.file;return ev.createElement("div",{className:SV},ev.createElement(eA.rU,{onClick:()=>{t(od.fv({view:"fullscreen",fileKey:a.key,editorType:a.editor_type})),t(ig.hV())},trusted:!0},a.name))}{let t=e.resource.file,a=`file_tooltip_${t.key}`,r=e.hasCheckedAccess?(0,eq.t)("members_tab.member_modal.file_no_access_tooltip"):void 0,n=e.hasCheckedAccess?"guest_resources--inaccessibleFileName--Ddabe guest_resources--fileName--0CWPm":"guest_resources--fileName--0CWPm";return ev.createElement("div",{className:SU,"data-tooltip-proxy-element-id":a},ev.createElement("div",{id:a,className:"guest_resources--inaccessibleFileIcon--N2pqG","data-tooltip-type":aN.fR.TEXT,"data-tooltip":r}),ev.createElement("p",{className:n},t.name))}})(),ev.createElement("div",{className:SW},ev.createElement("div",null,e.resource.team?e.resource.team.name:"-")),ev.createElement("div",{className:SG},(0,uR.levelNameCapitalized)(e.resource.level)))}function SZ(e){let t=e.resource.folder,a=(0,eb.I0)(),r=e.hasCheckedAccess&&!!e.resource.can_view,n=r||!e.hasCheckedAccess?void 0:(0,eq.t)("members_tab.member_modal.not_project_member_tooltip"),i=`folder_tooltip_${e.resource.folder.id}`;return ev.createElement("div",{className:SB},r?ev.createElement("div",{className:SV},ev.createElement(eA.rU,{onClick:()=>{a(od.fv({view:"folder",folderId:t.id})),a(ig.hV())},trusted:!0},e.resource.folder.name)):ev.createElement("div",{className:SU,"data-tooltip-proxy-element-id":i},ev.createElement("p",{id:i,className:e.hasCheckedAccess?"guest_resources--inaccessibleName--FzTVE":void 0,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":n,"data-tooltip-max-width":200},e.resource.folder.name)),ev.createElement("div",{className:SW},ev.createElement(eq.Tx,{id:"members_tab.member_modal.file_count_label",fileCount:e.resource.file_count})),ev.createElement("div",{className:SG},(0,uR.levelNameCapitalized)(e.resource.level)))}function Sq(e){let t=e.resource.team,a=e.hasCheckedAccess&&!!e.resource.can_view,r=a||!e.hasCheckedAccess,n=(0,eb.I0)();return ev.createElement("div",{className:SB},ev.createElement("div",{className:a?SV:SU},ev.createElement(eA.rU,{onClick:a?()=>{n(od.fv({view:"team",teamId:t.id})),n(ig.hV())}:void 0,className:r?"":"guest_resources--inaccessibleTeamName--2Lcg4","data-tooltip-type":aN.fR.TEXT,"data-tooltip":r?void 0:"You're not a member of this team","data-tooltip-max-width":200,"data-tooltip-proxy-element-id":`team_tooltip_${t.id}`,trusted:!0},t.name)),ev.createElement("div",{className:SW},ev.createElement(eq.Tx,{id:"members_tab.member_modal.project_count_label",projectCount:t.projects})),ev.createElement("div",{className:SG},(0,uR.levelNameCapitalized)(e.resource.level)))}let SY=(0,e3.x1)(function(e){let[t,a]=ev.useState(null);if(ev.useEffect(()=>{SM.Q.getGuestResources({orgUserId:e.orgUser.id}).then(e=>{a(e.data.meta)})},[e.orgUser.id]),!t)return ev.createElement("div",{className:"guest_resources--loadingState--oVOS3"},ev.createElement(ax.TK,null));let r=t.files,n=t.folders,i=t.teams,l=r.length+n.length+i.length>0;return ev.createElement(ev.Fragment,null,!(0,vC.Zy)(e.org.shared_org_license_group_settings)&&ev.createElement("p",{className:SP},l?ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.can_also_view_public_links_label",name:e.user.handle}):ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.can_view_public_links_label",name:e.user.handle})),(0,vC.Zy)(e.org.shared_org_license_group_settings)&&!l&&ev.createElement("p",{className:SP},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.no_access_label",name:e.user.handle})),i.length>0&&ev.createElement(ev.Fragment,null,ev.createElement(Sz,{height:16}),ev.createElement("div",{className:Sj},ev.createElement("div",{className:SH},ev.createElement("div",{className:SU},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.teams_table.team_column"})),ev.createElement("div",{className:SW},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.teams_table.projects_column"})),ev.createElement("div",{className:SG},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.teams_table.permissions_column"}))),ev.createElement("div",{className:S$},i.map(e=>ev.createElement(Sq,{key:e.team.id,resource:e,hasCheckedAccess:t.has_checked_access}))))),n.length>0&&ev.createElement(ev.Fragment,null,ev.createElement(Sz,{height:16}),ev.createElement("div",{className:Sj},ev.createElement("div",{className:SH},ev.createElement("div",{className:SU},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.projects_table.project_column"})),ev.createElement("div",{className:SW},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.projects_table.files_column"})),ev.createElement("div",{className:SG},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.projects_table.permissions_column"}))),ev.createElement("div",{className:S$},n.map(e=>ev.createElement(SZ,{key:e.folder.id,resource:e,hasCheckedAccess:t.has_checked_access}))))),r.length>0&&ev.createElement(ev.Fragment,null,ev.createElement(Sz,{height:16}),ev.createElement("div",{className:Sj},ev.createElement("div",{className:SH},ev.createElement("div",{className:SU},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.files_table.file_column"})),ev.createElement("div",{className:SW},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.files_table.team_column"})),ev.createElement("div",{className:SG},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access.files_table.permissions_column"}))),ev.createElement("div",{className:S$},r.map(e=>ev.createElement(SK,{key:e.file.key,resource:e,hasCheckedAccess:t.has_checked_access}))))))},"Guest Access Tab");function SJ(e){let t=(0,eb.I0)(),a=(0,_q.Lt)(e.orgUser);return ev.createElement("div",{className:"member_modal_user_details--modalHeader--OJmBQ"},ev.createElement(xA,{className:"member_modal_user_details--avatarWithHandle--WjLdI admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",defaultText:"",dispatch:t,entity:e.user,showTooltip:!0,size:32,badge:a}))}var SQ=a(486972),SX=a(211708),S0=a(700163),S1=a(468310);let S2=(e,t,a)=>a?e&&t?(0,eq.t)("activity_log.event.library_setting_all_files_org_setting"):t?(0,eq.t)("activity_log.event.library_setting_figjam_files_org_setting"):e?(0,eq.t)("activity_log.event.library_setting_figma_files_org_setting"):(0,eq.t)("activity_log.event.library_setting_off_org_setting"):e&&t?(0,eq.t)("activity_log.event.library_setting_all_files"):t?(0,eq.t)("activity_log.event.library_setting_figjam_files"):e?(0,eq.t)("activity_log.event.library_setting_figma_files"):(0,eq.t)("activity_log.event.library_setting_off");function S3({log:e}){let t=S2(e.metadata.new_figma_enabled,e.metadata.new_figjam_enabled);return null===e.metadata.old_figma_enabled?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_new_library_setting",libraryName:ev.createElement("b",null,e.metadata.library_file_name),orgName:ev.createElement("b",null,e.metadata.org_name),librarySetting:t})):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_changed_library_setting",libraryName:ev.createElement("b",null,e.metadata.library_file_name),orgName:ev.createElement("b",null,e.metadata.org_name),oldLibrarySetting:S2(e.metadata.old_figma_enabled,e.metadata.old_figjam_enabled),newLibrarySetting:t}))}function S4({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_library_approved",libraryName:ev.createElement("b",null,e.metadata.library_file_name),orgName:ev.createElement("b",null,e.metadata.org_name)}))}function S8({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_library_unapproved",libraryName:ev.createElement("b",null,e.metadata.library_file_name),orgName:ev.createElement("b",null,e.metadata.org_name)}))}function S5({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_library_approved",libraryName:ev.createElement("b",null,e.metadata.library_file_name),workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}))}function S9({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_library_unapproved",libraryName:ev.createElement("b",null,e.metadata.library_file_name),workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}))}function S6({log:e}){if(null===e.metadata.old_use_org_settings)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_new_library_setting_off",libraryName:ev.createElement("b",null,e.metadata.library_file_name),workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}));let t=S2(e.metadata.new_figma_enabled,e.metadata.new_figjam_enabled,e.metadata.new_use_org_settings),a=S2(e.metadata.old_figma_enabled,e.metadata.old_figjam_enabled,e.metadata.old_use_org_settings);return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_changed_library_setting",libraryName:ev.createElement("b",null,e.metadata.library_file_name),workspaceName:ev.createElement("b",null,e.metadata.workspace_name),oldLibrarySetting:a,newLibrarySetting:t}))}function S7({log:e}){return ev.createElement(S6,{log:e})}function ke({log:e}){var t;return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_admins_add",adminNames:ev.createElement("b",null,ev.createElement(h9.x,null,e.metadata.new_admin_names.map(e=>ev.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.new_admin_names)?void 0:t.length)??0,workspaceName:ev.createElement("b",null,e.metadata.name)}))}function kt({log:e}){var t;return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_admins_remove.v2",adminNames:ev.createElement("b",null,ev.createElement(h9.x,null,e.metadata.removed_admin_names.map(e=>ev.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.removed_admin_names)?void 0:t.length)??0,workspaceName:ev.createElement("b",null,e.metadata.name)}))}function ka({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_create",workspaceName:ev.createElement("b",null,e.metadata.name)}))}function kr({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_delete",workspaceName:ev.createElement("b",null,e.metadata.name)}))}function kn({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_rename",workspaceName:ev.createElement("b",null,e.metadata.old_name),newName:ev.createElement("b",null,e.metadata.name)}))}function ki({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_members_add",memberEmails:ev.createElement("b",null,ev.createElement(h9.x,null,e.metadata.new_member_emails.map(e=>ev.createElement("span",{key:e},e)))),numMembers:e.metadata.new_member_emails.length,workspaceName:ev.createElement("b",null,e.metadata.name)}))}function kl({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_members_remove",memberEmails:ev.createElement("b",null,ev.createElement(h9.x,null,e.metadata.removed_member_emails.map(e=>ev.createElement("span",{key:e},e)))),numMembers:e.metadata.removed_member_emails.length,workspaceName:ev.createElement("b",null,e.metadata.name)}))}function ks({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_member_add",memberEmail:ev.createElement("b",null,e.metadata.user_email),workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}))}function ko({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_member_remove",memberEmail:ev.createElement("b",null,e.metadata.user_email),workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}))}function kc({log:e}){return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.license_group_membership_self_select",workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}))}function kd({log:e}){let t=e.metadata.workspace_name,a=e.metadata.old_workspace_name;return t?ev.createElement("span",null,!a&&ev.createElement(eq.Tx,{id:"activity_log.teams.added_team_to_workspace",teamName:ev.createElement("b",null,e.metadata.team_name),newWorkspaceName:ev.createElement("b",null,t)}),a&&ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.added_team_to_workspace_and_removed_from_old_workspace",teamName:ev.createElement("b",null,e.metadata.team_name),newWorkspaceName:ev.createElement("b",null,t),oldWorkspaceName:ev.createElement("b",null,a)}))):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.removed_team_from_workspace",teamName:ev.createElement("b",null,e.metadata.team_name),oldWorkspaceName:ev.createElement("b",null,a)}))}function km({log:e}){let t=e.metadata.old_org_access===ao.Zn.PUBLIC?"visible":"hidden",a=e.metadata.new_org_access===ao.Zn.PUBLIC?"visible":"hidden";return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.workspace_visibility_setting_changed",workspaceName:ev.createElement("b",null,e.metadata.name),oldOrgAccess:ev.createElement("b",null,t),newOrgAccess:ev.createElement("b",null,a)}))}function ku({log:e}){var t;return e.metadata.is_billing_group?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.billing_group_admins_add",adminNames:ev.createElement("b",null,ev.createElement(h9.x,null,e.metadata.new_admin_names.map(e=>ev.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.new_admin_names)?void 0:t.length)??0,billingGroupName:ev.createElement("b",null,e.metadata.name)})):ev.createElement(ke,{log:e})}function k_({log:e}){var t;return e.metadata.is_billing_group?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.billing_group_admins_remove.v2",adminNames:ev.createElement("b",null,ev.createElement(h9.x,null,e.metadata.removed_admin_names.map(e=>ev.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.removed_admin_names)?void 0:t.length)??0,billingGroupName:ev.createElement("b",null,e.metadata.name)})):ev.createElement(kt,{log:e})}function kp({log:e}){var t,a;return e.metadata.is_billing_group?e.metadata.admins?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.billing_group_create_with_admins",billingGroupName:ev.createElement("b",null,e.metadata.name),adminNames:ev.createElement("b",null,ev.createElement(h9.x,null,e.metadata.admins.map(e=>ev.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.admins)?void 0:t.length)??0})):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.billing_group_create",billingGroupName:ev.createElement("b",null,e.metadata.name)})):e.metadata.admins?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.license_group_create_with_admins",workspaceName:ev.createElement("b",null,e.metadata.name),adminNames:ev.createElement("b",null,ev.createElement(h9.x,null,e.metadata.admins.map(e=>ev.createElement("span",{key:e},e)))),numAdmins:(null==(a=e.metadata.admins)?void 0:a.length)??0})):ev.createElement(ka,{log:e})}function kg({log:e}){return e.metadata.is_billing_group?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.billing_group_delete",billingGroupName:ev.createElement("b",null,e.metadata.name)})):ev.createElement(kr,{log:e})}function kE({log:e}){return e.metadata.is_billing_group?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.billing_group_rename",billingGroupName:ev.createElement("b",null,e.metadata.old_name),newName:ev.createElement("b",null,e.metadata.name)})):ev.createElement(kn,{log:e})}function kh({log:e}){return e.metadata.is_billing_group?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.billing_group_membership_change",userEmail:ev.createElement("b",null,e.metadata.user_email),billingGroupName:ev.createElement("b",null,e.metadata.old_license_group_name),newName:ev.createElement("b",null,e.metadata.new_license_group_name)})):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.license_group_membership_change",userEmail:ev.createElement("b",null,e.metadata.user_email),workspaceName:ev.createElement("b",null,e.metadata.old_license_group_name),newName:ev.createElement("b",null,e.metadata.new_license_group_name)}))}function kf({log:e}){return e.metadata.is_billing_group?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.billing_group_membership_self_select",billingGroupName:ev.createElement("b",null,e.metadata.license_group_name)})):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.license_group_membership_self_select",workspaceName:ev.createElement("b",null,e.metadata.license_group_name)}))}function kv({log:e}){let t={...e.metadata,workspace_name:e.metadata.license_group_name,old_workspace_name:e.metadata.old_license_group_name};return ev.createElement(kd,{log:{metadata:t}})}let kb="activity_logs_table--actorColumn--rTH3F activity_logs_table--_actor--1Zwaa activity_logs_table--_columnVertical--QN693",ky="activity_logs_table--tableCellSubtext--MF7-r",kw=(e,t)=>{if(!t)return null;let a="activity_logs_table--upgradeReasonBoldedNoun--9fe4D",r=e=>{switch(e){case _K.xi.DESIGN:return(0,eq.t)("general.figma_design_short_lower");case _K.xi.WHITEBOARD:return(0,eq.t)("general.figjam");case _K.xi.DEV_MODE:return(0,eq.t)("general.dev_mode");default:return(0,eq.t)("general.figma_design_short_lower")}};switch(t.reason){case S0.d.ROLE_UPGRADE:case S0.d.INVITE_REDEEM:case S0.d.INVITE_AUTOUPGRADE:case S0.d.JOIN_TEAM_REQUEST:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.added_to_resource_with_product.seat_rename",actor_name:ev.createElement("span",{className:a},t.actor_name),upgrader_name:ev.createElement("span",{className:a},e),product:r(t.editor_type),resource_name:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.ORG_INVITE_REDEEM:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.redeem_invite_to_org",upgrader_name:ev.createElement("span",{className:a},e)}));case S0.d.ORG_MERGE:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.org_merge.seat_rename",upgrader_name:ev.createElement("span",{className:a},e),child_org:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.RESOURCE_MOVED_TO_ORG:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.resource_move_with_product.seat_rename",upgrader_name:ev.createElement("span",{className:a},e),product:r(t.editor_type),resource_name:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.DRAFTS_SHARE:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.drafts_share",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name),actor_name:ev.createElement("span",{className:a},t.actor_name?t.actor_name:(0,eq.t)("activity_log.upgrade.drafts_share_anonymous"))}));case S0.d.CREATE_TEAM:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.create_team",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.JOIN_TEAM:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.join_team_with_product.seat_rename",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name),product:r(t.editor_type)}));case S0.d.ADMIN_UPGRADE:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.admin_upgrade_with_product.seat_rename",actor_name:ev.createElement("span",{className:a},t.actor_name),upgrader_name:ev.createElement("span",{className:a},e),product:r(t.editor_type)}));case S0.d.SCIM:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.scim_with_product.seat_rename",upgrader_name:ev.createElement("span",{className:a},e),product:r(t.editor_type)}));case S0.d.FIGMA_ADMIN:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.figma_admin",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.DEPART_TEAM:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.depart_team",upgrader_name:ev.createElement("span",{className:a},e)}));case S0.d.CREATE_FILE:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.create_file",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.EDIT_REQUEST_AUTO_APPROVAL:case S0.d.EDIT_REQUEST_APPROVAL:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.edit_request_approval",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.RUN_PLUGIN:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.run_plugin",upgrader_name:ev.createElement("span",{className:a},e)}));case S0.d.ORG_INVITE_REDEEM:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.redeem_invite_to_org",upgrader_name:ev.createElement("span",{className:a},e)}));case S0.d.ORG_MERGE:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.org_merge.seat_rename",upgrader_name:ev.createElement("span",{className:a},e),child_org:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.RESOURCE_MOVED_FROM_ORG_DRAFTS:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.resource_moved_from_drafts",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.DEFAULT_PAID_STATUS:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.default_paid_status_with_product.seat_rename",upgrader_name:ev.createElement("span",{className:a},e),product:r(t.editor_type)}));case S0.d.FJ_GA_REUPGRADE:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.figjam_ga_reupgrade",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.EDIT_BUTTON:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.edit_button",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name)}));case S0.d.ACCESS_EDIT_LINK:case S0.d.ACTIVE_EDIT_ACTION:case S0.d.EDIT_ACTION:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.upgrade.edit_action",upgrader_name:ev.createElement("span",{className:a},e),resource_name:ev.createElement("span",{className:a},t.resource_name)}));default:return null}},kT=e=>{let t="public_link_setting_change"===e.event_name?e.metadata.org_name:e.metadata.workspace_name,a=e.metadata.public_links_max_expiration_in_hours>=24;return e.metadata.public_links_require_password&&e.metadata.public_links_require_expiration?ev.createElement("span",null,a?ev.createElement(eq.Tx,{id:"activity_log.enabled_public_links_require_expiration_and_password_for_the_blog_days_generic",resourceName:ev.createElement("b",null,t),maxDays:e.metadata.public_links_max_expiration_in_hours/24}):ev.createElement(eq.Tx,{id:"activity_log.enabled_public_links_require_expiration_and_password_for_the_blog_hours_generic",resourceName:ev.createElement("b",null,t),maxHours:e.metadata.public_links_max_expiration_in_hours})):ev.createElement("span",null,a?ev.createElement(eq.Tx,{id:"activity_log.enabled_public_links_require_expiration_for_the_blog_days_generic",resourceName:ev.createElement("b",null,t),maxDays:e.metadata.public_links_max_expiration_in_hours/24}):ev.createElement(eq.Tx,{id:"activity_log.enabled_public_links_require_expiration_for_the_blog_hours_generic",resourceName:ev.createElement("b",null,t),maxHours:e.metadata.public_links_max_expiration_in_hours}))},kx=(e,t)=>{if(!t)return null;switch(t.reason){case S0.d.ROLE_UPGRADE:case S0.d.INVITE_REDEEM:case S0.d.INVITE_AUTOUPGRADE:case S0.d.JOIN_TEAM_REQUEST:return(0,eq.t)("activity_log.upgrade.added_to_resource.seat_rename",{actor_name:t.actor_name,upgrader_name:e,resource_name:t.resource_name});case S0.d.RESOURCE_MOVED_TO_ORG:return(0,eq.t)("activity_log.upgrade.resource_move.seat_rename",{upgrader_name:e,resource_name:t.resource_name});case S0.d.ORG_INVITE_REDEEM:return(0,eq.t)("activity_log.upgrade.redeem_invite_to_org",{upgrader_name:e});case S0.d.ORG_MERGE:return(0,eq.t)("activity_log.upgrade.org_merge.seat_rename",{upgrader_name:e,child_org:t.resource_name});case S0.d.DRAFTS_SHARE:return(0,eq.t)("activity_log.upgrade.drafts_share",{upgrader_name:e,resource_name:t.resource_name,actor_name:t.actor_name?t.actor_name:(0,eq.t)("activity_log.upgrade.drafts_share_anonymous")});case S0.d.CREATE_TEAM:return(0,eq.t)("activity_log.upgrade.create_team",{upgrader_name:e,resource_name:t.resource_name});case S0.d.JOIN_TEAM:return(0,eq.t)("activity_log.upgrade.join_team.seat_rename",{upgrader_name:e,resource_name:t.resource_name});case S0.d.ADMIN_UPGRADE:return(0,eq.t)("activity_log.upgrade.admin_upgrade.seat_rename",{actor_name:t.actor_name,upgrader_name:e});case S0.d.SCIM:return(0,eq.t)("activity_log.upgrade.scim.seat_rename",{upgrader_name:e});case S0.d.FIGMA_ADMIN:return(0,eq.t)("activity_log.upgrade.figma_admin",{upgrader_name:e,resource_name:t.resource_name});case S0.d.DEPART_TEAM:return(0,eq.t)("activity_log.upgrade.depart_team",{upgrader_name:e});case S0.d.CREATE_FILE:return(0,eq.t)("activity_log.upgrade.create_file",{upgrader_name:e,resource_name:t.resource_name});case S0.d.EDIT_REQUEST_AUTO_APPROVAL:case S0.d.EDIT_REQUEST_APPROVAL:return(0,eq.t)("activity_log.upgrade.edit_request_approval",{upgrader_name:e,resource_name:t.resource_name});case S0.d.RUN_PLUGIN:return(0,eq.t)("activity_log.upgrade.run_plugin",{upgrader_name:e});case S0.d.ORG_INVITE_REDEEM:return(0,eq.t)("activity_log.upgrade.redeem_invite_to_org",{upgrader_name:e});case S0.d.ORG_MERGE:return(0,eq.t)("activity_log.upgrade.org_merge.seat_rename",{upgrader_name:e,child_org:t.resource_name});case S0.d.RESOURCE_MOVED_FROM_ORG_DRAFTS:return(0,eq.t)("activity_log.upgrade.resource_moved_from_drafts",{upgrader_name:e,resource_name:t.resource_name});case S0.d.DEFAULT_PAID_STATUS:return(0,eq.t)("activity_log.upgrade.default_paid_status.seat_rename",{upgrader_name:e});case S0.d.FJ_GA_REUPGRADE:return(0,eq.t)("activity_log.upgrade.figjam_ga_reupgrade",{upgrader_name:e,resource_name:t.resource_name});case S0.d.EDIT_BUTTON:return(0,eq.t)("activity_log.upgrade.edit_button",{upgrader_name:e,resource_name:t.resource_name});case S0.d.ACCESS_EDIT_LINK:case S0.d.EDIT_ACTION:return(0,eq.t)("activity_log.upgrade.edit_action",{upgrader_name:e,resource_name:t.resource_name});case S0.d.DEV_MODE_PRE_COMMIT_BETA_USE:return(0,eq.t)("activity_log.upgrade.dev_mode_pre_commit_beta_use",{upgrader_name:e});default:return null}},kN=(e,t,a)=>{var r,n,i,l,s,o,c;switch(e.event_name){case"autogen_password_controls_setting_change":if(e.metadata.new_autogen_password_controls_setting)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.enabled_autogen_password_controls_for_the_org"}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.disabled_autogen_password_controls_for_the_org"}));case"community_hub_file_publish":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.community_hub_file_publish",fileName:e.metadata.file_name}));case"community_hub_file_update":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.community_hub_file_update",fileName:e.metadata.file_name}));case"community_hub_file_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.community_hub_file_delete",fileName:e.metadata.file_name}));case"community_plugin_publish":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.community_plugin_publish",pluginName:ev.createElement("b",null,e.metadata.plugin_name)}));case"community_plugin_update":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.community_plugin_update",pluginName:ev.createElement("b",null,e.metadata.plugin_name)}));case"community_plugin_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.community_plugin_delete",pluginName:ev.createElement("b",null,e.metadata.plugin_name)}));case"plugin_ownership_transfer":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_ownership_transfer",pluginName:ev.createElement("b",null,e.metadata.plugin_name),userEmail:ev.createElement("b",null,e.metadata.user_email)}));case"community_widget_publish":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.community_widget_publish",widgetName:ev.createElement("b",null,e.metadata.plugin_name)}));case"community_widget_update":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.community_widget_update",widgetName:ev.createElement("b",null,e.metadata.plugin_name)}));case"community_widget_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.community_widget_delete",widgetName:ev.createElement("b",null,e.metadata.plugin_name)}));case"widget_ownership_transfer":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_ownership_transfer",widgetName:ev.createElement("b",null,e.metadata.plugin_name),userEmail:ev.createElement("b",null,e.metadata.user_email)}));case"fig_file_create":if(e.metadata.folder_name)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_create_folder_name",folder:ev.createElement("b",null,e.metadata.folder_name)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_create"}));case"fig_file_duplicate":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_duplicate",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_export":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_export",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_move":if(e.metadata.folder_name)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_move_folder_name",name:ev.createElement("b",null,e.metadata.name),folder:ev.createElement("b",null,e.metadata.folder_name)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_move",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_link_access_change":switch(e.metadata.link_access){case"edit":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_access_change.edit",name:ev.createElement("b",null,e.metadata.name)}));case"inherit":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_access_change.inherit",name:ev.createElement("b",null,e.metadata.name)}));case"org_edit":if(e.metadata.org_browsable)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_access_change.org_edit",name:ev.createElement("b",null,e.metadata.name),orgName:ev.createElement("b",null,t)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_access_change.org_edit.link",name:ev.createElement("b",null,e.metadata.name),orgName:ev.createElement("b",null,t)}));case"org_view":if(e.metadata.org_browsable)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_access_change.org_view",name:ev.createElement("b",null,e.metadata.name),orgName:ev.createElement("b",null,t)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_access_change.org_view.link",name:ev.createElement("b",null,e.metadata.name),orgName:ev.createElement("b",null,t)}));case"view":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_access_change.view",name:ev.createElement("b",null,e.metadata.name)}));default:(e=>{throw Error(`Invalid link access ${e}`)})(e.metadata.link_access)}case"fig_file_link_expiration_change":return ev.createElement("span",null,(null==(r=e.metadata)?void 0:r.old_expires_at)===null&&(null==(n=e.metadata)?void 0:n.new_expires_at)!==null?ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_expiration_change.add_expiration",name:ev.createElement("b",null,null==(i=e.metadata)?void 0:i.name)}):(null==(l=e.metadata)?void 0:l.old_expires_at)!==null&&(null==(s=e.metadata)?void 0:s.new_expires_at)!==null?ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_expiration_change.change_expiration",name:ev.createElement("b",null,null==(o=e.metadata)?void 0:o.name)}):ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_link_expiration_change.remove_expiration",name:ev.createElement("b",null,null==(c=e.metadata)?void 0:c.name)}));case"fig_file_proto_link_access_change":switch(e.metadata.proto_link_access){case"view":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.view",name:ev.createElement("b",null,e.metadata.name)}));case"org_view":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.org_view",name:ev.createElement("b",null,e.metadata.name),orgName:ev.createElement("b",null,t)}));case"inherit":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.inherit",name:ev.createElement("b",null,e.metadata.name)}));case null:return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.null",name:ev.createElement("b",null,e.metadata.name)}));default:(e=>{throw Error(`Invalid link access ${e}`)})(e.metadata.proto_link_access)}case"fig_file_set_password":if(e.metadata.has_file_link_password)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_set_password.file",name:ev.createElement("b",null,e.metadata.name)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_set_password.prototype",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_unset_password":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_unset_password",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_viewer_access_change":if(e.metadata.viewer_export_restricted)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_viewer_access_change.restricted",name:ev.createElement("b",null,e.metadata.name)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_viewer_access_change",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_permanent_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_permanent_delete",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_permanent_undelete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_permanent_undelete",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_rename":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_rename",oldName:ev.createElement("b",null,e.metadata.old_name),name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_restore":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_restore",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_save_as":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_save_as",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_trash":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_trash",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_view":if(e.metadata.embed_location)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view.embedded",name:ev.createElement("b",null,e.metadata.name),location:ev.createElement("b",null,e.metadata.embed_location)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_view_external":if(e.metadata.external_org_name)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view_external.org",orgName:ev.createElement("b",null,e.metadata.external_org_name)}));if(e.metadata.external_team_name)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view_external.team",teamName:ev.createElement("b",null,e.metadata.external_team_name)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view_external"}));case"fig_file_view_prototype":if(e.metadata.embed_location)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view_prototype.embedded",name:ev.createElement("b",null,e.metadata.name),location:ev.createElement("b",null,e.metadata.embed_location)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view_prototype",name:ev.createElement("b",null,e.metadata.name)}));case"fig_file_view_prototype_external":if(e.metadata.external_org_name)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view_prototype_external.org",orgName:ev.createElement("b",null,e.metadata.external_org_name)}));if(e.metadata.external_team_name)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view_prototype_external.team",teamName:ev.createElement("b",null,e.metadata.external_team_name)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.fig_file_view_prototype_external"}));case"folder_create":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_create",folderName:ev.createElement("b",null,e.metadata.name),teamName:ev.createElement("b",null,e.metadata.team_name)}));case"folder_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_delete",folderName:ev.createElement("b",null,e.metadata.name)}));case"folder_export":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_export",folderName:ev.createElement("b",null,e.metadata.name)}));case"folder_import":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_import",folderName:ev.createElement("b",null,e.metadata.name)}));case"folder_move":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_move",folderName:ev.createElement("b",null,e.metadata.name),teamName:ev.createElement("b",null,e.metadata.team_name)}));case"folder_rename":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_rename",folderName:ev.createElement("b",null,e.metadata.name),oldName:ev.createElement("b",null,e.metadata.old_name)}));case"folder_team_access_change":if(e.metadata.invite_only)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_team_access_change.invite_only",folderName:ev.createElement("b",null,e.metadata.name)}));if(e.metadata.view_only)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_team_access_change.view_only",folderName:ev.createElement("b",null,e.metadata.name)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_team_access_change.edit",folderName:ev.createElement("b",null,e.metadata.name)}));case"folder_transfer_sent":return e.metadata.destination_team_name?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_transfer_sent",folderName:ev.createElement("b",null,e.metadata.folder_name),destinationTeam:ev.createElement("b",null,e.metadata.destination_team_name),destinationOrg:ev.createElement("b",null,e.metadata.destination_org_name)})):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_transfer_sent_secret_teams",folderName:ev.createElement("b",null,e.metadata.folder_name),destinationOrg:ev.createElement("b",null,e.metadata.destination_org_name)}));case"folder_transfer_received":{let t=ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_transfer_received_no_source_org",teamName:ev.createElement("b",null,e.metadata.team_name),folderName:ev.createElement("b",null,e.metadata.folder_name)})),a=ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_transfer_received",teamName:ev.createElement("b",null,e.metadata.team_name),orgName:ev.createElement("b",null,e.metadata.source_org_name),folderName:ev.createElement("b",null,e.metadata.folder_name)})),r=ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_transfer_received_no_source_team",orgName:ev.createElement("b",null,e.metadata.source_org_name),folderName:ev.createElement("b",null,e.metadata.folder_name)})),n=e.metadata.team_name?a:r;return e.metadata.source_org_name?n:t}case"folder_transfer_approved":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.folder_transfer_approved",folderName:ev.createElement("b",null,e.metadata.folder_name)}));case"google_sso_auth_change":return ev.createElement("span",null,e.metadata.google_sso_setting?ev.createElement(eq.Tx,{id:"activity_log.event.google_sso_auth_enable"}):ev.createElement(eq.Tx,{id:"activity_log.event.google_sso_auth_disable"}));case"idle_timeout_setting_change":{let t;let{old_idle_timeout_setting:a,new_idle_timeout_setting:r}=e.metadata;if(a&&r){let[e,n]=(0,SQ.fs)(a),[i,l]=(0,SQ.fs)(r),s=(0,eq.t)(`settings_tab.idle_session_timeout.time.${n}`,{duration:e}),o=(0,eq.t)(`settings_tab.idle_session_timeout.time.${l}`,{duration:i});t=ev.createElement(eq.Tx,{id:"activity_log.event.idle_timeout_setting_change",oldDuration:s,newDuration:o})}else if(r){let[e,a]=(0,SQ.fs)(r),n=(0,eq.t)(`settings_tab.idle_session_timeout.time.${a}`,{duration:e});t=ev.createElement(eq.Tx,{id:"activity_log.event.idle_timeout_setting_enable",duration:n})}else t=ev.createElement(eq.Tx,{id:"activity_log.event.idle_timeout_setting_disable"});return ev.createElement("span",null,t)}case"ip_restriction_change":return ev.createElement("span",null,e.metadata.ip_restriction_setting?ev.createElement(eq.Tx,{id:"activity_log.event.ip_restriction_enable"}):ev.createElement(eq.Tx,{id:"activity_log.event.ip_restriction_disable"}));case"license_group_admins_add":return ev.createElement(ku,{log:e});case"license_group_admins_remove":return ev.createElement(k_,{log:e});case"license_group_create":return ev.createElement(kp,{log:e});case"license_group_delete":return ev.createElement(kg,{log:e});case"license_group_rename":return ev.createElement(kE,{log:e});case"license_group_library_setting_change":return ev.createElement(S7,{log:e});case"license_group_membership_change":return ev.createElement(kh,{log:e});case"license_group_membership_self_select":return ev.createElement(kf,{log:e});case"oauth_token_grant":if(e.metadata.app_name)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.oauth_token_grant",appName:ev.createElement("b",null,e.metadata.app_name)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.oauth_token_grant_unknown"}));case"oauth_token_revoke":if(e.metadata.app_name)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.oauth_token_revoke",appName:ev.createElement("b",null,e.metadata.app_name)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.oauth_token_revoke_unknown"}));case"open_sessions_setting_change":return ev.createElement("span",null,e.metadata.workshop_disabled?ev.createElement(eq.Tx,{id:"activity_log.disabled_open_sessions_for_the_blog",orgName:ev.createElement("b",null,e.metadata.org_name)}):ev.createElement(eq.Tx,{id:"activity_log.enabled_open_sessions_for_the_blog",orgName:ev.createElement("b",null,e.metadata.org_name)}));case"cursor_chat_setting_change":return ev.createElement("span",null,e.metadata.cursor_chat_disabled?ev.createElement(eq.Tx,{id:"activity_log.disabled_cursor_chat_for_the_blog",orgName:ev.createElement("b",null,e.metadata.org_name)}):ev.createElement(eq.Tx,{id:"activity_log.enabled_cursor_chat_for_the_blog",orgName:ev.createElement("b",null,e.metadata.org_name)}));case"open_sessions_start":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.open_sessions_start",name:ev.createElement("b",null,e.metadata.name)}));case"open_sessions_end":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.open_sessions_end",name:ev.createElement("b",null,e.metadata.name)}));case"org_default_license_type_change":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_default_license_type_change.seat_rename",role:ev.createElement("b",null,(0,C8.N)(e.metadata.new_paid_status)),product:ev.createElement("b",null,_z.l6.dict(e=>{switch(e){case _K.xi.DESIGN:return(0,eq.t)("general.figma_design");case _K.xi.WHITEBOARD:return(0,eq.t)("general.figjam");case _K.xi.DEV_MODE:return(0,eq.t)("general.dev_mode")}})[e.metadata.editor_type])}));case"org_guest_invite_setting_change":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_guest_invite_setting_change",guestSetting:ev.createElement("b",null,(0,oC.Op)(e.metadata.guest_invite_setting))}));case"org_invite_create":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_invite_create",inviteeEmail:ev.createElement("b",null,e.metadata.invitee_email),orgName:ev.createElement("b",null,e.metadata.org_name)}));case"org_join_request_create":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_join_request_create",orgName:ev.createElement("b",null,e.metadata.org_name),resourceName:ev.createElement("b",null,e.metadata.resource_name)}));case"org_join_request_approve":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_join_request_approve",orgName:ev.createElement("b",null,e.metadata.org_name),resourceName:ev.createElement("b",null,e.metadata.resource_name),requesterEmail:ev.createElement("b",null,e.metadata.requester_email)}));case"org_library_approve":return ev.createElement(S4,{log:e});case"org_library_unapprove":return ev.createElement(S8,{log:e});case"org_library_setting_change":return ev.createElement(S3,{log:e});case"org_merge":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_merge",childOrgName:ev.createElement("b",null,e.metadata.child_org_name),orgName:ev.createElement("b",null,t)}));case"org_user_create":if(a===e.metadata.user_email)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_create_self",orgName:ev.createElement("b",null,t),permission:ev.createElement("b",null,(0,uR.orgPermissionName)(e.metadata.permission))}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_create",orgName:ev.createElement("b",null,t),permission:ev.createElement("b",null,(0,uR.orgPermissionName)(e.metadata.permission)),userEmail:ev.createElement("b",null,e.metadata.user_email)}));case"org_user_create_external":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_create_external",orgName:ev.createElement("b",null,e.metadata.org_name)}));case"org_user_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_delete",userEmail:ev.createElement("b",null,e.metadata.user_email),orgName:ev.createElement("b",null,t)}));case"org_user_delete_external":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_delete_external",orgName:ev.createElement("b",null,e.metadata.org_name)}));case"org_user_permission_change":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_permission_change",userEmail:ev.createElement("b",null,e.metadata.user_email),orgName:ev.createElement("b",null,t),permission:ev.createElement("b",null,(0,uR.orgPermissionName)(e.metadata.permission))}));case"personal_access_token_create":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.personal_access_token_create"}));case"personal_access_token_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.personal_access_token_delete"}));case"org_user_account_type_change":if(e.metadata.old_account_type)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_account_type_change.seat_rename",userEmail:ev.createElement("b",null,e.metadata.user_email),oldAccountType:ev.createElement("b",null,(0,uR.getOrgAccountTypeString)(e.metadata.old_account_type)),accountType:ev.createElement("b",null,(0,uR.getOrgAccountTypeString)(e.metadata.account_type)),product:ev.createElement("b",null,(0,gU.s)(_K.xi.DESIGN))}));if(e.metadata.old_whiteboard_paid_status)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_account_type_change.seat_rename",userEmail:ev.createElement("b",null,e.metadata.user_email),oldAccountType:ev.createElement("b",null,(0,uR.getOrgAccountTypeString)(e.metadata.old_whiteboard_paid_status)),accountType:ev.createElement("b",null,(0,uR.getOrgAccountTypeString)(e.metadata.whiteboard_paid_status)),product:ev.createElement("b",null,(0,gU.s)(_K.xi.WHITEBOARD))}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_account_type_change.seat_rename",userEmail:ev.createElement("b",null,e.metadata.user_email),oldAccountType:ev.createElement("b",null,(0,uR.getOrgAccountTypeString)(e.metadata.old_dev_mode_paid_status)),accountType:ev.createElement("b",null,(0,uR.getOrgAccountTypeString)(e.metadata.dev_mode_paid_status)),product:ev.createElement("b",null,(0,gU.s)(_K.xi.DEV_MODE))}));case"org_user_account_type_change_to_full":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_account_type_change_to_full.seat_rename",role:ev.createElement("b",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_account_type_change_to_full.editor.seat_rename"})),reason:kw(e.metadata.user_email,e.metadata)}));case"org_user_account_type_upgrade_requested":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_account_type_upgrade_requested",accountType:ev.createElement("b",null,(0,uR.getOrgAccountTypeString)(ao.oz.FULL)),product:ev.createElement("b",null,(0,gU.s)(e.metadata.editor_type))}));case"org_user_account_type_upgrade_approved":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_account_type_upgrade_approved",accountType:ev.createElement("b",null,(0,uR.getOrgAccountTypeString)(ao.oz.FULL)),product:ev.createElement("b",null,(0,gU.s)(e.metadata.editor_type)),userEmail:ev.createElement("b",null,e.metadata.requested_user_email)}));case"org_user_account_type_upgrade_denied":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.org_user_account_type_upgrade_denied",accountType:ev.createElement("b",null,(0,uR.getOrgAccountTypeString)(ao.oz.FULL)),product:ev.createElement("b",null,(0,gU.s)(e.metadata.editor_type)),userEmail:ev.createElement("b",null,e.metadata.requested_user_email)}));case"plugin_approvelist_enable":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_enable_org",org:ev.createElement("b",null,t)}));case"plugin_approvelist_disable":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_disable_org",org:ev.createElement("b",null,t)}));case"plugin_approvelist_add":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_add_org",pluginName:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t)}));case"plugin_approvelist_remove":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_remove_org",pluginName:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t)}));case"plugin_approvelist_add_workspace":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_add_workspace",pluginName:ev.createElement("b",null,e.metadata.plugin_name),workspace:ev.createElement("b",null,e.metadata.workspace_name)}));case"plugin_approvelist_remove_workspace":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_remove_workspace",pluginName:ev.createElement("b",null,e.metadata.plugin_name),workspace:ev.createElement("b",null,e.metadata.workspace_name)}));case"plugin_approvelist_request_org":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_request_org",plugin:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t)}));case"plugin_approvelist_request_approve_org":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_request_approve_org",pluginName:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t),requesterName:ev.createElement("b",null,e.metadata.requester_name)}));case"plugin_approvelist_request_reject_org":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_request_reject_org",pluginName:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t),requesterName:ev.createElement("b",null,e.metadata.requester_name)}));case"plugin_approvelist_request_approve_workspace":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_request_approve_workspace",pluginName:ev.createElement("b",null,e.metadata.plugin_name),workspace:ev.createElement("b",null,e.metadata.workspace_name),requesterName:ev.createElement("b",null,e.metadata.requester_name)}));case"plugin_approvelist_request_reject_workspace":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_approvelist_request_reject_workspace",pluginName:ev.createElement("b",null,e.metadata.plugin_name),workspace:ev.createElement("b",null,e.metadata.workspace_name),requesterName:ev.createElement("b",null,e.metadata.requester_name)}));case"plugin_publisher_invite":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_publisher_invite",pluginName:ev.createElement("b",null,e.metadata.plugin_name),userEmail:ev.createElement("b",null,e.metadata.user_email)}));case"plugin_publisher_accept_invite":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_publisher_accept_invite",pluginName:ev.createElement("b",null,e.metadata.plugin_name)}));case"plugin_publisher_remove_invite":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_publisher_remove_invite",pluginName:ev.createElement("b",null,e.metadata.plugin_name),userEmail:ev.createElement("b",null,e.metadata.user_email)}));case"plugin_publisher_remove":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_publisher_remove",pluginName:ev.createElement("b",null,e.metadata.plugin_name),userEmail:ev.createElement("b",null,e.metadata.user_email)}));case"widget_publisher_invite":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_publisher_invite",widgetName:ev.createElement("b",null,e.metadata.plugin_name),userEmail:ev.createElement("b",null,e.metadata.user_email)}));case"widget_publisher_accept_invite":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_publisher_accept_invite",widgetName:ev.createElement("b",null,e.metadata.plugin_name)}));case"widget_publisher_remove_invite":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_publisher_remove_invite",widgetName:ev.createElement("b",null,e.metadata.plugin_name),userEmail:ev.createElement("b",null,e.metadata.user_email)}));case"widget_publisher_remove":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_publisher_remove",widgetName:ev.createElement("b",null,e.metadata.plugin_name),userEmail:ev.createElement("b",null,e.metadata.user_email)}));case"plugin_install":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_install",pluginName:e.metadata.plugin_name}));case"plugin_uninstall":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.plugin_uninstall",pluginName:e.metadata.plugin_name}));case"private_plugin_publish":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.private_plugin_publish",pluginName:ev.createElement("b",null,e.metadata.plugin_name)}));case"private_plugin_update":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.private_plugin_update",pluginName:ev.createElement("b",null,e.metadata.plugin_name)}));case"private_plugin_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.private_plugin_delete",pluginName:ev.createElement("b",null,e.metadata.plugin_name)}));case"widgets_enabled":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_disable_org",org:ev.createElement("b",null,t)}));case"widgets_disable":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_enable_org",org:ev.createElement("b",null,t)}));case"widget_approvelist_add":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_add_org",widgetName:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t)}));case"widget_approvelist_remove":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_remove_org",widgetName:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t)}));case"widget_approvelist_add_workspace":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_add_workspace",widgetName:ev.createElement("b",null,e.metadata.plugin_name),workspace:ev.createElement("b",null,e.metadata.workspace_name)}));case"widget_approvelist_remove_workspace":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_remove_workspace",widgetName:ev.createElement("b",null,e.metadata.plugin_name),workspace:ev.createElement("b",null,e.metadata.workspace_name)}));case"widget_approvelist_request_org":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_request_org",widget:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t)}));case"widget_approvelist_request_approve_org":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_request_approve_org",widgetName:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t),requesterName:ev.createElement("b",null,e.metadata.requester_name)}));case"widget_approvelist_request_approve_workspace":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_request_approve_workspace",widgetName:ev.createElement("b",null,e.metadata.plugin_name),workspace:ev.createElement("b",null,e.metadata.workspace_name),requesterName:ev.createElement("b",null,e.metadata.requester_name)}));case"widget_approvelist_request_reject_workspace":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_request_reject_workspace",widgetName:ev.createElement("b",null,e.metadata.plugin_name),workspace:ev.createElement("b",null,e.metadata.workspace_name),requesterName:ev.createElement("b",null,e.metadata.requester_name)}));case"widget_approvelist_request_reject_org":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_approvelist_request_reject_org",widgetName:ev.createElement("b",null,e.metadata.plugin_name),org:ev.createElement("b",null,t),requesterName:ev.createElement("b",null,e.metadata.requester_name)}));case"widget_install":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_install",widgetName:e.metadata.plugin_name}));case"widget_uninstall":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.widget_uninstall",widgetName:e.metadata.plugin_name}));case"private_widget_publish":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.private_widget_publish",widgetName:e.metadata.plugin_name}));case"private_widget_update":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.private_widget_update",widgetName:e.metadata.plugin_name}));case"private_widget_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.private_widget_delete",widgetName:e.metadata.plugin_name}));case"public_link_setting_change":case"workspace_public_link_setting_change":if(e.metadata.public_links_require_expiration)return kT(e);if("public_link_setting_change"===e.event_name)return ev.createElement("span",null,e.metadata.public_links_banned?ev.createElement(eq.Tx,{id:"activity_log.disabled_public_links_for_the_blog",orgName:ev.createElement("b",null,e.metadata.org_name)}):e.metadata.public_links_require_password?ev.createElement(eq.Tx,{id:"activity_log.enabled_public_links_require_password_for_the_blog",orgName:ev.createElement("b",null,e.metadata.org_name)}):ev.createElement(eq.Tx,{id:"activity_log.enabled_public_links_for_the_blog",orgName:ev.createElement("b",null,e.metadata.org_name)}));return ev.createElement("span",null,e.metadata.public_links_banned?ev.createElement(eq.Tx,{id:"activity_log.disabled_public_links_for_the_blog_workspace",workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}):e.metadata.public_links_require_password?ev.createElement(eq.Tx,{id:"activity_log.enabled_public_links_require_password_for_the_blog_workspace",workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}):ev.createElement(eq.Tx,{id:"activity_log.enabled_public_links_for_the_blog_workspace",workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}));case"saml_sso_auth_change":return ev.createElement("span",null,e.metadata.saml_sso_setting?ev.createElement(eq.Tx,{id:"activity_log.event.saml_sso_auth_enable"}):ev.createElement(eq.Tx,{id:"activity_log.event.saml_sso_auth_disable"}));case"fig_file_member_add":case"file_repo_member_add":case"folder_member_add":case"team_member_add":{let t=e.metadata;if(t.user_email===a){if(t.level===uq.V.OWNER)return null;return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.joined_the_resource_name_resource",resourceName:ev.createElement("b",null,t.resource_name),resourceType:(0,SX._)(t.resource_type)}))}return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.added_user_email_to_the_resource",userEmail:ev.createElement("b",null,t.user_email),resourceName:ev.createElement("b",null,t.resource_name),resourceType:(0,SX._)(t.resource_type),level:ev.createElement("b",null,(0,uR.levelRoleName)(t.level))}))}case"team_member_add_external":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.team_member_add_external",teamName:ev.createElement("b",null,e.metadata.external_team_name)}));case"team_member_remove_external":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.team_member_remove_external",teamName:ev.createElement("b",null,e.metadata.external_team_name)}));case"fig_file_member_remove":case"file_repo_member_remove":case"folder_member_remove":case"team_member_remove":if("folder"===e.metadata.resource_type&&!e.metadata.team_name&&!e.metadata.resource_name)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.removed_user_email_from_org_draft",userEmail:ev.createElement("b",null,e.metadata.user_email)}));if(e.metadata.user_email===a)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.left_the_resource_name_resource",resourceName:ev.createElement("b",null,e.metadata.resource_name),resourceType:(0,SX._)(e.metadata.resource_type)}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.removed_user_email_from_the_resource",userEmail:ev.createElement("b",null,e.metadata.user_email),resourceName:ev.createElement("b",null,e.metadata.resource_name),resourceType:(0,SX._)(e.metadata.resource_type)}));case"fig_file_member_permission_change":case"file_repo_member_permission_change":case"folder_member_permission_change":case"team_member_permission_change":{let t=e.metadata,a=(0,uR.levelRoleName)(t.old_level),r=(0,uR.levelRoleName)(t.level);return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.changed_user_email",userEmail:ev.createElement("b",null,t.user_email),oldPermission:ev.createElement("b",null,a),newPermission:ev.createElement("b",null,r),resourceName:ev.createElement("b",null,t.resource_name),resourceType:(0,SX._)(t.resource_type)}))}case"team_create":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.created_the_team_name_team_with",teamName:ev.createElement("b",null,e.metadata.team_name),orgAccess:ev.createElement("b",null,(0,uR.orgAccessStrings)()[e.metadata.org_access])}));case"team_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.deleted_the_team_name_team",teamName:ev.createElement("b",null,e.metadata.team_name)}));case"team_export":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.exported_the_team_name_team_out",teamName:ev.createElement("b",null,e.metadata.team_name)}));case"team_import":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.imported_the_team_name_team_int",teamName:ev.createElement("b",null,e.metadata.team_name)}));case"team_transfer_sent":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.requested_to_transfer_the_team",teamName:ev.createElement("b",null,e.metadata.team_name),destinationOrg:ev.createElement("b",null," ",e.metadata.destination_org_name," ")}));case"team_transfer_received":return ev.createElement("span",null,e.metadata.source_org_name?ev.createElement(eq.Tx,{id:"activity_log.teams.org_name_wants_to_transfer_team_name",orgName:ev.createElement("b",null,e.metadata.source_org_name),teamName:ev.createElement("b",null,e.metadata.team_name)}):ev.createElement(eq.Tx,{id:"activity_log.teams.team_name_wants_to_transfer_their_team",teamName:ev.createElement("b",null,e.metadata.team_name)}));case"team_transfer_approved":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.approver_name_approved_the_transfer_of_team_name_team",approverName:ev.createElement("b",null,e.metadata.approver_name," "),teamName:ev.createElement("b",null,e.metadata.team_name)}));case"team_restore":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.restored_the_team_name_team",teamName:ev.createElement("b",null,e.metadata.team_name)}));case"team_rename":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.renamed_the_old_name_team",teamName:ev.createElement("b",null,e.metadata.team_name),oldName:ev.createElement("b",null,e.metadata.old_name)}));case"team_org_access_change":{let t=(0,uR.orgAccessStrings)()[e.metadata.old_org_access],a=(0,uR.orgAccessStrings)()[e.metadata.org_access];return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.changed_the__team_from_old_access",oldAccess:ev.createElement("b",null,t),newAccess:ev.createElement("b",null,a)}))}case"team_license_group_change":return ev.createElement(kv,{log:e});case"team_workspace_change":return ev.createElement(kd,{log:e});case"org_team_creation_controls":return e.metadata.new_team_creation_controls_setting===S1.ls.TEAM_CREATION_CONTROLS_ANYONE?ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.changed_team_creation_controls_to_anyone"})):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.changed_team_creation_controls_to_admins_only"}));case"user_idle_session_timeout":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.users.session_timed_out"}));case"user_sign_in":if("saml_sso"===e.metadata.source)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.users.signed_in_saml"}));if("google_sso"===e.metadata.source)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.users.signed_in_google"}));if("password_authn"===e.metadata.source)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.users.signed_in_password"}));if("app_auth"===e.metadata.source)return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.users.signed_in_app_auth"}));return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.users.signed_in"}));case"user_sign_out":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.users.signed_out"}));case"voice_call_join_req":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.voice.joined_call_on_file_fig_file_key",figFileKey:ev.createElement("b",null,e.metadata.fig_file_key)}));case"roster_exported":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.exported_the_members_list_to_csv"}));case"org_team_csv_exported":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.exported_the_org_team_list_to_csv"}));case"workspace_team_csv_exported":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.teams.exported_the_workspace_team_list_to_csv",workspaceName:ev.createElement("b",null,e.metadata.workspace_name)}));case"scim_token_generate":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.scim_token_generate"}));case"scim_token_revoke":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.event.scim_token_revoke"}));case"repo_branch_create":return ev.createElement("span",null,e.metadata.source_file_name?ev.createElement(eq.Tx,{id:"activity_log.repo.created_branch_name_from_file_name",name:ev.createElement("b",null,e.metadata.name),fileName:ev.createElement("b",null,e.metadata.source_file_name)}):ev.createElement(eq.Tx,{id:"activity_log.repo.created_branch_name",name:ev.createElement("b",null,e.metadata.name)}));case"repo_merge_to_source":return ev.createElement("span",null,e.metadata.source_file_name?ev.createElement(eq.Tx,{id:"activity_log.repo.merged_branch_name_into_file_name",name:ev.createElement("b",null,e.metadata.name),fileName:ev.createElement("b",null,e.metadata.source_file_name)}):ev.createElement(eq.Tx,{id:"activity_log.repo.merged_branch_name",name:ev.createElement("b",null,e.metadata.name)}));case"repo_merge_from_source":return ev.createElement("span",null,e.metadata.source_file_name?ev.createElement(eq.Tx,{id:"activity_log.repo.updated_branch_name_from_file_name",name:ev.createElement("b",null,e.metadata.name),fileName:ev.createElement("b",null,e.metadata.source_file_name)}):ev.createElement(eq.Tx,{id:"activity_log.repo.updated_branch_name",name:ev.createElement("b",null,e.metadata.name)}));case"repo_branch_delete":return ev.createElement("span",null,e.metadata.source_file_name?ev.createElement(eq.Tx,{id:"activity_log.repo.deleted_branch_name_from_file_name",name:ev.createElement("b",null,e.metadata.name),fileName:ev.createElement("b",null,e.metadata.source_file_name)}):ev.createElement(eq.Tx,{id:"activity_log.repo.deleted_branch_name",name:ev.createElement("b",null,e.metadata.name)}));case"repo_branch_archive":return ev.createElement("span",null,e.metadata.source_file_name?ev.createElement(eq.Tx,{id:"activity_log.repo.archived_branch_name_from_file_name",name:ev.createElement("b",null,e.metadata.name),fileName:ev.createElement("b",null,e.metadata.source_file_name)}):ev.createElement(eq.Tx,{id:"activity_log.repo.archived_branch_name",name:ev.createElement("b",null,e.metadata.name)}));case"repo_branch_unarchive":return ev.createElement("span",null,e.metadata.source_file_name?ev.createElement(eq.Tx,{id:"activity_log.repo.unarchived_branch_name_from_file",name:ev.createElement("b",null,e.metadata.name),fileName:ev.createElement("b",null,e.metadata.source_file_name)}):ev.createElement(eq.Tx,{id:"activity_log.repo.unarchived_branch_name",name:ev.createElement("b",null,e.metadata.name)}));case"workspace_admins_add":return ev.createElement(ke,{log:e});case"workspace_admins_remove":return ev.createElement(kt,{log:e});case"workspace_create":return ev.createElement(ka,{log:e});case"workspace_delete":return ev.createElement(kr,{log:e});case"workspace_rename":return ev.createElement(kn,{log:e});case"workspace_members_add":return ev.createElement(ki,{log:e});case"workspace_members_remove":return ev.createElement(kl,{log:e});case"workspace_member_add":return ev.createElement(ks,{log:e});case"workspace_member_remove":return ev.createElement(ko,{log:e});case"workspace_membership_self_select":return ev.createElement(kc,{log:e});case"workspace_library_approve":return ev.createElement(S5,{log:e});case"workspace_library_unapprove":return ev.createElement(S9,{log:e});case"workspace_library_setting_change":return ev.createElement(S6,{log:e});case"workspace_visibility_setting_change":return ev.createElement(km,{log:e});case"webhook_create":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.webhooks.webhooks_created",webhookEvent:ev.createElement("b",null,e.metadata.webhook_event_name),webhookEndpoint:e.metadata.webhook_endpoint}));case"webhook_delete":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.webhooks.webhooks_deleted",webhookEvent:ev.createElement("b",null,e.metadata.webhook_event_name),webhookEndpoint:e.metadata.webhook_endpoint}));case"webhook_update":return ev.createElement("span",null,ev.createElement(eq.Tx,{id:"activity_log.webhooks.webhooks_updated",webhookEvent:ev.createElement("b",null,e.metadata.webhook_event_name),webhookEndpoint:e.metadata.webhook_endpoint}));default:return console.warn(`${e.event_name} is an unknown event name.`),null}},kC=e=>["community_hub_file_publish","community_hub_file_update","community_hub_file_delete","fig_file_create","fig_file_duplicate","fig_file_link_access_change","fig_file_proto_link_access_change","fig_file_viewer_access_change","fig_file_member_add","fig_file_member_permission_change","fig_file_member_remove","fig_file_move","fig_file_export","fig_file_permanent_delete","fig_file_permanent_undelete","fig_file_rename","fig_file_restore","fig_file_save_as","fig_file_set_password","fig_file_trash","fig_file_unset_password","fig_file_view","fig_file_view_prototype","repo_branch_archive","repo_branch_create","repo_branch_delete","repo_merge_to_source","repo_branch_unarchive","repo_merge_from_source","file_repo_member_add","file_repo_member_remove","file_repo_member_permission_change","org_user_account_type_change","org_user_account_type_change_to_full","org_user_account_type_upgrade_approved","org_user_account_type_upgrade_denied","org_user_account_type_upgrade_requested"].includes(e.event_name)?e.metadata.editor_type?(0,gU.s)(e.metadata.editor_type):(0,gU.s)(_K.xi.DESIGN):"\u2013";class kS extends ev.PureComponent{render(){return ev.createElement("div",{className:"activity_logs_table--table--ogxW7"},this.props.logs.map(e=>{var t;let a=kN(e,this.props.orgName,this.getActorEmail(e));if(a)return ev.createElement(pw.SC,{key:e.id,className:"activity_logs_table--row--p3gUi",useAdminTableStyles:!0},ev.createElement("div",{className:"activity_logs_table--dateColumn--UxT90 activity_logs_table--date--TBO0x activity_logs_table--_columnVertical--QN693"},ev.createElement("div",null,(0,gk.Z)(e.created_at).format("MMM D, YYYY")),ev.createElement("div",{className:ky},(0,gk.Z)(e.created_at).format("h:mma"))),!e.is_figma_admin_action&&(null==(t=e.actor)?void 0:t.email)?ev.createElement("div",{className:kb},ev.createElement(xA,{className:"activity_logs_table--avatarWithHandle--bfcoF admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",dispatch:this.props.dispatch,entity:{id:e.actor.id,name:e.actor.name,email:e.actor.email,img_url:e.actor.img_url},showTooltip:!0,size:24})):ev.createElement("div",{className:kb},ev.createElement("div",null,this.getActorName(e)),ev.createElement("div",{className:ky},this.getActorEmail(e))),ev.createElement("div",{className:"activity_logs_table--eventDescriptionColumn--Vym3V"},a),ev.createElement("div",{className:"activity_logs_table--productColumn--5g20E"},kC(e)),ev.createElement("div",{className:"activity_logs_table--teamColumn--3HROl"},e.metadata.team_name||"\u2013"),ev.createElement("div",{className:"activity_logs_table--ipColumn--1N0HY"},e.ip_address))}))}getActorName(e){return e.is_idp_action?(0,eq.t)("activity_log.actor.scim_provider"):e.is_figma_admin_action?(0,eq.t)("activity_log.actor.figma_support"):e.actor?e.actor.email?e.actor.name:(0,eq.t)("activity_log.actor.deleted_user"):(0,eq.t)("activity_log.actor.anonymous_user")}getActorEmail(e){return e.is_figma_admin_action||!e.actor?null:e.actor.email?e.actor.email:e.actor.id.toString()}}kS.displayName="ActivityLogsTable";let kk="recent_activity_modal--emptyModalState--e3KJw",kI="recent_activity_modal--headerRow--eLyMw",kL="recent_activity_modal--tableRow--jD3OM",kR="recent_activity_modal--columnUpgradeEvent--cIffc table--column--974RA",kA="recent_activity_modal--columnDate--OqtW1 table--column--974RA",kO="recent_activity_modal--columnEvent--RZTlQ table--column--974RA",kD="recent_activity_modal--columnTeam--NPY8O table--column--974RA",kF="recent_activity_modal--columnIp---cwX1 table--column--974RA",kM="recent_activity_modal--columnProduct--Mkj02 table--column--974RA";function kP(e){return ev.createElement("div",{style:{height:e.height}})}function kB(e){let t=kw(e.displayName,e.upgradeReason),a=_z.l6.dict(e=>{switch(e){case _K.xi.DESIGN:return(0,eq.t)("recent_activity_modal.figma_design");case _K.xi.WHITEBOARD:return(0,eq.t)("recent_activity_modal.fig_jam");case _K.xi.DEV_MODE:return(0,eq.t)("recent_activity_modal.dev_mode");default:(0,eL.vE)(e)}});return e.upgradeReason&&t?ev.createElement("div",{key:`${e.upgradeReason.editor_type}-upgrade-event`,className:kL},ev.createElement("div",{className:kA},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"recent_activity_modal.upgrade_reason_created_at",creationDate:(0,gk.Z)(e.upgradeReason.created_at).toDate()}))),ev.createElement("div",{className:kR},t),ev.createElement("div",{className:kM},e.upgradeReason.editor_type?a[e.upgradeReason.editor_type]:"\u2013")):ev.createElement(ev.Fragment,null)}function kU(e){let t=e.user.handle||e.user.name||"",a=_z.l6.excludeUnlessFlag([_K.xi.DEV_MODE],"billing_dev_mode_customer_ui"),r=a.withSuffix("_paid_status").dict(t=>e.orgUser[t]===ao.oz.FULL),n=a.withSuffix("_upgrade_reason").dict(t=>e.orgUser[t]),i=a.toArray().some(e=>r[e]&&n[e]);return ev.createElement("div",null,i&&ev.createElement(ev.Fragment,null,ev.createElement(kP,{height:16}),ev.createElement("div",{className:"recent_activity_modal--recentActivityTable--OpIag"},ev.createElement("div",{className:kI},ev.createElement("div",{className:kA},ev.createElement(eq.Tx,{id:"column_header.upgrade_date"})),ev.createElement("div",{className:kR},ev.createElement(eq.Tx,{id:"column_header.event"})),ev.createElement("div",{className:kM},ev.createElement(eq.Tx,{id:"column_header.product"}))),ev.createElement("div",null,a.map(e=>r[e]?ev.createElement(kB,{key:`${e}-upgrade-event`,upgradeReason:n[e],displayName:t}):null)))),e.children)}let kV=(0,e3.x1)(function(e){return e.activityLogs?((0,eL.q8)(!!(e.user.handle||e.user.name),"Expected a user object with a handle or name"),0===e.activityLogs.length)?ev.createElement(kU,{onClose:e.onClose,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,dropdownShown:e.dropdownShown,activityLogs:e.activityLogs},ev.createElement("div",{className:kk},ev.createElement(eq.Tx,{id:"recent_activity_modal.no_activity_found"}))):ev.createElement(kU,{onClose:e.onClose,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,dropdownShown:e.dropdownShown,activityLogs:e.activityLogs},ev.createElement("div",null,ev.createElement(kP,{height:16}),ev.createElement("div",{className:"recent_activity_modal--activityTable--IFH-e recent_activity_modal--recentActivityTable--OpIag"},ev.createElement("div",{className:kI},ev.createElement("div",{className:kA},ev.createElement(eq.Tx,{id:"column_header.event_date"})),ev.createElement("div",{className:kO},ev.createElement(eq.Tx,{id:"column_header.event"})),ev.createElement("div",{className:kM},ev.createElement(eq.Tx,{id:"column_header.product"})),ev.createElement("div",{className:kD},ev.createElement(eq.Tx,{id:"column_header.team"})),ev.createElement("div",{className:kF},ev.createElement(eq.Tx,{id:"column_header.ip_address"}))),ev.createElement("div",null,e.activityLogs.map(t=>ev.createElement("div",{key:t.id,className:kL},ev.createElement("div",{className:kA},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"recent_activity_modal.activity_log_created_at",creationDate:(0,gk.Z)(t.created_at).toDate()})),ev.createElement("span",{className:"recent_activity_modal--secondaryText--we-4I"},ev.createElement(eq.Tx,{id:"recent_activity_modal.activity_log_created_at_time",creationDate:(0,gk.Z)(t.created_at).toDate()}))),ev.createElement("div",{className:kO},kN(t,e.org.name,e.user.email||"")),ev.createElement("div",{className:kM},kC(t)),ev.createElement("div",{className:kD},ev.createElement("span",null,t.metadata.team_name||"\u2013")),ev.createElement("div",{className:kF},t.ip_address))))))):ev.createElement(kU,{onClose:e.onClose,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,dropdownShown:e.dropdownShown,activityLogs:e.activityLogs},ev.createElement("div",{className:kk},ev.createElement(ax.TK,null)))},"Recent Activity Tab");(0,it.Y3)(kV,"RecentActivityModal");var kW=((L=kW||{}).ACTIVITY_LOG="activity_log",L.GUEST_ACCESS="guest_access",L);class kG extends nG.O{constructor(){super(...arguments),this.styleOverrides=()=>({base:"member_modal--baseTab--Q7kGE",selected:"member_modal--selectedTab--A6S3L member_modal--baseTab--Q7kGE"}),this.applyDefaultStyles=()=>!0}}let kj=(0,eb.$j)(e=>({dropdownShown:e.dropdownShown,viewingUserId:e.user.id}))(e=>{let t=(0,eb.I0)(),[a,r]=ev.useState(e.selectedTab),[n,i]=ev.useState(null),l=(0,eb.v9)(e=>e.selectedView);ev.useEffect(()=>{SF.S.getRecent({orgUserId:e.orgUser.id}).then(e=>{i(e.data.meta.activity_logs)}).catch(e=>{var a;t(dl.l.error((null==(a=e.data)?void 0:a.message)||"An error occurred while fetching recent activity.")),console.error("Unable to load recent activity",e)})},[t,e.orgUser.id]);let s=e=>{r(e)};return(0,e3.bC)(ev.createElement(ib.ge,{maxWidth:740,minWidth:740,onClose:()=>{t(ig.hV())},title:(()=>{let t=e.orgUser.permission===ao.Gu.GUEST;return ev.createElement("div",{className:"member_modal--tabs--u4uw-"},ev.createElement(kG,{tab:"activity_log",selectedTab:a,key:"activity_log",onClick:s},ev.createElement(eq.Tx,{id:"members_tab.member_modal.recent_activity_tab"})),t&&ev.createElement(kG,{tab:"guest_access",selectedTab:a,key:"guest_access",onClick:s},ev.createElement(eq.Tx,{id:"members_tab.member_modal.guest_access_tab"})))})()},ev.createElement(SJ,{dropdownShown:e.dropdownShown,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType}),ev.createElement("div",{className:"member_modal--content--jAL2Z"},(()=>{switch(a){case"activity_log":return ev.createElement(kV,{dropdownShown:e.dropdownShown,user:e.user,orgUser:e.orgUser,org:e.org,onClose:e.onClose,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,activityLogs:n});case"guest_access":return ev.createElement(SY,{dropdownShown:e.dropdownShown,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,org:e.org,onChangeAccountType:e.onChangeAccountType})}})()),ev.createElement("div",{className:"member_modal--footer--Q4QXZ"},(0,xz._D)(l.view)&&ev.createElement(ev.Fragment,null,ev.createElement(eA.pJ,{className:"member_modal--moreActivityButton--s1q7s",onClick:e.onRemoveUser},ev.createElement(eq.Tx,{id:"members_tab.member_modal.remove_user_button"})),ev.createElement(eA.RS,{onClick:()=>{let a;if(n&&n.length){let e=n[n.length-1].created_at;a=(0,gk.Z)(e).subtract(3,"months").toString()}t(ig.hV()),t(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.ACTIVITY,activityTabInitialEmail:e.user.email,activityTabInitialStartTime:a}))}},ev.createElement(eq.Tx,{id:"members_tab.member_modal.see_full_activity_button"}))))),"Guest Management Modal",{viewingUserId:e.viewingUserId,guestUserId:e.user.id,guestOrgUserId:e.orgUser.id,currentOrgId:e.orgUser.org_id})});kj.displayName="OrgMemberModal";let kH=(0,it.Y3)(kj,"OrgMemberModal"),k$="last_edit_modal--emptyModalState--0pN7d",kz="last_edit_modal--columnProduct--CEW-1 table--column--974RA",kK="last_edit_modal--columnFile--DIwCp table--column--974RA",kZ="last_edit_modal--emptyCell---QSQG",kq="last_edit_modal--columnLastEdit--vsyDv table--column--974RA";function kY(e){return ev.createElement("div",{key:`last-${e.editor_type}-edit-${e.user.id}`,className:"last_edit_modal--tableRow--j1xy-"},ev.createElement("div",{className:kz},ev.createElement("span",null,(0,gU.s)((0,_K.wq)(e.editor_type)))),(()=>{if(!e.editActivity)return ev.createElement("div",{className:kK},ev.createElement("span",{className:kZ},"\u2013"));if(e.editActivity.can_view)return ev.createElement("div",{className:kK},ev.createElement(eA.rU,{className:"last_edit_modal--columnFileAccessible--Q2aig last_edit_modal--columnFile--DIwCp table--column--974RA",onClick:()=>{e.editActivity&&e.editActivity.file_key&&(e.dispatch(od.fv({view:"fullscreen",fileKey:e.editActivity.file_key,editorType:e.editor_type})),e.dispatch(ig.hV()))},trusted:!0},e.editActivity.file_name));{let t=`file_tooltip_inaccessible_${e.editor_type}`,a=(0,eq.t)("members_tab.last_edit_modal.inaccessible_text");return ev.createElement("div",{className:kK,"data-tooltip-proxy-element-id":t},ev.createElement("div",{id:t,className:"last_edit_modal--inaccessibleFile--HBxZf","data-tooltip-type":aN.fR.TEXT,"data-tooltip":a},e.editActivity.file_name))}})(),ev.createElement("div",{className:kq},e.editActivity?ev.createElement(n2.Lt,{capitalize:!0,date:e.actionAt}):ev.createElement("span",{className:kZ},"\u2013")))}let kJ=(0,eb.$j)(e=>({viewingUserId:e.user.id}))(function(e){let t=(0,eb.I0)(),[a,r]=ev.useState({}),[n,i]=ev.useState(!1);ev.useEffect(()=>{i(!0),SF.S.getLastEdit({orgUserId:e.orgUser.id}).then(e=>{r(e.data.meta)}).catch(e=>{var a;t(dl.l.error((null==(a=e.data)?void 0:a.message)||(0,eq.t)("members_tab.last_edit_modal.error_fetching_edits"))),console.error("Unable to load latest edits",e)}).finally(()=>i(!1))},[t,e.orgUser.id]);let l=e.user.handle||e.user.name;(0,eL.q8)(!!l,"Expected a user object with a handle or name");let s=l?(0,eq.t)("members_tab.last_edit_modal.title_with_name",{publicName:l}):(0,eq.t)("members_tab.last_edit_modal.title_generic");return ev.createElement(e3.Ui,{name:"Org Last Edit Modal",properties:{viewingUserId:e.viewingUserId,currentOrgId:e.orgUser.org_id}},ev.createElement(ib.ge,{maxWidth:442,minWidth:442,onClose:()=>{t(ig.hV())},title:s},ev.createElement("div",{className:"last_edit_modal--modalBody--V6kPv"},(()=>{if(n)return ev.createElement("div",{className:k$},ev.createElement(ax.TK,null));if(!e.lastDesignEdit&&!e.lastWhiteboardEdit)return ev.createElement("div",{className:k$},ev.createElement(eq.Tx,{id:"members_tab.last_edit_modal.no_activity"}));let r=e.lastDesignEdit&&(0,_q.L1)(e.lastDesignEdit)?e.lastDesignEdit.action_at:e.lastDesignEdit,i=e.lastWhiteboardEdit&&(0,_q.L1)(e.lastWhiteboardEdit)?e.lastWhiteboardEdit.action_at:e.lastWhiteboardEdit;return ev.createElement("div",{className:"last_edit_modal--lastEditTable--0exPw"},ev.createElement("div",{className:"last_edit_modal--headerRow---jReW"},ev.createElement("div",{className:kz},ev.createElement(eq.Tx,{id:"members_tab.last_edit_modal.product_column_header"})),ev.createElement("div",{className:kK},ev.createElement(eq.Tx,{id:"members_tab.last_edit_modal.file_column_header"})),ev.createElement("div",{className:kq},ev.createElement(eq.Tx,{id:"members_tab.last_edit_modal.last_edit_column_header"}))),ev.createElement(kY,{user:e.user,editor_type:ao.gg.DESIGN,actionAt:e.lastDesignEdit&&r||"\u2013",editActivity:a.design_file,dispatch:t}),ev.createElement(kY,{user:e.user,editor_type:ao.gg.WHITEBOARD,editActivity:a.whiteboard_file,actionAt:e.lastWhiteboardEdit&&i||"\u2013",dispatch:t}))})())))});kJ.displayName="LastEditModal";let kQ=(0,it.Y3)(kJ,"LastEditModal"),kX="members_table--avatarColumn--wIwso members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",k0="members_table--editorRoleColumn--jojHH members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",k1="members_table--columnMargin--DrBfe",k2="members_table--lockedAccountType--h-S1B members_table--columnMargin--DrBfe",k3="members_table--secondaryAccountType--zYSzk members_table--columnMargin--DrBfe",k4="members_table--accountTypeSubtitle--jgUQM",k8="members_table--menuIcon--VqOqK admin_settings_page--menuIcon--dMpHa",k5="members_table--permissionSelector--BXoRv",k9="members_table--permissionSelectorDisabled--q0c-n",k6="members_table--dropdown--z9bxW admin_settings_page--dropdown--BuB9-",k7="members_table--avatarWithHandle--Iqs4y admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",Ie="members_table--batchActionsDropdownSelector--RWJzJ",It="members_table--link--0oG5r admin_settings_page--link---XC61 blue_link--blueLink--9rlnd",Ia="members_table--secondaryText--B-BXI",Ir="members_table--dropdownColumn--P90T0 multi_select_list--dropdownColumn--n-MKQ table--column--974RA",In="members_table--textWithTooltip--TrVEN";function Ii(e){var t,a;let r=(0,eb.I0)(),{orgUser:n,areDropdownsDisabled:i,onChangeLicenseGroup:l}=e,s=`LICENSE_GROUP_DROPDOWN-${n.user.email}`,o=e.groupsCanMoveUserTo.map(e=>({type:"option",key:e.id,text:(0,dg.aF)(e.name,75)}));return o.push({type:"separator",key:"separator"}),o.push({type:"option",key:"",text:(null==(t=n.license_group_member)?void 0:t.license_group_id)?(0,eq.t)("members_table.license_group_cell.unassign"):(0,eq.t)("license_group.unassigned")}),ev.createElement(ev.Fragment,null,i&&ev.createElement("div",{className:k1}),ev.createElement("div",{className:i?CN.AN:Ir},ev.createElement("div",{className:i?k9:k5},ev.createElement(x$.Q,{dispatch:r,dropdownShown:e.dropdownShown,value:(null==(a=n.license_group_member)?void 0:a.license_group_id)??"",options:o,onChange:e=>{l([n.id],e)},id:s,disabled:i}))))}let Il=a(40238),Is=a(174341),Io=(e,t)=>{let a=[{type:"option",key:ao.oz.FULL,text:(0,C8.N)(ao.oz.FULL),selectedLabel:t?ev.createElement(Ip,null):(0,C8.N)(ao.oz.FULL)}];return e===ao.oz.STARTER&&a.push({type:"option",key:ao.oz.STARTER,text:(0,C8.N)(ao.oz.STARTER)}),a.push({type:"option",key:ao.oz.RESTRICTED,text:(0,C8.N)(ao.oz.RESTRICTED)}),a};function Ic(e){let t=(0,eb.I0)(),{orgOrIdpUser:a,areDropdownsDisabled:r,isNewEditor:n,onChangeAccountType:i}=e,l=n?ev.createElement(Ip,null):(0,C8.N)(a.design_paid_status);if(a.scim_account_type)return ev.createElement(Ig,{label:l,icon:Il,tooltipText:(0,eq.t)("members_table.role_idp_tooltip.seat_rename")});if(a.ecc_upgrading_locked)return ev.createElement(Ig,{label:l,icon:Is,tooltipText:(0,eq.t)("external_collaboration_restricted.members.tooltip.seat_rename")});let s=e.source?`ACCOUNT_TYPE_DROPDOWN-${a.user.email}-${e.source}`:`ACCOUNT_TYPE_DROPDOWN-${a.user.email}`;return ev.createElement("div",null,r&&ev.createElement("div",{className:k1}),ev.createElement("div",{className:r?CN.AN:Ir},ev.createElement("div",{className:r?k9:k5},ev.createElement(x$.Q,{dispatch:t,dropdownShown:e.dropdownShown,value:a.design_paid_status,options:Io(a.design_paid_status,n),onChange:e=>{i([a.id],_K.z9.DESIGN,e)},id:s,disabled:r}))))}function Id(e){let t=(0,eb.I0)(),{orgOrIdpUser:a,areDropdownsDisabled:r,isNewEditor:n,onChangeAccountType:i}=e,l=n?ev.createElement(Ip,null):(0,C8.N)(a.whiteboard_paid_status);if(a.scim_whiteboard_paid_status)return ev.createElement(Ig,{label:l,icon:Il,tooltipText:(0,eq.t)("members_table.role_idp_tooltip.seat_rename")});if(a.ecc_upgrading_locked)return ev.createElement(Ig,{label:l,icon:Is,tooltipText:(0,eq.t)("external_collaboration_restricted.members.tooltip.seat_rename")});let s=e.source?`FIGJAM_ACCOUNT_TYPE_DROPDOWN-${a.user.email}-${e.source}`:`FIGJAM_ACCOUNT_TYPE_DROPDOWN-${a.user.email}`;return ev.createElement("div",null,r&&ev.createElement("div",{className:k1}),ev.createElement("div",{className:r?CN.AN:Ir},ev.createElement("div",{className:r?k9:k5},ev.createElement(x$.Q,{dispatch:t,dropdownShown:e.dropdownShown,value:a.whiteboard_paid_status,options:Io(a.whiteboard_paid_status,n),onChange:e=>{i([a.id],_K.z9.FIGJAM,e)},id:s,disabled:r}))))}function Im(e){let t=(0,eb.I0)(),{orgOrIdpUser:a,areDropdownsDisabled:r,isNewEditor:n,onChangeAccountType:i,cannotOptInToDevMode:l}=e;function s(){return ev.createElement("div",{className:k4,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("members_table.dev_mode_cell.included_with_design_tooltip"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220,"data-testid":"dev_mode-included-with-design-tooltip"},(0,C8.N)(ao.oz.FULL))}if(!(0,eT.BZ)().billing_dev_mode_customer_ui){let e=a.dev_mode_paid_status===ao.oz.FULL||a.design_paid_status===ao.oz.FULL?ao.oz.FULL:ao.oz.RESTRICTED;return e!==ao.oz.FULL&&a.is_dev_mode_beta_user?ev.createElement("div",{className:k3,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("members_table.dev_mode_cell.beta_user_needs_upgrade"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220,"data-testid":"dev-mode-beta-needs-upgrade-tooltip"},ev.createElement("div",{className:"members_table--devModeIcon--yzntD"},ev.createElement(t3.JO,{icon:"file-devmode-16-file-type"})),(0,eq.t)("members_table.beta_participant")):ev.createElement(ev.Fragment,null,ev.createElement("div",{className:k3},a.design_paid_status===ao.oz.FULL?s():(0,C8.N)(e)))}if(a.design_paid_status===ao.oz.FULL)return ev.createElement("div",{className:k2},s());let o=n?ev.createElement(Ip,null):(0,C8.N)(a.dev_mode_paid_status);if(a.scim_dev_mode_paid_status)return ev.createElement(Ig,{label:o,icon:Il,tooltipText:(0,eq.t)("members_table.role_idp_tooltip.seat_rename")});if(a.ecc_upgrading_locked)return ev.createElement(Ig,{label:o,icon:Is,tooltipText:(0,eq.t)("external_collaboration_restricted.members.tooltip.seat_rename")});let c=a.dev_mode_paid_status===ao.oz.RESTRICTED&&l?(0,eq.t)("members_table.dev_mode.requires_org_admin_opt_in"):"",d=e.source?`DEV_MODE_ACCOUNT_TYPE_DROPDOWN-${a.user.email}-${e.source}`:`DEV_MODE_ACCOUNT_TYPE_DROPDOWN-${a.user.email}`;return ev.createElement("div",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":c,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220,"data-testid":"dev-mode-role-cell"},r&&ev.createElement("div",{className:k1}),ev.createElement("div",{className:r?CN.AN:Ir},ev.createElement("div",{className:r?k9:k5},ev.createElement(x$.Q,{dispatch:t,dropdownShown:e.dropdownShown,value:a.dev_mode_paid_status,options:Io(a.dev_mode_paid_status,n),onChange:e=>{i([a.id],_K.z9.DEV_MODE,e)},id:d,disabled:r}),a.dev_mode_paid_status===ao.oz.RESTRICTED&&a.is_dev_mode_beta_user&&ev.createElement("div",{className:k4},(0,eq.t)("members_table.beta_participant")))))}function Iu(e){let{idpUser:t,paidStatus:a}=e,r=a&&!t.isOrgInvite;return r?ev.createElement(Ig,{label:(0,C8.N)(a),icon:Il,tooltipText:(0,eq.t)("members_table.role_idp_tooltip.seat_rename")}):ev.createElement("div",{className:k1},ev.createElement(I_,null))}function I_(){return ev.createElement(ev.Fragment,null,"\u2013")}function Ip(){return ev.createElement(ev.Fragment,null,(0,C8.N)(ao.oz.FULL),ev.createElement(os.Ct,{className:"members_table--badgeNew--DiMx2",color:os.JV.SUCCESS,subtle:!0,text:(0,eq.t)("members_table.badge_new")}))}function Ig(e){return ev.createElement("div",{className:k2},e.label,ev.createElement(eD.n,{className:"members_table--lockIcon--NX2xZ",svg:e.icon,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220}))}function IE(e){var t;let a=(0,eb.I0)(),{orgUser:r,areDropdownsDisabled:n,onChangeWorkspace:i}=e,l=`WORKSPACE_DROPDOWN-${r.user.email}`,s=e.workspacesCanMoveTo.map(e=>({type:"option",key:e.id,text:(0,dg.aF)(e.name,75)}));return s.push({type:"separator",key:"separator"}),s.push({type:"option",key:"",text:(0,_q.Hw)(r)?(0,eq.t)("members_table.workspace_cell.unassign"):(0,eq.t)("workspace.unassigned")}),ev.createElement(ev.Fragment,null,n&&ev.createElement("div",{className:k1}),ev.createElement("div",{className:n?CN.AN:Ir},ev.createElement("div",{className:n?k9:k5},ev.createElement(x$.Q,{dispatch:a,dropdownShown:e.dropdownShown,value:(null==(t=(0,_q.Hw)(r))?void 0:t.workspace_id)??"",options:s,onChange:e=>{i([r.id],e)},id:l,disabled:n}))))}let Ih=a(267837),If=(e,t)=>{let a=[];return a.push({name:(0,xz.d8)(Te.h3.NAME,e.featured_scim_metadata,e.id),sorting_key:Te.h3.NAME,className:kX,getSortValue:e=>e.orgUser.user.handle||e.orgUser.user.email,cellComponent:e=>ev.createElement(II,{orgUser:e.orgUser,dispatch:e.dispatch,isMe:e.isMe})}),t&&a.push({name:(0,eq.t)("add_unassigned_members_modal.role_column.seat_rename"),className:"",cellComponent:IS}),a};function Iv(e){return"orgUser"in e&&void 0!==e.orgUser}let Ib=(e,t)=>{t||(t=_K.xi.DESIGN);let a=C4.fz[(0,_K.rL)(t)];return e[a]===ao.oz.FULL};function Iy(){return ev.createElement(ev.Fragment,null,"\u2013")}function Iw(e,t){var a,r,n;let i;switch(t){case _K.xi.DESIGN:i=null==(a=e.design_upgrade_reason)?void 0:a.created_at;break;case _K.xi.WHITEBOARD:i=null==(r=e.whiteboard_upgrade_reason)?void 0:r.created_at;break;case _K.xi.DEV_MODE:i=null==(n=e.dev_mode_upgrade_reason)?void 0:n.created_at;break;default:(0,eL.vE)(t)}return i??e.account_type_changed_at}let IT=e=>{let t=e&&(0,_q.L1)(e)?e.action_at:e;return t||void 0},Ix=(e,t)=>t===_K.xi.DESIGN?IT(e.last_design_seen):t===_K.xi.WHITEBOARD?IT(e.last_whiteboard_seen):e.last_seen||void 0,IN=(e,t)=>t===_K.xi.DESIGN?IT(e.last_design_edit):t===_K.xi.WHITEBOARD?IT(e.last_whiteboard_edit):e.last_edit;function IC(e){return Iv(e)?e.orgUser.scim_metadata?e.orgUser.scim_metadata[e.org.featured_scim_metadata]:void 0:e.idpUser.scim_metadata?e.idpUser.scim_metadata[e.org.featured_scim_metadata]:void 0}function IS(e){let t=[];return e.orgUser.design_paid_status===ao.oz.FULL&&t.push(ev.createElement("div",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("add_unassigned_members_modal.design_file_icon.tooltip.seat_rename"),key:`design-file-icon-${e.orgUser.id}`},ev.createElement(t3.JO,{icon:"file-design-16-file-type",dataTestId:`design-file-icon-${e.orgUser.id}`}))),(0,C4.NT)(e.orgUser,_K.z9.DEV_MODE)===ao.oz.FULL&&t.push(ev.createElement("div",{key:`devmode-file-icon-${e.orgUser.id}`,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("add_unassigned_members_modal.dev_mode_file_icon.tooltip")},ev.createElement(t3.JO,{icon:"file-devmode-16-file-type",dataTestId:`devmode-file-icon-${e.orgUser.id}`}))),e.orgUser.whiteboard_paid_status===ao.oz.FULL&&t.push(ev.createElement("div",{key:`figjam-file-icon-${e.orgUser.id}`,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("add_unassigned_members_modal.whiteboard_file_icon.tooltip.seat_rename")},ev.createElement(t3.JO,{icon:"file-figjam-16-file-type",dataTestId:`figjam-file-icon-${e.orgUser.id}`}))),ev.createElement(tD.j,{spacing:4},t)}function Ik(e){if(!Iv(e)){let t=e.idpUser.isOrgInvite?(0,eq.t)("members_table.org_user_name_cell.pending_badge"):(0,eq.t)("members_table.org_user_name_cell.pending_scim_badge");return ev.createElement(xA,{className:k7,defaultText:"",dispatch:e.dispatch,entity:e.idpUser,showTooltip:!0,size:24,badge:{color:os.JV.DEFAULT,text:t}})}let t=e.isMe;return ev.createElement(II,{orgUser:e.orgUser,dispatch:e.dispatch,isMe:t})}function II({orgUser:e,dispatch:t,isMe:a}){let r=(0,_q.Lt)(e);return ev.createElement(xA,{className:k7,dispatch:t,entity:e.user,showIsMe:a,showTooltip:!0,size:24,badge:r})}function IL({hideTooltip:e,item:t,upgradeTimestamp:a,upgradeReason:r,children:n}){let i=t.orgUser.user.handle||t.orgUser.user.name||"",l=kx(i,r);if(e||!a||!l)return ev.createElement(ev.Fragment,null,n);let s=(0,eq.t)("members_table.user_upgrade_reason_and_date.tooltip",{upgradeReason:l,upgradeDate:new Date(a)});return ev.createElement("div",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":s,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300,"data-onboarding-key":Tw},n)}function IR(e,t,a){if(!t)return;let r=e.orgUser.user.handle||e.orgUser.user.name||"",n=kx(r,a);return n?ev.createElement("div",{className:Ia,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":n,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300,"data-onboarding-key":Tw},ev.createElement(eq.Tx,{id:"members_table.user_upgrade_date",upgradeDate:new Date(t)})):ev.createElement("div",{className:Ia},ev.createElement(eq.Tx,{id:"members_table.user_upgrade_date",upgradeDate:new Date(t)}))}function IA(e){var t;let a=`MENU_DROPDOWN-${e.idpUser.email}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a;return ev.createElement(xK.ud,{className:CN.SH,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},ev.createElement(eD.n,{svg:Ih,className:k8}),r&&ev.createElement(gb.j.DropdownWithScrim,{dispatch:e.dispatch,className:k6,style:e.dropdownShown.data.position},ev.createElement(gb.j.Option,{onClick:()=>{e.dispatch(Sv.j0({emails:[e.idpUser.email],accountType:e.idpUser.account_type,isResentInvite:!0}))}},ev.createElement(eq.Tx,{id:"members_table.org_invite_menu.resend_invite"})),ev.createElement(gb.j.Option,{onClick:e.onCopyEmail},ev.createElement(eq.Tx,{id:"members_table.org_invite_menu.copy_email"})),ev.createElement(gb.j.Separator,null),ev.createElement(gb.j.Option,{onClick:()=>{e.dispatch(Sv.Jl({idpUser:e.idpUser}))}},ev.createElement(eq.Tx,{id:"members_table.org_invite_menu.remove"}))))}function IO(e){var t;let a=`MENU_DROPDOWN-${e.idpUser.email}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a;return ev.createElement(xK.ud,{className:CN.SH,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},ev.createElement(eD.n,{svg:Ih,className:k8}),r&&ev.createElement(gb.j.DropdownWithScrim,{dispatch:e.dispatch,className:k6,style:e.dropdownShown.data.position},ev.createElement(gb.j.Option,{onClick:e.onCopyEmail},ev.createElement(eq.Tx,{id:"members_table.scim_menu.copy_email"}))))}function ID(e){var t;let a=`MENU_DROPDOWN-${e.orgUser.user.email}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a,n=e.orgUser.permission===ao.Gu.ADMIN,i=e.orgUser.permission===ao.Gu.MEMBER,l=t=>()=>{e.dispatch((0,ig.K4)({type:kH,data:{user:e.orgUser.user,orgUser:e.orgUser,org:e.org,onClose:()=>e.dispatch(ig.hV()),onRemoveUser:()=>{e.onDelete([e.orgUser.id])},selectedTab:t,onChangeAccountType:e.onChangeAccountType}}))},s=l(kW.ACTIVITY_LOG),o=l(kW.GUEST_ACCESS);return ev.createElement(xK.ud,{className:CN.SH,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},ev.createElement(eD.n,{svg:Ih,className:k8}),r&&ev.createElement(gb.j.DropdownWithScrim,{dispatch:e.dispatch,className:k6,style:e.dropdownShown.data.position},ev.createElement(ev.Fragment,null,ev.createElement(gb.j.Option,{onClick:s},ev.createElement(eq.Tx,{id:"members_table.org_user_menu.view_user_activity"})),e.orgUser.permission===ao.Gu.GUEST&&!1!==e.orgUser.is_email_validated&&ev.createElement(gb.j.Option,{onClick:o},ev.createElement(eq.Tx,{id:"members_table.org_user_menu.view_guest_access"}))),!!e.orgUser.user.email&&ev.createElement(gb.j.Option,{onClick:e.onCopyEmail},ev.createElement(eq.Tx,{id:"members_table.org_user_menu.copy_email"})),(0,xz.Um)(e.selectedViewName,e.membersTabViewingUnassigned)&&!e.orgUser.is_email_validated&&ev.createElement(gb.j.Option,{onClick:()=>{e.onResendVerification([e.orgUser.id])}},ev.createElement(eq.Tx,{id:"members_table.org_user_menu.resend_verification"})),!e.isMe&&(0,xz.Zt)(e.selectedViewName)&&ev.createElement(ev.Fragment,null,n&&ev.createElement(gb.j.Option,{onClick:()=>{e.onChangeMemberPermission({id:e.orgUser.id,org_id:e.org.id,updated_at:e.orgUser.updated_at,permission:ao.Gu.MEMBER},e.dispatch,e.queueFilterCountsRefetch)}},ev.createElement(eq.Tx,{id:"members_table.org_user_menu.revoke_admin_access"})),i&&ev.createElement(gb.j.Option,{onClick:()=>{e.onChangeMemberPermission({id:e.orgUser.id,org_id:e.org.id,updated_at:e.orgUser.updated_at,permission:ao.Gu.ADMIN},e.dispatch,e.queueFilterCountsRefetch)}},ev.createElement(eq.Tx,{id:"members_table.org_user_menu.grant_admin_access"}))),!e.isMe&&(0,xz.Pi)(e.selectedViewName,e.membersTabViewingUnassigned)&&ev.createElement(ev.Fragment,null,ev.createElement(gb.j.Separator,null),ev.createElement(gb.j.Option,{onClick:()=>{e.onDelete([e.orgUser.id])}},ev.createElement(eq.Tx,{id:"members_table.org_user_menu.remove"})))))}let IF="BATCH_CHANGE_ROLE_DROPDOWN";function IM({selectedItems:e,orgUsersCurrentlyLoading:t,moreOrgUsersToFetch:a,loadingSelectableUsers:r,selectedAll:n,totalSelectableOrgUsers:i,rowItems:l,selectableOrgUsers:s}){let o=null,c=null,d=e.map(e=>e.orgUser),m=d.map(e=>e.id),u=new Set(m),_=m;if(n&&null===i)return ev.createElement(tD.j,null,ev.createElement(xS.g4,{className:ek.cx.h12.w150.$,animationType:xS.F4.SHIMMER,dataTestId:"loading-unassigned-select-all"}));let p=!1;if(n&&null!==i&&(p=t||a),p&&r)return ev.createElement(tD.j,null,ev.createElement(xS.g4,{className:ek.cx.h12.w150.$,animationType:xS.F4.SHIMMER,dataTestId:"loading-unassigned-select-all"}));if(p){let e=l.map(e=>e.orgUser),t=e.map(e=>e.id),a=new Set(t.filter(e=>!u.has(e)));_=s.filter(e=>!a.has(e.id)).map(e=>e.id)}let g=(e,t)=>ev.createElement("div",{className:"add_unassigned_members_modal--avatarPile--rJ86G"},ev.createElement("div",{className:"add_unassigned_members_modal--user1--tV7Tv add_unassigned_members_modal--userBase--6lin9"},ev.createElement(SD.Y,{user:e.orgUser.user,size:oo.DZ.MEDIUM20})),ev.createElement("div",{className:"add_unassigned_members_modal--user2---enz4 add_unassigned_members_modal--userBase--6lin9"},ev.createElement(SD.Y,{user:t.orgUser.user,size:oo.DZ.MEDIUM20})));if(0===_.length||0===e.length)return null;if(1===_.length)o=(0,eq.t)("add_unassigned_members_modal.user_selected",{userName:e[0].orgUser.user.handle}),c=ev.createElement(SD.Y,{user:e[0].orgUser.user});else if(2===_.length)o=(0,eq.t)("add_unassigned_members_modal.user_a_and_user_b_selected",{userName1:e[0].orgUser.user.handle,userName2:e[1].orgUser.user.handle}),c=g(e[0],e[1]);else{let t=_.length-2;o=(0,eq.t)("add_unassigned_members_modal.user_a_and_user_b_and_n_others_selected",{userName1:e[0].orgUser.user.handle,userName2:e[1].orgUser.user.handle,remainingCount:t}),c=g(e[0],e[1])}return ev.createElement(tD.j,{spacing:8},c,ev.createElement(oc.x,null,o))}function IP({org:e,licenseGroup:t,workspace:a,workspaceId:r,defaultFilters:n,queueOrgUsersRefetch:i,invoices:l,setPendingOrgUserIds:s}){let[o,c]=ev.useState(!1),[d,m]=ev.useState(Te.SR),u=ev.useCallback(e=>{m(t=>{let a=e===Te.h3.SEARCH_SCORE?Te.h3.SEARCH_SCORE:Te.h3.NAME;return{columnName:a,isReversed:t.columnName===a&&!t.isReversed}})},[m]),[_,p]=ev.useState(""),g=ev.useCallback(e=>{p(e),e?u(Te.h3.SEARCH_SCORE):""===e&&u(Te.SR.columnName)},[u,p]),E=ev.useMemo(()=>(0,ld.D)(g,300),[g]),[h,f]=ev.useState(n),v=e=>{f({...h,...e})},[b,y]=ev.useState(new Date().toISOString()),{sortedUsers:w,status:T,fetchMore:x}=(0,EJ.Go)({searchQuery:""!==_?_:void 0,sort:d,filter:h}),{status:N,users:C,totalSelectable:S}=(0,EJ.tS)({searchQuery:""!==_?_:void 0,filter:h,selectedAll:o}),k=T!==_d.Q.SUCCESS||!!x,I=(0,EJ.V_)(),L=(0,eb.I0)(),R=ev.useMemo(()=>w.map(t=>SR(e,I,L)(t)),[e,w,I,L]);if(ev.useEffect(()=>{0===R.length&&y(new Date().toISOString())},[R]),!t&&!a)return null;if(!_&&EP()(h,n)&&0===R.length&&!k)return ev.createElement(tD.j,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",height:160,spacing:0,dataTestId:"add-unassigned-modal-empty-content"},ev.createElement(oc.x,{color:"secondary"},ev.createElement(eq.Tx,{id:"add_unassigned_members_modal.no_unassigned_users"})),ev.createElement(oc.x,{color:"secondary"},ev.createElement(eq.Tx,{id:(null==t?void 0:t.id)?"add_unassigned_members_modal.all_users_have_been_assigned_billing_groups":"add_unassigned_members_modal.all_users_have_been_assigned_workspaces",orgName:e.name})));let A=!!t,O=If(e,A),D=A&&((null==l?void 0:l.length)||0)>0;return ev.createElement("div",{className:D?"add_unassigned_members_modal--unassignedMembersTabContainerWithFilters--v6h0I":"add_unassigned_members_modal--unassignedMembersTabContainer--bjOCz"},ev.createElement("div",{className:ek.cx.p16.pb8.flex.flexColumn.$},ev.createElement(oc.x,null,(null==t?void 0:t.id)?ev.createElement(eq.Tx,{id:"add_unassigned_members_modal.billing_group_description",licenseGroupName:null==t?void 0:t.name}):ev.createElement(eq.Tx,{id:"add_unassigned_members_modal.workspace_description",workspaceName:null==a?void 0:a.name})),ev.createElement(nN.Pl,{styleOverrides:{width:"100%",marginTop:"16px",marginBottom:"8px"},onChange:E,focusOnMount:!1,query:_,clearSearch:()=>g(""),placeholder:(0,eq.t)("add_unassigned_members_modal.search_bar.placeholder")}),D&&ev.createElement("div",{className:"add_unassigned_members_modal--filters--20WXO"},ev.createElement(tD.j,{dataTestId:"add-unassigned-members-tab-filters"},ev.createElement(e3.UE,{className:ek.cx.flex.itemsCenter.h32.$,onClick:()=>v({newEditorFilter:!h.newEditorFilter}),trackingProperties:{filterType:"NewEditorFilter",isFilterEnabled:!h.newEditorFilter}},ev.createElement(SA.X,{checked:h.newEditorFilter,onChange:ex.ZT,label:ev.createElement(SO._,null,ev.createElement(eq.Tx,{id:"members_table.menu_bar_filter.new_since_last_invoice"}))}))))),ev.createElement(fz.Ch,{items:R,columns:O,itemTypeContext:{itemType:"user",getSelectedCountString:e=>(0,eq.t)("multi_select_list.selected_count_user",{numSelected:e})},getItemKey:e=>e.orgUser.user_id,emptyContent:ev.createElement("div",{className:ek.cx.mt24.$,"data-testid":"add-unassigned-modal-empty-search-content"},ev.createElement(oc.x,{color:"secondary"},ev.createElement(eq.Tx,{id:"add_unassigned_members_modal.no_unassigned_users_found"}))),sortState:d,onSetSortState:u,scrollContainerInnerClassName:"add_unassigned_members_modal--scrollContainerInner--RDKqP",minContentWidth:448,isLoading:k,onFetchMore:x,styleOverrideClassNames:{header:"add_unassigned_members_modal--header--eVm5d add_unassigned_members_modal--extendedRow--pepxT",row:"add_unassigned_members_modal--row--c5OEj",checkboxColumn:"add_unassigned_members_modal--checkboxColumn--022zc",selectedRow:"add_unassigned_members_modal--selectedRow--BI4N4 add_unassigned_members_modal--unassignedRowBackgroundStyles--5Z7vK add_unassigned_members_modal--extendedRow--pepxT",tableWrapper:"add_unassigned_members_modal--tableWrapper--VhH73"},paddingEnd:8,footer:a=>{let n=a.map(e=>e.orgUser.id),l=()=>{r&&L(C3.qV({orgId:e.id,lastUpdateTimestampOverride:b,successCallback:(0,eT.BZ)().members_es_indexing_watcher?()=>{}:()=>{L(r7.R.enqueue({message:(0,eq.t)("add_unassigned_members_modal.workspaces_success_message",{numUsers:n.length}),type:"workspace-changed"}))},params:{org_user_ids:n,workspace_id:r}}))},c=()=>{let a=null==t?void 0:t.id;a&&L(C3.qV({orgId:e.id,lastUpdateTimestampOverride:b,params:{org_user_ids:n,license_group_id:a},successCallback:(0,eT.BZ)().members_es_indexing_watcher?()=>{}:()=>{L(r7.R.enqueue({message:(0,eq.t)("add_unassigned_members_modal.billing_groups_success_message",{numUsers:n.length}),type:"license-group-changed"}))}}))};return ev.createElement("div",null,ev.createElement(tD.j,{padding:16},ev.createElement(IM,{selectedItems:a,orgUsersCurrentlyLoading:T!==_d.Q.SUCCESS,moreOrgUsersToFetch:!!x,loadingSelectableUsers:N===_d.Q.LOADING,selectedAll:o,totalSelectableOrgUsers:S,rowItems:R,selectableOrgUsers:C}),ev.createElement(tD.m,null),ev.createElement(oM.z,{variant:"primary",disabled:!a.length,onClick:()=>{t?c():l(),L(ig.eI()),(0,eT.BZ)().members_es_indexing_watcher?s(n):i()},dataTestId:"assign-members-button"},ev.createElement(eq.Tx,{id:"add_unassigned_members_modal.add_members_button"}))))},onToggleSelectAll:e=>c(!e)}))}let IB=(0,it.Y3)(function({licenseGroupId:e,workspaceId:t,queueOrgUsersRefetch:a,invoices:r,setPendingOrgUserIds:n}){var i;let l=(0,eb.I0)(),s=(0,uL.Ng)(),o=(0,eb.v9)(e=>e.selectedView),[c,d]=ev.useState(SI.ADD_MEMBERS),m=(0,eb.v9)(({licenseGroups:t})=>e?t[e]:void 0),u=(0,dV.mU)(dH.OrgInviteModalView,{workspaceId:t},{enabled:!!t}),_=null==(i=u.data)?void 0:i.workspace;if(!s||e&&t)return null;let p={...Te.bu};e?p.licenseGroupFilter=bO.u:t&&(p.workspaceFilter=wO.F);let g=SN(s,o.view);return ev.createElement(e3.Ui,{name:"Add Unassigned Members Modal"},ev.createElement(ib.ge,{title:e=>{let t=[SL(SI.ADD_MEMBERS),SL(SI.INVITE_USERS)],a=e=>{d(e.view)};return ev.createElement(tD.j,null,t.map(e=>ev.createElement(nG.O,{key:e.view,onClick:()=>a(e),tab:e.view,selectedTab:c},ev.createElement(oc.x,{fontSize:11},e.name))),ev.createElement(tD.m,null),e)},maxWidth:480,onClose:()=>{l(ig.eI())},containerClassName:c===SI.ADD_MEMBERS?"add_unassigned_members_modal--unassignedMembersTab--gWAtH":"add_unassigned_members_modal--inviteTab--dPRBa",innerContainerClassName:"add_unassigned_members_modal--headerModalContainer--O9Dmp",fixedTop:!0},c===SI.ADD_MEMBERS?ev.createElement(IP,{org:s,licenseGroup:m,workspace:_,workspaceId:t,defaultFilters:p,queueOrgUsersRefetch:a,invoices:r,setPendingOrgUserIds:n}):ev.createElement(Sx,{org:s,licenseGroupId:e,workspaceId:t,dispatch:l,orgHasGuestsInviteAllowlist:g,canInviteMembers:SC(s,o.view),multiLineForm:!0,buttonClassName:"add_unassigned_members_modal--multiLineButton--IdSKt",modalWrapperClassName:"add_unassigned_members_modal--inviteModalWrapper--IPw0O",descriptionClassName:"add_unassigned_members_modal--inviteDescription--iMS-D"})))},"ADD_UNASSIGNED_MEMBERS_MODAL");var IU=a(933644),IV=a(349035);let IW="banner--bannerChildDefault--vclv7",IG="banner--bannerChildWarning--HW-Yg",Ij={INFO:"info",WARN:"warning",SUCCESS:"success"},IH={[Ij.INFO]:{borderColor:"default",bgColor:"secondary",textColor:"default",childClassName:"bannerChildDefault"},[Ij.WARN]:{borderColor:"warning",bgColor:"warning",textColor:"default",forceTheme:"light",childClassName:"bannerChildWarning"},[Ij.SUCCESS]:{borderColor:"default",bgColor:"success",textColor:"oninverse",forceTheme:"light",childClassName:"bannerChildDefault"}};function I$({icon:e,title:t,subtitle:a,actions:r,variant:n=Ij.INFO,children:i,bannerPadding:l,dataTestId:s}){let{bgColor:o,borderColor:c,textColor:d,childClassName:m,forceTheme:u}=IH[n],_=!!i,p=a?16:8;return ev.createElement(tD.j,{direction:"vertical",height:"hug-contents",cornerRadius:6,strokeWidth:_?1:0,strokeColor:c,spacing:0,dataTestId:s},ev.createElement("div",{className:ek.cx.borderBox.wFull.hFull.$,"data-preferred-theme":u},ev.createElement(tD.j,{direction:"horizontal",verticalAlignItems:"center",spacing:4,padding:l??p,cornerRadius:_?{topLeft:5,topRight:5}:5,backgroundColor:o},e&&ev.createElement("div",{className:ek.cx.w32.h32.flex.itemsCenter.justifyCenter.flexShrink0.$,style:a?{marginTop:"-16px"}:{}},ev.createElement(eD.n,{style:{fill:(0,IV.IV)(d)},svg:e})),ev.createElement(tD.j,{spacing:0,direction:"vertical",height:"hug-contents"},ev.createElement(oc.x,{fontSize:11,color:d},t),a&&ev.createElement(oc.x,{fontSize:11,color:d},a)),ev.createElement(tD.m,null),r)),i&&ev.createElement("div",{style:{borderBottomLeftRadius:5,borderBottomRightRadius:5},className:tQ()(ek.cx.borderBox.wFull.$,ef[m])},i))}function Iz({title:e,value:t,info:a,tooltipData:r,isLoading:n,dataTestId:i}){return ev.createElement(tD.j,{direction:"vertical",spacing:4,padding:20,dataTestId:i},ev.createElement(oc.x,{color:"default"},e),ev.createElement("span",{"data-tooltip-type":null==r?void 0:r.type,"data-tooltip":null==r?void 0:r.contents,"data-tooltip-show-below":null==r?void 0:r.showBelow,"data-tooltip-timeout-delay":null==r?void 0:r.timeoutDelay},ev.createElement(oc.x,{color:"default",fontWeight:"medium",fontSize:20},n?ev.createElement(xS.g4,{className:ek.cx.w64.h32.$}):t)),a&&ev.createElement(oc.x,{color:"secondary"},a))}var IK=a(166034);let IZ=(0,it.Y3)(function({licenseGroupId:e,licenseGroupName:t,orgId:a}){let r=(0,eb.I0)();return ev.createElement(ib.sv,{headerClassName:"complete_license_group_review_modal--header--XWh1d",maxWidth:360,minWidth:360,fixedTop:!1,title:(0,eq.t)("license_group_admin.billing_banner.review.confirmation_modal.title.seat_rename",{billingGroupName:t}),confirmText:(0,eq.t)("general.confirm"),onConfirm:()=>{IK.v.submitReview({licenseGroupId:e}).then(({data:e})=>r(w4.Vx({licenseGroup:e.meta,orgId:a}))).catch(e=>{r(r7.R.enqueue({error:!0,message:e.message}))})}},ev.createElement(oc.x,{i18nId:"license_group_admin.billing_banner.review.confirmation_modal.body.seat_rename"}))},"CompleteLicenseGroupReviewModal"),Iq=a(879621),IY=a(916671),IJ=a(187977);function IQ({licenseGroupId:e,forceLoading:t}){let a=w5(e),r=t||"loading"===a.status,n=a.data,i=e=>{var t;let a=null==(t=null==n?void 0:n.fullPaidStatusCounts)?void 0:t.find(t=>t.licenseType===e);return Number((null==a?void 0:a.count)??0)},l=_z.l6.excludeUnlessFlag([_K.z9.DEV_MODE],"billing_dev_mode_customer_ui").sort(_z.uE).withOverrides({[_K.xi.DESIGN]:(0,eq.t)("license_group_admin.billing_banner.count_title.design.seat_rename"),[_K.xi.WHITEBOARD]:(0,eq.t)("license_group_admin.billing_banner.count_title.figjam.seat_rename"),[_K.xi.DEV_MODE]:(0,eq.t)("license_group_admin.billing_banner.count_title.dev_mode")}).dict((e,t)=>ev.createElement(Iz,{key:t,title:e,isLoading:r,value:i(t),dataTestId:`${t}-count-cell`}));return ev.createElement(tD.j,{direction:"horizontal"},Object.values(l))}function IX({licenseGroup:e,isLoadingInvoices:t,invoices:a,queueOrgUsersRefetch:r,setPendingOrgUserIds:n}){let i=(0,eb.I0)(),l=(0,uL.$0)(),s=e.last_reviewed_at;if(t)return ev.createElement(I$,{variant:Ij.INFO,title:ev.createElement(xS.g4,{className:ek.cx.w150.h12.$,dataTestId:"billing-banner-shimmer"})},ev.createElement(IQ,{licenseGroupId:e.id,forceLoading:!0}));if(!a)return null;let o=ev.createElement(IQ,{licenseGroupId:e.id});if(a&&(0,_9.qQ)(a))return(0,w6.N)(e,a)?ev.createElement("div",{className:ek.cx.wFull.$,style:{minWidth:493}},ev.createElement(I$,{icon:IY,variant:Ij.WARN,bannerPadding:16,title:ev.createElement(oc.x,{fontWeight:"semi-bold",i18nId:"license_group_admin.billing_banner.review.title.seat_rename"}),subtitle:ev.createElement(oc.x,{i18nId:"license_group_admin.billing_banner.review.subtitle.seat_rename"}),actions:ev.createElement(tD.j,{direction:"horizontal",spacing:24,width:"hug-contents",padding:{right:4}},(0,oC.di)(l)&&ev.createElement("div",{className:ek.cx.colorText.underline.noWrap.cursorDefault.$,onClick:()=>{i((0,ig.K4)({type:IB,data:{licenseGroupId:e.id,queueOrgUsersRefetch:r,invoices:a,setPendingOrgUserIds:n}}))},role:"link",tabIndex:0},ev.createElement(oc.x,{fontWeight:"medium",i18nId:"license_group_admin.billing_banner.review.add_members"})),ev.createElement(oM.z,{variant:"inverse",onClick:()=>{i((0,ig.K4)({type:IZ,data:{licenseGroupId:e.id,licenseGroupName:e.name,orgId:l}}))}},ev.createElement(oc.x,{i18nId:"license_group_admin.billing_banner.review.confirm_editors.seat_rename"})))},o)):ev.createElement(I$,{icon:IJ,variant:Ij.SUCCESS,bannerPadding:8,title:ev.createElement(oc.x,{i18nId:"license_group_admin.billing_banner.completed_at_date",i18nParams:{date:ev.createElement(oc.x,{fontWeight:"semi-bold"},(0,gk.Z)(s).format("ll"))}})},o);let c=(0,_9.Zh)(a,"upcoming")||(0,_9.Zh)(a,"locked");return c?ev.createElement(I$,{icon:Iq,variant:Ij.INFO,bannerPadding:8,title:ev.createElement(oc.x,{i18nId:"license_group_admin.billing_banner.default",i18nParams:{date:ev.createElement(oc.x,{fontWeight:"semi-bold"},(0,gk.Z)(c.due_at).format("ll"))}})},o):null}function I0({queueOrgUsersRefetch:e,setPendingOrgUserIds:t}){var a;let r=(0,eb.v9)(e=>e.selectedView),n=(0,uL.$0)(),i=(0,w$.A9)(n),l=(0,eb.v9)(({licenseGroups:e})=>r.licenseGroupId?e[r.licenseGroupId]:void 0),s="loading"===i.status,o=null==(a=null==i?void 0:i.data)?void 0:a.invoices;return"licenseGroup"===r.view&&l&&(0,oC.HR)(n)&&(s||o)?ev.createElement(tD.j,{height:"hug-contents",padding:{bottom:24,left:32,right:32},dataTestId:"license-group-billing-banner"},ev.createElement(IX,{licenseGroup:l,isLoadingInvoices:s,invoices:o,queueOrgUsersRefetch:e,setPendingOrgUserIds:t})):null}let I1=(0,r0.u4)((e,t,{liveStore:a})=>{let r=e.getState().currentUserOrgId;if(!r)return;let n=a.getMutation(w$.oG);n({orgId:r,licenseQuantities:t.licenseQuantities}).then(()=>{e.dispatch(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.BILLING,shouldShowLockedBanner:!0}))}).catch(t=>{var a;e.dispatch(dl.l.error((null==(a=t.data)?void 0:a.message)||"An error occurred while locking your invoice.",5e3)),console.error(t)})});var I2=a(312795);let I3=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=(0,_9.Vk)(e.invoice),r=function(){if(1===e.invoice.quarter){let t=[(0,eq.t)("members_table.true_up.freeze_invoice_design_editor_text.seat_rename",{lockedQuantityDesignEditors:a[_K.z9.DESIGN]})];return(0,eT.BZ)().billing_dev_mode_invoicing&&t.push((0,eq.t)("members_table.true_up.freeze_invoice_dev_mode_seat_text",{quantity:a[_K.z9.DEV_MODE]})),t.push((0,eq.t)("members_table.true_up.freeze_invoice_figjam_editor_text.seat_rename",{lockedQuantityFigJamEditors:a[_K.z9.FIGJAM]})),{title:(0,eq.t)("members_table.true_up.freeze_invoice_confirm_title.template",{seatsText:(0,dg.WH)(t)}),description:(0,eq.t)("members_table.true_up.freeze_invoice_confirm_description.seat_rename.template",{date:(0,gk.Z)(e.invoice.due_at).format("MMMM D"),seatsText:(0,dg.WH)(t),lockedAmountToPay:new mw.Lr(e.invoice.currency).formatMoney(e.invoice.amount_due)})}}{let t=[(0,eq.t)("members_table.true_up.freeze_invoice_new_design_editor_text.seat_rename",{lockedQuantityDesignEditors:a[_K.z9.DESIGN]})];return(0,eT.BZ)().billing_dev_mode_invoicing&&t.push((0,eq.t)("members_table.true_up.freeze_invoice_new_dev_mode_seat_text",{quantity:a[_K.z9.DEV_MODE]})),t.push((0,eq.t)("members_table.true_up.freeze_invoice_new_figjam_editor_text.seat_rename",{lockedQuantityFigJamEditors:a[_K.z9.FIGJAM]})),{title:(0,eq.t)("members_table.true_up.freeze_invoice_confirm_title_true_up.template",{seatsText:(0,dg.WH)(t)}),description:(0,eq.t)("members_table.true_up.freeze_invoice_confirm_description_true_up.seat_rename",{date:(0,gk.Z)(e.invoice.due_at).format("MMMM D"),lockedAmountToPay:new mw.Lr(e.invoice.currency).formatMoney(e.invoice.amount_due)})}}}(),{groupsToReview:n}=(0,w6.hj)(e.licenseGroups,e.invoices),i=e.licenseGroupsEnabled&&n.length>0;return ev.createElement(e3.Ui,{name:"Freeze Invoice Modal",properties:{numReviewsIncomplete:n.length,orgId:e.org.id}},ev.createElement(I2.H,{dispatch:t,checkboxText:(0,eq.t)("members_table.true_up.freeze_invoice_checkbox_text"),buttonText:(0,eq.t)("members_table.true_up.freeze_invoice_button_text"),onConfirm:function(){t(I1({licenseQuantities:a})),function(){if(e.onHide){e.onHide();return}t(ig.hV())}()},title:(0,eq.t)("members_table.true_up.freeze_invoice_checkbox_title"),disableClickOutsideToHide:!0},ev.createElement("div",{className:ek.cx.lh16.font11.$},i&&ev.createElement(ev.Fragment,null,ev.createElement("p",{className:ek.cx.mb8.$},(0,oC.uH)(e.org.id)?ev.createElement(eq.Tx,{id:"members_table.true_up.freeze_invoice_billing_group_info"}):ev.createElement(eq.Tx,{id:"members_table.true_up.freeze_invoice_workspace_info"})),ev.createElement("div",{className:ek.cx.maxH300.overflowAuto.$},ev.createElement("ul",{className:ek.cx.ml16.mb8.$},n.map(e=>ev.createElement("li",{style:ie.sx.add({listStyleType:"disc"}).$,key:e.id},e.name," ",!e.is_orphaned&&ev.createElement("span",{className:ek.cx.textFGBlack3__DEPRECATED.$},"("+(0,dg.WH)(e.admin_users_metadata.map(e=>e.email||""))+")")))))),ev.createElement("p",{className:ek.cx.mb8.mt8.$},r.description),ev.createElement("p",{className:ek.cx.fontSemiBold.$},r.title))))},"FREEZE_INVOICE_CONFIRM_MODAL"),I4="confirm_invoice_banner--bannerData--aN08j",I8="confirm_invoice_banner--mainTextContainer--dmqvY",I5="confirm_invoice_banner--subtextContainer--53OYu",I9="confirm_invoice_banner--subtext--EOjZv",I6="shared_banner--figjamReviewBanner--CKRgr",I7="shared_banner--boldNumber--LZKNd",Le="shared_banner--infoIcon--BkfV9 shared_banner--badgeSpacing--gg2lx",Lt="shared_banner--blackButton--EbYAl",La=a(174341);function Lr(e,t){return t.length>0&&(0,_9.qQ)(t)&&e.has_automatic_upcoming_invoice}function Ln(e){if(!e.invoices||!Lr(e.org,e.invoices))return null;let t=(0,_9.qo)(e.invoices,"upcoming");if(!t)return null;let a=(0,_9.Vk)(t),r=()=>ev.createElement(eD.n,{svg:La,className:Le,"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":aN._7.ORG_COST_INFO,"data-tooltip-invoice-quarter":t.quarter,"data-tooltip-invoice-is-stub":t.is_stub,"data-tooltip-invoice-num-quarters-in-billing-period":t.num_quarters_in_billing_period,"data-tooltip-invoice-amount-due-breakdown":JSON.stringify(t.amount_due_breakdown),"data-tooltip-invoice-quantity-added":n.licenseData[_K.z9.DESIGN].effectiveQuantityToBill,"data-tooltip-invoice-figjam-owed-seats":n.licenseData[_K.z9.FIGJAM].effectiveQuantityToBill,"data-tooltip-invoice-show-figjam-cost-breakdown":!e.org.figjam_disabled_at,"data-tooltip-invoice-license_type_configuration":JSON.stringify(t.license_type_configuration),"data-tooltip-invoice-billing-plan":e.org.plan,"data-tooltip-invoice-currency":t.currency,"data-tooltip-light-mode":!0,"data-tooltip-interactive":!0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50}),n=(0,_9.C5)(t,{[_K.z9.DESIGN]:e.designBillableSeats,[_K.z9.FIGJAM]:e.figjamBillableSeats,[_K.z9.DEV_MODE]:0},e.org.plan),i=t.seat_floor.design>0||t.seat_floor.figjam>0;return ev.createElement(e3.Ui,{name:"Review banner",properties:{notification:"Confirm invoice banner"}},ev.createElement("div",{className:I6,"data-testid":"confirm-invoice-banner"},ev.createElement("div",{className:"confirm_invoice_banner--bannerDataContainer--Jta3l shared_banner--bannerDataSection--mWF52"},ev.createElement("div",{className:I4},ev.createElement("div",{className:I8},1===t.quarter?ev.createElement(eq.Tx,{id:"members_table.true_up.total_design_editors.seat_rename"}):ev.createElement(eq.Tx,{id:"members_table.true_up.new_design_editors.seat_rename"}),"\xa0",ev.createElement("span",{className:I7},n.licenseData[_K.z9.DESIGN].rawQuantityToBill)),i&&ev.createElement("div",{className:I5},ev.createElement("span",{className:I9},(0,eq.t)("members_table.true_up.seat_minimum",{seatMinimum:t.seat_floor.design})),ev.createElement(eD.n,{svg:La,className:Le,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("members_table.true_up.minimum_design_editors_tooltip.seat_rename"),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50}))),null===e.org.figjam_disabled_at&&ev.createElement("div",{className:I4},ev.createElement("div",{className:I8},1===t.quarter?ev.createElement(eq.Tx,{id:"members_table.true_up.total_figjam_editors.seat_rename"}):ev.createElement(eq.Tx,{id:"members_table.true_up.new_figjam_editors.seat_rename"}),"\xa0",ev.createElement("span",{className:I7},n.licenseData[_K.z9.FIGJAM].rawQuantityToBill)),i&&ev.createElement("div",{className:I5},ev.createElement("span",{className:I9},(0,eq.t)("members_table.true_up.seat_minimum",{seatMinimum:t.seat_floor.figjam})),ev.createElement(eD.n,{svg:La,className:Le,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("members_table.true_up.minimum_figjam_editors_tooltip.seat_rename"),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50}))),ev.createElement("div",{className:I4},ev.createElement("div",{className:I8},ev.createElement(eq.Tx,{id:"members_table.true_up.invoice_subtotal"}),"\xa0",ev.createElement("span",{className:I7},new mw.Lr(t.currency).formatMoney(n.amountToPay,{showCents:!1})),!i&&r()),i&&ev.createElement("div",{className:I5},ev.createElement("span",{className:I9},(0,eq.t)("members_table.true_up.see_breakdown")),r()))),ev.createElement(eA.RS,{className:Lt,onClick:()=>{Object.values(a).every(e=>0===e)?e.dispatch(I1({licenseQuantities:a})):e.dispatch((0,ig.K4)({type:I3,data:{licenseGroupsEnabled:e.licenseGroupsEnabled,licenseGroups:e.licenseGroups,org:e.org,invoice:t,invoices:e.invoices}}))}},ev.createElement(eq.Tx,{id:"members_table.true_up.confirm_and_finalize_invoice"}))))}var Li=a(483243);function Ll({org:e,invoice:t}){let a=(0,w$.A9)(e.id),r=new mw.Lr(t.currency).formatMoney(t.amount_due),n=1===t.quarter;return ev.createElement(Li.jX,{direction:"horizontal"},_z.as.excludeUnlessFlag([_K.z9.DEV_MODE],"billing_dev_mode_invoicing").sort(_z.uE).map(e=>{let r=t.license_type_configuration[e],i=t.seat_floor[e],l=(null==r?void 0:r.added_quantity)??0,s=(()=>{var t,r,n;switch(e){case _K.z9.DESIGN:return(null==(t=null==a?void 0:a.data)?void 0:t.design_billable_seats)??0;case _K.z9.DEV_MODE:return(null==(r=null==a?void 0:a.data)?void 0:r.dev_mode_billable_seats)??0;case _K.z9.FIGJAM:return(null==(n=null==a?void 0:a.data)?void 0:n.figjam_billable_seats)??0}})(),o=(null==r?void 0:r.locked_quantity)===0&&"free_period"===(null==r?void 0:r.locked_quantity_source),c=o?{type:aN.fR.TEXT,contents:(0,eq.t)(`members_table.true_up.banner.free_period_zero.tooltip.${e}`),showBelow:!0,timeoutDelay:50}:void 0;return ev.createElement(Iz,{key:`stat-${e}`,title:ev.createElement(eq.Tx,{id:`members_table.true_up.banner.new_seats.${e}`}),value:l,tooltipData:c,info:n&&i?ev.createElement(Li.jX,{direction:"horizontal",horizontalAlignItems:"space-between",spacing:4},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"members_table.true_up.banner.total_seats",numSeats:`${s}/${i}`})),ev.createElement("span",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)(`members_table.true_up.banner.seat_floor.tooltip.${e}`),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50},ev.createElement(t3.JO,{icon:"info-16",fill:"secondary"}))):(0,eq.t)("members_table.true_up.banner.total_seats",{numSeats:s})})}),ev.createElement(Iz,{title:ev.createElement(eq.Tx,{id:"members_table.true_up.banner.projected_total"}),value:r,info:ev.createElement(Li.jX,{direction:"horizontal",horizontalAlignItems:"space-between",spacing:4},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"members_table.true_up.banner.see_breakdown"})),ev.createElement("span",{"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":aN._7.ORG_COST_INFO,"data-tooltip-invoice-quarter":t.quarter,"data-tooltip-invoice-is-stub":t.is_stub,"data-tooltip-invoice-num-quarters-in-billing-period":t.num_quarters_in_billing_period,"data-tooltip-invoice-amount-due-breakdown":JSON.stringify(t.amount_due_breakdown),"data-tooltip-invoice-show-figjam-cost-breakdown":!e.figjam_disabled_at,"data-tooltip-invoice-license_type_configuration":JSON.stringify(t.license_type_configuration),"data-tooltip-invoice-billing-plan":e.plan,"data-tooltip-invoice-currency":t.currency,"data-tooltip-light-mode":!0,"data-tooltip-interactive":!0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50},ev.createElement(t3.JO,{icon:"info-16",fill:"secondary"})))}))}function Ls({invoice:e,orgBillingPlan:t,showBreakdown:a=!0}){let r=e.currency,n=new mw.Lr(r),i=n.getPricesWithOverride(e,t),l=(0,_9.EW)(e),s=(0,_9.pD)(e),o="annual"===l&&Object.values(_K.z9).some(t=>{var a;let r=e.seat_floor[t],n=(null==(a=e.license_type_configuration[t])?void 0:a.total_quantity)??0;return r&&r>n}),c=Object.fromEntries(Object.values(_K.z9).map(t=>[t,(0,_9.ms)(t,e,i)]));return ev.createElement(tD.j,{padding:{bottom:16},spacing:0},ev.createElement(tD.j,{direction:"vertical",cornerRadius:6,strokeColor:"default",strokeWidth:1,padding:{horizontal:16},spacing:0},_z.as.excludeUnlessFlag([_K.z9.DEV_MODE],"billing_dev_mode_invoicing").map(t=>{var l,o;let d=e.seat_floor[t],m=(null==(l=e.license_type_configuration[t])?void 0:l.added_quantity)??0,u=(null==(o=e.license_type_configuration[t])?void 0:o.total_quantity)??0,_=c[t],p=!!d&&d>u;return ev.createElement(tD.j,{key:`invoice-details-${t}`,direction:"horizontal",horizontalAlignItems:"space-between",strokeWidth:{bottom:1},strokeColor:"default",padding:{vertical:16},spacing:0},ev.createElement(tD.j,{direction:"horizontal"},ev.createElement(t3.JO,{icon:function(e){switch(e){case _K.z9.DESIGN:return"file-design-16-file-type";case _K.z9.FIGJAM:return"file-figjam-16-file-type";case _K.z9.DEV_MODE:return"file-devmode-16-file-type"}}(t)}),ev.createElement(oc.x,{color:"default",fontSize:11,fontWeight:"regular"},`${(0,eq.t)(`org_admin_settings.billing.finalize_invoice_modal.num_seats.${t}`,{seats:u})}${p?"*":""}`)),d&&d>u?ev.createElement(os.Ct,{size:os.OD.SMALL,color:os.JV.BRAND,className:ek.cx.flexShrink0.$,text:(0,eq.t)("org_admin_settings.billing.finalize_invoice_modal.badge.not_yet_filled",{seats:d-u})}):m>0?ev.createElement(os.Ct,{size:os.OD.SMALL,color:os.JV.SUCCESS,className:ek.cx.flexShrink0.$,text:(0,eq.t)("org_admin_settings.billing.finalize_invoice_modal.badge.new_seats",{seats:m})}):null,ev.createElement(tD.j,{horizontalAlignItems:"end"},a?ev.createElement("div",{style:ie.sx.colorBorder.bb2.add({borderBottomStyle:"dashed"}).$,"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":aN._7.ORG_COST_INFO_LINE_ITEM,"data-tooltip-license-type":t,"data-tooltip-total-cost":_,"data-tooltip-added-quantity":m,"data-tooltip-currency":r,"data-tooltip-remaining-months":s,"data-tooltip-monthly-unit-price":i[t],"data-tooltip-should-show-breakdown":!0,"data-tooltip-should-show-cost":!1,"data-tooltip-light-mode":!0,"data-tooltip-interactive":!0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":400},ev.createElement(oc.x,null,n.formatMoney(_))):ev.createElement(oc.x,null,n.formatMoney(_))))}),ev.createElement(tD.j,{direction:"vertical",padding:{vertical:16}},ev.createElement(tD.j,{direction:"horizontal",horizontalAlignItems:"space-between"},ev.createElement(oc.x,{i18nId:"org_admin_settings.billing.finalize_invoice_modal.invoice_total",color:"default",fontWeight:"bold"}),ev.createElement(oc.x,{color:"default",fontWeight:"bold"},n.formatMoney(e.amount_due))),o&&ev.createElement("span",null,ev.createElement(oc.x,{color:"secondary",fontSize:11},`*${(0,eq.t)("org_admin_settings.billing.finalize_invoice_modal.disclaimer_minimum_seats")}`)))))}function Lo({invoiceType:e}){return ev.createElement(tD.j,{direction:"horizontal",padding:{bottom:16}},ev.createElement(tD.j,{direction:"vertical",spacing:0},ev.createElement(oc.x,{i18nId:`org_admin_settings.billing.finalize_invoice_modal.title.${e}`,color:"default",fontWeight:"semi-bold",fontSize:20}),ev.createElement(oc.x,{i18nId:"org_admin_settings.billing.finalize_invoice_modal.subtitle",color:"default",fontSize:13,fontWeight:"regular"})))}let Lc=(0,it.Y3)(function({org:e,invoice:t,onConfirm:a}){let[r,n]=ev.useState(!1),i=(0,_9.EW)(t),l=(0,eb.I0)(),s=()=>{l((0,ig.VG)())};return ev.createElement(e3.Ui,{name:"Finalize Invoice Modal",properties:{orgId:e.id}},ev.createElement(ib.ge,{title:ev.createElement(Lo,{invoiceType:i}),innerContainerClassName:ek.cx.p16.$,disableHeaderBottomBorder:!0,onClose:s,maxWidth:380},ev.createElement(tD.j,{direction:"vertical"},ev.createElement(Ls,{invoice:t,orgBillingPlan:e.plan}),ev.createElement(tD.j,{padding:{bottom:16}},ev.createElement(pe.X,{checked:r,label:(0,eq.t)("org_admin_settings.billing.finalize_invoice_modal.checkbox"),onChange:()=>n(!r)}))),ev.createElement(tD.j,{direction:"horizontal",horizontalAlignItems:"end"},ev.createElement(oM.J,{variant:"secondary",onClick:s},ev.createElement(eq.Tx,{id:"org_admin_settings.billing.finalize_invoice_modal.button.cancel"})),ev.createElement(oM.J,{variant:"primary",disabled:!r,onClick:a},ev.createElement(eq.Tx,{id:"org_admin_settings.billing.finalize_invoice_modal.button.finalize_invoice"})))))},"FINALIZE_INVOICE_CONFIRM_MODAL"),Ld=a(916671);function Lm({invoice:e,org:t}){let a=(0,eb.I0)(),r=()=>{a(I1({licenseQuantities:(0,_9.Vk)(e)})),a((0,ig.VG)())};return ev.createElement(e3.Ui,{name:"Review banner"},ev.createElement(I$,{variant:"warning",title:ev.createElement(oc.x,{i18nId:"members_table.true_up.banner.title",fontWeight:"semi-bold"}),subtitle:ev.createElement(eq.Tx,{id:"members_table.true_up.banner.subtitle"}),icon:Ld,actions:ev.createElement(oM.z,{variant:"inverse",onClick:()=>{a((0,ig.K4)({type:Lc,data:{org:t,invoice:e,onConfirm:r}}))}},ev.createElement(eq.Tx,{id:"members_table.true_up.banner.button"}))},ev.createElement(Ll,{org:t,invoice:e})))}function Lu(e){return ev.createElement(e3.Ui,{name:"Review banner",properties:{notification:"License group review banner",licenseGroupId:e.licenseGroup.id}},ev.createElement("div",{className:`${I6}`},ev.createElement("div",{className:ek.cx.lh24.$},ev.createElement("p",{className:ek.cx.font13.fontMedium.$},ev.createElement(eq.Tx,{id:"license_group_members_review_banner.please_review.seat_rename",licenseGroupName:e.licenseGroup.name})),ev.createElement("p",{className:ek.cx.font13.$},ev.createElement(eq.Tx,{id:"license_group_members_review_banner.only_billed_for_editor_seats.seat_rename"}))),ev.createElement(eA.RS,{onClick:e.onClick,className:Lt},ev.createElement(eq.Tx,{id:"license_group_members_review_banner.looks_good"}))))}function L_(e){let t=(0,uL.Ng)(),a=(0,oC.uH)(null==t?void 0:t.id),r={name:"Review banner",properties:{notification:"Unassigned banner",alreadyReviewed:e.hasReviewedUnassigned}};return ev.createElement(e3.Ui,{...r},ev.createElement("div",{className:`${I6} ${e.hasReviewedUnassigned&&"shared_banner--blueBanner--LWLlk"}`},ev.createElement("div",{className:ek.cx.lh24.$},ev.createElement("p",{className:ek.cx.font13.fontMedium.$},e.hasReviewedUnassigned?ev.createElement(eq.Tx,{id:"unassigned_banner.already_reviewed"}):ev.createElement(eq.Tx,{id:"unassigned_banner.please_review"})),ev.createElement("p",{className:ek.cx.font13.$},a?e.hasReviewedUnassigned?ev.createElement(eq.Tx,{id:"unassigned_banner.you_can_still_move_members_to_a_billing_group"}):ev.createElement(eq.Tx,{id:"unassigned_banner.move_members_to_your_billing_group"}):e.hasReviewedUnassigned?ev.createElement(eq.Tx,{id:"unassigned_banner.already_reviewed_description"}):ev.createElement(eq.Tx,{id:"unassigned_banner.please_review_description"}))),!e.hasReviewedUnassigned&&ev.createElement(eA.RS,{onClick:e.onClick,className:Lt},ev.createElement(eq.Tx,{id:"unassigned_banner.looks_good"}))))}function Lp(e){let t=(0,eb.I0)(),a=(0,eb.v9)(({selectedView:e})=>e),{licenseGroupId:r,membersTabViewingUnassigned:n,membersTabDismissedUnassignedReview:i}=a,l=(0,eb.v9)(({licenseGroups:e})=>{if(r)return e[r]});if(!e.invoices||!l||!(0,w6.N)(l,e.invoices))return null;if(n)return ev.createElement(L_,{hasReviewedUnassigned:!!i,onClick:()=>{t(od.fv({view:"licenseGroup",subView:ET.gp.ADMIN,selectedTab:ET.nb.MEMBERS,licenseGroupId:l.id,membersTabViewingUnassigned:!1,membersTabDismissedUnassignedReview:!0}))}});let s=a=>{IK.v.submitReview({licenseGroupId:a}).then(({data:a})=>t(w4.Vx({licenseGroup:a.meta,orgId:e.org.id}))).catch(e=>{t(r7.R.enqueue({error:!0,message:e.message}))})};return ev.createElement(Lu,{licenseGroup:l,onClick:()=>{s(l.id)}})}function Lg(e){let t=(0,oC.WI)(e.org.id),a=(0,w6.US)(),r=(0,eb.v9)(({selectedView:e})=>"licenseGroup"===e.view),n=(0,eb.v9)(({selectedView:e})=>e.licenseGroupId??null),i=(0,_9.qo)(e.invoices??[],"upcoming"),l=(0,_9.qQ)(e.invoices??[]);return t&&!a&&i&&l&&e.currentOrgUser.permission===ao.Gu.ADMIN&&e.org.has_automatic_upcoming_invoice&&null!=e.designBillableSeats&&null!=e.figjamBillableSeats?ev.createElement(Lm,{org:e.org,invoice:i}):!a&&e.currentOrgUser.permission===ao.Gu.ADMIN&&(e.designBillableSeats||0===e.designBillableSeats)&&(e.figjamBillableSeats||0===e.figjamBillableSeats)?ev.createElement(Ln,{licenseGroupsEnabled:!1,licenseGroups:[],invoices:e.invoices,org:e.org,dispatch:e.dispatch,designBillableSeats:e.designBillableSeats,figjamBillableSeats:e.figjamBillableSeats}):!r||!e.licenseGroupsUserIsAdminOf.some(e=>n===e.id)||(0,oC.HR)(e.org.id)?null:ev.createElement(Lp,{invoices:e.invoices,org:e.org})}let LE=a(174341);var Lh=((R=Lh||{})[R.SEARCH=0]="SEARCH",R[R.FILTER=1]="FILTER",R);let Lf=(e,t,a)=>{t(C3.qV({orgId:e.org_id,params:{org_user_ids:[e.id],permission:e.permission},successCallback:()=>{t(r7.R.enqueue({message:(0,eq.t)("members_table.change_member_permission.success"),type:"member-permission-changed"})),(e.permission===ao.Gu.ADMIN||e.permission===ao.Gu.MEMBER)&&a()}}))},Lv=(e,t,a)=>{rI.ZP.post(`/api/orgs/${t}/resend_email_verifications`,{org_user_ids:e}).then(()=>{a(r7.R.enqueue({message:(0,eq.t)("members_table.verification_sent"),type:"orgRoster.resendVerification",icon:xk.B4.CHECK}))},()=>{a(r7.R.enqueue({message:(0,eq.t)("members_table.cannot_send_verification_email"),type:"orgRoster.resendVerification",icon:xk.B4.EXCLAMATION,error:!0}))})},Lb=(e,t)=>{t(mH.s4({emailList:e}))},Ly=(e,t,a,r,n,i,l,s,o)=>{n((0,ig.K4)({type:IU.fn,data:{org:r,orgUsers:i,orgUserIds:e,accountType:a,licenseType:t,dispatch:n,updateAccountTypeFilterCounts:l,updateNewEditorBuffer:s,lastUpdateTimestampIfUsingUnloadedOrgUsers:o}}))},Lw=(e,t,a,r,n,i,l,s,o)=>{let c=a[t];l((0,ig.K4)({type:IU.sL,data:{org:n,orgUsers:i,orgUserIds:e,newLicenseGroup:c,isCurrentUserOrgAdmin:r,dispatch:l,updateLicenseGroupFilterCounts:s,lastUpdateTimestampIfUsingUnloadedOrgUsers:o}}))},LT=(e,t,a,r,n,i)=>{r(C3.qV({orgId:a.id,lastUpdateTimestampOverride:i,params:t?{org_user_ids:e,workspace_id:t}:{org_user_ids:e,workspace_id:null},successCallback:()=>{r(r7.R.enqueue({message:(0,eq.t)("confirm_workspace_change.success_message",{numUsers:e.length}),type:"workspace-changed"})),n()}}))},Lx=(e,t,a,r)=>{r((0,ig.K4)({type:IU.Ft,data:{org:a,orgUsers:t,orgUserIds:e,dispatch:r}}))},LN=e=>e.permissionFilter||e.newEditorFilter||e.lastEditFilter||e.roleFilter;function LC(e){let[t,a]=ev.useState(!1),[r,n]=ev.useState(!1),[i,l]=ev.useState(new Date().toISOString()),s=(0,EJ.V_)(),o=!!(s&&s.permission===ao.Gu.ADMIN),c=(0,eb.v9)(({selectedView:e})=>"workspace"===e.view&&e.subView===ES.ep.ADMIN?e.workspaceId:null),d=ev.useMemo(()=>c?e.workspacesCanMoveTo.find(e=>e.id===c)??null:null,[c,e.workspacesCanMoveTo]),m="provisional"===e.filters.permissionFilter,u=ev.useMemo(()=>"loaded"===e.filterCountsViewResult.status?e.filterCountsViewResult.data:(0,Te.n3)(),[e.filterCountsViewResult]);ev.useEffect(()=>{let t=Date.now()-e.startTime;e.isLoading||0===e.startTime||(0,eK.L9)("Org Admin Members Table V2 Load Succeeded",{orgId:e.org.id,durationMs:t},{forwardToDatadog:!0})},[e.startTime,e.org.id,e.isLoading]),ev.useEffect(()=>{0===e.sortedItems.length&&l(new Date().toISOString())},[e.sortedItems]);let _=(t,a,r,n)=>{Ly(t,a,r,e.org,e.dispatch,n?null:e.allOrgUsersByUserId,e.queueFilterCountsRefetch,e.updateNewEditorBuffer,n)},{status:p,users:g,totalSelectable:E}=(0,EJ.tS)({searchQuery:e.searchQuery,filter:e.filters,selectedAll:r}),h=(t,a,r)=>LT(t,a,e.org,e.dispatch,e.queueFilterCountsRefetch,r),f=(t,a,r)=>Lw(t,a,e.licenseGroupsById,o,e.org,r?null:e.allOrgUsersByUserId,e.dispatch,e.queueFilterCountsRefetch,r);function v(e,t){let a=new Set;return e.forEach(e=>{a.add(t(e))}),a}let b=(t,a,r)=>{let n=!1,i=!1,l=!1;if(a){let e=v(a,e=>e.design_paid_status),t=Array.from(e)[0];n=1===e.size&&t===ao.oz.FULL,i=1===e.size&&t===ao.oz.STARTER,l=1===e.size&&t===ao.oz.RESTRICTED}let s=[ev.createElement(gb.j.CheckableOption,{key:"header",disabled:!0,checked:!1},ev.createElement(eq.Tx,{id:"members_table.batch_actions_menu.role_change.seat_rename"})),ev.createElement(gb.j.CheckableOptionTrackable,{key:"editor",checked:n,onClick:n?void 0:()=>_(t,_K.oj.DESIGN,ao.oz.FULL,r)},(0,C8.N)(ao.oz.FULL))];return i&&s.push(ev.createElement(gb.j.CheckableOptionTrackable,{key:"starter",checked:!0,onClick:void 0},(0,C8.N)(ao.oz.STARTER))),s.push(ev.createElement(gb.j.CheckableOptionTrackable,{key:"restricted",checked:l,onClick:l?void 0:()=>_(t,_K.oj.DESIGN,ao.oz.RESTRICTED,r)},(0,C8.N)(ao.oz.RESTRICTED))),ev.createElement(gb.j.DropdownWithScrim,{dispatch:e.dispatch,className:"members_table--actionBarDropdown--3bR6p",style:e.dropdownShown.data.position},s)},y=(t,a,r,n)=>{var i,l;let s=n.dict(e=>!1);a&&(s=n.dict(e=>{let t=v(a,t=>t[C4.fz[e]]),r=Array.from(t)[0];return 1===t.size&&r===ao.oz.STARTER}));let o=n.dict(e=>{let a=[],n=`Change ${e} role - Editor`;a.push({displayText:(0,C8.N)(ao.oz.FULL),callback:()=>_(t,e,ao.oz.FULL,r),trackingProperties:{text:n}});let i=`Change ${e} role - Viewer`;s[e]&&a.push({displayText:(0,C8.N)(ao.oz.STARTER),trackingProperties:{text:i}});let l=`Change ${e} role - Viewer Restricted`;return a.push({displayText:(0,C8.N)(ao.oz.RESTRICTED),callback:()=>_(t,e,ao.oz.RESTRICTED,r),trackingProperties:{text:l}}),a}),c=n.dict(e=>{switch(e){case _K.z9.DESIGN:return(0,eq.t)("general.figma_design_short");case _K.z9.FIGJAM:return(0,eq.t)("general.figjam");case _K.z9.DEV_MODE:return(0,eq.t)("general.dev_mode");default:(0,eL.vE)(e)}}),d=n.map(e=>({displayText:c[e],children:o[e]}));return ev.createElement(ev.Fragment,null,e.dropdownShown&&(null==(l=null==(i=e.dropdownShown)?void 0:i.data)?void 0:l.targetRect)&&ev.createElement(e3.E9.Consumer,null,t=>ev.createElement(mz.z,{showPoint:!1,items:d,onSelectItem:a=>{a.callback&&a.callback("",null,e.dispatch),(0,eH.T6)({...t.properties,trackingContext:t.name,...a.trackingProperties})},parentRect:e.dropdownShown.data.targetRect,dispatch:e.dispatch})))},w=(t,a,r)=>{let n=a?v(a,e=>{var t;return null==(t=(0,_q.Hw)(e))?void 0:t.workspace_id}):new Set,i={type:xK.WH.NONE};if(1===n.size){let e=Array.from(n)[0];i=null==e?{type:xK.WH.UNASSIGNED}:{type:xK.WH.WORKSPACE,workspaceId:e}}return ev.createElement(xK.Ej,{workspaces:e.workspacesCanMoveTo,selectedWorkspace:i,onChange:e=>{h(t,(null==e?void 0:e.id)??"",r)}})},T=(t,a,r)=>{let n=e.licenseGroupsUserIsAdminOf.concat(e.licenseGroupsUserIsNotAdminOf),i=a?v(a,e=>{var t;return null==(t=e.license_group_member)?void 0:t.license_group_id}):new Set,l={type:xK.WH.NONE};if(1===i.size){let e=Array.from(i)[0];l=null==e?{type:xK.WH.UNASSIGNED}:{type:xK.WH.WORKSPACE,workspaceId:e}}return ev.createElement(xK.sJ,{licenseGroups:n,selectedLicenseGroup:l,onChange:e=>{f(t,(null==e?void 0:e.id)??"",r)}})},x=(0,oC.WI)(e.org.id),N=()=>ev.createElement(ev.Fragment,null,ev.createElement(Lg,{currentOrgUser:e.myOrgUser,licenseGroupsUserIsAdminOf:e.licenseGroupsUserIsAdminOf,invoices:e.invoices,figjamBillableSeats:e.figjamBillableSeats,designBillableSeats:e.designBillableSeats,devModeBillableSeats:e.devModeBillableSeats,org:e.org,dispatch:e.dispatch}),!(0,oC.di)(e.org.id)&&ev.createElement(xY,null),!(0,oC.di)(e.org.id)&&ev.createElement(xQ,{workspace:d}),(0,oC.di)(e.org.id)&&"licenseGroup"===e.selectedViewName&&ev.createElement("div",{className:ek.cx.pb12.$},ev.createElement(oc.x,{fontWeight:"medium",fontSize:13,i18nId:"org_admin_tab.members"}))),C={productFilter:e.filters.productFilter,licenseGroupIdFilter:e.filters.licenseGroupFilter,permissionFilter:e.filters.permissionFilter,roleFilter:e.filters.roleFilter,lastEditFilter:e.filters.lastEditFilter,newEditorFilter:e.filters.newEditorFilter},S="workspace"===e.selectedViewName,k=ev.createElement(T$.Z,{isLoading:e.isTitleLoading,title:e.title??(0,w7.K)(fe.rN.MEMBERS),hasHorizontalPadding:!0,rightActions:ev.createElement(tD.j,{width:"hug-contents"},(0,xz.Zk)(e.selectedViewName,e.filters,e.org.id)?ev.createElement(oM.J,{icon:"plus-32",variant:"secondary",onClick:()=>{let t=e.filters.workspaceFilter??void 0;t===wO.F&&(t=void 0);let a=e.filters.licenseGroupFilter??void 0;a===bO.u&&(a=void 0),e.dispatch((0,ig.K4)({type:SS,data:{workspaceId:t,licenseGroupId:a}}))},trackingProperties:{action:"Invite Users"}},ev.createElement(oc.x,{i18nId:"members_table.invite_users_button"})):(0,xz.r3)(e.selectedViewName,e.org.id)?ev.createElement(oM.J,{icon:"plus-32",variant:"secondary",onClick:()=>{let t=e.filters.workspaceFilter??void 0;t===wO.F&&(t=void 0);let a=e.filters.licenseGroupFilter??void 0;a===bO.u&&(a=void 0),e.dispatch((0,ig.K4)({type:IB,data:{workspaceId:t,licenseGroupId:a,setPendingOrgUserIds:e.setPendingOrgUserIds||ex.ZT,queueOrgUsersRefetch:e.queueOrgUsersRefetch||ex.ZT,invoices:e.invoices}}))},trackingProperties:{action:"Add Members"},"data-onboarding-key":TI},ev.createElement(oc.x,{i18nId:"members_table.add_members_button"})):void 0,(0,xz.no)(e.selectedViewName)&&ev.createElement(oM.J,{onClick:()=>{t||(a(!0),e.dispatch(r7.R.enqueue({message:(0,eq.t)("members_table.csv_export.preparing_request"),type:"orgRoster.exportCSV",icon:xk.B4.SPINNER})),rI.ZP.post(`/api/orgs/${e.org.id}/export_members`).then(()=>{e.dispatch(r7.R.enqueue({message:(0,eq.t)("members_table.csv_export.generating"),type:"orgRoster.exportCSV",icon:xk.B4.CHECK})),a(!1)},()=>{e.dispatch(r7.R.enqueue({message:(0,eq.t)("members_table.csv_export.error"),type:"orgRoster.exportCSV",icon:xk.B4.EXCLAMATION,error:!0})),a(!1)}))},trackingProperties:{action:"Export CSV"}},ev.createElement(oc.x,{i18nId:"members_table.csv_export.get_csv"})))}),I=e.customEmptyState&&0===e.sortedItems.length&&!e.isLoading&&!LN(e.filters)&&!e.searchQuery;return ev.createElement("div",{className:tQ()("members_table--container--Zgc1t admin_settings_page--membersContainer--T59Nq",{"members_table--workspaceAdminContainer--PQrRs":S})},(()=>{if(e.invoices&&(0,_9.qQ)(e.invoices)&&e.org.has_automatic_upcoming_invoice&&e.myOrgUser.permission===ao.Gu.ADMIN&&!e.isLicenseGroupsEnabled&&!x){let t=(0,_9.qo)(e.invoices,"upcoming");return ev.createElement(ev.Fragment,null,ev.createElement(Sp,{isResponsive:!0,color:Su.YELLOW},ev.createElement(eD.n,{autosize:!0,width:"16px",height:"16px",svg:LE,className:ek.cx.mt6.$}),ev.createElement("div",null,t&&1===t.quarter?ev.createElement(eq.Tx,{id:"members_table.editor_roles_banner_renewal"}):ev.createElement(eq.Tx,{id:"members_table.editor_roles_banner_trueup.seat_rename"}))))}if(!(0,oC.HR)(e.org.id))return ev.createElement(ev.Fragment,null,ev.createElement(Sh,null))})(),k,ev.createElement(I0,{queueOrgUsersRefetch:e.queueOrgUsersRefetch||ex.ZT,setPendingOrgUserIds:e.setPendingOrgUserIds||ex.ZT}),!eN.K1&&e.sortedItems.length>0&&ev.createElement(ev.Fragment,null,ev.createElement(sb.V,null,ev.createElement(Si,{isWorkspaceAdminMembersTable:S})),ev.createElement(sb.V,null,ev.createElement(Sc,null))),I?ev.createElement(tD.j,{direction:"vertical",height:"hug-contents",padding:{horizontal:32}},N(),e.customEmptyState):ev.createElement(fz.Ch,{hasNewScrollContext:!0,items:e.sortedItems,columns:e.columns,getItemKey:LS,stickyContent:ev.createElement("div",null,N(),(()=>{var t;let a;_z.l6.excludeUnlessFlag([_K.xi.DEV_MODE],"billing_dev_mode_customer_ui").withOverrides({[_K.xi.WHITEBOARD]:"figjam",[_K.xi.DEV_MODE]:"devMode"}).withSuffix("AccountType").forEach((t,r)=>{e.filters.productFilter===r&&(a=e=>u[t][e])});let r=_z.l6.excludeUnlessFlag([_K.xi.DEV_MODE],"billing_dev_mode_customer_ui").sort(_z.uE);return ev.createElement("div",{className:"members_table--menuBar--NOZw9 multi_select_list--menuBar--8xNGR"},ev.createElement("div",{className:CN.FB},ev.createElement(nN.Pl,{"data-onboarding-key":Ty,onChange:e.onSearch,focusOnMount:!1,query:e.searchQuery,clearSearch:e.onClearSearch,placeholder:(0,eq.t)("team_view.search_bar.search_members_with_ellipsis")}),ev.createElement("div",{className:ek.cx.pl8.$},ev.createElement(xK.MF,{label:(0,eq.t)("members_table.menu_bar_filter.product"),dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_PRODUCT_TYPE_DROPDOWN",values:e.org.figjam_disabled_at?[...r.exclude([_K.xi.WHITEBOARD]).values()]:[...r.values()],selectedValue:e.filters.productFilter,getDisplayText:e=>(0,gU.y)(e),updateFilter:t=>e.onFilter({productFilter:t})})),(0,xz.eW)(e.org.id,e.selectedViewName)&&ev.createElement(xJ,{selectedWorkspaceId:e.filters.workspaceFilter,onFilterUpdate:t=>{e.onFilter({workspaceFilter:t})},getCount:e=>{var t;return(null==(t=u.workspaces)?void 0:t[e])??0}}),(0,xz.Pv)(e.org.id,e.selectedViewName)&&ev.createElement(xZ,{selectedLicenseGroupId:e.filters.licenseGroupFilter,onFilterUpdate:t=>{e.onFilter({licenseGroupFilter:t})},getCount:e=>{var t;return(null==(t=u.licenseGroups)?void 0:t[e])??0}}),ev.createElement(xK.MF,{label:(0,eq.t)("members_table.menu_bar_filter.account_type"),"data-onboarding-key":Tv,dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_ACCOUNT_TYPE_DROPDOWN",values:[ao.Gu.ADMIN,ao.Gu.MEMBER,ao.Gu.GUEST,Te.R.IDP,Te.R.UNVERIFIED],selectedValue:e.filters.permissionFilter,getCount:e=>u.permission[e],getDisplayText:e=>(0,xz.JI)(e),updateFilter:t=>e.onFilter({permissionFilter:t})}),(0,xz.Sv)(e.selectedViewName)&&ev.createElement(xK.MF,{label:(0,eq.t)("members_table.menu_bar_filter.role.seat_rename"),dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_ROLE_DROPDOWN",values:e.filters.productFilter===_K.xi.DEV_MODE?[ao.oz.FULL,ao.oz.RESTRICTED]:Object.values(ao.oz),selectedValue:e.filters.roleFilter,getCount:a,getDisplayText:e=>(0,C8.N)(e),updateFilter:t=>e.onFilter({roleFilter:t})}),e.filters.productFilter!==_K.xi.DEV_MODE&&ev.createElement(xK.MF,{label:(0,eq.t)("members_table.menu_bar_filter.last_edit"),dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_LAST_EDIT_DROPDOWN",values:Object.values(Te.s$),selectedValue:e.filters.lastEditFilter,getDisplayText:e=>(0,xz.dB)(e),getCount:e=>u.lastEdit[e],updateFilter:t=>e.onFilter({lastEditFilter:t})}),((null==(t=e.invoices)?void 0:t.length)||0)>0&&(0,xz.pL)(e.selectedViewName,e.filters,e.org.id)&&ev.createElement(e3.UE,{className:CN.Vw,onClick:()=>e.onFilter({newEditorFilter:!e.filters.newEditorFilter}),trackingProperties:{filterType:"NewEditorFilter",isFilterEnabled:!e.filters.newEditorFilter}},ev.createElement(C2.a,{allChecked:e.filters.newEditorFilter,someChecked:!1,onChange:ex.ZT}),ev.createElement(eq.Tx,{id:"members_table.menu_bar_filter.new_since_last_invoice"}))))})()),emptyContent:ev.createElement(xy.eP,null,(()=>{let t=()=>{e.onFilter({...Te.bu,licenseGroupFilter:e.filters.licenseGroupFilter})},a=ev.createElement(eq.Tx,{id:"members_table.no_members_to_show"}),r=ev.createElement("span",null,ev.createElement(eq.Tx,{id:"members_table.no_members_to_show"})," ",ev.createElement("a",{className:It,onClick:()=>t()},ev.createElement(eq.Tx,{id:"multi_select_list.reset_filters"}))),n=ev.createElement(eq.Tx,{id:"members_table.no_members_match_your_search_query"});return LN(e.filters)&&e.searchQuery?0===e.lastFilterAction?n:r:LN(e.filters)?r:e.searchQuery?n:a})()),actionBar:t=>{var a,n,l,s;let o=t.filter(Iv).map(e=>e.orgUser),c=o.map(e=>e.id),d=new Set(c),m=c;if(r&&null===E)return ev.createElement("div",{style:ie.sx.w150.$},ev.createElement(xS.g4,{className:ek.cx.h12.w150.$,animationType:xS.F4.SHIMMER_ON_MENU}));let u=!1;if(r&&null!==E&&(u=e.isLoading),u&&p===_d.Q.LOADING)return ev.createElement("div",{style:ie.sx.w150.$},ev.createElement(xS.g4,{className:ek.cx.h12.w150.$,animationType:xS.F4.SHIMMER_ON_MENU}));let _=o;if(u){let t=e.sortedItems.filter(Iv).map(e=>e.orgUser),a=t.map(e=>e.id),r=new Set(a.filter(e=>!d.has(e)));m=(_=g.filter(e=>!r.has(e.id))).map(e=>e.id)}let h=v(o,e=>e.is_email_validated),f=!u&&1===h.size&&h.has(!1),x=-1!==m.indexOf(e.myOrgUser.id),N=o.some(e=>!!e.scim_account_type||!!e.scim_whiteboard_paid_status),C=_.map(e=>e.user.email).filter(e=>void 0!==e);if(0===m.length)return ev.createElement(ev.Fragment,null);let S=!!e.org.figjam_disabled_at,k=S?[_K.z9.FIGJAM]:[];(!(0,eT.BZ)().billing_dev_mode_customer_ui||e.isDevModeOptInRequired&&e.myOrgUser.permission!==ao.Gu.ADMIN)&&k.push(_K.z9.DEV_MODE);let I=_z.as.exclude(k),L=I.size()>1,R=o.filter(e=>e.ecc_upgrading_locked).length>0;return ev.createElement(ev.Fragment,null,(0,xz.ZO)(e.selectedViewName,e.membersTabViewingUnassigned)&&L&&!N&&!R&&ev.createElement(xK.ud,{className:Ie,dispatch:e.dispatch,showingDropdown:(null==(a=e.dropdownShown)?void 0:a.type)===IF,type:IF,isMultilevelDropdown:!0,chevronClassName:"members_table--whiteChevron--5ZyoS"},(null==(n=e.dropdownShown)?void 0:n.type)===IF&&y(m,u?null:o,u?i:null,I),ev.createElement(eq.Tx,{id:"members_table.batch_actions_menu.role_change.seat_rename"})),(0,xz.ZO)(e.selectedViewName,e.membersTabViewingUnassigned)&&!L&&!N&&ev.createElement(ev.Fragment,null,(null==(l=e.dropdownShown)?void 0:l.type)===IF&&b(m,u?null:o,u?i:null),ev.createElement(xK.ud,{className:Ie,dispatch:e.dispatch,showingDropdown:(null==(s=e.dropdownShown)?void 0:s.type)===IF,type:IF},ev.createElement(eq.Tx,{id:"members_table.batch_actions_menu.role_change.seat_rename"}))),ev.createElement(xK.j2,{label:(0,eq.t)("members_table.copy_emails_button",{userCount:m.length}),onClick:()=>{Lb(C,e.dispatch)}}),(0,xz.Um)(e.selectedViewName,e.membersTabViewingUnassigned)&&f&&ev.createElement(xK.j2,{label:(0,eq.t)("members_table.resend_verification_button"),onClick:()=>{Lv(m,e.org.id,e.dispatch)}}),!!e.workspacesCanMoveTo.length&&(0,xz.eW)(e.org.id,e.selectedViewName)&&w(m,u?null:o,u?i:null),e.isLicenseGroupsEnabled&&(0,xz.Pv)(e.org.id,e.selectedViewName)&&T(m,u?null:o,u?i:null),(0,xz.Pi)(e.selectedViewName,e.membersTabViewingUnassigned)&&!x&&ev.createElement(xK.j2,{label:(0,eq.t)("members_table.remove_users_button",{userCount:m.length}),onClick:()=>Lx(m,u?null:e.allOrgUsersByUserId,e.org,e.dispatch)}))},scrollAwayContent:e.additionalScrollAwayContent,onScroll:()=>e.dispatch(od.kp()),onFetchMore:e.onFetchMore,selectAllDisabled:m,onToggleSelectAll:e=>e?n(!1):n(!0),unselectableItemKeys:e.unselectableItemKeys,itemTypeContext:{itemType:"user",getSelectedCountString:e=>r&&!E?"":(0,eq.t)("multi_select_list.selected_count_user",{numSelected:e})},minContentWidth:e.columns.length<=6?(0,cx.z)(cL.PWe):(0,cx.z)(cL.wNI),isBannerHeightDynamic:!0,isLoading:e.isLoading,sortState:e.sortState,onSetSortState:e.onSort,trackingProperties:{batchAction:C},getTotalSelected:r&&null!==E&&e.isLoading?(e,t)=>E-(t.length-e.length):void 0}))}let LS=e=>Iv(e)?e.orgUser.id:e.idpUser.email,Lk=(e,t,a)=>{var r;if(!a)return!1;let n=(0,_9.n8)(e,t);if(!n)return!1;let i=(t=>{var a,r,n;switch(t){case _K.z9.DESIGN:return(0,gk.Z)((null==(a=e.design_upgrade_reason)?void 0:a.created_at)||e.account_type_changed_at);case _K.z9.FIGJAM:return(0,gk.Z)(null==(r=e.whiteboard_upgrade_reason)?void 0:r.created_at);case _K.z9.DEV_MODE:return(0,gk.Z)(null==(n=e.dev_mode_upgrade_reason)?void 0:n.created_at);default:(0,eL.vE)(t)}})(t);if(!(0,EJ.Vp)(a))return a.buffer<0&&(null==(r=a.orgUserIds)?void 0:r.indexOf(e.id))!==-1;{let t=(0,gk.Z)(a.timestamp),r=i>=t,n=e.id>=a.org_user_id;return(null==i?void 0:i.isSame(t))?n:r}},LI=(e,t,a,r,n,i,l,s,o,c,d,m)=>u=>({dispatch:e,dropdownShown:t,isMe:a.user_id===u.user_id,isNewEditorByLicenseType:{design:Lk(u,_K.z9.DESIGN,c),figjam:Lk(u,_K.z9.FIGJAM,d),dev_mode:Lk(u,_K.z9.DEV_MODE,m)},isOrgGuest:u.permission===ao.Gu.GUEST,onChangeAccountType:(t,a,i)=>Ly(t,a,i,n,e,r,s,o,null),onChangeLicenseGroup:(t,a)=>Lw(t,a,i,l,n,r,e,s,null),onChangeWorkspace:(t,a)=>LT(t,a,n,e,s,null),onChangeMemberPermission:Lf,onCopyEmail:()=>{Lb([u.user.email],e)},onDelete:t=>Lx(t,r,n,e),onResendVerification:()=>{Lv([u.id],n.id,e)},org:n,orgUser:u,updateNewEditorBuffer:o,queueFilterCountsRefetch:s}),LL=(e,t,a)=>r=>({dispatch:e,dropdownShown:t,idpUser:r,onCopyEmail:()=>{Lb([r.email],e)},org:a,tooltipText:r.isOrgInvite?(0,eq.t)("members_table.idp_user.pending_invite"):(0,eq.t)("members_table.idp_user.user_provisioned")});function LR(e){var t,a;let{org:r,dropdownShown:n,invoices:i,searchQuery:l,setSearchQuery:s,filters:o,sort:c,designBillableSeats:d,figjamBillableSeats:m,devModeBillableSeats:u,startTime:_,isLoading:p}=e,g=(0,eb.I0)(),E=(0,eb.v9)(e=>e.selectedView),h=(0,eb.v9)(e=>{let t=e.currentUserOrgId;return e.orgUsersByOrgId.orgUsers[t]}),{sortedUsers:f,status:v,fetchMore:b,queueRefetch:y,newDesignEditorCutoff:w,newWhiteboardEditorCutoff:T,newDevModeEditorCutoff:x,updateNewEditorBuffer:N}=(0,EJ.Go)({searchQuery:""!==l?l:void 0,sort:c,filter:o,setDesignEditorDiff:e.setDesignEditorDiff,setWhiteboardEditorDiff:e.setWhiteboardEditorDiff,setDevModeEditorDiff:e.setDevModeEditorDiff}),C=(0,dV.mU)(dH.DevModeOptIn,{orgId:e.org.id}),S="loading"===C.status&&!r.is_dev_mode_opt_in_accepted||(0,_9.gD)((null==(a=null==(t=C.data)?void 0:t.org)?void 0:a.devModeOptInPlanProperty)||null),[k,I]=ev.useState([]);(0,EJ.Hy)({filter:o,orgId:r.id,orgUserIdsToIndex:k,dispatch:g,selectedViewName:E.view,queueOrgUsersRefetch:y,setPendingOrgUserIds:I});let[L,R]=ev.useState(Lh.FILTER),A=(0,EJ.V_)(),O=!!(A&&A.permission===ao.Gu.ADMIN),D=(0,w6.$4)(),F=(0,eb.v9)(e=>e.licenseGroups),M=(0,w6.US)(),{filterCountsViewResult:P,queueFilterCountsRefetch:B}=(0,EJ.S8)(r.id,l,o),{groupsUserIsAdminOf:U,otherLicenseGroups:V}=(0,w6.O)(D,A.user_id,!O),W=(0,gv.d3)(r.id),G=W.data??[],j=ev.useMemo(()=>f.map(e=>(0,Te.Cy)(e)?LI(g,n,A,h,r,F,O,B,N,w,T,x)(e):LL(g,n,r)(e)),[f,g,n,A,h,r,F,O,B,N,w,T,x]),H=new Set(f.filter(e=>!(0,Te.Cy)(e)).map(e=>e.email)),$={columnName:c.columnName===Te.h3.SEARCH_SCORE?Te.h3.SEARCH_SCORE:(0,xz.d8)(c.columnName??Te.h3.NAME,r.featured_scim_metadata,r.id),isReversed:c.isReversed},z=function(e,t,a,r,n,i,l,s,o,c,d,m){let u=[],_=(0,xz.ZO)(d,m),p={design:Te.h3.DESIGN_UPGRADE_DATE,whiteboard:Te.h3.WHITEBOARD_UPGRADE_DATE,dev_mode:Te.h3.DEV_MODE_UPGRADE_DATE},g=t.permission!==ao.Gu.ADMIN&&!a;u.push({name:(0,xz.d8)(Te.h3.NAME,e.featured_scim_metadata,e.id),sorting_key:Te.h3.NAME,className:kX,getSortValue:e=>Iv(e)?e.orgUser.user.handle||e.orgUser.user.email:e.idpUser.email,cellComponent:Ik});let E=()=>{u.push({name:(0,xz.d8)(Te.h3.DESIGN_ROLE,e.featured_scim_metadata,e.id),onboardingKey:TL,sorting_key:Te.h3.DESIGN_ROLE,className:k0,getSortValue:e=>Iv(e)?e.orgUser.design_paid_status:e.idpUser.account_type||"zz-undefined",getSecondarySortValue:e=>{if(Iv(e)&&e.orgUser.design_paid_status===ao.oz.FULL)return Iw(e.orgUser,_K.xi.DESIGN)},sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a){if(!Iv(e))return ev.createElement(Iu,{key:`members_table_role_cell_${e.idpUser.id}`,idpUser:e.idpUser,paidStatus:e.idpUser.account_type});{let r=ev.createElement(Ic,{key:`members_table_design_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeAccountType:e.onChangeAccountType,orgOrIdpUser:e.orgUser,isNewEditor:e.isNewEditorByLicenseType.design,dropdownShown:e.dropdownShown});return(0,eT.BZ)().billing_dev_mode_members_preview||(0,eT.BZ)().billing_dev_mode_customer_ui?ev.createElement(IL,{hideTooltip:e.orgUser.design_paid_status!==ao.oz.FULL||!!a,item:e,upgradeTimestamp:Iw(e.orgUser,_K.xi.DESIGN),upgradeReason:e.orgUser.design_upgrade_reason},r):ev.createElement("div",null,r,e.orgUser.design_paid_status===ao.oz.FULL&&!a&&IR(e,Iw(e.orgUser,_K.xi.DESIGN),e.orgUser.design_upgrade_reason))}})(e,!_||!!t,o),headerClassName:k1})},h=()=>{u.push({name:(0,xz.d8)(Te.h3.WHITEBOARD_ROLE,e.featured_scim_metadata,e.id),sorting_key:Te.h3.WHITEBOARD_ROLE,className:k0,getSortValue:t=>e.figjam_disabled_at?"zz-undefined":Iv(t)?t.orgUser.whiteboard_paid_status||"zz-undefined":t.idpUser.account_type||"zz-undefined",getSecondarySortValue:e=>{var t;if(Iv(e)&&e.orgUser.whiteboard_paid_status===ao.oz.FULL)return null==(t=e.orgUser.whiteboard_upgrade_reason)?void 0:t.created_at},sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a){if(e.org.figjam_disabled_at)return ev.createElement("span",{className:"members_table--figjamDisabledColumn--M5O2Y"},"\u2013");if(!Iv(e))return ev.createElement(Iu,{key:`members_table_role_cell_${e.idpUser.id}`,idpUser:e.idpUser,paidStatus:e.idpUser.whiteboard_paid_status});{let r=ev.createElement(Id,{key:`members_table_figjam_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeAccountType:e.onChangeAccountType,orgOrIdpUser:e.orgUser,isNewEditor:e.isNewEditorByLicenseType.figjam,dropdownShown:e.dropdownShown});return(0,eT.BZ)().billing_dev_mode_members_preview||(0,eT.BZ)().billing_dev_mode_customer_ui?ev.createElement(IL,{hideTooltip:e.orgUser.whiteboard_paid_status!==ao.oz.FULL||!!a,item:e,upgradeTimestamp:Iw(e.orgUser,_K.xi.WHITEBOARD),upgradeReason:e.orgUser.whiteboard_upgrade_reason},r):ev.createElement("div",null,r,e.orgUser.whiteboard_paid_status===ao.oz.FULL&&!a&&IR(e,Iw(e.orgUser,_K.xi.WHITEBOARD),e.orgUser.whiteboard_upgrade_reason))}})(e,!_||!!t,o),headerClassName:k1})},f=()=>{let t=(0,eT.BZ)().billing_dev_mode_customer_ui?e=>Iv(e)&&e.orgUser.dev_mode_paid_status||"zz-undefined":void 0,a=(0,eT.BZ)().billing_dev_mode_customer_ui?e=>{var t;if(Iv(e)&&e.orgUser.dev_mode_paid_status===ao.oz.FULL)return null==(t=e.orgUser.dev_mode_upgrade_reason)?void 0:t.created_at}:void 0;u.push({name:(0,xz.d8)(Te.h3.DEV_MODE_ROLE,e.featured_scim_metadata,e.id),sorting_key:Te.h3.DEV_MODE_ROLE,className:k0,getSortValue:t,getSecondarySortValue:a,sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a,r){if(Iv(e)){let n=ev.createElement(Im,{key:`members_table_dev_mode_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeAccountType:e.onChangeAccountType,orgOrIdpUser:e.orgUser,isNewEditor:e.isNewEditorByLicenseType.dev_mode||!1,dropdownShown:e.dropdownShown,cannotOptInToDevMode:r});return ev.createElement(IL,{hideTooltip:e.orgUser.dev_mode_paid_status!==ao.oz.FULL||!!a,item:e,upgradeTimestamp:Iw(e.orgUser,_K.xi.DEV_MODE),upgradeReason:e.orgUser.dev_mode_upgrade_reason},n)}{let t=e.idpUser.account_type===ao.oz.FULL?ao.oz.FULL:e.idpUser.dev_mode_paid_status;return ev.createElement(Iu,{key:`members_table_role_cell_${e.idpUser.id}`,idpUser:e.idpUser,paidStatus:t})}})(e,!_||!!t||g,o,g),headerClassName:k1})},v=()=>{u.push({name:(0,xz.d8)(Te.h3.DESIGN_UPGRADE_DATE,e.featured_scim_metadata,e.id),sorting_key:o?p[o]:Te.h3.DESIGN_UPGRADE_DATE,className:"members_table--upgradeDateColumn--YKiKy members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>{if(Iv(e)&&Ib(e.orgUser,o))return Iw(e.orgUser,o??_K.xi.DESIGN)},sortReversed:!0,cellComponent:e=>(function(e,t){if(Iv(e)&&Ib(e.orgUser,t)){let a=Iw(e.orgUser,t??_K.xi.DESIGN),r=t===_K.xi.WHITEBOARD&&e.org.figjam_disabled_at;if(a&&!r)return ev.createElement("div",null,ev.createElement(eq.Tx,{id:"members_table.user_upgrade_date",upgradeDate:new Date(a)}))}return ev.createElement(Iy,null)})(e,o)})},b=()=>{u.push({name:(0,xz.d8)(Te.h3.DESIGN_UPGRADE_REASON,e.featured_scim_metadata,e.id),sorting_key:o===_K.xi.WHITEBOARD?Te.h3.WHITEBOARD_UPGRADE_REASON:Te.h3.DESIGN_UPGRADE_REASON,className:"members_table--upgradeReasonColumn--xsNPP members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>{if(Iv(e)){if(!Ib(e.orgUser,o))return;let t=e.orgUser.user.handle||e.orgUser.user.name||"",a=o===_K.xi.WHITEBOARD?e.orgUser.whiteboard_upgrade_reason:e.orgUser.design_upgrade_reason;return kx(t,a)||""}},cellComponent:e=>(function(e,t){if(Iv(e)&&Ib(e.orgUser,t)){let a=e.orgUser.user.handle||e.orgUser.user.name||"",r=t===_K.xi.WHITEBOARD&&e.org.figjam_disabled_at,n=_z.l6.withSuffix("_upgrade_reason").dict(t=>e.orgUser[t]),i=t?n[t]:e.orgUser.design_upgrade_reason,l=kx(a,i);if(l&&!r)return ev.createElement("div",null,l)}return ev.createElement(Iy,null)})(e,o)})},y=()=>{u.push({name:(0,xz.d8)(Te.h3.LAST_ACTIVE,e.featured_scim_metadata,e.id),sorting_key:Te.h3.LAST_ACTIVE,className:"members_table--lastSeenColumn--6cD9- members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>Iv(e)?Ix(e.orgUser,o):void 0,sortReversed:!0,cellComponent:e=>(function(e,t){if(!Iv(e))return ev.createElement(Iy,null);let a=Ix(e.orgUser,t);return a?ev.createElement("span",{"data-onboarding-key":Tb,onClick:t=>{t.stopPropagation(),e.dispatch((0,ig.K4)({type:kH,data:{user:e.orgUser.user,orgUser:e.orgUser,org:e.org,onClose:()=>e.dispatch(ig.hV()),onRemoveUser:()=>{e.onDelete([e.orgUser.id])},selectedTab:kW.ACTIVITY_LOG,onChangeAccountType:e.onChangeAccountType}}))},className:It},ev.createElement(n2.Lt,{capitalize:!0,date:a})):ev.createElement(Iy,null)})(e,o)})},w=()=>{u.push({name:(0,xz.d8)(Te.h3.LAST_EDIT,e.featured_scim_metadata,e.id),sorting_key:Te.h3.LAST_EDIT,className:"members_table--lastEditColumn--e8goq members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>Iv(e)?IN(e.orgUser,o):void 0,sortReversed:!0,cellComponent:e=>(function(e,t){if(!Iv(e))return ev.createElement(Iy,null);if((e.orgUser.last_design_edit||e.orgUser.last_whiteboard_edit)&&e.orgUser.last_edit){let a=IN(e.orgUser,t);return a?ev.createElement(eA.rU,{onClick:t=>{t.stopPropagation(),e.dispatch((0,ig.K4)({type:kQ,data:{user:e.orgUser.user,orgUser:e.orgUser,lastDesignEdit:e.orgUser.last_design_edit||void 0,lastWhiteboardEdit:e.orgUser.last_whiteboard_edit||void 0}}))},trusted:!0},ev.createElement(n2.Lt,{capitalize:!0,date:a})):ev.createElement(Iy,null)}return e.orgUser.last_edit?ev.createElement(n2.Lt,{capitalize:!0,date:e.orgUser.last_edit}):ev.createElement(Iy,null)})(e,o)})};if((0,xz.Sv)(d)&&(o===_K.xi.DESIGN?(v(),b(),E()):o!==_K.xi.WHITEBOARD||e.figjam_disabled_at?(0,eT.BZ)().billing_dev_mode_customer_ui&&o===_K.xi.DEV_MODE?(v(),b(),f()):(E(),((0,eT.BZ)().billing_dev_mode_members_preview||(0,eT.BZ)().billing_dev_mode_customer_ui)&&f(),e.figjam_disabled_at||h()):(v(),b(),h())),l.length>0&&(0,xz.eW)(e.id,d)){let t={};l.forEach(e=>{t[e.id]=e}),u.push({name:(0,xz.d8)(Te.h3.WORKSPACE,e.featured_scim_metadata,e.id),sorting_key:Te.h3.WORKSPACE,className:"members_table--workspaceColumn--niXcB members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>{var a;if(Iv(e)){let r=(0,_q.Hw)(e.orgUser);return r?(null==(a=t[r.workspace_id])?void 0:a.name)??"aaa-unassigned":"aaa-unassigned"}return"zzz-idpUser"},getSecondarySortValue:e=>{var t;if(Iv(e))return(null==(t=(0,_q.Hw)(e.orgUser))?void 0:t.assigned_at)??void 0},sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a,r){if(Iv(e)){let n=(0,_q.Hw)(e.orgUser);return ev.createElement("div",{className:"members_table--workspaceCell--4-gO-"},ev.createElement(IE,{key:`members_table_workspace_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeWorkspace:e.onChangeWorkspace,workspacesCanMoveTo:a,orgUser:e.orgUser,dropdownShown:e.dropdownShown}),n&&function(e,t){var a,r;let n=e.assigned_at,i=e.update_reason,l="";if(e.actor_user_id){let n=t[e.actor_user_id];l=(null==(a=null==n?void 0:n.user)?void 0:a.handle)||(null==(r=null==n?void 0:n.user)?void 0:r.name)||""}let s=function(e,t){switch(e){case ao.rI.SELF_SELECTED:return(0,eq.t)("members_table.workspace_update_description.self_selected");case ao.rI.MOVED_BY_ADMIN:return t?(0,eq.t)("members_table.workspace_update_description.moved_by_admin",{adminName:t}):(0,eq.t)("members_table.workspace_update_description.moved_by_admin_generic");case ao.rI.AUTO_ASSIGNED:return(0,eq.t)("members_table.workspace_update_description.auto_assigned");default:return null}}(i,l);return s?ev.createElement("div",{className:tQ()(Ia,In),"data-tooltip-type":aN.fR.TEXT,"data-tooltip":s,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},ev.createElement(eq.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)})):ev.createElement("div",{className:Ia},ev.createElement(eq.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)}))}(n,r))}return ev.createElement("div",{className:k1},ev.createElement(Iy,null))})(e,!!t,l,s),headerClassName:k1})}return r&&(0,xz.Pv)(e.id,d)&&u.push({name:(0,xz.d8)(Te.h3.LICENSE_GROUP,e.featured_scim_metadata,e.id),sorting_key:Te.h3.LICENSE_GROUP,className:"members_table--licenseGroupColumn--wgaHP members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>{var t,a;return Iv(e)?(null==(t=e.orgUser.license_group_member)?void 0:t.license_group_id)&&(null==(a=n[e.orgUser.license_group_member.license_group_id])?void 0:a.name)||"aaa-unassigned":"zzz-idpUser"},getSecondarySortValue:e=>{if(Iv(e)&&e.orgUser.license_group_member)return e.orgUser.license_group_member.assigned_at},sortSecondaryReversed:!0,cellComponent:(e,t)=>Iv(e)?ev.createElement("div",{className:"members_table--licenseGroupCell--GtafP"},ev.createElement(Ii,{key:`members_table_license_group_cell_${e.orgUser.id}`,areDropdownsDisabled:!!t,onChangeLicenseGroup:e.onChangeLicenseGroup,groupsCanMoveUserTo:i,orgUser:e.orgUser,dropdownShown:e.dropdownShown}),e.orgUser.license_group_member&&function(e,t,a){var r,n;let i=e.assigned_at,l=e.update_reason,s="";if(e.actor_user_id){let a=t[e.actor_user_id];s=(null==(r=null==a?void 0:a.user)?void 0:r.handle)||(null==(n=null==a?void 0:a.user)?void 0:n.name)||""}let o=function(e,t,a){if((0,oC.uH)(a))switch(e){case C4.gu.SELF_SELECTED:return(0,eq.t)("members_table.billing_group_update_description.self_selected");case C4.gu.SELF_SELECTED_NOT_LISTED:return(0,eq.t)("members_table.billing_group_update_description.self_selected_not_listed");case C4.gu.SELF_SELECTED_DONT_KNOW:return(0,eq.t)("members_table.billing_group_update_description.self_selected_dont_know");case C4.gu.MOVED_BY_ADMIN:return t?(0,eq.t)("members_table.billing_group_update_description.moved_by_admin",{adminName:t}):(0,eq.t)("members_table.billing_group_update_description.moved_by_admin_generic");case C4.gu.AUTO_ASSIGNED:return(0,eq.t)("members_table.billing_group_update_description.auto_assigned");default:return null}switch(e){case C4.gu.SELF_SELECTED:return(0,eq.t)("members_table.license_group_update_description.self_selected");case C4.gu.SELF_SELECTED_NOT_LISTED:return(0,eq.t)("members_table.license_group_update_description.self_selected_not_listed");case C4.gu.SELF_SELECTED_DONT_KNOW:return(0,eq.t)("members_table.license_group_update_description.self_selected_dont_know");case C4.gu.MOVED_BY_ADMIN:return t?(0,eq.t)("members_table.license_group_update_description.moved_by_admin",{adminName:t}):(0,eq.t)("members_table.license_group_update_description.moved_by_admin_generic");case C4.gu.AUTO_ASSIGNED:return(0,eq.t)("members_table.license_group_update_description.auto_assigned");default:return null}}(l,s,a);return o?ev.createElement("div",{className:tQ()(Ia,In),"data-tooltip-type":aN.fR.TEXT,"data-tooltip":o,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},ev.createElement(eq.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(i)})):ev.createElement("div",{className:Ia},ev.createElement(eq.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(i)}))}(e.orgUser.license_group_member,s,e.orgUser.org_id)):ev.createElement("div",{className:k1},ev.createElement(Iy,null)),headerClassName:k1}),e.featured_scim_metadata&&u.push({name:(0,oC.QW)(e.featured_scim_metadata),sorting_key:Te.h3.SCIM_DATA,className:"members_table--scimColumn--aXOD6 members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>IC(e)?`a${IC(e)}`:"z",cellComponent:e=>IC(e)?ev.createElement("span",null,IC(e)):ev.createElement(Iy,null)}),(0,eT.BZ)().billing_dev_mode_customer_ui?null===o?y():(o===_K.xi.DESIGN||o===_K.xi.WHITEBOARD)&&(y(),w()):(y(),w()),u.push({name:"",className:"members_table--iconColumn--DH8JC admin_settings_page--iconColumn--qxUMs",cellComponent:(e,t)=>t?ev.createElement(ev.Fragment,null):Iv(e)?ev.createElement(ID,{...e,membersTabViewingUnassigned:m,selectedViewName:d,queueFilterCountsRefetch:c}):e.idpUser.isOrgInvite?ev.createElement(IA,{...e}):ev.createElement(IO,{...e})}),u}(r,A,!S,M,F,U.concat(V),G,h,o.productFilter,B,E.view,e.membersTabViewingUnassigned),[,K]=ev.useState($),Z=ev.useCallback(e=>{let t=!1;e===Te.h3.SEARCH_SCORE?t=!1:c.columnName===e&&(t=!c.isReversed);let a={isReversed:t,columnName:e};g(od.fv({...E,orgAdminMembersTabSort:a,orgAdminMembersTabFilters:o}));let n=e===Te.h3.SEARCH_SCORE?Te.h3.SEARCH_SCORE:(0,xz.d8)(e,r.featured_scim_metadata,r.id);K(e=>({columnName:n,isReversed:e.columnName===n&&!e.isReversed}))},[g,o,r.featured_scim_metadata,K,c.columnName,c.isReversed,r.id,E]),q=ev.useCallback(e=>{e!==l&&(0,eK.L9)("Org user search performed",{orgId:r.id,queryLength:e.length}),s(e),R(Lh.SEARCH),e?Z(Te.h3.SEARCH_SCORE):""===e&&Z(Te.SR.columnName)},[Z,r.id,l,s]),Y=ev.useMemo(()=>(0,ld.D)(q,300),[q]),J=v!==_d.Q.SUCCESS||!!b||p;return ev.createElement(LC,{allOrgUsersByUserId:h,dispatch:g,dropdownShown:n,filterCountsViewResult:P,filters:o,lastFilterAction:L,myOrgUser:A,onFilter:e=>{let t={...o,...e};g(od.fv({...E,orgAdminMembersTabFilters:t,orgAdminMembersTabSort:c})),R(Lh.FILTER)},onSearch:Y,onClearSearch:()=>q(""),org:r,invoices:i,searchQuery:l,isCurrentUserOrgAdmin:O,licenseGroupsById:F,licenseGroupsUserIsAdminOf:U,licenseGroupsUserIsNotAdminOf:V,isLicenseGroupsEnabled:M,workspacesCanMoveTo:G,designBillableSeats:d,figjamBillableSeats:m,devModeBillableSeats:u,isLoading:J,unselectableItemKeys:H,columns:z,sortState:c,onSort:Z,onFetchMore:b,sortedItems:j,queueFilterCountsRefetch:B,updateNewEditorBuffer:N,startTime:_,selectedViewName:E.view,title:e.title,isTitleLoading:e.isTitleLoading,additionalScrollAwayContent:e.additionalScrollAwayContent,membersTabViewingUnassigned:e.membersTabViewingUnassigned,queueOrgUsersRefetch:y,customEmptyState:e.customEmptyState,isDevModeOptInRequired:S,setPendingOrgUserIds:I})}function LA(e){switch(e){case ES.fW.TEAMS:return(0,eq.t)("workspace_admin_tab.teams");case ES.fW.MEMBERS:return(0,eq.t)("workspace_admin_tab.members");case ES.fW.LIBRARIES:return(0,eq.t)("workspace_admin_tab.libraries");case ES.fW.SETTINGS:return(0,eq.t)("workspace_admin_tab.settings");default:(0,eL.vE)(e)}}var LO=a(303980);let LD="settings_section--setting--lXEqH";function LF(e){return e.nullForEmptySettings&&0===e.settings.length?null:ev.createElement("div",{className:e.sectionClass?e.sectionClass:"settings_section--section--PRUcC",key:e.title},ev.createElement("div",{className:e.headerClass?e.headerClass:"settings_section--sectionTitle--nX1-P text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.icon&&ev.createElement(eD.n,{className:"settings_section--icon--ptsWc",svg:e.icon}),ev.createElement("p",null," ",e.title," ")),ev.createElement("div",{className:"settings_section--sectionItems--S6WLl"},e.description,e.settings.map((t,a)=>ev.createElement(ev.Fragment,{key:t.props.label+"-"+a},t,a<e.settings.length-1&&ev.createElement("div",{className:"settings_section--settingDivider--DQ6A1"})))))}let LM=a(373260);function LP(e){return ev.createElement("div",{className:"settings_section--settingLabel--t6sSP"},ev.createElement("div",null,e.label),ev.createElement("div",{className:e.descriptionClassName||"settings_section--description--PU14T"},e.description))}function LB(e){return ev.createElement(e3.UE,{className:"settings_section--actionSetting--zAm6q settings_section--setting--lXEqH",innerText:e.label,onClick:e.onClick,"data-testid":e.testId},ev.createElement(LP,{label:e.label,description:e.description}),ev.createElement("div",{className:"settings_section--action--2MtxM"},ev.createElement("div",null,e.currentValue),ev.createElement(eD.n,{className:"settings_section--caret--7vLfy",svg:LM})))}function LU(e){return ev.createElement("div",{className:"settings_section--readonlySetting--tSU-O settings_section--setting--lXEqH"},ev.createElement(LP,{label:e.label,description:e.description}))}function LV(e){return ev.createElement("div",{className:LD},ev.createElement(LP,{label:e.label,description:e.description}),ev.createElement("div",{className:"settings_section--contactSupport--wPR0L","data-tooltip":e.contactSupportTooltipCopy??"admin-support@figma.com","data-tooltip-type":aN.fR.TEXT,"data-tooltip-show-above":!0},ev.createElement(eA.Cr,{trackingEventName:e.label,onClick:()=>{(0,LO.w3)({name:e.user.name,email:e.user.email},{ticketForms:["account"],fields:[{id:"subject",value:e.label},{id:9792804686487,value:e.tag||""}],suppressAnswerBot:!0})},trusted:!0},e.contactSupportCopy??ev.createElement(eq.Tx,{id:"settings_tab.contact_support"}))))}function LW(e){return ev.createElement("div",{className:LD,"data-testid":e.testId},ev.createElement(LP,{label:e.label,description:e.description,descriptionClassName:e.descriptionClassName}),ev.createElement(T3.W,{on:e.isActive,onChange:e.onToggle}))}function LG(e){let t=e.publicLinkControlsSetting===S1.Ey.BANNED?(0,eq.t)("org_settings.workspace_controls.public_link_controls_setting_banned"):(0,eq.t)("org_settings.workspace_controls.public_link_controls_setting_allowed"),a=e.publicLinkControlsSetting===S1.Ey.BANNED||e.publicLinkControlsSetting===S1.Ey.ALLOWED?null:(0,eq.t)(`org_settings.workspace_controls.${e.publicLinkControlsSetting}`),r=e.publicLinkControlsSetting===S1.Ey.BANNED?ek.cx.colorTextSecondary.$:ek.cx.colorTextSuccess.$;return ev.createElement("span",{className:ek.cx.flex.gap2.$},ev.createElement("span",{className:r},t),ev.createElement("span",{className:ek.cx.colorTextSecondary.$},a))}let Lj="public_sharing_modal--modalContent--jGNPI",LH="public_sharing_modal--modalSave--Q9gNy",L$="public_sharing_modal--section--Krf8d",Lz="public_sharing_modal--openSessionToggleContainer--MPaZN",LK="public_sharing_modal--toggle--3BEnT",LZ="public_sharing_modal--checkboxRow--3-Ic9",Lq=a(137817);function LY(e){return e?e>24?{initialMaxDuration:Math.trunc(e/24),initialIsTimeMeasuredInDays:!0}:{initialMaxDuration:e,initialIsTimeMeasuredInDays:!1}:{initialMaxDuration:7,initialIsTimeMeasuredInDays:!0}}function LJ(e){return e?(0,eq.t)("setting_tab.public_sharing.modal.days"):(0,eq.t)("setting_tab.public_sharing.modal.hours")}function LQ(e,t,a){let r=(0,vC.x4)(t),n=r===S1.Ey.PASSWORD_REQUIRED||r===S1.Ey.EXP_AND_PWD_REQUIRED,i=r===S1.Ey.EXPIRATION_REQUIRED||r===S1.Ey.EXP_AND_PWD_REQUIRED,{initialMaxDuration:l,initialIsTimeMeasuredInDays:s}=LY(a),[o,c]=ev.useState(r===S1.Ey.BANNED),[d,m]=ev.useState(n),[u,_]=ev.useState(i),[p,g]=ev.useState(s),[E,h]=ev.useState(l.toString()),f=LX(E,p),v=f||""===E?void 0:p?(0,eq.t)("setting_tab.public_sharing.modal.days_error"):(0,eq.t)("setting_tab.public_sharing.modal.hours_error");return{formActions:{togglePublicLinksBanned:e=>{c(!e)},togglePublicLinksRequirePassword:e=>{let t=e.currentTarget.checked;m(t)},togglePublicLinksRequireExpiration:e=>{let t=e.currentTarget.checked;_(t)},changeMaxDuration:e=>{h(e.target.value)},setIsTimeMeasuredInDays:g,getDropdownOptions:()=>ev.createElement(ev.Fragment,null,ev.createElement(gb.j.CheckableOption,{key:"hours",onClick:()=>g(!1),checked:!p},LJ(!1)),ev.createElement(gb.j.CheckableOption,{key:"days",onClick:()=>g(!0),checked:p},LJ(!0)))},formState:{initialPublicLinkControlsSetting:r,isPublicLinksBanned:o,doPublicLinksRequirePassword:d,doPublicLinksRequireExpiration:u,isTimeMeasuredInDays:p,maxDuration:E,durationErrorMessage:v,canSave:f}}}function LX(e,t){let a=parseInt(e);if(isNaN(a)||a.toString()!==e)return!1;if(t){if(a>31||a<1)return!1}else if(a>24||a<1)return!1;return!0}function L0(e){return e.isPublicLinksBanned?S1.Ey.BANNED:e.doPublicLinksRequireExpiration&&e.doPublicLinksRequirePassword?S1.Ey.EXP_AND_PWD_REQUIRED:e.doPublicLinksRequireExpiration?S1.Ey.EXPIRATION_REQUIRED:e.doPublicLinksRequirePassword?S1.Ey.PASSWORD_REQUIRED:S1.Ey.ALLOWED}function L1(e,t){return e.doPublicLinksRequireExpiration?LX(e.maxDuration,e.isTimeMeasuredInDays)?e.isTimeMeasuredInDays?24*parseInt(e.maxDuration):parseInt(e.maxDuration):(t(dl.l.error((0,eq.t)("org_actions.an_error_occurred"))),null):null}function L2(e){let t=(0,lv.Z)(e.save,500,{leading:!0});return ev.createElement("div",{className:"public_sharing_modal--modalButtons--seR2y"},ev.createElement(eA.VM,{onClick:e.cancel},ev.createElement(eq.Tx,{id:"setting_tab.public_sharing.modal.cancel"})),ev.createElement(eA.DF,{onClick:t,className:LH,disabled:!e.canSave},ev.createElement(eq.Tx,{id:"setting_tab.public_sharing.modal.save"})))}function L3(e){let{errorMessage:t,dropdownKey:a,dropdownText:r,"aria-labelledby":n}=e,i=(0,eb.I0)(),l=(0,eb.v9)(e=>e.dropdownShown),s=ev.createRef(),o=()=>l&&l.type===a;return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"public_sharing_modal--inputWithDropdown--6-Qr-"},ev.createElement("div",{className:t?"public_sharing_modal--inputWithError--eTZgU public_sharing_modal--inputWithFocus--WKIKO autocomplete_input--inputWrapperFocused--PAR4O autocomplete_input--inputWrapper--NAFMt":"public_sharing_modal--inputWithFocus--WKIKO autocomplete_input--inputWrapperFocused--PAR4O autocomplete_input--inputWrapper--NAFMt"},ev.createElement(_X.Q,{className:"public_sharing_modal--input--TMJrL autocomplete_input--input--1J8Bs autocomplete_input--tokenPadding---bs7d",value:e.inputValue,onChange:e.onChange,"aria-labelledby":n})),ev.createElement("div",{className:"public_sharing_modal--select--wbzFi token_form--select--cUIKt role_row--select--6VpSS","aria-label":r,onClick:e=>{a&&(e.stopPropagation(),o()?i(od.kp()):i(od.SP({type:a})))}},ev.createElement("span",{className:"public_sharing_modal--selectSpan--R2uXv token_form--selectSpan--LbEAw"},r),ev.createElement("div",{className:"public_sharing_modal--caretWrapper--g7d2b token_form--caretWrapper--AaPI0 role_row--caretWrapper--P1Mak"},ev.createElement(eD.n,{svg:Lq}))),o()&&ev.createElement(gb.j.Dropdown,{className:"public_sharing_modal--selectDropdown--mhOoA",dropdownRef:s},e.options)),!!t&&ev.createElement("div",{className:"public_sharing_modal--errorMessage--XH79u"},t))}function L4(e){return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.ml32.colorTextSecondary.$,id:"max-expiration-description"},ev.createElement(eq.Tx,{id:"setting_tab.public_sharing.modal.expiration_description"})),ev.createElement(L3,{options:e.options,inputValue:e.inputValue,onChange:e.onChange,errorMessage:e.errorMessage,dropdownKey:e.dropdownKey,dropdownText:e.dropdownText,"aria-labelledby":"max-expiration-description"}))}function L8(e){return ev.createElement("div",{className:"public_sharing_modal--internalSection--4jNQf"},ev.createElement("div",{className:LZ},ev.createElement(pe.X,{label:(0,eq.t)("setting_tab.public_sharing.modal.password_required"),checked:e.doPublicLinksRequirePassword,onChange:e.togglePublicLinksRequirePassword})),e.displayExpiration&&ev.createElement("div",{className:LZ},ev.createElement(pe.X,{label:(0,eq.t)("setting_tab.public_sharing.modal.expiration_required"),checked:e.doPublicLinksRequireExpiration,onChange:e.togglePublicLinksRequireExpiration})))}function L5(e){return ev.createElement("div",{className:Lz},ev.createElement("div",{className:ek.cx.flex.flexColumn.$},ev.createElement("div",{className:"public_sharing_modal--sectionHeading--SMrch",id:"public-link-sharing"},e.labelText),ev.createElement("p",null,e.subText)),ev.createElement("div",{className:LK},ev.createElement(T3.W,{"aria-labelledby":"public-link-sharing",on:!e.isPublicLinksBanned,onChange:e.togglePublicLinksBanned})))}function L9(e){let t=ev.createElement("div",{className:tQ()(ek.cx.minW150.maxW300.mr8.$,"settings_section--loadingBlock--PGHBw")}),a=e.finishedLoading?ev.createElement(LG,{publicLinkControlsSetting:e.publicLinkControlsSetting}):t,r=e.finishedLoading?e.publicLinkControlsMaxExp?ev.createElement("div",{key:2,className:tQ()(ek.cx.pl16.$,"settings_section--secondaryText--kOgDP")},ev.createElement(L6,{expiration:e.publicLinkControlsMaxExp})):null:t,n=[ev.createElement(LU,{key:1,label:(0,eq.t)("settings_tab.public_sharing_title"),description:(0,eq.t)("workspace_admin_tab.contact_org_admin_to_change_workspace_sharing_settings")}),ev.createElement("div",{key:2,className:ek.cx.pl16.flex.gap4.$},ev.createElement(eq.Tx,{id:"workspace_admin_tab.public_link_sharing_setting",settingComponent:a}))];return r&&n.push(r),ev.createElement("div",{className:"settings_section--settingsWrapper--MTcPX settings_section--settingsWrapper--ymG5e text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(LF,{title:(0,eq.t)("settings_tab.section_header.external_access"),settings:n}))}function L6(e){let{initialMaxDuration:t,initialIsTimeMeasuredInDays:a}=LY(parseInt(e.expiration)),r=ev.createElement(eq.Tx,{id:a?"workspace_admin_tab.public_link_sharing_expiration_setting.days":"workspace_admin_tab.public_link_sharing_expiration_setting.hours",time:t});return ev.createElement("div",{key:3,className:ek.cx.gap4.$},r)}function L7({workspaceId:e}){var t,a,r,n;let i=(0,uL.Ng)(),l=(0,dV.mU)(dH.WorkspaceAdminSettingsView,{workspaceId:e});return ev.createElement("div",{className:"settings_section--container--cJdSE admin_settings_page--container--qnrCG"},ev.createElement(T$.Z,{showBorderBottom:!0,title:LA(ES.fW.SETTINGS)}),(0,cS.lR)(i)&&ev.createElement(L9,{org:i,finishedLoading:"loaded"===l.status,publicLinkControlsSetting:(null==(a=null==(t=l.data)?void 0:t.workspace)?void 0:a.publicLinkControlsSetting)??S1.Ey.ALLOWED,publicLinkControlsMaxExp:null==(n=null==(r=l.data)?void 0:r.workspace)?void 0:n.publicLinkControlsMaxExpiration}))}function Re(){var e;let t=(0,uR.usePermissionsState)(),a=t.orgById[t.currentUserOrgId],r=(0,uR.canAdminOrg)(t.currentUserOrgId,t),n=(null==a?void 0:a.bigma_enabled)&&(0,oC.uH)(a.id),i=(0,w6.$4)(),l=(0,w6.US)(),{groupsUserIsAdminOf:s}=(0,w6.O)(i,null==(e=t.user)?void 0:e.id,!r),o=ev.useMemo(()=>l?s:[],[l,s]),c=(0,dV.mU)(dH.AdminSettingsSelectorView,{orgId:a.id},{enabled:n}),d=ev.useMemo(()=>{var e,t,a;let r=((null==(a=null==(t=null==(e=c.data)?void 0:e.currentUser)?void 0:t.baseOrgUser)?void 0:a.workspaceUsers)??[]).filter(e=>e.permission===ao.F9.ADMIN).map(e=>e.workspace);return(0,nx.aV)(r,"name"),r},[c.data]);return{isOrgAdmin:r,licenseGroups:o,workspaces:"loading"===c.status||"disabled"===c.status?(0,dV.AC)():(0,dV.wl)(d)}}function Rt(){var e;let{isOrgAdmin:t,licenseGroups:a,workspaces:r}=Re();return(t?1:0)+a.length+((null==(e=r.data)?void 0:e.length)??0)}let Ra=(0,NQ.Bw)();function Rr(e){let t=null;if("getDisplayName"in e){let{getDisplayName:a,...r}=e,n=a(e.tab);t={...r,dataText:n,children:n}}else t=e;return ev.createElement(Ra,{...t,variant:NQ.Lf.ADMIN_SETTINGS})}var Rn=a(508239),Ri=a(26939);let Rl="admin_settings_selector_dropdown_options--yellowIcon---JAeY admin_settings_link--yellowIcon--bsDMr";function Rs({isOrgAdmin:e,licenseGroups:t,workspaces:a}){var r;let n=(0,eb.I0)(),i=(0,uR.usePermissionsState)(),l=i.orgById[i.currentUserOrgId],s=(0,w$.A9)(l.id),o=(0,eb.v9)(({selectedView:e})=>e);if("loaded"!==s.status)return null;let c=(null==(r=s.data)?void 0:r.invoices)||[],d=c&&(0,_9.qQ)(c),m=null;if("orgAdminSettings"===o.view?m=o.orgAdminSettingsViewTab:("licenseGroup"===o.view&&o.subView===ET.gp.ADMIN||"workspace"===o.view&&o.subView===ES.ep.ADMIN)&&(m=o.selectedTab),!l.bigma_enabled)return null;let u=(0,oC.uH)(l.id),_=t.length>0,p=u&&a.length>0;return ev.createElement(ev.Fragment,null,e&&ev.createElement(ev.Fragment,null,ev.createElement(gb.j.Option,{key:"org-label",disabled:!0},ev.createElement(eq.Tx,{id:"admin_settings_selector.dropdown_title.organization"})),ev.createElement(gb.j.CheckableOption,{checked:"orgAdminSettings"===o.view,key:`org-${l.id}`,onClick:()=>{n(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:(0,Rn.i)(fe.rN,m||fe.rN.DASHBOARD)||fe.rN.DASHBOARD}))}},l.name,d&&ev.createElement(fZ.bM,{className:Rl})),(_||p)&&ev.createElement(gb.j.Separator,{key:"post-org-separator"})),_&&ev.createElement(ev.Fragment,null,!u&&ev.createElement(gb.j.Option,{key:"license-group-label",disabled:!0},ev.createElement(eq.Tx,{id:"admin_settings_selector.dropdown_title.workspaces"})),u&&(e||p)&&ev.createElement(gb.j.Option,{key:"license-group-label",disabled:!0},ev.createElement(eq.Tx,{id:"admin_settings_selector.dropdown_title.billing_groups"})),t.map(e=>ev.createElement(gb.j.CheckableOption,{checked:"licenseGroup"===o.view&&o.subView===ET.gp.ADMIN&&o.licenseGroupId===e.id,key:`license-group-${e.id}`,onClick:()=>{n(od.fv({view:"licenseGroup",subView:ET.gp.ADMIN,licenseGroupId:e.id,selectedTab:(0,Ri.j)(m,l.id)}))}},ev.createElement("div",{style:ie.sx.flex.add({maxWidth:"500px"}).$},ev.createElement(oc.x,{truncate:!0},e.name)),(0,w6.N)(e,c)&&ev.createElement(fZ.bM,{className:Rl}))),p&&ev.createElement(gb.j.Separator,{key:"post-license-groups-separator"})),p&&ev.createElement(ev.Fragment,null,(e||_)&&ev.createElement(gb.j.Option,{key:"workspace-label",disabled:!0},ev.createElement(eq.Tx,{id:"admin_settings_selector.dropdown_title.workspaces"})),a.map(e=>ev.createElement(gb.j.CheckableOption,{checked:"workspace"===o.view&&o.subView===ES.ep.ADMIN&&o.workspaceId===e.id,key:`workspace-${e.id}`,onClick:()=>{n(od.fv({view:"workspace",subView:ES.ep.ADMIN,workspaceId:e.id,selectedTab:(0,Rn.i)(ES.fW,m||ES.u5[0])||ES.u5[0]}))}},ev.createElement("div",{style:ie.sx.flex.add({maxWidth:"500px"}).$},ev.createElement(oc.x,{truncate:!0},e.name))))))}var Ro=a(147369);let Rc=(0,NQ.Bw)();function Rd(e){var t,a;let r;let{isOrgAdmin:n,licenseGroups:i,workspaces:l}=Re(),s=(0,uL.Ng)(),o=Rt(),c=(null==s?void 0:s.bigma_enabled)&&(0,oC.uH)(s.id),d=o$(),m=(0,eb.v9)(({selectedView:e})=>e),u=!1,_=null;switch(m.view){case"orgAdminSettings":r=(null==s?void 0:s.name)??(0,eq.t)("admin_settings_selector.name.organization_fallback"),_=s?ev.createElement(ds.Kn,{entity:s,size:16}):null;break;case"workspace":let p=null==(t=l.data)?void 0:t.find(e=>e.id===m.workspaceId);r=(null==p?void 0:p.name)??(0,eq.t)("admin_settings_selector.name.workspace_fallback"),u="loading"===l.status,_=p?ev.createElement(ds.zf,{entity:p,size:16}):null;break;case"licenseGroup":let g=c?(0,eq.t)("admin_settings_selector.name.workspace_fallback"):(0,eq.t)("admin_settings_selector.name.billing_group_fallback");r=(null==(a=i.find(e=>e.id===m.licenseGroupId))?void 0:a.name)??g}let E=o>1&&!u,h=ev.createElement(Rc,{hideInMobileNav:!0,key:"ADMIN_SETTINGS_SELECTOR_TAB",tab:r,selectedTab:r,mobileNavTabTitle:r,chevronClassName:Ro.ST,dropdownKey:"ADMIN_SETTINGS_SELECTOR","data-onboarding-key":TR,dropdownOptions:ev.createElement(Rs,{isOrgAdmin:n,licenseGroups:i,workspaces:l.data??[]})},r),f=u?ev.createElement(xS.g4,{className:ek.cx.pr12.h12.w100.$}):ev.createElement("div",{className:ek.cx.pr12.$},ev.createElement(oc.x,{truncate:!0},r));return ev.createElement(NJ.b,{left:ev.createElement(tD.j,{width:"hug-contents"},d&&ev.createElement(oz,null),_,!E&&f),showDividerBeforeTabIndex:e.navTabs.length?E?1:0:void 0,hideToolBarOnDesktop:!1,tabs:E?[h,...e.navTabs]:e.navTabs,containerClassName:d?"admin_settings_view_toolbar--adminSettingsToolBarContainerWithChevrons--hpBtR admin_settings_view_toolbar--adminSettingsToolBarContainer--BwTGu desktop_tool_bar--pageViewToolBarContainer--4qHRW desktop_tool_bar--toolBarContainer--zDA63":"admin_settings_view_toolbar--adminSettingsToolBarContainer--BwTGu desktop_tool_bar--pageViewToolBarContainer--4qHRW desktop_tool_bar--toolBarContainer--zDA63"})}function Rm(e){let t=(0,eb.I0)(),a=(0,uL.Ng)(),r=(0,oC.uH)(null==a?void 0:a.id),n=Rt();if(r&&n<=1)return null;let i=a=>{t(od.fv({view:"licenseGroup",subView:ET.gp.ADMIN,selectedTab:a,licenseGroupId:e.licenseGroupId}))},l=[];if(!r&&(ET.Uq.forEach(t=>{l.push(ev.createElement(Rr,{tab:t,selectedTab:e.selectedTab,key:t,onClick:i,mobileNavTabTitle:(0,w9.WE)(t),getDisplayName:w9.WE}))}),(0,oC.d$)(a)&&!(0,oC.OR)(a))){let t=ET.nb.LIBRARIES;l.push(ev.createElement(Rr,{tab:t,selectedTab:e.selectedTab,key:t,onClick:i,mobileNavTabTitle:(0,w9.WE)(t),getDisplayName:w9.WE}))}return!r&&(0,oC.Z0)(a)&&l.push(ev.createElement(Rr,{tab:ET.nb.SETTINGS,selectedTab:e.selectedTab,key:ET.nb.SETTINGS,onClick:i,mobileNavTabTitle:(0,w9.WE)(ET.nb.SETTINGS),getDisplayName:w9.WE})),ev.createElement(Rd,{navTabs:l})}let Ru="billing_details_figjam--metadataRow--LeeGY billing_details_figjam--metadataRow--H1vpp",R_="billing_details_figjam--cell--JhItj billing_details_figjam--cell--HFItG",Rp="billing_details_figjam--container---f915 billing_details_figjam--container--WyQin",Rg="billing_details_figjam--header--jF4i4 billing_details_figjam--header---1eWo",RE="billing_details_figjam--primaryData--h7-PG text--fontPos18--rYXJb text--_fontBase--QdLsd",Rh="billing_details_figjam--secondaryData--vUZ-O billing_details_figjam--secondaryData--WdsSw",Rf="billing_details_figjam--link--eVfIE billing_details_figjam--link--D3k8I billing_tab--link--Lzuhx blue_link--blueLink--9rlnd",Rv="org_admin_settings_page_view--container--f4h9e",Rb="org_admin_settings_page_view--fileBrowserContentContainer--aH06-",Ry="org_admin_settings_page_view--fileBrowserScrollableContainer--in4VL";function Rw(){var e;let t=(0,eb.v9)(({dropdownShown:e})=>e),a=(0,eb.v9)(({loadingState:e})=>e),r=(0,eb.v9)(({orgById:e,currentUserOrgId:t})=>e[t]),n=(0,eb.v9)(({selectedView:e})=>e),i=(0,eb.v9)(({teamRoleRequests:e})=>e),l=(0,eb.v9)(({user:e})=>e),s=(0,w6.$4)(),o=r.id,c=(0,eb.I0)();(0,w8.dl)([n.selectedTab]);let d=(0,w$.A9)(null==r?void 0:r.id),m=null==(e=null==d?void 0:d.data)?void 0:e.invoices,u=m?(0,_9.Zh)(m,"upcoming")||(0,_9.Zh)(m,"locked"):null,{selectedTab:_,licenseGroupId:p,membersTabViewingUnassigned:g,orgAdminOriginTab:E}=n,h=(0,w6.lV)(r.id),f=g?bO.u:p,v=(0,r9.Dv)(w2(p));ev.useEffect(()=>{c(w4.U2({forceRefetch:!0}))},[c,r.id]);let[b]=(0,w3.dA)({currentOrgId:r.id,excludeDrafts:!0},{enabled:(0,oC.d$)(r)&&!(0,oC.OR)(r)}),y=b.data||null,w=Date.now(),[T,x]=ev.useState(""),N=s.find(e=>e.id===p),C=void 0===g&&_===ET.nb.MEMBERS&&N&&(0,w6.N)(N,m)&&!(0,oC.di)(r.id),S=w5(p),k=S.data,I=e=>{var t;let a=null==(t=null==k?void 0:k.fullPaidStatusCounts)?void 0:t.find(t=>t.licenseType===e);return Number((null==a?void 0:a.count)??0)},L=(0,nm.LL)(!0);ev.useEffect(()=>{C&&c(od.fv({...n,membersTabViewingUnassigned:!0}))},[c,n,C]);let R=(0,oC.uH)(r.id),A=null==N?void 0:N.name,O=R&&A?A:(0,w9.WE)(_),D=R&&(0,dn.hg)(a,(0,w6.lV)(r.id)),F=ev.createElement("div",{className:Rv},ev.createElement(T$.Z,{isLoading:D,title:O}),ev.createElement(ax.jz,null)),M=ev.createElement("div",{className:Rp},ev.createElement("div",{className:Ru},!!u&&ev.createElement("div",{className:R_},ev.createElement("span",{className:Rg},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.next_invoice_issue_date"})),ev.createElement("div",{className:RE},(0,gk.Z)(u.due_at).format("ll"))),ev.createElement("div",{className:R_,"data-testid":"design-editor-count-cell"},ev.createElement("span",{className:Rg},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.total_design_editor_seats.seat_rename"})),ev.createElement("div",{className:RE},I(ao.oj.DESIGN))),ev.createElement("div",{className:R_,"data-testid":"whiteboard-editor-count-cell"},ev.createElement("span",{className:Rg},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.total_fig_jam_editor_seats.seat_rename"})),ev.createElement("div",{className:RE},I(ao.oj.WHITEBOARD)))));!N&&(0,dn.l3)(a,h)&&(0,dn.B4)(a,h)&&c(od.fv(Tt.r_));let P=!1,B=null;switch(_){case ET.nb.MEMBERS:let U=(0,dn.hg)(a,(0,w6.lV)(r.id)),V={...Te.bu,...n.orgAdminMembersTabFilters,licenseGroupFilter:f},W=n.orgAdminMembersTabSort||Te.SR,G=(0,oC.HR)(r.id),j=(0,oC.Eq)(r.id)&&!G;B=ev.createElement(LR,{invoices:m,org:r,dropdownShown:t,membersTabViewingUnassigned:g,key:f,filters:V,sort:W,figjamBillableSeats:null,designBillableSeats:null,devModeBillableSeats:null,startTime:w,searchQuery:T,setSearchQuery:x,isLoading:U,title:O,isTitleLoading:D,additionalScrollAwayContent:j?M:void 0,customEmptyState:G?ev.createElement(tD.j,{direction:"vertical",width:"fill-parent",height:"hug-contents",horizontalAlignItems:"center",verticalAlignItems:"center",strokeColor:"default",strokeWidth:1,padding:20},ev.createElement(oc.x,{color:"secondary",fontWeight:"semi-bold",i18nId:"license_group_admin.members.no_members_yet"}),ev.createElement(oc.x,{color:"secondary",i18nId:"license_group_admin.members.no_members_yet.subtitle"})):void 0});break;case ET.nb.TEAMS:P=(0,dn.hg)(a,(0,w6.lV)(r.id))||"loaded"!==v.status,B=ev.createElement(C0,{org:r,teams:v.data||[],dropdownShown:t,dispatch:c,teamRoleRequests:i,user:l,selectedLicenseGroupTab:f,key:f});break;case ET.nb.LIBRARIES:if(!(0,oC.d$)(r)||(0,oC.OR)(r))break;if(!y){P=!0,F=ev.createElement(xy.rn,{selectedViewAndTab:{view:fe.yA.LICENSE_GROUP},isLoading:!0});break}B=ev.createElement(xC,{org:r,licenseGroupId:p,libraryStats:y});break;case ET.nb.SETTINGS:(null==N?void 0:N.mirrored_workspace_id)&&(B=ev.createElement(L7,{workspaceId:null==N?void 0:N.mirrored_workspace_id}))}let H=o$();return ev.createElement(ev.Fragment,null,(0,oC.yL)(o)&&(0,oC.di)(o)&&ev.createElement(sb.V,null,ev.createElement(TG,{licenseGroupId:p})),ev.createElement(da.S,{containerClass:Rb,scrollableContainerClass:Ry,toolbar:E?ev.createElement(tD.j,{direction:"horizontal",padding:{horizontal:32},height:48},H&&ev.createElement(oz,null),ev.createElement(EL,{items:[{text:L?(0,eq.t)("sidebar.admin_dashboard"):(0,eq.t)("sidebar.admin_settings"),onClick:()=>{c(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.DASHBOARD}))}},{text:(0,w7.K)(E),onClick:()=>{c(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:E}))}}]})):ev.createElement(Rm,{selectedTab:_,licenseGroupId:p}),content:P?F:B}))}var RT=a(51610),Rx=a(285852),RN=a(833897),RC=a(594835);let RS="offline_create_file_buttons--subtext--qn9WI text--fontPos11--2LvXf text--_fontBase--QdLsd",Rk="offline_create_file_buttons--icon--Domlp",RI="offline_create_file_buttons--tile--6OU4D text--fontPos13--xW8hS text--_fontBase--QdLsd",RL="offline_create_file_buttons--disabledFileTile--2zOWW offline_create_file_buttons--tile--6OU4D text--fontPos13--xW8hS text--_fontBase--QdLsd",RR="offline_create_file_buttons--tileText--Y5F0F",RA=a(295799),RO=a(749891);function RD(e){let t=(0,_t.Hw)(e.folderId||null,ao.gg.DESIGN),a=(0,_t.Hw)(e.folderId||null,ao.gg.WHITEBOARD),r=(0,_t.S0)(e.folderId||null,ao.gg.WHITEBOARD),n=(0,_t.S0)(e.folderId||null,ao.gg.DESIGN),i=(0,eb.v9)(e=>(0,uR.isFigJamDisabledForOrg)(e.currentUserOrgId,(0,uR.getPermissionsState)(e)));return r||n?ev.createElement(ev.Fragment,null,ev.createElement(RM,{text:(0,eq.t)("file_browser.new_file_creation_topbar.new_design_file"),className:n?RI:RL,editorType:ao.gg.DESIGN,newFileFrom:e.newFileFrom,disabledType:n?void 0:"for_user",team:e.team,subtext:n&&!t?(0,eq.t)("file_browser.new_file_creation_topbar.need_an_upgrade_to_create"):(0,eq.t)("file_browser.new_file_creation_topbar.design_and_prototype"),triggerOrgUpgradeModal:n&&!t,hidePlusIcon:e.hidePlusIcons,dataOnboardingKey:"folder-page-view-new-file-cta"}),ev.createElement(RM,{text:(0,eq.t)("file_browser.new_file_creation_topbar.new_figjam_file"),className:r?RI:RL,editorType:ao.gg.WHITEBOARD,newFileFrom:e.newFileFrom,team:e.team,disabledType:r?void 0:i?"for_org":"for_user",subtext:i?(0,eq.t)("file_browser.new_file_creation_topbar.disabled_by_your_organization"):r&&!a?(0,eq.t)("file_browser.new_file_creation_topbar.need_an_upgrade_to_create"):(0,eq.t)("file_browser.new_file_creation_topbar.whiteboard_and_diagram"),triggerOrgUpgradeModal:r&&!a,hidePlusIcon:e.hidePlusIcons,dataOnboardingKey:"folder-page-view-new-board-cta"}),!e.hideImportButton&&ev.createElement(RP,{disabled:!a&&!t,isInProjectsView:!!e.isInProjectsView})):null}var RF=((A=RF||{}).FOR_ORG="for_org",A.FOR_USER="for_user",A);function RM(e){var t;let a=(0,eb.I0)(),r=(0,_B.JX)(e.folderId),n=null==(t=r.user)?void 0:t.id,i=r.currentUserOrgId,l=i&&r.orgUsersByOrgId.orgUsers[i],s=n&&l&&l[n],o=ev.useCallback((t,l)=>{if(t.stopPropagation(),t.preventDefault(),e.triggerOrgUpgradeModal){i&&s&&a((0,ig.K4)({type:RC.W,data:{orgId:i,orgUser:s,entryPoint:"create-file",licenseType:(0,_K.wq)(e.editorType)}}));return}a(u9.ae({state:r,editorType:e.editorType,team:e.team,from:e.newFileFrom,openNewFileIn:l?_n.JD.NEW_TAB:(0,ly.v8)(t)?_n.JD.NEW_TAB:_n.JD.SAME_TAB,callback:t=>{(0,eH.T6)({userId:n,fileKey:t},"design"===e.editorType?"topbar_design_created":"topbar_figjam_created")}}))},[a,e.editorType,r,e.newFileFrom,e.team,n,e.triggerOrgUpgradeModal,i,s]),c="whiteboard"===e.editorType?hl.I1.WHITEBOARD:hl.I1.DESIGN;return ev.createElement("a",{className:e.className,onClick:e.disabledType?void 0:o,onAuxClick:e.disabledType?void 0:e=>o(e,!0),"data-onboarding-key":e.dataOnboardingKey},ev.createElement(hl.aA,{type:c,className:Rk}),ev.createElement("div",{className:RR,"data-testid":`new-${e.editorType}-file-button`},e.text,e.subtext&&ev.createElement("div",{className:RS},e.subtext)),!e.hidePlusIcon&&ev.createElement(eD.n,{svg:RA,className:"offline_create_file_buttons--plusIcon--rfaJQ"}))}function RP(e){let t=(0,eb.I0)(),a=e.disabled?RL:"offline_create_file_buttons--importFileTile--yEK2B offline_create_file_buttons--tile--6OU4D text--fontPos13--xW8hS text--_fontBase--QdLsd";return e.isInProjectsView&&(a+=" offline_create_file_buttons--importFileTileInProjects--dvLIv offline_create_file_buttons--tile--6OU4D text--fontPos13--xW8hS text--_fontBase--QdLsd"),ev.createElement("div",{className:a,onClick:e.disabled?void 0:()=>{e.folderId&&t(od.B4(e.folderId)),t((0,Rx.v)({showImportModal:(0,eT.BZ)().figjam_3p_file_importer}))},role:"button",tabIndex:0,"data-testid":"file-import-button","data-onboarding-key":RN.V},ev.createElement(eD.n,{svg:RO,className:tQ()(Rk,"offline_create_file_buttons--importIcon--Z0auF")}),ev.createElement("div",{className:RR},ev.createElement(eq.Tx,{id:"file_browser.new_file_creation_topbar.import_file"}),ev.createElement("div",{className:RS},ev.createElement(eq.Tx,{id:"file_browser.new_file_creation_topbar.import_file_types"}))))}RM.displayName="NewFileTile";let RB=a(199291),RU={open:!0,rename:!0},RV={tileSortFilterConfig:{viewMode:EO.H6.GRID,sort:{key:EO.BO.TOUCHED_AT,dir:EO.qP.DESC},filters:{creator:EO.FN.ANY,fileType:EO.$Q.ANY}},sortKeys:[]};function RW(){let e=(0,eb.v9)(e=>e.currentUserOrgId),t=(0,u6.SZ)(),a=Object.values(t).filter(t=>(t.orgId??null)===e).map(EA.jp);return ev.useEffect(()=>{if("visible"!==RT.F1())return RT.Ld(e=>{"visible"===e&&(0,u8.pF)()});(0,u8.pF)()},[]),ev.createElement(da.S,{content:ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"offline_files_view--newFileTilesContainer--7EvH9 tiles_view--tilesGrid--sFT-k tiles_view--tiles--81NRr"},ev.createElement(RD,{newFileFrom:_n.L7.FILE_BROWSER_TOPBAR_OFFLINE,hideImportButton:!0})),ev.createElement(hC,{tiles:a,tileActions:RU,sortFilterOptions:RV,newFileTile:!1,emptyStateText:"",emptyStateContent:ev.createElement(RG,null),hideSorter:!0}))})}function RG(){return ev.createElement("div",{className:"offline_files_view--emptyState--CbFJn"},ev.createElement(eD.n,{className:"offline_files_view--emptyStateIcon--XgADX",svg:RB,height:"200px",width:"200px",autosize:!0}),ev.createElement("div",{className:"offline_files_view--emptyStateText--P7I0w text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"file_browser.offline_files.empty"})))}var Rj=a(95470),RH=a(69335),R$=a(577262),Rz=a(556928);function RK(e){let t=(0,lL.E)("exp_extension_trust",{type:Rz.i_.ORG,id:e}).defaultValue(!1).treatment("variant",!0).disableTracking().get();return t||!0}let RZ=(0,cx.F)(cL.s8b);function Rq(){return(0,t6.a)(`(max-width: ${RZ}px)`)}var RY=a(852046),RJ=((O=RJ||{}).BillingGroupsAnnouncementNoWorkspaces="BillingGroupsAnnouncementNoWorkspaces",O.BillingGroupsAnnouncementWithWorkspaces="BillingGroupsAnnouncementWithWorkspaces",O.CreateFirstWorkspace="CreateFirstWorkspace",O.CreateFirstBillingGroup="CreateFirstBillingGroup",O.CheckOutBillingGroups="CheckOutBillingGroups",O);let RQ="seen_enterprise_org_admin_onboarding",RX=(0,o_.n_)(RQ);function R0(e){let{step:t,isOverlayShowing:a,isFinal:r,next:n,complete:i}=e;switch(t){case"BillingGroupsAnnouncementNoWorkspaces":return ev.createElement(dP.R,{isShowing:a,userFlagOnShow:RQ},ev.createElement(e3.Ui,{name:`${Tl} - billing groups announcement - no workspaces`},ev.createElement(TB,{variant:TP.OrgAdminNoWorkspaces,isFinalStep:r,onClose:i,onNext:n})));case"BillingGroupsAnnouncementWithWorkspaces":return ev.createElement(dP.R,{isShowing:a,userFlagOnShow:RQ},ev.createElement(e3.Ui,{name:`${Tl} - billing groups announcement - with workspaces`},ev.createElement(TB,{variant:TP.OrgAdminWithWorkspaces,isFinalStep:r,onClose:i,onNext:n})));case"CreateFirstWorkspace":return ev.createElement(Tn.ZZ,{emphasized:!0,clickOutsideToHide:!0,shouldCenterArrow:RY.Ht.FALLBACK,stepCounter:{stepNum:1,totalNumSteps:2},isShowing:a,targetKey:Tu,trackingContextName:`${Tl} - create first workspace`,title:ev.createElement(oc.x,{i18nId:"org_admin_onboarding.tooltip.create_first_workspace.title"}),description:ev.createElement(oc.x,{i18nId:"org_admin_onboarding.tooltip.create_first_workspace.description"}),primaryCta:{label:ev.createElement(oc.x,{i18nId:"general.next"}),type:"button",onClick:n,ctaTrackingDescriptor:cC.y.NEXT},onClose:i,userFlagOnShow:RQ});case"CreateFirstBillingGroup":return ev.createElement(Tn.ZZ,{emphasized:!0,clickOutsideToHide:!0,shouldCenterArrow:RY.Ht.FALLBACK,stepCounter:{stepNum:2,totalNumSteps:2},isShowing:a,targetKey:Tp,trackingContextName:`${Tl} - create first billing group`,title:ev.createElement(oc.x,{i18nId:"org_admin_onboarding.tooltip.create_first_billing_group.title"}),description:ev.createElement(oc.x,{i18nId:"org_admin_onboarding.tooltip.create_first_billing_group.description"}),primaryCta:{label:ev.createElement(oc.x,{i18nId:"general.got_it"}),type:"button",onClick:i,ctaTrackingDescriptor:cC.y.DONE},onClose:i,userFlagOnShow:RQ});case"CheckOutBillingGroups":return ev.createElement(Tn.ZZ,{emphasized:!0,clickOutsideToHide:!0,shouldCenterArrow:RY.Ht.FALLBACK,isShowing:a,targetKey:Tp,trackingContextName:`${Tl} - check out billing groups`,title:ev.createElement(oc.x,{i18nId:"org_admin_onboarding.tooltip.check_out_billing_groups.title"}),description:ev.createElement(oc.x,{i18nId:"org_admin_onboarding.tooltip.check_out_billing_groups.description"}),primaryCta:{label:ev.createElement(oc.x,{i18nId:"general.got_it"}),type:"button",onClick:i,ctaTrackingDescriptor:cC.y.DONE},onClose:i,userFlagOnShow:RQ});default:(0,eL.vE)(t)}}function R1(e){return(0,oC.ko)(e)&&(0,oC.yL)(null==e?void 0:e.id)}function R2(){var e,t,a,r,n,i;let l=(0,uL.Ng)(),s=(null==l?void 0:l.id)??null,o=Rq(),c=(0,r9.Dv)(RX),d=(0,dV.mU)(dH.EnterpriseOrgAdminOnboardingSequenceView,{orgId:s},{enabled:R1(l)}),{show:m,complete:u,isShowing:_}=(0,so.I)({id:sd.G.EnterpriseOrgAdminOnboarding,priority:su.b4.DEFAULT_MODAL},[c,d]),p=null==(t=null==(e=d.data)?void 0:e.org)?void 0:t.bigmaEnabledAt,g=(null==(r=null==(a=d.data)?void 0:a.org)?void 0:r.workspaces)??[],E=(null==(i=null==(n=d.data)?void 0:n.org)?void 0:i.licenseGroups)??[],h=[];if(0===g.length&&0===E.length){let e=p&&p<oC.X9;e&&h.push("BillingGroupsAnnouncementNoWorkspaces"),o||(h.push("CreateFirstWorkspace"),h.push("CreateFirstBillingGroup"))}else{let e=g.some(e=>e.createdAt<oC.X9);e?(h.push("BillingGroupsAnnouncementWithWorkspaces"),o||h.push("CheckOutBillingGroups")):h=[]}let{currentStep:f,next:v}=(0,Ta.Z)({numSteps:Math.max(h.length,1),onComplete:u});return((0,eZ.O)(()=>{m({canShow:(e,t)=>R1(l)&&!e})}),h.length)?ev.createElement(Tr.Y,{currentStep:f,isShowing:_,children:h.map((e,t)=>ev.createElement(R0,{key:t,step:e,isFinal:t===h.length-1,isOverlayShowing:_,next:v,complete:u}))}):(u(),null)}var R3=a(307677),R4=a(297891),R8=a(958365),R5=a(744953),R9=a(796096);let R6=oo.DZ.MEDIUM20;function R7(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let r=a.slice(0,25).map(e=>e.handle).join("\n");return ev.createElement("div",{className:"post_avatars_pile--viewersList--v0Fii"},e.totalNum-t.length>0&&ev.createElement("div",{className:"post_avatars_pile--horizontalPileNumber---edJw post_avatars_pile--baseNumber--K3IRc","data-tooltip-type":aN.fR.TEXT,"data-tooltip":r},e.totalNum-t.length),t.reverse().map(t=>ev.createElement("div",{className:"post_avatars_pile--avatar--3jfii",key:t.id},ev.createElement(R9.q,{user:t},ev.createElement(oo.Yt,{user:t,size:e.avatarSize?e.avatarSize:R6})))))}let Ae=(0,it.Y3)(function({extensionName:e,onConfirm:t,orgName:a,extensionType:r}){let n=(0,eb.I0)();return ev.createElement(ir.cV,{confirmationTitle:ev.createElement(oc.x,{fontWeight:"semi-bold",i18nId:"resources_tab.extension_revoke_modal.title",i18nParams:{extensionName:e}}),confirmText:(0,eq.t)("resources_tab.extension_revoke_modal.confirmation_button"),onConfirm:t,dispatch:n,popStack:!0},ev.createElement(oc.x,{i18nId:"widget"===r?"resources_tab.extension_revoke_modal.body.widget":"resources_tab.extension_revoke_modal.body.plugin",i18nParams:{orgName:ev.createElement(oc.x,{fontWeight:"semi-bold"},a)}}))},"EXTENSION_ALLOWLIST_REVOKE_CONFIRMATION_MODAL"),At=a(174341),Aa=new TH.Or([],{keys:["name"],threshold:0,tokenize:!0,matchAllTokens:!0});function Ar(e){let{requesters:t}=e;if(!t||0===t.length)return null;let a=null;return a=1===t.length?ev.createElement(oc.x,{fontSize:11,color:"secondary",i18nId:"resources_tab.approved_plugins.modal.requested_by.one",i18nParams:{requesterName:t[0].name}}):2===t.length?ev.createElement(oc.x,{fontSize:11,color:"secondary",i18nId:"resources_tab.approved_plugins.modal.requested_by.two",i18nParams:{requesterName1:t[0].name,requesterName2:t[1].name}}):ev.createElement(oc.x,{fontSize:11,color:"secondary",i18nId:"resources_tab.approved_plugins.modal.requested_by.many",i18nParams:{requesterName:t[0].name,numOthers:t.length-1}}),ev.createElement("div",{className:ek.cx.flex.gap4.$},ev.createElement(R7,{avatarSize:oo.DZ.SMALL16,users:t,totalNum:t.length,numAvatarsToDisplay:3}),a)}function An({extension:e,org:t,onNavigateBack:a,mode:r,requests:n}){let i=(0,eb.I0)(),{id:l}=e,s=e.isWidget?"widget":"plugin",o=ev.useMemo(()=>{let e=new Map;return n.forEach(t=>{if(!t.orgUser||!t.workspaceId)return;let a=t.workspaceId,{workspaceUsers:r,user:n}=t.orgUser;if(!r)return;let i={name:n.name??"",imgUrl:n.imgUrl,id:n.id,handle:n.handle},l=e.get(a);l?l.push(i):e.set(a,[i])}),e},[n]),[c,d]=ev.useState(t.isPluginAllowlisted),m=(0,lb.D)(c),u=ev.useMemo(()=>n.some(e=>null===e.workspaceId),[n]),_=(0,ev.useCallback)(()=>(t.workspaces??[]).reduce((e,t)=>(e[t.id]=!!c||t.isPluginAllowlisted,e),{}),[t.workspaces,c]),[p,g]=ev.useState(_()),[E,h]=ev.useState(null);ev.useEffect(()=>{void 0!==m&&m!==c&&(c?(E||h(p),g(e=>Object.fromEntries(Object.entries(e).map(([e])=>[e,c])))):E?(g(E),h(null)):g(e=>Object.fromEntries(Object.entries(e).map(([e])=>[e,!1]))))},[_,p,c,E,m]);let[f,v]=ev.useState(""),b=ev.useMemo(()=>{let e=t.workspaces??[];return""===f?e:(Aa.set(e),Aa.search(f))},[f,t.workspaces]),y=async()=>{let e=[],a=[];for(let[t,r]of Object.entries(p)){let n=b.find(e=>e.id===t);n&&(r&&!n.isPluginAllowlisted&&e.push(t),!r&&n.isPluginAllowlisted&&a.push(t))}let r=[];!c&&e.length>0&&r.push(R8._.enableExtensionForWorkspaces({orgId:t.id,extensionId:l,extensionType:s,workspaceIds:e})),a.length>0&&r.push(R8._.disableExtensionForWorkspaces({orgId:t.id,extensionId:l,extensionType:s,workspaceIds:a})),c!==t.isPluginAllowlisted&&r.push(c?R8._.enableExtensionForOrg({orgId:t.id,extensionId:l,extensionType:s}):R8._.disableExtensionForOrg({orgId:t.id,extensionId:l,extensionType:s}));try{await Promise.all(r),i(ig.eI())}catch{i(r7.R.enqueue({error:!0,message:(0,eq.t)("resources_tab.approved_plugins.modal.failed_to_update_plugin_approval")}))}},w=ev.useMemo(()=>c!==t.isPluginAllowlisted||Object.entries(p).some(([e,a])=>{var r;let n=null==(r=t.workspaces)?void 0:r.find(t=>t.id===e);return(null==n?void 0:n.isPluginAllowlisted)!==a}),[c,t.isPluginAllowlisted,t.workspaces,p]),T=ev.useMemo(()=>c||Object.values(p).some(e=>e),[c,p]),x=ev.useMemo(()=>c?[]:Object.entries(p).filter(([,e])=>e).map(([e])=>e),[p,c]);return ev.createElement("div",{className:ek.cx.flex.flexColumn.hFull.$},ev.createElement("div",{className:ek.cx.px8.py4.flex.itemsCenter.bb1.bSolid.colorBorder.$},ev.createElement("div",{className:ek.cx.wFull.flex.itemsCenter.$},ev.createElement("div",{className:ek.cx.wFull.flex.itemsCenter.gap4.$},ev.createElement(oM.z,{icon:"chevron-left-32",onClick:a,variant:"text"}),ev.createElement(oc.x,{i18nId:"plugin"===s?"resources_tab.approved_plugins.modal.approve_plugin":"resources_tab.approved_plugins.modal.approve_widget"})),ev.createElement(nN.rs,{onChange:v,focusOnMount:!1,query:f,clearSearch:()=>v(""),hideXIcon:!0,placeholder:(0,eq.t)("resources_tab.approved_plugins.modal.search_workspaces"),smallFont:!0}))),ev.createElement("div",{className:ek.cx.flex.itemsCenter.px16.h48.bb1.colorBorder.bSolid.gap8.$},ev.createElement("div",{className:ek.cx.p8.$},ev.createElement(T3.W,{on:c,onChange:()=>{d(e=>!e)},dataTestId:"org-allowlist-toggle"})),ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.allow_for_all_files_and_drafts_in_org_workspaces",i18nParams:{orgName:t.name}})),!c&&u&&ev.createElement("div",{className:ek.cx.px16.pt16.$},ev.createElement(n7.X,{dataTestId:"plugin-request-from-drafts-warning",variant:"warning",orientation:"vertical",iconSrc:At},"plugin"===s?(0,eq.t)("resources_tab.approved_plugins.modal.individual_workspaces_approval_warning"):(0,eq.t)("resources_tab.approved_widgets.modal.individual_workspaces_approval_warning"))),ev.createElement(cr.l,{className:ek.cx.flexGrow1.$},ev.createElement("div",{className:ek.cx.py8.if(c,ek.cx.opacity0_5.eventsNone).$},b.map(e=>ev.createElement("div",{key:e.id,className:ek.cx.px16.h48.flex.itemsCenter.gap8.$},ev.createElement("div",{className:ek.cx.p8.$},ev.createElement(T3.W,{dataTestId:`workspace-allowlist-toggle-${e.id}`,on:p[e.id],onChange:()=>g(t=>({...t,[e.id]:!t[e.id]}))})),ev.createElement("div",{className:ek.cx.flex.flexColumn.gap4.$},ev.createElement(oc.x,null,e.name),ev.createElement(Ar,{requesters:o.get(e.id)})))))),ev.createElement("div",{className:ek.cx.flex.itemsCenter.p16.bt1.colorBorder.bSolid.gap8.justifyEnd.$},"review"===r&&ev.createElement(ev.Fragment,null,ev.createElement(oM.z,{onClick:a},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.cancel"})),ev.createElement(oM.z,{variant:"primary",onClick:()=>{let e=()=>{i(r7.R.enqueue({error:!0,message:(0,eq.t)("resources_tab.approved_plugins.modal.failed_to_update_plugin_approval")}))};try{y().then(()=>{let e={orgId:t.id,extensionId:l,extensionType:s};if(0===x.length){R5.m.approveRequestForOrg(e);return}R5.m.updateRequestForWorkspaces({...e,approvedWorkspaceIds:x})}).catch(e)}catch(t){e()}},disabled:!T,dataTestId:"approve-button"},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.approve"}))),"manage"===r&&ev.createElement(ev.Fragment,null,ev.createElement(oM.z,{onClick:a},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.back"})),ev.createElement(oM.z,{variant:"primary",onClick:()=>{var a;if(!c&&0===x.length){i((0,ig.K4)({type:Ae,data:{extensionName:(null==(a=e.currentPluginVersion)?void 0:a.name)??"",orgName:t.name,extensionType:s,onConfirm:()=>{y()}},showModalsBeneath:!0}));return}y()},dataTestId:"save-changes-button",disabled:!w},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.save_changes"})))))}let Ai="extension_usage_data--dropdown--Hx6wX",Al=a(527925);var As=((D=As||{}).LastWeek="Last Week",D.LastMonth="Last Month",D.LastYear="Last Year",D);let Ao={usage_windows:{"Last Week":{n_extension_actions:0,n_extension_users:0,top_org_users:[],workspaces_extensions_used_on:""},"Last Month":{n_extension_actions:0,n_extension_users:0,top_org_users:[],workspaces_extensions_used_on:""},"Last Year":{n_extension_actions:0,n_extension_users:0,top_org_users:[],workspaces_extensions_used_on:""}}},Ac={usage_windows:{"Last Week":{n_extension_actions:0,n_extension_users:0,top_org_users:[{user_id:"placeholder1",user_name:"Organization user",org_rank:1,n_extension_actions:0},{user_id:"placeholder2",user_name:"Organization user",org_rank:2,n_extension_actions:0},{user_id:"placeholder3",user_name:"Organization user",org_rank:3,n_extension_actions:0}],workspaces_extensions_used_on:""},"Last Month":{n_extension_actions:0,n_extension_users:0,top_org_users:[{user_id:"placeholder1",user_name:"Organization user",org_rank:1,n_extension_actions:0},{user_id:"placeholder2",user_name:"Organization user",org_rank:2,n_extension_actions:0},{user_id:"placeholder3",user_name:"Organization user",org_rank:3,n_extension_actions:0}],workspaces_extensions_used_on:""},"Last Year":{n_extension_actions:0,n_extension_users:0,top_org_users:[{user_id:"placeholder1",user_name:"Organization user",org_rank:1,n_extension_actions:0},{user_id:"placeholder2",user_name:"Organization user",org_rank:2,n_extension_actions:0},{user_id:"placeholder3",user_name:"Organization user",org_rank:3,n_extension_actions:0}],workspaces_extensions_used_on:""}}},Ad=new Map([["Last Week",ev.createElement(eq.Tx,{id:"resources_tab.extension_usage_data.past_7_days",key:"Last Week"})],["Last Month",ev.createElement(eq.Tx,{id:"resources_tab.extension_usage_data.past_30_days",key:"Last Month"})],["Last Year",ev.createElement(eq.Tx,{id:"resources_tab.extension_usage_data.past_year",key:"Last Year"})]]);function Am({users:e,showUpsell:t,extensionType:a}){let r=(0,eb.I0)(),n=e.sort((e,t)=>e.org_rank-t.org_rank),i=ev.createElement(eA.UU,{onClick:()=>{r((0,ig.K4)({type:_w.yd,data:{team:null,resource:"widget"===a?_v.gx.WIDGET_ANALYTICS:_v.gx.PLUGIN_ANALYTICS,currentPlan:_f.V.Plan.ORG,upsellPlan:_f.V.Plan.ENTERPRISE}})),(0,eK.L9)("Admin Plugin Review Modal",{action:"Upgrade to Enterprise"})},trusted:!0,target:"_blank","data-testid":"upgrade-to-enterprise-link"},ev.createElement(oc.x,{fontSize:11,i18nId:"resources_tab.extension_usage_data.upgrade_enterprise_link"})),l="widget"===a?ev.createElement(oc.x,{fontSize:11},ev.createElement(eq.Tx,{id:"resources_tab.extension_usage_data.upgrade_enterprise_widgets",upgradeLink:i})):ev.createElement(oc.x,{fontSize:11},ev.createElement(eq.Tx,{id:"resources_tab.extension_usage_data.upgrade_enterprise_plugins",upgradeLink:i}));return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.flex.flexColumn.$,style:t?{WebkitMaskImage:"linear-gradient(0deg, transparent, var(--color-bg))"}:{}},n.map(e=>{let a={id:e.user_id,name:e.user_name,img_url:e.img_url};return ev.createElement("div",{className:ek.cx.pt16.flex.justifyBetween.alignCenter.itemsCenter.$,key:e.user_id},ev.createElement("div",{className:ek.cx.flex.breakWord.alignLeft.itemsCenter.pr8.gap8.$},!t&&ev.createElement(oo.Yt,{user:a,size:oo.DZ.MEDIUM}),t&&ev.createElement(ds.Kn,{entity:{}}),ev.createElement(oc.x,{fontSize:11,fontWeight:"medium"},e.user_name)),t&&ev.createElement(oc.x,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.placeholder_runs"}),!t&&ev.createElement(oc.x,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.runs",i18nParams:{numberOfRuns:e.n_extension_actions}}))})),t&&ev.createElement("div",{className:ek.cx.mt16.px16.py16.bRadius4.colorBgSecondary.breakWord.$},l))}function Au({workspaces:e}){let t;let a=tO.z.record(tO.z.string(),tO.z.number());try{t=a.parse(JSON.parse(e))}catch(e){t={}}let r=Object.keys(t);return ev.createElement("div",{className:ek.cx.flex.flexColumn.pl16.pr16.$},r.map(e=>ev.createElement("div",{key:e,className:ek.cx.pt16.breakWord.alignLeft.pr8.$},ev.createElement(oc.x,{fontSize:11},e))))}var A_=((F=A_||{})[F.Users=0]="Users",F[F.Workspaces=1]="Workspaces",F);function Ap(e){let t=(0,uL.Ng)(),a=!(null==t?void 0:t.bigma_enabled),r=e.usageData||(a?Ac:Ao),{extensionType:n}=e,[i,l]=ev.useState(0),[s,o]=ev.useState(!1),c=[ev.createElement(gb.j.Option,{key:0,onClick:()=>l(0),recordingKey:"userViewOption"},ev.createElement(eq.Tx,{id:"resources_tab.extension_usage_data.users"})),ev.createElement(gb.j.Option,{key:1,onClick:()=>l(1),recordingKey:"workspaceViewOption"},ev.createElement(eq.Tx,{id:"resources_tab.extension_usage_data.workspaces"}))],[d,m]=ev.useState("Last Week"),[u,_]=ev.useState(!1),p=r.usage_windows[d],g=[];for(let[e,t]of Ad.entries())g.push(ev.createElement(gb.j.Option,{key:e,onClick:()=>m(e)},t));let E=0!==p.n_extension_actions||0!==p.n_extension_users||a,h=ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.wFull.bb1.bSolid.colorBorder.$}),0===i&&ev.createElement(Am,{users:p.top_org_users,showUpsell:a,extensionType:n}),1===i&&ev.createElement(Au,{workspaces:p.workspaces_extensions_used_on}));return ev.createElement("div",{className:ek.cx.hFull.py8.px16.$,"data-testid":"extension-usage-data"},ev.createElement("div",{className:ek.cx.flex.justifyBetween.py8.$},ev.createElement("div",{className:ek.cx.block.$},ev.createElement(eA.Xd,{defaultClass:"",onClick:()=>_(!u),dataTestId:"usage-window-dropdown"},Ad.get(d),ev.createElement(eD.n,{svg:Al,className:ek.cx.colorIconSecondary.inlineBlock.pl8.$})),u&&ev.createElement(gb.j.Dropdown,{className:Ai,onClick:()=>_(!1)},g)),ev.createElement("div",{className:ek.cx.block.$},ev.createElement(eA.Xd,{defaultClass:"",onClick:a?ex.ZT:()=>o(!s),dataTestId:"user-workspace-dropdown"},0===i?ev.createElement(eq.Tx,{id:"resources_tab.extension_usage_data.users"}):ev.createElement(eq.Tx,{id:"resources_tab.extension_usage_data.workspaces"}),!a&&ev.createElement(eD.n,{svg:Al,className:ek.cx.colorIconSecondary.inlineBlock.pl8.$})),s&&ev.createElement(gb.j.Dropdown,{className:Ai,onClick:()=>o(!1)},c))),ev.createElement("div",{className:ek.cx.flex.pt16.pb16.wFull.justifyBetween.$},ev.createElement("div",{className:ek.cx.w16.$}),ev.createElement("div",{className:ek.cx.flex.flexColumn.alignCenter.$},ev.createElement("div",{"data-testid":"total-num-runs"},ev.createElement(oc.x,{fontSize:14,fontWeight:"semi-bold"},a?"--":p.n_extension_actions)),ev.createElement("div",null,ev.createElement(oc.x,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.total_runs"}))),ev.createElement("div",{className:ek.cx.flex.flexColumn.alignCenter.$},ev.createElement("div",{"data-testid":"total-num-users"},ev.createElement(oc.x,{fontSize:14,fontWeight:"semi-bold"},a?"--":p.n_extension_users)),ev.createElement("div",null,ev.createElement(oc.x,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.users"}))),ev.createElement("div",{className:ek.cx.w16.$})),E&&h)}function Ag({log:e,index:t,noteType:a}){var r,n,i;let l,s;let o=(0,eb.I0)(),c=(0,ev.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation();let a=async e=>{try{await navigator.clipboard.writeText(e)}catch(e){throw o(r7.R.enqueue({message:`Could not copy email: ${e.message}`,error:!0})),e}};a(t).then(()=>{o(r7.R.enqueue({message:`Copied ${t}`}))}).catch(()=>{})},[o]);try{l=JSON.parse(e.metadata)}catch{return null}let d="request"===a?l.requester_note:l.decline_note,m=l.workspace_name??"",u={id:e.actorId??"",name:(null==(r=e.actor)?void 0:r.name)??"",imgUrl:(null==(n=e.actor)?void 0:n.imgUrl)??""},_=(null==(i=e.actor)?void 0:i.email)??"",p=0===t?ek.cx.flex.flexColumn.pb16.$:ek.cx.flex.flexColumn.pb16.pt16.bt1.colorBorder.bSolid.$;switch(a){case"approve":s=m?(0,eq.t)("extension_decline_modal.approved_access_workspace",{workspace:m}):(0,eq.t)("extension_decline_modal.approved_access_org");break;case"decline":s=(0,eq.t)("extension_decline_modal.declined_request");break;case"revoke":s=m?(0,eq.t)("extension_decline_modal.revoked_access_workspace",{workspace:m}):(0,eq.t)("extension_decline_modal.revoked_access_org");break;case"add":s=m?(0,eq.t)("extension_decline_modal.add_access_workspace",{workspace:m}):(0,eq.t)("extension_decline_modal.add_access_org");break;default:s=""}return ev.createElement("div",{className:p},ev.createElement("div",{className:ek.cx.flex.flexRow.itemsCenter.gap8.$},ev.createElement(oo.Yt,{user:u,size:oo.DZ.MEDIUM}),ev.createElement("div",{role:"button",tabIndex:0,className:ek.cx.noWrap.overflowHidden.ellipsis.cursorPointer.$,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":_,"data-tooltip-show-immediately":!0,onMouseDown:e=>c(e,_)},ev.createElement(oc.x,{fontSize:11,fontWeight:"medium"},u.name)),ev.createElement("div",{className:ek.cx.noWrap.$},ev.createElement(oc.x,{fontSize:11,color:"secondary"},ev.createElement(n2.Lt,{date:e.createdAt})))),ev.createElement("div",{className:ek.cx.ml32.mt4.overflowBreakWord.$},ev.createElement(oc.x,{fontSize:11,color:"secondary"},s)),d&&ev.createElement("div",{className:ek.cx.ml32.mt4.overflowBreakWord.$},ev.createElement(oc.x,{fontSize:11,color:"default"},d)))}function AE(e){let{orgId:t,extensionId:a}=e,r=(0,dV.mU)(dH.ExtensionActivityLogHistoryView,{userId:(0,lR.dO)(),actedOnIdOrKey:a,orgId:t}),n="loaded"===r.status&&r.data.org?r.data.org.activityLogByActedOnId:[],i=n.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),l=(e,t)=>{let a=e.eventName;return a.endsWith("_request_org")||a.endsWith("_request_workspace")?ev.createElement(Ag,{log:e,key:e.id,index:t,noteType:"request"}):a.endsWith("request_approve_org")||a.endsWith("request_approve_workspace")?ev.createElement(Ag,{log:e,key:e.id,index:t,noteType:"approve"}):a.endsWith("_add")||a.endsWith("_add_workspace")?ev.createElement(Ag,{log:e,key:e.id,index:t,noteType:"add"}):a.endsWith("_request_reject_org")||a.endsWith("_request_reject_workspace")?ev.createElement(Ag,{log:e,key:e.id,index:t,noteType:"decline"}):a.endsWith("_remove")||a.endsWith("_remove_workspace")?ev.createElement(Ag,{log:e,key:e.id,index:t,noteType:"revoke"}):void 0};return ev.createElement(cr.l,{className:ek.cx.hFull.flex.flexColumn.p16.gap16.$},ev.createElement("div",{"data-testid":"extension-request-sidebar"},i.map((e,t)=>l(e,t))))}let Ah=a(589668);function Af(e){let t;let{numWorkspaces:a,isOrgAllowlisted:r}=e;return(r?t=ev.createElement(oc.x,{fontSize:11,fontWeight:"regular",color:"success",i18nId:"resources_tab.approved_plugins.table.approved_for_all_workspaces"}):a>0&&(t=ev.createElement(oc.x,{fontSize:11,fontWeight:"regular",color:"success",i18nId:"resources_tab.approved_plugins.table.approved_for_workspace",i18nParams:{numWorkspaces:a}})),t)?ev.createElement("div",{className:ek.cx.colorBg.py12.px16.flex.flexRow.gap8.bb1.bSolid.colorBorder.$},ev.createElement(eD.n,{width:"16px",height:"16px",svg:Ah,className:"extension_allowlist_modal_sidebar--greenCheck--xyE7X"}),t):null}function Av(e){let{isAllowed:t,usageData:a,numWorkspaces:r,extensionType:n,isOrgAllowlisted:i,orgId:l,extensionId:s}=e,[o,c]=(0,ev.useState)("requests");return ev.createElement("div",{className:ek.cx.hFull.wFull.flex.flexColumn.bl1.bSolid.colorBorder.$},ev.createElement("div",{className:ek.cx.colorBg.py12.px16.flex.flexRow.gap16.bb1.bSolid.colorBorder.$},ev.createElement("button",{onClick:()=>c("requests")},ev.createElement(oc.x,{fontSize:11,fontWeight:"medium",color:"requests"===o?"default":"secondary",i18nId:"resources_tab.extension_request_sidebar.requests"})),t&&ev.createElement("button",{onClick:()=>{c("usage"),(0,eK.L9)("Admin Plugin Review Modal",{action:"Extension usage tab"})},"data-testid":"extension-usage-tab"},ev.createElement(oc.x,{fontSize:11,fontWeight:"medium",color:"usage"===o?"default":"secondary",i18nId:"resources_tab.extension_usage_data.usage"}))),ev.createElement(Af,{numWorkspaces:r,isOrgAllowlisted:i}),"requests"===o?ev.createElement(AE,{orgId:l,extensionId:s}):ev.createElement(Ap,{usageData:a,extensionType:n}))}var Ab=a(298715);function Ay({mode:e,extension:t,securityFormResponse:a}){let{currentPluginVersion:r}=t;if(!r)return null;let n=(0,dg.K2)(t.installCount),i=r.name??"",l=r.description??"";return ev.createElement("div",{className:ek.cx.flex.flexColumn.gap16.p16.$,"data-testid":"extension-allowlist-overview-section"},ev.createElement("div",{className:ek.cx.flex.flexColumn.gap8.$},ev.createElement(oc.x,{fontSize:13,fontWeight:"semi-bold",truncate:"end"},i),ev.createElement("div",{className:ek.cx.flex.gap4.$},ev.createElement(AT,{plugin:t}),"review"===e&&ev.createElement(oc.x,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.user_count",i18nParams:{count:n}}))),ev.createElement("img",{alt:"extension cover",src:r.coverImageUrl,className:ek.cx.wFull.bRadius4.$}),ev.createElement(Aw,{description:l}),ev.createElement("div",{className:ek.cx.flex.flexColumn.gap16.$},ev.createElement(AN,{extension:t,securityFormResponse:a,entryPoint:"review"===e?ih.ADMIN_REVIEW:ih.ADMIN_MANAGE}),ev.createElement(AC,{extension:t})))}function Aw({description:e}){let t=ev.useRef(null),[a,r]=ev.useState(!1),[n,i]=ev.useState(!1);return ev.useLayoutEffect(()=>{t.current&&r(t.current.isTruncated)},[e]),ev.createElement("div",{className:ek.cx.flex.flexColumn.$},n?ev.createElement(oc.x,{ref:t},(0,R4.ju)(e).trim()):ev.createElement(oc.x,{truncate:"line-clamp",lineClamp:3,ref:t,showTooltipWhenTruncated:!1},(0,R4.ju)(e).trim()),a&&ev.createElement(eA.UU,{trusted:!0,onClick:()=>i(e=>!e)},n?(0,eq.t)("resources_tab.approved_plugins.modal.show_less"):(0,eq.t)("resources_tab.approved_plugins.modal.show_more")))}function AT({plugin:e}){let t=ev.useMemo(()=>(e.communityPublishers??[]).map(e=>e.profile).filter(e=>null!=e).map(e=>{let t=function(e){switch(e.entityType){case"user":return e.user;case"team":return e.team;case"org":return e.org;default:return null}}(e);return{id:e.id,badges:[],profile_handle:e.profileHandle,img_urls:{},name:(null==t?void 0:t.name)??"",img_url:(null==t?void 0:t.imgUrl)??""}}),[e.communityPublishers]);return ev.createElement("div",{className:ek.cx.flex.gap8.$},ev.createElement(t5.yX,{publishers:t,size:16}),ev.createElement(Ax,{profiles:t}))}function Ax({profiles:e}){let[t,a,...r]=e;return t?a?0===r.length?ev.createElement(oc.x,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.attribution_two_creators",i18nParams:{creator1:t.name,creator2:a.name}}):ev.createElement(oc.x,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.attribution_multiple_creators",i18nParams:{creator1:t.name}}):ev.createElement(oc.x,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.attribution_single_creator",i18nParams:{creator:t.name}}):null}function AN({extension:e,securityFormResponse:t,entryPoint:a}){let{currentPluginVersion:r}=e,n=ev.useMemo(()=>{let e=null==r?void 0:r.manifest;if(e)return(0,Ab.Di)(e)},[null==r?void 0:r.manifest]);return ev.createElement("div",{className:ek.cx.flex.flexColumn.gap8.$},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.security",color:"secondary"}),ev.createElement(iv,{securityFormResponse:t,entryPoint:a,isWidget:!!e.isWidget}),ev.createElement(n5.X,{networkAccess:null==n?void 0:n.networkAccess,isWidget:!!e.isWidget,isAlwaysExpanded:!0,isLearnMoreLinkVisible:!0}))}function AC({extension:e}){return ev.createElement("div",{className:ek.cx.flex.flexColumn.gap8.$},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.licenses",color:"secondary"}),ev.createElement(iN,{isMonetizedResource:null!=e.monetizedResourceMetadataId,isHubFile:!1}))}var AS=a(883906),Ak=a(343630),AI=a(13155),AL=a(388397);let AR=(e,t,a)=>{let r=(0,eb.I0)(),n=(0,mj.L)(),i=(null==n?void 0:n.type)===AA;return{dropdownIsShown:i,toggleSwitchEditorDropdown:(e,t)=>{var a;let n=null==(a=e.current)?void 0:a.getBoundingClientRect();n&&((void 0!==t?t:!i)?r(od.SP({type:AA,data:{targetRect:n}})):r(od.kp()))},ExtensionAllowlistTryEditorDropdown:function(){return ev.createElement(AI.AQ,{className:AL.sW,targetRect:null==n?void 0:n.data.targetRect,minWidth:242,type:AI.eg.MATCH_BACKGROUND,propagateCloseClick:!0},ev.createElement(Ak.Db,{editorType:iR.IP.FIGJAM,onClick:n=>{n.preventDefault(),n.stopPropagation(),r(od.kp()),(0,eT.BZ)().ps_benchmark?"review"===a?r(AS.hk({extension:e,fullscreenEditorType:ao.gg.WHITEBOARD})):r(AS.wD({extension:e,fullscreenEditorType:ao.gg.WHITEBOARD})):r(AS.lD({extension:e,fullscreenEditorType:ao.gg.WHITEBOARD})),(0,eK.L9)("Admin Plugin Review Modal",{orgId:t,extensionId:e.id,extensionType:e.isWidget?"widget":"plugin",mode:a,editorType:ao.gg.WHITEBOARD,action:"Try it out"})}}),ev.createElement(Ak.Db,{editorType:iR.IP.FIGMA,onClick:n=>{n.preventDefault(),n.stopPropagation(),r(od.kp()),(0,eT.BZ)().ps_benchmark?"review"===a?r(AS.hk({extension:e,fullscreenEditorType:ao.gg.DESIGN})):r(AS.wD({extension:e,fullscreenEditorType:ao.gg.DESIGN})):r(AS.lD({extension:e,fullscreenEditorType:ao.gg.DESIGN})),(0,eK.L9)("Admin Plugin Review Modal",{orgId:t,extensionId:e.id,extensionType:e.isWidget?"widget":"plugin",mode:a,editorType:ao.gg.DESIGN,action:"Try it out"})}}))}}},AA="EXTENSION_ALLOWLIST_TRY_EDITOR_DROPDOWN";function AO(e){var t;let{extension:a,orgId:r,mode:n}=e,i=ev.useMemo(()=>{var e;let t=null==(e=a.currentPluginVersion)?void 0:e.manifest;if(t)return(0,Ab.Di)(t)},[null==(t=a.currentPluginVersion)?void 0:t.manifest]);if(!i)return null;let l=(0,n8.Ow)(i.editorType);return l===iR.yA.UNIVERSAL?ev.createElement(AD,{extension:a,orgId:r,mode:n}):ev.createElement(AF,{extension:a,orgId:r,mode:n,editorType:l})}function AD(e){let{extension:t,orgId:a,mode:r}=e,{dropdownIsShown:n,toggleSwitchEditorDropdown:i,ExtensionAllowlistTryEditorDropdown:l}=AR(t,a,r),s=ev.useRef(null),o=(0,lR.xJ)(),c=(0,uL.Ng)(),d=(0,uR.orgUserHasExternalRestriction)(o);return ev.createElement("div",{ref:s},ev.createElement(oM.z,{onClick:()=>{i(s,!0)},dataTestId:"universal-editor-button",disabled:d,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":d?(0,eq.t)("resources_tab.approved_plugins.modal.try_it_out_ecc_tooltip",{orgName:c.name}):void 0},ev.createElement("div",{className:ek.cx.flex.itemsCenter.gap4.$},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.try_it_out"}),ev.createElement(lu.J,{icon:"chevron-down-16"}))),n&&ev.createElement(l,null))}function AF(e){let{extension:t,orgId:a,mode:r,editorType:n}=e,i=(0,eb.I0)(),l=()=>{(0,eT.BZ)().ps_benchmark?"review"===r?i(AS.hk({extension:t,fullscreenEditorType:(0,n8.yd)(n)})):i(AS.wD({extension:t,fullscreenEditorType:(0,n8.yd)(n)})):i(AS.lD({extension:t,fullscreenEditorType:(0,n8.yd)(n)}))},s=(0,lR.xJ)(),o=(0,uL.Ng)(),c=(0,uR.orgUserHasExternalRestriction)(s);return ev.createElement(oM.z,{onClick:()=>{l(),(0,eK.L9)("Admin Plugin Review Modal",{orgId:a,extensionId:t.id,extensionType:t.isWidget?"widget":"plugin",mode:r,editorType:n,action:"Try it out"})},dataTestId:"single-editor-button",disabled:c,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":c?(0,eq.t)("resources_tab.approved_plugins.modal.try_it_out_ecc_tooltip",{orgName:o.name}):void 0},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.try_it_out"}))}function AM(e){let{extensionType:t,extensionId:a,org:r,approvedWorkspaceIds:n,openDeclineModal:i}=e;return ev.createElement(oM.z,{onClick:()=>{let e={orgId:r.id,extensionId:a,extensionType:t,approvedWorkspaceIds:n};i(e)}},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.decline"}))}function AP(e){let{extensionType:t,extensionId:a,org:r,goToEditTab:n,workspaces:i}=e,l=(0,eb.I0)();return i.length>0?ev.createElement(oM.z,{variant:"primary",onClick:n},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.approve..."})):ev.createElement(oM.z,{variant:"primary",onClick:()=>{let e=()=>{l(r7.R.enqueue({error:!0,message:(0,eq.t)("resources_tab.approved_plugins.modal.failed_to_update_plugin_approval")}))};try{R8._.enableExtensionForOrg({orgId:r.id,extensionId:a,extensionType:t}).then(()=>{R5.m.approveRequestForOrg({orgId:r.id,extensionId:a,extensionType:t})}).catch(e)}catch(t){e()}l(ig.eI())}},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.approve"}))}function AB(e){let{extensionType:t,extensionId:a,org:r,goToEditTab:n,workspaces:i}=e,l=(0,eb.I0)();return i.length>0?ev.createElement(oM.z,{variant:"primary",onClick:n},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.edit_approvals"})):ev.createElement(oM.z,{variant:"destructive-secondary",onClick:()=>{R8._.disableExtensionForOrg({orgId:r.id,extensionId:a,extensionType:t}),l(ig.eI())}},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.remove"}))}let AU=(0,it.Y3)(function({orgId:e,extensionId:t,extensionType:a,usageData:r,mode:n,initialTab:i,isAllowed:l,openDeclineModal:s}){var o;let c=(0,eb.I0)(),d=(0,n4.j)(t,!0),m=(0,dV.mU)(dH.PluginAllowlistManagementModalView,{pluginId:t,orgId:e}),[u,_]=ev.useState(i??"overview"),p="widget"===a?(0,cH.iA)(t):(0,cH.tu)(t);if(!("loaded"===m.status&&m.data.plugin&&m.data.org&&d.loaded))return null;let g=(null==(o=m.data.plugin.pluginRequests)?void 0:o.filter(e=>"pending"===e.status))??[],E=m.data.org.workspaces??[],h=E.filter(e=>e.isPluginAllowlisted),f=m.data.org.isPluginAllowlisted;return ev.createElement(ib.ge,{title:function(e,t,a){switch(e){case"review":switch(t){case"overview":case"edit":return"plugin"===a?(0,eq.t)("resources_tab.approved_plugins.modal.review_plugin"):(0,eq.t)("resources_tab.approved_plugins.modal.review_widget")}case"manage":return"plugin"===a?(0,eq.t)("resources_tab.approved_plugins.modal.manage_plugin"):(0,eq.t)("resources_tab.approved_plugins.modal.manage_widget")}}(n,u,a),maxWidth:640,onClose:()=>c(ig.eI())},ev.createElement("div",{className:ek.cx.relative.$,style:{height:560},"data-testid":"plugin-allowlist-modal"},"overview"===u&&ev.createElement("div",{className:ek.cx.flex.flexColumn.hFull.$},ev.createElement("div",{className:ek.cx.flex.flexGrow1.overflowHidden.$},ev.createElement(cr.l,{className:ek.cx.flexGrow1.flexRow.flexWrap.$,innerClassName:ek.cx.hFull.$},ev.createElement(Ay,{extension:m.data.plugin,mode:n,securityFormResponse:d.data})),ev.createElement(tD.j,{direction:"horizontal",width:240},ev.createElement(Av,{isAllowed:l,usageData:r,numWorkspaces:h.length,isOrgAllowlisted:f,extensionType:a,orgId:e,extensionId:t}))),ev.createElement("div",{className:ek.cx.flex.itemsCenter.p16.bt1.colorBorder.bSolid.gap8.$},ev.createElement(eA.UU,{className:ek.cx.mrAuto.$,href:p,target:"_blank",trusted:!0,"data-testid":"open-in-community-link",onClick:()=>{(0,eK.L9)("Admin Plugin Review Modal",{orgId:e,extensionId:t,extensionType:a,mode:n,action:"Open in community"})}},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.modal.open_in_community"})),"review"===n&&ev.createElement(ev.Fragment,null,ev.createElement(AO,{extension:m.data.plugin,orgId:e,mode:n}),ev.createElement(AM,{extensionId:t,extensionType:a,org:m.data.org,approvedWorkspaceIds:h.map(e=>e.id),openDeclineModal:s}),ev.createElement(AP,{extensionId:t,extensionType:a,org:m.data.org,workspaces:E,goToEditTab:()=>_("edit")})),"manage"===n&&ev.createElement(ev.Fragment,null,ev.createElement(AO,{extension:m.data.plugin,orgId:e,mode:n}),ev.createElement(AB,{extensionId:t,extensionType:a,org:m.data.org,workspaces:E,goToEditTab:()=>_("edit")})))),"edit"===u&&ev.createElement(An,{mode:n,org:m.data.org,onNavigateBack:()=>_("overview"),requests:g,extension:m.data.plugin})))},"EXTENSION_ALLOWLIST_MODAL"),AV="allowlist_plugins_modals--allowListInputDescription--0nVJZ",AW="allowlist_plugins_modals--allowListInput--FWecp",AG="allowlist_plugins_modals--allowListInputButtonContainer--FrtJL",Aj="allowlist_plugins_modals--allowListInputButton---NSIM",AH=ev.createElement(ev.Fragment,null,`AMENDMENT TO FIGMA MASTER SUBSCRIPTION AGREEMENT

This Amendment to the Figma Master Subscription Agreement (this \u201CAmendment\u201D) shall amend the Figma Master Subscription Agreement previously entered into and currently in effect between Figma, Inc. and Customer for use of the Figma Platform (the \u201CAgreement\u201D). Capitalized terms used and not defined herein will have the same meanings and definitions as set forth in the Agreement. In the event of a conflict or inconsistency between the terms of this Amendment and the Agreement, the terms of this Amendment will prevail. All provisions of the Agreement, except those which are explicitly changed below by this Third Amendment, shall remain in full force and effect.

WHEREAS, Figma grants to Customer access to and use of the Figma Platform;

WHEREAS, the parties wish to amend the Agreement in certain respects in accordance with the terms and conditions set forth herein;

NOW THEREFORE, Figma and Customer hereby agree as follows:`,ev.createElement("ol",{style:{listStyleType:"decimal",listStylePosition:"outside",paddingLeft:"20px"}},ev.createElement("li",null,`Section 1 of the Agreement is hereby amended by inserting the following definition as
        Section 1.H immediately after Section 1.G: \u201CApplications and Materials\u201D means any
        application(s) and/or material(s) that are developed by Customer, including, but not limited
        to, design files, plugins, component libraries, and code components that can be made
        available via, and published to, the Figma Platform for use by other Authorized users or
        other users of the Figma Platform outside of Customer\u2019s organization, in accordance with the
        functionality of the Figma Platform.`),ev.createElement("li",null,`Section 2 of the Agreement is hereby amended by inserting the following Section 2.E
        immediately after Section 2.D: Applications and Materials. Customer may submit Applications
        and Materials to the Figma Platform for publication to and to be made available via the
        Figma Platform. Such Applications and Materials can be made available to Authorized Users
        only or publicly to other users of the Figma Platform outside of Customer\u2019s organization,
        depending on the sharing permissions and designations selected by Customer at the time of
        submission of the Applications and Materials. The Figma Platform may also make available
        Applications and Materials that are created by third parties outside of Customer\u2019s
        organization, but can be installed by Authorized Users for use with the Figma Platform
        (\u201CThird-Party Applications and Materials\u201D). Subject to Customer\u2019s payment of all fees and
        compliance with the terms and conditions of this Agreement, Figma grants to Customer a
        limited, worldwide, non-exclusive, non-transferable, non-sublicensable right during the
        Order Term to install and use the Third-Party Applications and Materials and to permit its
        Authorized Users to install and use the Third-Party Applications and Materials, solely in
        connection with the functionality of the Figma Platform.`),ev.createElement("li",null,`Section 3.A of the Agreement is deleted in its entirety and replaced with the following: Use
        Restrictions. Except as otherwise explicitly provided in this Agreement or as may be
        expressly permitted by applicable law, Customer will not, and will not permit or authorize
        third parties to: (1) rent, lease, or otherwise permit third parties to use the Figma
        Platform, Third-Party Applications and Materials, or Documentation; (2) use the Figma
        Platform, Third-Party Applications and Materials, or Documentation to provide services to
        third parties (e.g., as a service bureau); (3) circumvent or disable any security or other
        technological features or measures of the Figma Platform; (4) reverse engineer, decompile,
        disassemble or otherwise attempt to discover the source code, object code or underlying
        structure, ideas, know-how or algorithms relevant to the Figma Platform or Third-Party
        Applications and Materials; (5) modify, translate, or create derivative works based on the
        Figma Platform, Third-Party Applications and Materials, or Documentation; or (6) remove any
        proprietary notices or labels from the Figma Platform, Third-Party Applications and
        Materials or Documentation.`),ev.createElement("li",null,`The first sentence of Section 3.B of the Agreement is deleted in its entirety and replaced
        with the following: Customer is responsible and liable for all actions and inactions by its
        Authorized Users or by any other person or entity to whom Customer or an Authorized User
        may, directly or indirectly, provide access to or permit to use the Figma Platform,
        Third-Party Applications and Materials or Documentation; in each case, as if such action or
        inaction were an action or inaction of Customer.`),ev.createElement("li",null,`Section 4 of the Agreement is hereby amended by inserting the following Section 4.C
        immediately after Section 4.B: Customer hereby grants Figma a worldwide, non-exclusive,
        royalty-free right and license (with the right to sublicense) to use, reproduce, distribute
        copies of, publicly perform, publicly display, use and make the Applications and Materials
        available via the Figma Platform for installation and use by Authorized Users or other users
        of the Figma Platform as permitted by the functionality of the Figma Platform.`),ev.createElement("li",null,`Section 5 of the Agreement is hereby amended by inserting the following Section 5.C
        immediately after Section 5.B: Subject to the rights granted to Figma under this Agreement,
        Customer owns all right, title, and interest in and to the Applications and Materials
        (excluding Third-Party Applications and Materials). No ownership rights in the Applications
        and Materials are transferred to Figma when Applications and Materials are published on the
        Figma Platform.`),ev.createElement("li",null,`Section 6.A of the Agreement is deleted in its entirety and replaced with the following: In
        addition to Third-Party Applications and Materials, third parties may make available
        third-party products or services, including, for example, mobile applications, integrations,
        and other services (\u201CThird-Party Services\u201D) that Customer may elect to purchase or use. Any
        acquisition by Customer of such Third-Party Services and any exchange of data between
        Customer and any Third-Party Service or Third-Party Service provider is solely between
        Customer and the applicable third-party provider. Figma does not warrant or provide support
        for Third-Party Services (including Third-Party Applications and Materials), whether or not
        they are designated by Figma as \u201Crecommended\u201D \u201Ccertified\u201D or otherwise.`),ev.createElement("li",null,`Section 10 of the Agreement is hereby amended by inserting the following sentence to the end
        of Section 10.B. Figma makes no warranties with respect to the Third-Party Applications and
        Materials or Third-Party Services, including whether they will perform their intended
        functions or deliver any expected results. Customer acknowledges that Customer assumes all
        risk arising from use of the Third-Party Applications and Materials and Third-Party
        Services.`),ev.createElement("li",null,`Section 10.C of the Agreement is deleted in its entirety and replaced with the following:
        Customer Warranties. Customer represents and warrants to Figma that: (1) Customer is the
        creator and owner of the Customer Data and any Applications and Materials that are submitted
        to the Figma Platform, or has the necessary licenses, rights, consents, and permissions to
        authorize Figma to use the Customer Data and Applications and Materials as necessary to
        exercise the licenses granted by Customer in this Agreement; (2) Customer Data and
        Applications and Materials, and the use of Customer Data and Applications and Materials, as
        contemplated by this Agreement, do not and will not: (a) infringe, violate, or
        misappropriate any third-party right, including any copyright, trademark, patent, trade
        secret, moral right, privacy right, right of publicity, or any other intellectual property
        or proprietary right; or (b) violate any applicable law or regulation; and (3) Customer will
        use the Figma Platform in compliance with the Documentation, any instructions provided by
        Figma, and all applicable laws and regulations.`),ev.createElement("li",null,`Section 11.B(2) of the Agreement is hereby amended by inserting the following item (vi)
        immediately after item (v): ; or (vi) use of Third-Party Services, the Applications and
        Materials or Third-Party Applications and Materials that are made available on the Figma
        Platform.`),ev.createElement("li",null,`Miscellaneous. This Amendment may be executed in counterparts, each of which shall be deemed
        to be an original and together shall be deemed to be one and the same document. The parties
        agree the electronic signatures appearing on this Agreement shall be treated, for purposes
        of validity, enforceability, as well as admissibility, the same as hand-written signatures.`)),ev.createElement("br",null),`Customer and Figma hereby acknowledge and agree that although Section 16 of the Agreement
    requires that all modifications to the Agreement be in a writing signed by both parties, Figma\u2019s
    presentation of this Amendment to Customer via the Figma Platform and Customer\u2019s action of
    clicking \u201CACCEPT & CONTINUE\u201D will satisfy the requirements for amending the Agreement and
    constitute such a writing signed by both parties. By clicking \u201CACCEPT & CONTINUE\u201D, Customer
    agrees to be bound by the Agreement as amended herein by this Amendment and will not assert that
    this Amendment is unenforceable in the future. Figma also agrees to be bound by the Agreement as
    amended and\xa0will not assert that this Amendment is unenforceable in the future.`),A$=(0,it.Y3)(function({org:e,extensionType:t}){let a=(0,eb.I0)();return ev.createElement(ir.cV,{confirmationTitle:(0,eq.t)("allowlist_plugins_modals.msa_amendment_modal.title"),confirmText:(0,eq.t)("allowlist_plugins_modals.msa_amendment_modal.accept_button"),onConfirm:()=>{a(x1.gK({orgId:e.currentUserOrgId})),"plugin"===t?a(x1.Vx({payload:{plugins_whitelist_enforced:!1},successMessage:(0,eq.t)("allowlist_plugins_modals.msa_amendment_modal.success_notification")})):a(x1.Vx({payload:{widgets_whitelist_enforced:!1},successMessage:(0,eq.t)("allowlist_widgets_modals.msa_amendment_modal.success_notification")})),a(ig.hV())},onCancel:()=>{a(ig.hV())},dontClose:!0,disableClickOutsideToHide:!0,tintedModalBackground:!0,dispatch:a,size:"medium"},ev.createElement(cr.l,{className:"allowlist_plugins_modals--pluginsOptInModalText--EBF5b text--fontPos11--2LvXf text--_fontBase--QdLsd"},AH))},"AllowListPluginsMSAAmendmentModal"),Az=(0,it.Y3)(function(e){let t=(0,eb.I0)(),[a,r]=ev.useState(""),n=()=>{t(ig.hV()),r("")};return ev.createElement(ir.u_,{size:"small",dispatch:t,title:(0,eq.t)("allowlist_plugins_modals.add_plugin.title"),onHide:n},ev.createElement(n6.ol,{dispatch:t}),ev.createElement("div",{className:AV},ev.createElement(eq.Tx,{id:"allowlist_plugins_modals.add_plugin.details"})),ev.createElement("form",{onSubmit:r=>{r.preventDefault();let i=(0,n8.Lw)(a);if(i){if(RK(e.currentUserOrgId)){n(),t((0,ig.K4)({type:AU,data:{mode:"review",extensionId:i,orgId:e.currentUserOrgId,extensionType:"plugin",isAllowed:!1,openDeclineModal:ex.ZT}}));return}t(Rj.$v({orgId:e.currentUserOrgId,pluginId:i})),n()}else t(r7.R.enqueue({error:!0,message:(0,eq.t)("allowlist_plugins_modals.add_plugin.invalid_url_notification")}))}},ev.createElement(eA.Sc,{onChange:e=>r(e.currentTarget.value),value:a,className:AW,autoFocus:!0}),ev.createElement("div",{className:AG},ev.createElement(eA.PL,{onClick:n,className:Aj,type:"button"},ev.createElement(eq.Tx,{id:"general.cancel"})),ev.createElement(eA.DF,{disabled:!(0,n8.Lw)(a),className:Aj,type:"submit"},ev.createElement(eq.Tx,{id:"allowlist_plugins_modals.add_plugin.add_button"})))))},"AllowlistPluginsInputModal"),AK=(0,it.Y3)(function(e){let t=(0,eb.I0)(),[a,r]=ev.useState(""),n=()=>{t(ig.hV()),r("")};return ev.createElement(ir.u_,{size:"small",dispatch:t,title:(0,eq.t)("allowlist_widgets_modals.add_widget.title"),onHide:n},ev.createElement(n6.ol,{dispatch:t}),ev.createElement("div",{className:AV},ev.createElement(eq.Tx,{id:"allowlist_widgets_modals.add_widget.details"})),ev.createElement("form",{onSubmit:r=>{r.preventDefault();let i=(0,n8.QS)(a);if(i){if(RK(e.currentUserOrgId)){n(),t((0,ig.K4)({type:AU,data:{mode:"review",extensionId:i,orgId:e.currentUserOrgId,extensionType:"widget",isAllowed:!1,openDeclineModal:ex.ZT}}));return}t(Rj.Lp({orgId:e.currentUserOrgId,pluginId:i})),n()}else t(r7.R.enqueue({error:!0,message:(0,eq.t)("allowlist_widgets_modals.add_widget.invalid_url_notification")}))}},ev.createElement(eA.Sc,{onChange:e=>r(e.currentTarget.value),value:a,className:AW,autoFocus:!0}),ev.createElement("div",{className:AG},ev.createElement(eA.PL,{onClick:n,className:Aj,type:"button"},ev.createElement(eq.Tx,{id:"general.cancel"})),ev.createElement(eA.DF,{disabled:!(0,n8.QS)(a),className:Aj,type:"submit"},ev.createElement(eq.Tx,{id:"allowlist_widgets_modals.add_widget.add_button"})))))},"AllowListWidgetsInputModal");var AZ=a(825028);function Aq(e){let{onAddExtension:t,extensionType:a}=e,r="plugin"===a?ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.no_plugins.text"}):ev.createElement(oc.x,{i18nId:"resources_tab.approved_widgets.no_widgets.text"}),n="plugin"===a?ev.createElement(eq.Tx,{id:"resources_tab.approved_plugins.no_plugins.add_plugins_button"}):ev.createElement(eq.Tx,{id:"resources_tab.approved_widgets.no_widgets.add_widgets_button"});return ev.createElement(tD.j,{spacing:4,dataTestId:"allowlist-no-extensions-banner"},r,ev.createElement(AZ.r,{onClick:t,trusted:!0},n))}let AY=a(174341);function AJ(e){let{extensionType:t,onGoToSettings:a}=e,r="plugin"===t?ev.createElement(eq.Tx,{id:"resources_tab.approved_plugins.plugin_approval_banner.text",settingName:ev.createElement(oc.x,{i18nId:"settings_tab.plugin_approval_label",fontWeight:"medium"})}):ev.createElement(eq.Tx,{id:"resources_tab.approved_widgets.widget_approval_banner.text",settingName:ev.createElement(oc.x,{i18nId:"settings_tab.widget_admin_approval_label",fontWeight:"medium"})}),n=e.settingsText??(0,eq.t)("resources_tab.approved_plugins.plugin_approval_banner.go_to_settings_button");return ev.createElement(n7.X,{orientation:"horizontal",variant:"warning",iconSrc:AY,action:{label:n,onClick:a},dataTestId:"allowlist-not-enforced-banner"},ev.createElement("div",{"data-testid":"banner-text"},r))}let AQ="allowlist_plugins_table--pluginColumn--hF5Uf allowlist_plugins_table--column--F-Gkp table--column--974RA",AX="allowlist_plugins_table--descriptionColumn--Qk-Yq allowlist_plugins_table--column--F-Gkp table--column--974RA",A0="allowlist_plugins_table--iconColumn--XWwqU",A1="allowlist_plugins_table--icon---M2Oc plugin--pluginIconBase--yAG5F",A2="allowlist_plugins_table--menuIcon--BHpfT",A3="allowlist_plugins_table--dropdown--H-0e1",A4=a(267837);function A8(e){let{allowListEnforced:t,dispatch:a,plugins:r,query:n,setQuery:i,org:l}=e,s=e=>{e.forEach(e=>{a(Rj.mN({orgId:l.id,pluginId:e}))})},o=()=>{a((0,ig.K4)({type:Az,data:{currentUserOrgId:l.id}}))},c=[{name:(0,eq.t)("resources_tab.approved_plugins.table.name_column"),className:AQ,getSortValue:e=>e.name,cellComponent:e=>ev.createElement(ev.Fragment,null,ev.createElement("div",{className:A1},ev.createElement(iW.d,{plugin:e})),ev.createElement("span",null,e.name))},{name:(0,eq.t)("resources_tab.approved_plugins.table.description_column"),className:AX,cellComponent:e=>ev.createElement("span",null,(0,R4.ju)(e.description).replace(/\r?\n|\r/g," "))},{name:"",className:A0,cellComponent:(t,r)=>{var n;if(r)return ev.createElement(ev.Fragment,null);let i=`MENU_DROPDOWN-${t.id}`,l=(null==(n=e.dropdownShown)?void 0:n.type)===i;return ev.createElement(xK.ud,{className:CN.SH,dispatch:e.dispatch,showingDropdown:l,type:i,hideChevron:!0},ev.createElement(eD.n,{svg:A4,className:A2}),l&&ev.createElement(gb.j.DropdownWithScrim,{dispatch:e.dispatch,className:A3,style:e.dropdownShown.data.position},ev.createElement(gb.j.Option,{onClick:()=>{a(od.fv({view:"communityHub",subView:"plugin",publishedPluginId:t.plugin_id}))}},ev.createElement(eq.Tx,{id:"resources_tab.approved_plugins.actions.view_details"})),ev.createElement(gb.j.Option,{onClick:()=>{s([t.plugin_id])}},ev.createElement(eq.Tx,{id:"resources_tab.approved_plugins.actions.remove_plugin",numSelected:1}))))}}],[d,m,u]=(0,fC.g)({columnName:(0,eq.t)("resources_tab.approved_plugins.table.name_column"),isReversed:!1},r,c),_=t?void 0:ev.createElement(AJ,{extensionType:"plugin",onGoToSettings:()=>{a(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.SETTINGS}))}});return ev.createElement(fz.Ch,{items:u,getItemKey:e=>e.id,columns:c,disabled:!t,scrollAwayContent:ev.createElement(xy.hI,{selectedViewAndTab:{view:fe.yA.ORG,tab:fe.Q$.APPROVED_PLUGINS},leftActions:ev.createElement(nN.rs,{onChange:i,focusOnMount:!1,query:n,clearSearch:()=>{i("")},placeholder:(0,eq.t)("resources_tab.approved_plugins.search.label_with_ellipsis")}),rightActions:t&&ev.createElement(oM.z,{icon:"plus-32",onClick:o},ev.createElement(eq.Tx,{id:"resources_tab.approved_plugins.actions.add_plugin"})),notices:_}),emptyContent:ev.createElement(xy.eP,null,n?ev.createElement(eq.Tx,{id:"resources_tab.approved_plugins.search.no_results"}):ev.createElement(Aq,{onAddExtension:o,extensionType:"plugin"})),actionBar:e=>{if(0===e.length)return ev.createElement(ev.Fragment,null);let t=e.map(e=>e.plugin_id);return ev.createElement(xK.j2,{onClick:()=>{s(t)},label:(0,eq.t)("resources_tab.approved_plugins.actions.remove_plugin",{numSelected:e.length})})},itemTypeContext:{itemType:"plugin",getSelectedCountString:e=>(0,eq.t)("multi_select_list.selected_count_plugin",{numSelected:e})},sortState:d,onSetSortState:m})}let A5=new TH.Or([],{...nt._r,keys:nt.Ri});function A9(e){let{dispatch:t,dropdownShown:a,publishedPlugins:r,org:n}=e,[i,l]=ev.useState(""),s=(0,R3.zg)(n.id,"plugin"),o=s.loaded?s.data:[],c=o.map(e=>{let t=(0,n8.rw)(e,r),a=(0,n8.hb)(t);return a}).filter(e=>!!e.id),d=c;return i&&(A5.set(c),d=A5.search(i)),ev.createElement(A8,{dropdownShown:a,allowListEnforced:!e.org.public_plugins_allowed||e.org.plugins_whitelist_enforced,plugins:d,query:i,setQuery:l,org:n,dispatch:t})}let A6=a(267837);function A7(e){let{allowListEnforced:t,dispatch:a,widgets:r,query:n,setQuery:i,org:l}=e,s=e=>{e.forEach(e=>{a(Rj.Kv({orgId:l.id,pluginId:e}))})},o=()=>{a((0,ig.K4)({type:AK,data:{currentUserOrgId:l.id}}))},c=[{name:(0,eq.t)("resources_tab.approved_widgets.table.name_column"),className:AQ,getSortValue:e=>e.name,cellComponent:e=>ev.createElement(ev.Fragment,null,ev.createElement("div",{className:A1},ev.createElement(iW.d,{plugin:e})),ev.createElement("span",null,e.name))},{name:(0,eq.t)("resources_tab.approved_widgets.table.description_column"),className:AX,cellComponent:e=>ev.createElement("span",null,(0,R4.ju)(e.description).replace(/\r?\n|\r/g," "))},{name:"",className:A0,cellComponent:(t,r)=>{var n;if(r)return ev.createElement(ev.Fragment,null);let i=`MENU_DROPDOWN-${t.id}`,l=(null==(n=e.dropdownShown)?void 0:n.type)===i;return ev.createElement(xK.ud,{className:CN.SH,dispatch:e.dispatch,showingDropdown:l,type:i,hideChevron:!0},ev.createElement(eD.n,{svg:A6,className:A2}),l&&ev.createElement(gb.j.DropdownWithScrim,{dispatch:e.dispatch,className:A3,style:e.dropdownShown.data.position},ev.createElement(gb.j.Option,{onClick:()=>{a(od.fv({view:"communityHub",subView:"widget",widgetId:t.plugin_id}))}},ev.createElement(eq.Tx,{id:"resources_tab.approved_widgets.actions.view_details"})),ev.createElement(gb.j.Option,{onClick:()=>{s([t.plugin_id])}},ev.createElement(eq.Tx,{id:"resources_tab.approved_widgets.actions.remove_widget",numSelected:1}))))}}],d=t?void 0:ev.createElement(AJ,{extensionType:"widget",onGoToSettings:()=>{a(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.SETTINGS}))}}),[m,u,_]=(0,fC.g)({columnName:(0,eq.t)("resources_tab.approved_widgets.table.name_column"),isReversed:!1},r,c);return ev.createElement(fz.Ch,{items:_,getItemKey:e=>e.id,columns:c,disabled:!t,scrollAwayContent:ev.createElement(xy.hI,{selectedViewAndTab:{view:fe.yA.ORG,tab:fe.Q$.APPROVED_WIDGETS},leftActions:ev.createElement(nN.rs,{onChange:i,focusOnMount:!1,query:n,clearSearch:()=>{i("")},placeholder:(0,eq.t)("resources_tab.approved_widgets.search.label_with_ellipsis")}),rightActions:t&&ev.createElement(oM.z,{icon:"plus-32",onClick:o},ev.createElement(eq.Tx,{id:"resources_tab.approved_widgets.actions.add_widget"})),notices:d}),emptyContent:ev.createElement(xy.eP,null,n?ev.createElement(eq.Tx,{id:"resources_tab.approved_widgets.search.no_results"}):ev.createElement(Aq,{onAddExtension:o,extensionType:"widget"})),actionBar:e=>{if(0===e.length)return ev.createElement(ev.Fragment,null);let t=e.map(e=>e.plugin_id);return ev.createElement(xK.j2,{onClick:()=>{s(t)},label:(0,eq.t)("resources_tab.approved_widgets.actions.remove_widget",{numSelected:e.length})})},itemTypeContext:{itemType:"widget",getSelectedCountString:e=>(0,eq.t)("multi_select_list.selected_count_widget",{numSelected:e})},sortState:m,onSetSortState:u})}let Oe=new TH.Or([],{...nt._r,keys:nt.Ri});function Ot(e){let{dispatch:t,dropdownShown:a,publishedWidgets:r,org:n}=e,[i,l]=ev.useState(""),s=(0,R3.zg)(n.id,"widget"),o=s.loaded?s.data:[],c=o.map(e=>{let t=(0,n8.qg)(e,r),a=(0,n8.hb)(t);return a}).filter(e=>!!e.id),d=c;return i&&(Oe.set(c),d=Oe.search(i)),ev.createElement(A7,{dropdownShown:a,allowListEnforced:e.org.widgets_whitelist_enforced,widgets:d,query:i,setQuery:l,org:n,dispatch:t})}var Oa=a(600975),Or=a(653684);let On="admin_dev_mode_banner--stickyBanner--FeH08",Oi=a(311159),Ol="AdminDevModeBetaBanner",Os=Ol+"Team",Oo=Ol+"Org",Oc="AdminDevModeOptInBanner";function Od(e,t){(0,ve.ep)(t.user_id,e,t.id)}function Om(e,t){return!!t&&!!(0,ve.jp)(e,t.id)}function Ou(e){let t=(0,Eb.Rs)(),a=(0,Eb.pw)(),[r,n]=ev.useState(!Om(Os,a));return a&&t&&t.pro_team&&r&&(0,eT.BZ)().dev_mode_beta_banner&&!(0,eT.BZ)().dev_mode_opt_in&&[gP.m.DASHBOARD,gP.m.MEMBERS].includes(e.selectedTab)?ev.createElement(Op,{user:a,hideBanner:n,trackingProperties:{teamId:t.id,source:e.selectedTab}}):null}function O_(e){var t,a;let r=(0,EJ.V_)(),[n,i]=ev.useState(!Om(Oo,r)),l=(0,dV.mU)(dH.DevModeOptInInfo,{orgId:e.org.id}),[s,o]=ev.useState(!Om(Oc,r)),[c,d]=ev.useState(!1),{uniqueId:m}=(0,so.I)({id:sd.G.DevModeOptInEventOnlyOverlay,priority:0});if((0,sc.J)(m,[Or.PS],()=>{[fe.rN.DASHBOARD,fe.rN.MEMBERS].includes(e.selectedTab)&&(d(!0),o(!1))}),ev.useEffect(()=>{d(!1)},[e.selectedTab]),!r||![fe.rN.DASHBOARD,fe.rN.MEMBERS].includes(e.selectedTab))return null;let u=e.selectedTab?e.selectedTab:"dashboard",_={orgId:e.org.id,source:u};if(c&&(0,eT.BZ)().dev_mode_opt_in)return ev.createElement(Sg,{color:Su.LIGHT_GREEN,onClose:()=>{d(!1)},className:On,trackingContext:"DevMode Opt-in Success Banner",trackingProperties:_},ev.createElement(OE,{title:ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in_success.title"}),secondaryText:ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in_success.secondary_text"}),icon:ev.createElement(eD.n,{svg:Oi,className:ek.cx.p8.$})}));let p="loaded"===l.status&&!!l.data.org&&(0,_9.gD)(l.data.org.devModeOptInPlanProperty);if(e.selectedTab===fe.rN.MEMBERS&&s&&(0,eT.BZ)().dev_mode_opt_in&&p){let n,i,s;let c=(null==(a=null==(t=l.data.org)?void 0:t.devModeAccountTypeRequests)?void 0:a.length)||0;return 0===c?(n=ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.title_no_requests"}),i=ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.secondary_text_no_requests"}),s=Su.LIGHT_BLUE):(n=c>99?ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.title_with_99_plus_requests"}):ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.title_with_requests",requestsCount:c}),i=ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.secondary_text_with_requests"}),s=Su.LIGHT_YELLOW),ev.createElement(Sg,{color:s,onClose:()=>{o(!1),Od(Oc,r)},className:On,trackingContext:"DevMode Opt-in Banner",trackingProperties:_},ev.createElement(Og,{title:n,secondaryText:i,button:ev.createElement(Ov,{source:e.selectedTab}),icon:ev.createElement(Oh,null)}))}return n&&(0,eT.BZ)().dev_mode_beta_banner&&!(0,eT.BZ)().dev_mode_opt_in?ev.createElement(Op,{user:r,hideBanner:i,trackingProperties:_}):null}function Op({user:e,hideBanner:t,trackingProperties:a}){return ev.createElement(Sg,{color:Su.LIGHT_BLUE,onClose:()=>{t(!1),Od(Ol,e)},className:On,trackingContext:"DevMode Beta Banner",trackingProperties:a},ev.createElement(Og,{title:ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_beta.title"}),secondaryText:ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_beta.secondary_text"}),button:ev.createElement(Of,null),icon:ev.createElement(Oh,null)}))}function Og(e){return ev.createElement(tD.j,{horizontalAlignItems:"end",width:"fill-parent"},ev.createElement(OE,{title:e.title,secondaryText:e.secondaryText,icon:e.icon}),e.button)}function OE(e){return ev.createElement(tD.j,{horizontalAlignItems:"start"},e.icon,ev.createElement("span",null,e.title),ev.createElement("span",{className:ek.cx.fontNormal.pl24.$},e.secondaryText))}function Oh(){return ev.createElement(t3.JO,{icon:"devmode-32"})}function Of(){return ev.createElement(oM.J,{innerText:"Learn more",onClick:()=>ew.default.unsafeRedirect("https://help.figma.com/hc/articles/19813618057623","_blank")},ev.createElement("span",{className:ek.cx.fontMedium.$},ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_beta.learn_more_button"})))}function Ov(e){let t=(0,eb.I0)();return ev.createElement(oM.J,{innerText:"Enable Dev Mode",onClick:()=>t(ig.K4({type:Or.d1,data:{source:e.source}}))},ev.createElement("span",{className:ek.cx.fontMedium.$},ev.createElement(eq.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.enable_button"})))}var Ob=a(76085),Oy=a(447160),Ow=a(408462);let OT="seen_org_admin_activity_onboarding",Ox=(0,xD.Q9)("org_admin_activity_onboarding",xF(sd.G.OrgAdminTeamOnboarding)),ON=(0,o_.n_)(OT);function OC(){let e=(0,r9.Dv)(ON),t=(0,so.I)({id:sd.G.OrgAdminActivityOnboarding,priority:su.b4.DEFAULT_MODAL},[e]),a=(0,eb.I0)(),r=(0,xO.eO)(Ox);(0,eZ.O)(()=>{"reset"===r.currentState?t.show():t.show({canShow:e=>!e})}),(0,sc.J)(t.uniqueId,"Reset Onboarding",()=>{t.show()});let n=[{description:ev.createElement(eq.Tx,{id:"onboarding_pointers.activity_filter_onboarding"}),trackingContextName:`${Tc} Filter`,targetKey:Th},{description:ev.createElement(eq.Tx,{id:"onboarding_pointers.activity_csv_onboarding"}),trackingContextName:`${Tc} CSV`,targetKey:Tf}];return ev.createElement(C5.Ok,{isShowing:t.isShowing,steps:n,onComplete:()=>{a(m1.v({[OT]:!0})),t.complete()}})}let OS="activity_logs_section--dropdownScrollClip--sjbCz",Ok="activity_logs_section--dropdown--nOl3y",OI="activity_logs_section--eventDescriptionItem--9wX1l ellipsis--ellipsis--Tjyfa",OL="HEADER",OR={value:null,description:ev.createElement(eq.Tx,{id:"activity_log.filter.all"})},OA=[{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.branches"})},{value:["repo_branch_create"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.created_a_branch"})},{value:["repo_merge_to_source"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.merged_a_branch"})},{value:["repo_merge_from_source"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.updated_a_branch"})},{value:["repo_branch_archive"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.archived_a_branch"})},{value:["repo_branch_unarchive"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.unarchived_a_branch"})},{value:["repo_branch_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.deleted_a_branch"})},{value:["file_repo_member_add","file_repo_member_permission_change","file_repo_member_remove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.file_repo_membership_changed"})}],OO=[{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.sso_auth"})},{value:["google_sso_auth_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.google_sso_auth"})},{value:["saml_sso_auth_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.saml_sso_auth"})}],OD=[{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.external_access"})},{value:["org_guest_invite_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_guest_invite_setting"})},{value:["open_sessions_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_open_sessions_setting"})},{value:["public_link_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_public_link_setting"})},{value:["ip_restriction_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.network_restriction_change"})},{value:["org_user_create_external","org_user_delete_external"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.external_org_membership_changed"})},{value:["team_member_add_external","team_member_remove_external"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.external_team_membership_changed"})},{value:["autogen_password_controls_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_autogen_password_controls_setting"})},{value:["fig_file_view_external"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.viewed_external_file"})},{value:["fig_file_view_prototype_external"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.viewed_external_prototype"})}],OF=[{value:["license_group_library_setting_change","workspace_library_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.workspace_library_setting_changed"})}],OM=[{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.default_role.seat_rename"})},{value:["org_default_license_type_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_default_role.seat_rename"})}],OP=[{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.workspaces"})},{value:["license_group_admins_add","workspace_admins_add"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.added_workspace_admins"})},{value:["license_group_admins_remove","workspace_admins_remove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.removed_workspace_admins"})},{value:["license_group_create","workspace_create"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.created_a_workspace"})},{value:["license_group_delete","workspace_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.deleted_a_workspace"})},{value:["license_group_rename","workspace_rename"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.renamed_a_workspace"})},{value:["license_group_membership_change","workspace_members_add","workspace_members_remove","workspace_member_add","workspace_member_remove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_a_user_s_workspace"})},{value:["license_group_membership_self_select","workspace_membership_self_select"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.user_selected_their_own_workspace"})},{value:["workspace_visibility_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.workspace_visibility_setting_changed"})}],OB=[{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.billing_group.header"})},{value:["license_group_admins_add"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.billing_group.admins_added"})},{value:["license_group_admins_remove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.billing_group.admins_removed"})},{value:["license_group_create"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.billing_group.created"})},{value:["license_group_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.billing_group.deleted"})},{value:["license_group_rename"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.billing_group.renamed"})},{value:["license_group_membership_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.billing_group.membership_changed"})},{value:["license_group_membership_self_select"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.billing_group.self_select"})}],OU=[{value:["org_join_request_create"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.requested_to_join_the_org"})},{value:["org_join_request_approve"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.org_join_request_approved"})}],OV=[{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.webhook_group_header"})},{value:["webhook_create"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.webhooks_created"})},{value:["webhook_update"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.webhooks_updated"})},{value:["webhook_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.webhooks_deleted"})}],OW=(e,t)=>[OR,{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.files"})},{value:["fig_file_create"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.created_a_file"})},{value:["fig_file_duplicate"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.duplicated_a_file"})},{value:["fig_file_export"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.exported_a_file"})},{value:["fig_file_link_access_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.file_link_access_changed"})},{value:["fig_file_link_expiration_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.file_link_expiration_changed"})},{value:["fig_file_viewer_access_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.viewer_permissions_changed"})},{value:["fig_file_member_add","fig_file_member_permission_change","fig_file_member_remove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.file_membership_changed"})},{value:["fig_file_move"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.moved_a_file"})},{value:["fig_file_permanent_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.permanently_deleted_a_file"})},{value:["fig_file_permanent_undelete","fig_file_restore"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.restored_a_file"})},{value:["fig_file_set_password"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.fig_file_set_password"})},{value:["fig_file_unset_password"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.fig_file_unset_password"})},{value:["fig_file_rename"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.renamed_a_file"})},{value:["fig_file_save_as"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.saved_a_file"})},{value:["fig_file_trash"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.trashed_a_file"})},{value:["fig_file_view"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.viewed_a_file"})},{value:["fig_file_view_prototype"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.viewed_a_prototype"})},{value:["open_sessions_start"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.open_sessions_start"})},{value:["open_sessions_end"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.open_sessions_end"})},...OA,{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.projects"})},{value:["folder_create"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.created_a_project"})},{value:["folder_delete","folder_export"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.deleted_a_project"})},{value:["folder_member_add","folder_member_permission_change","folder_member_remove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.project_membership_changed"})},{value:["folder_move"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.moved_a_project"})},{value:["folder_rename"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.renamed_a_project"})},{value:["folder_team_access_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_the_team_access_of_a_project"})},{value:["folder_transfer_sent","folder_export"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.outgoing_transfers"})},{value:["folder_transfer_received","folder_transfer_approved","folder_import"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.incoming_transfers"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.teams"})},{value:["team_create","team_import"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.created_a_team"})},{value:["team_delete","team_export"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.deleted_a_team"})},{value:["team_transfer_sent","team_export"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.outgoing_transfers"})},{value:["team_transfer_received","team_transfer_approved","team_import"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.incoming_transfers"})},{value:["team_restore"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.restored_a_team"})},{value:["team_member_add","team_member_permission_change","team_member_remove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.team_membership_changed"})},{value:["team_rename"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.renamed_a_team"})},{value:["team_org_access_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_the_org_access_of_a_team"})},{value:["team_license_group_change","team_workspace_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_the_workspace_of_a_team"})},{value:["org_team_creation_controls"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_team_creation_controls"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.organizations"})},{value:["org_merge"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.org_merged"})},{value:["org_user_create","org_user_permission_change","org_user_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.org_membership_changed"})},{value:["org_user_account_type_upgrade_requested","org_user_account_type_upgrade_approved","org_user_account_type_upgrade_denied"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.upgrade_requests_and_activity"})},{value:["org_user_account_type_change","org_user_account_type_change_to_full"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.org_role_changed.seat_rename"})},{value:["roster_exported"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.exported_the_members_list"})},{value:["org_team_csv_exported"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.exported_the_org_team_list"})},{value:["workspace_team_csv_exported"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.exported_the_workspace_team_list"})},...e?OU:[],{value:["org_invite_create"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.org_invite_created"})},{value:["cursor_chat_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.cursor_chat_setting_change"})},...e?[{value:["idle_timeout_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.idle_timeout_setting_change"})}]:[],{value:["scim_token_generate","scim_token_revoke"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.scim_token_generated_revoked"})},...e?(0,cS.lR)(t)?OD.concat({value:["workspace_public_link_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.changed_workspace_public_link_setting"})}):OD:[],...e?OM:[],...e?OP:[],...e&&(0,oC.uH)(t.id)?OB:[],{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.libraries"})},{value:["org_library_setting_change"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.org_library_setting_changed"})},...e?OF:[],...e&&(0,oC.dU)(t)?[{value:["workspace_library_approve","workspace_library_unapprove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.workspace_library_approval_changed"})}]:[],...e&&(0,oC.TO)(t)?[{value:["org_library_approve","org_library_unapprove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.org_library_approval_changed"})}]:[],{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.users"})},...e?[{value:["user_idle_session_timeout"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.user_session_timed_out"})}]:[],{value:["user_sign_in","user_sign_out"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.user_signed_in_signed_out"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.community"})},{value:["community_hub_file_publish","community_hub_file_update","community_hub_file_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.file_published_updated_deleted"})},{value:["community_plugin_publish","community_plugin_update","community_plugin_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_published_updated_deleted"})},{value:["community_widget_publish","community_widget_update","community_widget_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_published_updated_deleted"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.private_plugins"})},{value:["private_plugin_publish"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_published"})},{value:["private_plugin_update"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_updated"})},{value:["private_plugin_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_deleted"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_management"})},{value:["plugin_approvelist_enable","plugin_approvelist_disable"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_approve_list_setting_changed"})},{value:["plugin_approvelist_request_org"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_approve_list_requested"})},{value:["plugin_approvelist_request_approve_org","plugin_approvelist_request_reject_org","plugin_approvelist_request_approve_workspace","plugin_approvelist_request_reject_workspace","plugin_approvelist_add","plugin_approvelist_add_workspace","plugin_approvelist_remove","plugin_approvelist_remove_workspace"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.approve_list_plugins_reviewed"})},{value:["plugin_install","plugin_uninstall"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.install_plugins_org_wide"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_publishers"})},{value:["plugin_publisher_accept_invite","plugin_publisher_remove_invite"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_publisher_accept_remove_invite"})},{value:["plugin_publisher_invite"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_publisher_invite"})},{value:["plugin_publisher_remove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_publisher_remove"})},{value:["plugin_ownership_transfer"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.plugin_ownership_transfer"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.private_widgets"})},{value:["private_widget_publish"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_published"})},{value:["private_widget_update"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_updated"})},{value:["private_widget_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_deleted"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_management"})},{value:["widgets_enabled","widgets_disable"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_approve_list_setting_changed"})},{value:["widget_approvelist_request_org"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_approve_list_requested"})},{value:["widget_approvelist_request_approve_org","widget_approvelist_request_reject_org","widget_approvelist_request_approve_workspace","widget_approvelist_request_reject_workspace","widget_approvelist_add","widget_approvelist_add_workspace","widget_approvelist_remove","widget_approvelist_remove_workspace"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.approve_list_widgets_reviewed"})},{value:["widget_install","widget_uninstall"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.install_widgets_org_wide"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_publishers"})},{value:["widget_publisher_accept_invite","widget_publisher_remove_invite"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_publisher_accept_remove_invite"})},{value:["widget_publisher_invite"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_publisher_invite"})},{value:["widget_publisher_remove"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_publisher_remove"})},{value:["widget_ownership_transfer"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.widget_ownership_transfer"})},...OO,{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.audio"})},{value:["voice_call_join_req"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.user_joined_audio_call"})},{value:OL,description:ev.createElement(eq.Tx,{id:"activity_log.filter.integrations"})},{value:["personal_access_token_create","personal_access_token_delete"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.personal_access_token_create_delete"})},{value:["oauth_token_grant","oauth_token_revoke"],description:ev.createElement(eq.Tx,{id:"activity_log.filter.oauth_token_grant_revoke"})},...OV],OG=[{value:{start:(0,gk.Z)().format("YYYY-MM-DD"),end:(0,gk.Z)().format("YYYY-MM-DD")},description:ev.createElement(eq.Tx,{id:"activity_log.filter.today"})},{value:{start:(0,gk.Z)().subtract(1,"days").format("YYYY-MM-DD"),end:(0,gk.Z)().format("YYYY-MM-DD")},description:ev.createElement(eq.Tx,{id:"activity_log.filter.yesterday"})},{value:{start:(0,gk.Z)().subtract(7,"days").format("YYYY-MM-DD"),end:(0,gk.Z)().format("YYYY-MM-DD")},description:ev.createElement(eq.Tx,{id:"activity_log.filter.last_week"})},{value:{start:(0,gk.Z)().subtract(30,"days").format("YYYY-MM-DD"),end:(0,gk.Z)().format("YYYY-MM-DD")},description:ev.createElement(eq.Tx,{id:"activity_log.filter.last_month"})}];function Oj(e){return ev.createElement("div",null,e.token.content)}class OH extends ev.PureComponent{constructor(e){let t;if(super(e),this.fetchLogs=e=>{let t=e?this.displayedFilterParams():this.props.activityLogs.lastQuery;this.props.dispatch(Oy.U2({newQuery:e,...t}))},this.loadMore=()=>{this.fetchLogs(!1)},this.clearFilter=()=>{this.setState(this.initialFilterState())},this.showClearButton=()=>{let e=(({emails:e,team:t,event:a,date:r,showCustomDatePicker:n})=>({emails:e,team:t,event:a,date:r,showCustomDatePicker:n}))(this.state);return!EP()(e,this.initialFilterState())},this.filterLogs=()=>{let e=(0,Ow.Ye)(this.state.date,(0,Ni.Oe)(this.state.emails));if(e){this.setState(t=>({error:{message:e.message,field:e.field},emails:{...t.emails,errorMessage:"email"===e.field?e.message:""}}));return}this.setState(e=>({error:null,emails:{...e.emails,errorMessage:""}})),this.fetchLogs(!0)},this.onRequestCSV=()=>{var e;if(this.state.pendingRequest)return;let t=(0,Ow.Ye)(this.state.date,(0,Ni.Oe)(this.state.emails));if(t){this.setState(e=>({error:{message:t.message,field:t.field},emails:{...e.emails,errorMessage:"email"===t.field?t.message:""}}));return}this.setState(e=>({error:null,pendingRequest:!0,emails:{...e.emails,errorMessage:""}})),this.props.dispatch(r7.R.enqueue({message:(0,eq.t)("activity_log.table.preparing_request_for_csv"),type:"orgRoster.exportCSV",icon:xk.B4.SPINNER}));let a=this.displayedFilterParams();rI.ZP.post("/api/activity_logs/export",{org_id:this.props.org.id,emails:null==(e=a.emails)?void 0:e.join(),start_time:a.date.start,end_time:(0,Ow.kr)(a.date.end)}).then(()=>{this.props.dispatch(r7.R.enqueue({message:(0,eq.t)("activity_log.table.activity_log.table.csv_requested_success"),type:"orgRoster.exportCSV",icon:xk.B4.CHECK}))},e=>{var t;this.props.dispatch(dl.l.error(e.message||(null==(t=e.data)?void 0:t.message)||(0,eq.t)("activity_log.table.csv_requested_error")))}).then(()=>{this.setState({pendingRequest:!1})})},this.onTeamClick=e=>{this.setState({team:e})},this.onEventClick=e=>{this.setState({event:e})},this.onEmailInputChange=e=>{this.setState({emails:e})},this.onDateOptionClick=e=>{if(null===e.value){this.setState({showCustomDatePicker:!0});return}this.setState({date:e.value,showCustomDatePicker:!1})},this.onStartDateChange=e=>{this.setState({date:{...this.state.date,start:e.target.value}})},this.onEndDateChange=e=>{this.setState({date:{...this.state.date,end:e.target.value}})},this.canLoadMore=()=>!(this.props.activityLogs.isLoading||0===this.props.activityLogs.logs.length||(0,Ob.xb)(this.props.activityLogs.cursor)),this.handleScroll=()=>{!this.canLoadMore()||this.scrollContainerRef.getScrollHeight()-(this.scrollContainerRef.getScrollTop()+this.scrollContainerRef.getTrackHeight())>300||this.loadMore()},this.renderLogResults=()=>this.props.activityLogs.isLoading&&this.props.activityLogs.isNewQuery?ev.createElement(ax.jz,null):this.state.filteredActivityLogs.length>0?ev.createElement("div",null,ev.createElement(kS,{logs:this.state.filteredActivityLogs,orgName:this.getOrgName(),dispatch:this.props.dispatch}),ev.createElement("div",{className:"activity_logs_section--tableNavigation---eC--"},this.props.activityLogs.isLoading&&!this.props.activityLogs.isNewQuery?ev.createElement(ax.jz,null):this.canLoadMore()&&ev.createElement(eA.DF,{onClick:this.loadMore},ev.createElement(eq.Tx,{id:"activity_log.table.load_more"})))):ev.createElement("div",{className:"activity_logs_section--emptyState--UI2wH"},ev.createElement(eq.Tx,{id:"activity_log.table.no_results_were_found"})),this.props.initialEventOptionId){let e=OW(this.props.org.bigma_enabled,this.props.org).find(e=>e.description.props.id===this.props.initialEventOptionId);e&&(t=e)}this.state={...this.initialFilterState(),error:null,pendingRequest:!1,filteredActivityLogs:[],event:t??OR}}initialFilterState(){let e=this.props.initialStartTime?(0,gk.Z)(this.props.initialStartTime):(0,gk.Z)().subtract(30,"days"),t=(0,Ni.UA)();return this.props.initialEmail&&(t={...t,tokens:t.tokens.concat({state:Nn.k.OK,content:this.props.initialEmail})}),{emails:t,team:null,event:OR,date:{start:e.format("YYYY-MM-DD"),end:(0,gk.Z)().format("YYYY-MM-DD")},showCustomDatePicker:!!this.props.initialStartTime}}componentDidMount(){this.fetchLogs(!0)}componentDidUpdate(e,t){let a=this.displayedFilterParams(t),r=this.displayedFilterParams(this.state);if(EP()(a,r)||this.filterLogs(),e.activityLogs.logs!==this.props.activityLogs.logs){let e=this.props.activityLogs.logs.filter(e=>(function(e,t){if(OP.includes(t))switch(e.event_name){case"license_group_create":case"license_group_rename":case"license_group_delete":case"license_group_admins_add":case"license_group_admins_remove":case"license_group_membership_change":case"license_group_membership_self_select":return!e.metadata.is_billing_group;default:return!0}if(OB.includes(t))switch(e.event_name){case"license_group_create":case"license_group_rename":case"license_group_delete":case"license_group_admins_add":case"license_group_admins_remove":case"license_group_membership_change":case"license_group_membership_self_select":return!!e.metadata.is_billing_group}return!0})(e,this.state.event));this.setState({filteredActivityLogs:e})}}displayedFilterParams(e){var t;let a=e??this.state;return{teamId:(null==(t=a.team)?void 0:t.id)??"",emails:[...new Set((0,Ni.Cw)(a.emails))],eventName:a.event.value,date:{...a.date}}}getOrgName(){return this.props.org.name}render(){return ev.createElement(ev.Fragment,null,ev.createElement(T$.Z,{title:(0,w7.K)(fe.rN.ACTIVITY),hasHorizontalPadding:!0,rightActions:ev.createElement(oM.z,{"data-onboarding-key":Tf,onClick:this.onRequestCSV},ev.createElement(oc.x,{i18nId:"activity_log.table.get_csv"}))}),ev.createElement("div",{className:ek.cx.wFull.hFull.overflowAuto.$},ev.createElement(cr.l,{horizontalScrollingDisabled:!0,className:tQ()(CN.Lw,ek.cx.wFull.hFull.$),innerClassName:CN.ge,onScroll:this.handleScroll,ref:e=>this.scrollContainerRef=e,minContentWidth:(0,cx.z)(cL.Fci)},ev.createElement("div",{className:CN._A,style:{top:0}},ev.createElement(O$,{filtersConfig:this.state,dropdownShown:this.props.dropdownShown,bigmaEnabled:this.props.org.bigma_enabled,orgTeams:this.props.orgTeams,onEmailInputChange:this.onEmailInputChange,onEventClick:this.onEventClick,onTeamClick:this.onTeamClick,onDateOptionClick:this.onDateOptionClick,onStartDateChange:this.onStartDateChange,onEndDateChange:this.onEndDateChange,onRequestCSV:this.onRequestCSV,showClearButton:this.showClearButton(),clearFilter:this.clearFilter,dispatch:this.props.dispatch,org:this.props.org}),ev.createElement(pw.SC,{useAdminTableStyles:!0,header:!0},ev.createElement("div",{className:"activity_logs_section--dateHeaderColumn--FlYXt activity_logs_table--dateHeaderColumn--bT0W- activity_logs_table--date--TBO0x"},ev.createElement(eq.Tx,{id:"activity_log.table.date"})),ev.createElement("div",{className:"activity_logs_section--actorHeaderColumn--YqTOd activity_logs_table--actorHeaderColumn--rgum5 activity_logs_table--_actor--1Zwaa"},ev.createElement(eq.Tx,{id:"activity_log.table.team_member"})),ev.createElement("div",{className:"activity_logs_section--eventDescriptionColumn--iK6zN activity_logs_table--eventDescriptionColumn--Vym3V"},ev.createElement(eq.Tx,{id:"activity_log.table.event"})),ev.createElement("div",{className:"activity_logs_section--productColumn--Vy1YA activity_logs_table--productColumn--5g20E"},ev.createElement(eq.Tx,{id:"activity_log.table.product"})),ev.createElement("div",{className:"activity_logs_section--teamColumn--ix-u0 activity_logs_table--teamColumn--3HROl"},ev.createElement(eq.Tx,{id:"activity_log.table.team"})),ev.createElement("div",{className:"activity_logs_section--ipColumn--yhoAb activity_logs_table--ipColumn--1N0HY"},ev.createElement(eq.Tx,{id:"activity_log.table.ip_address"})))),this.renderLogResults())))}}OH.displayName="ActivityLogsPage";class O$ extends ev.PureComponent{constructor(){super(...arguments),this.EVENT_DROPDOWN="activity-log-events-dropdown",this.TEAM_DROPDOWN="activity-log-teams-dropdown",this.DATE_DROPDOWN="activity-log-date-dropdown",this.renderEventsDropdown=()=>ev.createElement("div",{className:OS,style:this.props.dropdownShown.data.position},ev.createElement(gb.j.DropdownWithScrim,{dispatch:this.props.dispatch,className:Ok},OW(this.props.bigmaEnabled,this.props.org).map(e=>{let t=e.description.props.id,a=`${e.value}-${t}`;return e.value===OL?ev.createElement(ev.Fragment,{key:a},ev.createElement(gb.j.Separator,null),ev.createElement(gb.j.CheckableOption,{disabled:!0,checked:!1,onClick:ex.ZT},ev.createElement("span",{className:OI},e.description))):ev.createElement(gb.j.CheckableOption,{key:a,checked:this.props.filtersConfig.event.description.props.id===t,onClick:()=>this.props.onEventClick(e)},ev.createElement("span",{className:OI},e.description))}))),this.renderDateDropdown=e=>ev.createElement("div",{className:OS,style:this.props.dropdownShown.data.position},ev.createElement(gb.j.DropdownWithScrim,{dispatch:this.props.dispatch,className:"activity_logs_section--dateDropdown--ycwTF activity_logs_section--dropdown--nOl3y"},OG.map(t=>ev.createElement(gb.j.CheckableOption,{key:`${t.value}-${t.description.props.id}`,checked:e===t,onClick:()=>this.props.onDateOptionClick(t)},t.description)),ev.createElement(gb.j.Separator,null),ev.createElement(gb.j.CheckableOption,{checked:!e,onClick:()=>this.props.onDateOptionClick({value:null,description:ev.createElement(eq.Tx,{id:"activity_log.filter.custom"})})},ev.createElement(eq.Tx,{id:"activity_log.filter.custom"})))),this.renderTeamsDropdown=()=>ev.createElement("div",{className:OS,style:this.props.dropdownShown.data.position},ev.createElement(gb.j.DropdownWithScrim,{dispatch:this.props.dispatch,className:Ok},ev.createElement(gb.j.CheckableOption,{checked:null===this.props.filtersConfig.team,onClick:()=>this.props.onTeamClick(null)},ev.createElement(eq.Tx,{id:"activity_log.table.all"})),ev.createElement(gb.j.Separator,null),this.props.orgTeams.map(e=>ev.createElement(gb.j.CheckableOption,{key:e.id,checked:this.props.filtersConfig.team===e,onClick:()=>this.props.onTeamClick(e)},e.name)))),this.renderDateInput=(e,t,a)=>{let{today:r,minDate:n}=(0,Ow.fY)();return ev.createElement(eA.Sc,{type:"date",className:t?"activity_logs_section--dateErrorInput--wHr4O activity_logs_section--dateInput--QzUHJ activity_logs_section--errorBorder--Dk1UM":"activity_logs_section--dateInput--QzUHJ",onChange:a,value:e,min:n,max:r})}}render(){var e;let t=null==(e=this.props.filtersConfig.error)?void 0:e.field,a=t&&this.props.filtersConfig.error.message,r=!!this.props.dropdownShown&&this.props.dropdownShown.type===this.EVENT_DROPDOWN,n=!!this.props.dropdownShown&&this.props.dropdownShown.type===this.TEAM_DROPDOWN,i=!!this.props.dropdownShown&&this.props.dropdownShown.type===this.DATE_DROPDOWN,l=this.props.filtersConfig.showCustomDatePicker?void 0:OG.find(e=>EP()(e.value,this.props.filtersConfig.date));return ev.createElement("div",{className:tQ()("activity_logs_section--menuBar--Gf3ku multi_select_list--menuBar--8xNGR",ek.cx.bt1.colorBorder.bSolid.$)},ev.createElement("div",{className:"activity_logs_section--menuBarLeft--8J-A7 multi_select_list--menuBarLeft--aUL8Q"},!eN.K1&&ev.createElement(sb.V,null,ev.createElement(OC,null)),ev.createElement(Nl.P,{onboardingKey:Th,className:"activity_logs_section--emailInput--qrO3D",autocomplete:this.props.filtersConfig.emails,placeholder:(0,eq.t)("activity_log.table.member_email_addresses"),onChange:this.props.onEmailInputChange,validateToken:e=>({state:(0,n1.Jh)(e)?Nn.k.OK:Nn.k.ERROR,content:e}),TokenComponent:Oj}),ev.createElement("div",{className:"activity_logs_section--dateDropdownContainer--mOtRD"},ev.createElement(xK.ud,{showingDropdown:i,type:this.DATE_DROPDOWN,dispatch:this.props.dispatch},l?l.description:(0,eq.t)("activity_log.filter.custom"),i&&this.renderDateDropdown(l))),this.props.filtersConfig.showCustomDatePicker?ev.createElement("div",{className:"activity_logs_section--datesContainer--TD-ga"},this.renderDateInput(this.props.filtersConfig.date.start,"startDate"===t,this.props.onStartDateChange),ev.createElement("div",{className:"activity_logs_section--dateSeparator--VXpli"},"\u2013"),this.renderDateInput(this.props.filtersConfig.date.end,"endDate"===t,this.props.onEndDateChange)):null,ev.createElement(xK.ud,{showingDropdown:r,type:this.EVENT_DROPDOWN,dispatch:this.props.dispatch},null===this.props.filtersConfig.event.value?(0,eq.t)("activity_log.table.events_all"):ev.createElement("span",{className:"activity_logs_section--eventSelector--d2BnL ellipsis--ellipsis--Tjyfa"},ev.createElement(eq.Tx,{id:"activity_log.table.event_selected",event:this.props.filtersConfig.event.description})),r&&this.renderEventsDropdown()),ev.createElement(xK.ud,{showingDropdown:n,type:this.TEAM_DROPDOWN,dispatch:this.props.dispatch},null===this.props.filtersConfig.team?(0,eq.t)("activity_log.table.teams_all"):(0,eq.t)("activity_log.table.team_selected",{team:(0,dg.aF)(this.props.filtersConfig.team.name,21)}),n&&this.renderTeamsDropdown()),this.props.showClearButton&&ev.createElement(eA.PL,{className:"activity_logs_section--clearButton--KKjdl",onClick:()=>this.props.clearFilter()},ev.createElement(eq.Tx,{id:"activity_log.table.clear"})),a&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"activity_logs_section--flexBreak--LKSRe"}),ev.createElement("span",{className:"activity_logs_section--errorMessage--50Jgv"},a))))}}function Oz(e){return ev.createElement("div",{className:ek.cx.overflowAuto.wFull.hFull.$},ev.createElement(cr.l,{className:ek.cx.wFull.hFull.$,innerClassName:ek.cx.px32.borderBox.hFull.$,minContentWidth:e.minContentWidth},e.scrollAwayContent,e.stickyContent&&ev.createElement("div",{className:ek.cx.sticky.top0.$},e.stickyContent),e.children))}O$.displayName="ActivityLogFilters";var OK=a(477837),OZ=a.n(OK),Oq=a(288223),OY=a(134193);let OJ="org_user_autocomplete_input--input--Dm3Y1";function OQ(e){return ev.createElement("div",null,e.token.content.user.handle)}function OX(e){let{user:t}=e.searchResult;return ev.createElement("div",{className:e.isSelected?"org_user_autocomplete_input--orgUserRowSelected--65mB0 autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"org_user_autocomplete_input--orgUserRow--IM-mB autocomplete_permissions--contactRow--DRMiv"},ev.createElement(ds.Kn,{className:"org_user_autocomplete_input--orgUserAvatar--kBaLv autocomplete_permissions--avatar--Hb2O-",entity:t}),ev.createElement("div",null,ev.createElement("div",{className:"org_user_autocomplete_input--name--0kk3D autocomplete_permissions--name--62sCS ellipsis--ellipsis--Tjyfa"},t.handle),t.email&&ev.createElement("div",{className:"org_user_autocomplete_input--email--pplae autocomplete_permissions--email--HCICx ellipsis--ellipsis--Tjyfa"},t.email)))}let O0={columnName:Te.h3.SEARCH_SCORE,isReversed:!1},O1={...Te.bu,permissionFilter:"true_member"};function O2(e){let t=(0,eb.I0)(),a=(0,uL.Ng)(),[r,n]=ev.useState([]),i=OZ()(t=>{e.onAutocompleteChange(t)},300),l=(0,OY.q)(()=>""===e.autocomplete.inputValue?Promise.resolve({users:[],newCursor:null,totalUserCount:0}):(0,EJ.pw)(t,a.id,{searchQuery:e.autocomplete.inputValue,sort:O0,filter:O1,minimalFields:!0}),[e.autocomplete.inputValue,t,a]);return ev.useEffect(()=>{(0,Oq.zY)(l)&&n(()=>{var t;let a=e.autocomplete.tokens.map(e=>e.content.id);return(null==(t=(0,Oq.lu)(l))?void 0:t.users.map(e=>e).filter(e=>!a.includes(e.id)))??[]})},[e.autocomplete.tokens,l]),ev.createElement(Nl.P,{className:OJ,inviteInputClassName:OJ,autocompleteResultsClassName:"org_user_autocomplete_input--autocompleteResults--pKNN8",autocomplete:e.autocomplete,placeholder:e.placeholder,onChange:i,validateToken:ex.ZT,searchResults:()=>r,SearchResultComponent:OX,TokenComponent:OQ})}var O3=((M=O3||{})[M.PAGE_TITLE=0]="PAGE_TITLE",M[M.BULK_SELECTED_COUNT=1]="BULK_SELECTED_COUNT",M[M.SEARCH_PLACEHOLDER=2]="SEARCH_PLACEHOLDER",M[M.NO_SEARCH_RESULTS=3]="NO_SEARCH_RESULTS",M[M.DISPLAY_BILLING_GROUP_SELECTOR=4]="DISPLAY_BILLING_GROUP_SELECTOR",M[M.BILLING_SELECTOR_INFO_TOOLTIP=5]="BILLING_SELECTOR_INFO_TOOLTIP",M[M.PLUS_BILLING_GROUP=6]="PLUS_BILLING_GROUP",M[M.BILLING_GROUP_SELECTOR_VISIBLE=7]="BILLING_GROUP_SELECTOR_VISIBLE",M[M.BILLING_GROUP_SELECTOR_HIDDEN=8]="BILLING_GROUP_SELECTOR_HIDDEN",M[M.BILLING_GROUP_SELECTOR_TOGGLING_ERROR=9]="BILLING_GROUP_SELECTOR_TOGGLING_ERROR",M[M.BILLING_GROUP_EDITED_TOAST=10]="BILLING_GROUP_EDITED_TOAST",M[M.BILLING_GROUP_CREATED_TOAST=11]="BILLING_GROUP_CREATED_TOAST",M[M.EDIT_BILLING_GROUP=12]="EDIT_BILLING_GROUP",M[M.DELETE_BILLING_GROUPS=13]="DELETE_BILLING_GROUPS",M[M.BILLING_GROUPS_DELETED_TOAST=14]="BILLING_GROUPS_DELETED_TOAST",M[M.BILLING_GROUPS_DELETE_ERROR_TOAST=15]="BILLING_GROUPS_DELETE_ERROR_TOAST",M[M.DELETE_N_BILLING_GROUPS=16]="DELETE_N_BILLING_GROUPS",M[M.BILLING_GROUPS_DELETE_IF_LEFT_UNASSIGNED=17]="BILLING_GROUPS_DELETE_IF_LEFT_UNASSIGNED",M[M.ARE_YOU_SURE_BILLING_GROUPS_DELETE=18]="ARE_YOU_SURE_BILLING_GROUPS_DELETE",M);let O4={0:()=>(0,w7.K)(fe.rN.LICENSE_GROUPS),1:e=>(0,eq.t)("multi_select_list.selected_count_workspace",e),2:()=>(0,eq.t)("workspace_table.search.placeholder"),3:()=>(0,eq.t)("workspace_table.search.no_results"),4:()=>(0,eq.t)("workspace_table.workspace_selector.display_workspace_selector"),5:()=>(0,eq.t)("workspace_table.workspace_selector.info_tooltip"),6:()=>(0,eq.t)("workspace_table.plus_workspace"),7:()=>(0,eq.t)("license_group.workspace_selector_is_visible"),8:()=>(0,eq.t)("license_group.workspace_selector_is_hidden"),9:()=>(0,eq.t)("license_group.an_error_occurred_while_toggling_workspace_selector_setting"),10:e=>(0,eq.t)("workspace_table.workspace_edited_toast",e),11:e=>(0,eq.t)("workspace_table.workspace_created_toast",e),12:()=>(0,eq.t)("workspace_table.edit_workspace"),13:e=>(0,eq.t)("workspace_table.delete_workspace_s",e),14:e=>(0,eq.t)("workspace_table.workspaces_deleted_toast",e),15:()=>(0,eq.t)("workspace_table.an_error_occurred_while_deleting_workspaces"),16:e=>(0,eq.t)("workspace_table.delete_n_workspaces",e),17:()=>(0,eq.t)("workspace_table.workspace_delete.if_left_unassigned"),18:e=>(0,eq.t)("workspace_table.are_you_sure_you_want_to_delete_these_workspaces",e)},O8={0:()=>(0,w7.K)(fe.rN.BILLING,fe._J.BILLING_GROUPS),1:e=>(0,eq.t)("multi_select_list.selected_count_billing_groups",e),2:()=>(0,eq.t)("billing_groups_table.search.placeholder"),3:()=>(0,eq.t)("billing_groups_table.search.no_results"),4:()=>(0,eq.t)("billing_groups_table.billing_group_selector.display_billing_group_selector"),5:()=>(0,eq.t)("billing_groups_table.billing_group_selector.info_tooltip"),6:()=>(0,eq.t)("billing_groups_table.plus_billing_group"),7:()=>(0,eq.t)("license_group.billing_group_selector_is_visible"),8:()=>(0,eq.t)("license_group.billing_group_selector_is_hidden"),9:()=>(0,eq.t)("license_group.an_error_occurred_while_toggling_billing_group_selector_setting"),10:e=>(0,eq.t)("billing_groups_table.billing_group_edited_toast",e),11:e=>(0,eq.t)("billing_groups_table.billing_group_created_toast",e),12:()=>(0,eq.t)("billing_groups_table.edit_details"),13:()=>(0,eq.t)("general.delete"),14:e=>(0,eq.t)("billing_groups_table.billing_groups_deleted_toast",e),15:()=>(0,eq.t)("billing_groups_table.delete_modal.an_error_occurred_while_deleting_billing_groups"),16:e=>(0,eq.t)("billing_groups_table.delete_n_billing_groups",e),17:()=>(0,eq.t)("billing_groups_table.delete_modal.if_left_unassigned"),18:e=>(0,eq.t)("billing_groups_table.delete_modal.are_you_sure_you_want_to_delete_these_billing_groups",e)};function O5(e,t,a){return e?O8[t](a):O4[t](a)}let O9=()=>{let e=(0,uL.Ng)(),t=!!(e&&(0,oC.uH)(e.id));return ev.useCallback((...e)=>{let[a,r]=e;return O5(t,a,r)},[t])};function O6(e,...t){let[a,r]=t;return O5(e,a,r)}var O7=((P=O7||{})[P.SIDEBAR=0]="SIDEBAR",P[P.BROWSING=1]="BROWSING",P[P.PROMPT=2]="PROMPT",P[P.SEARCH=3]="SEARCH",P[P.LIBRARIES=4]="LIBRARIES",P);let De=e=>{switch(e){case 0:return ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.list.section",key:"section",workspace:ev.createElement("span",{className:ek.cx.fontSemiBold.$},ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.list.section.workspace"}))});case 1:return ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.list.browsing",key:"browsing"});case 2:return ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.list.prompt",key:"prompt"});case 3:return ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.list.search",key:"search"});case 4:return ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.list.libraries",key:"libraries"})}},Dt=(0,it.Y3)(function({onConfirm:e}){let t=(0,eb.I0)(),a=(0,uL.Ng)(),r=(null==a?void 0:a.bigma_enabled)&&(0,oC.uH)(null==a?void 0:a.id);return ev.createElement(e3.Ui,{name:"Create License Group Confirmation modal"},ev.createElement(ir.cV,{cancelText:(0,eq.t)("general.back"),confirmText:ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.confirm"}),disableClickOutsideToHide:!0,dispatch:t,onConfirm:()=>{t(ig.hV()),e()},popStack:!0,tintedModalBackground:!0,confirmationTitle:ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.title"})},ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.intro"}),ev.createElement("ul",{style:ie.sx.ml18.my16.add({listStyle:"disc"}).$},(r?[0,1,3,4]:[0,1,2,3,4]).map(e=>ev.createElement("li",{key:e},De(e)))),ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.outro",learnMore:ev.createElement(eA.Cr,{className:ek.cx.inline.$,target:"_blank",href:"https://help.figma.com/hc/articles/4409676189207-Guide-to-workspaces",trusted:!0},ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.outro.learn_more"}))})))},"LicenseGroupCreateConfirmationModal"),Da="license_group_edit_modal--adminRow--ENyRL license_group_edit_modal--inputRow--UNPTc",Dr="license_group_edit_modal--inputLabel--FI9O9",Dn="license_group_edit_modal--adminField--AGfmJ",Di="license_group_edit_modal--subtext--k-mHu",Dl="license_group_edit_modal--submitButton--kf4-y",Ds="First License Group Created",Do=a(524709),Dc=a(858901);function Dd({licenseGroup:e,autocomplete:t,name:a,setName:r,validateName:n,hasError:i,onClose:l,onAutocompleteChange:s,onSubmit:o,orgAccess:c,onOrgAccessChange:d}){let m=!!e;(0,w8.dl)();let u=(0,uL.$0)(),_=(0,oC.r)(u);return ev.createElement(ib.ge,{title:m?(0,eq.t)("workspace_table.edit_workspace_title"):(0,eq.t)("workspace_table.create_workspace_title"),onClose:l,minWidth:500},ev.createElement("div",{className:"license_group_edit_modal--container--nmN-V"},ev.createElement(ev.Fragment,null,ev.createElement("label",{className:"license_group_edit_modal--inputRow--UNPTc"},ev.createElement("span",{className:Dr},ev.createElement(eq.Tx,{id:"workspace_table.name_input"})),ev.createElement("div",null,ev.createElement(eA.Sc,{className:"license_group_edit_modal--inputField--xd-cD",autoFocus:!0,placeholder:(0,eq.t)("workspace_table.name_input_placeholder"),onChange:e=>{r(e.currentTarget.value),n(e.currentTarget.value)},value:a}),!_&&ev.createElement("p",{className:Di},ev.createElement(eD.n,{className:"license_group_edit_modal--iconSvg--XkhhT",svg:Do}),ev.createElement(eq.Tx,{id:"workspace_table.name_input_help_text"}))),ev.createElement(fZ.bM,{className:"license_group_edit_modal--yellowIcon--eTsbJ admin_settings_link--yellowIcon--bsDMr",style:ie.sx.if(!i,ie.sx.invisible).$})),ev.createElement("label",{className:Da},ev.createElement("span",{className:Dr},ev.createElement(eq.Tx,{id:"workspace_table.admins_input"})),ev.createElement("div",{className:Dn},ev.createElement(O2,{placeholder:(0,eq.t)("workspace_table.admin_input_placeholder"),autocomplete:t,onAutocompleteChange:s}),ev.createElement("p",{className:Di},_?ev.createElement(eq.Tx,{id:"workspace_table.admins_will_manage_input_help_text"}):ev.createElement(eq.Tx,{id:"workspace_table.admins_input_help_text"})))),_&&ev.createElement("label",{className:Da},ev.createElement("span",{className:Dr},ev.createElement(eq.Tx,{id:"workspace_table.visibility"})),ev.createElement("div",{className:Dn},ev.createElement(pe.X,{checked:c===ao.Zn.SECRET,onChange:d,label:(0,eq.t)("workspace_table.make_it_hidden"),description:(0,eq.t)("workspace_table.only_members_can_find_and_access")}))),i&&ev.createElement("div",{className:"license_group_edit_modal--banner--lc1RV",style:ie.sx.mb32.p16.flex.itemsCenter.bRadius6.$},ev.createElement(eD.n,{className:ek.cx.mr16.$,svg:Dc,useOriginalSrcFills_DEPRECATED:!0}),ev.createElement("p",null,"unassigned"===i?(0,eq.t)("workspace_table.workspace_name_unassigned_error"):(0,eq.t)("workspace_table.workspace_name_already_exists_error"))),ev.createElement("div",{className:"license_group_edit_modal--buttonContainer--W94JR"},ev.createElement(eA.PL,{onClick:l},ev.createElement(eq.Tx,{id:"workspace_table.cancel_create_or_edit"})),ev.createElement(e3.Ui,{name:"License Group Modal Submit",properties:{licenseGroupId:null==e?void 0:e.id}},ev.createElement(eA.RS,{className:Dl,onClick:o,disabled:!!i||!a.length||0===t.tokens.length},m?ev.createElement(eq.Tx,{id:"workspace_table.workspace_edit_save_changes"}):ev.createElement(eq.Tx,{id:"workspace_table.create_workspace_button"})))))))}function Dm({licenseGroup:e,autocomplete:t,name:a,setName:r,validateName:n,hasError:i,onClose:l,onAutocompleteChange:s,onSubmit:o}){let c=!!e,d=(0,uL.$0)();return ev.createElement(ib.ge,{title:c?(0,eq.t)("billing_groups_table.edit_billing_group_title"):(0,eq.t)("billing_groups_table.create_billing_group_title"),onClose:l,minWidth:500},ev.createElement(tD.j,{direction:"vertical",spacing:16,padding:16},!c&&ev.createElement(tD.j,{direction:"vertical",spacing:0},ev.createElement(oc.x,{i18nId:"billing_groups_table.edit_billing_group_modal.add_people_to_a_billing_group.seat_rename"}),(0,oC.yL)(d)&&ev.createElement(eA.UU,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/19100885191191"},ev.createElement(oc.x,{i18nId:"general.learn_more"}))),ev.createElement("label",{className:ek.cx.wFull.$},ev.createElement(tD.j,{width:"fill-parent",direction:"vertical",spacing:8},ev.createElement(oc.x,{i18nId:"billing_groups_table.name_input",fontWeight:"medium"}),ev.createElement(eA.Sc,{autoFocus:!0,className:tQ()("license_group_edit_modal--inputFieldFullWidth--Z3wkY license_group_edit_modal--inputField--xd-cD",{"license_group_edit_modal--inputFieldWithError--e3g5i":i}),placeholder:(0,eq.t)("billing_groups_table.name_input_placeholder"),onChange:e=>{r(e.currentTarget.value),n(e.currentTarget.value)},value:a}),"unassigned"===i&&ev.createElement(oc.x,{i18nId:"billing_groups_table.billing_group_name_unassigned_error",color:"danger"}),"duplicated"===i&&ev.createElement(oc.x,{i18nId:"billing_groups_table.billing_group_name_already_exists_error",color:"danger"}))),ev.createElement("label",{className:ek.cx.wFull.$},ev.createElement("span",{className:Dr},ev.createElement(eq.Tx,{id:"billing_groups_table.admins_input"})),ev.createElement("div",null,ev.createElement(oc.x,{i18nId:"billing_groups_table.admins_input_help_text",color:"secondary"})),ev.createElement("div",{className:ek.cx.mt8.relative.$},ev.createElement(O2,{placeholder:(0,eq.t)("billing_groups_table.admin_input_placeholder"),autocomplete:t,onAutocompleteChange:s}))),ev.createElement("div",{className:ek.cx.flex.justifyEnd.wFull.$},ev.createElement(eA.PL,{onClick:l},ev.createElement(eq.Tx,{id:"general.cancel"})),ev.createElement(e3.Ui,{name:"License Group Modal Submit",properties:{licenseGroupId:null==e?void 0:e.id}},ev.createElement(eA.RS,{className:Dl,onClick:o,disabled:!!i||!a.length||0===t.tokens.length},c?ev.createElement(eq.Tx,{id:"billing_groups_table.billing_group_edit_save_changes"}):ev.createElement(eq.Tx,{id:"billing_groups_table.create_billing_group_button"}))))))}let Du=(0,it.Y3)(function(e){var t,a;let r=(0,eb.I0)(),[n,i]=ev.useState(null),l=(0,eb.v9)(e=>(0,uR.getPermissionsStateMemoized)(e)),s=(0,uL.Ng)(),o=(0,w6.$4)(),c=O9(),d=!!e.licenseGroup,m=[];d&&!e.licenseGroup.is_orphaned&&(m=e.licenseGroup.admin_users_metadata.map(e=>({state:Nn.k.OK,content:{id:"",user:e}})));let[u,_]=ev.useState(d?{...(0,Ni.UA)(),tokens:m}:(0,Ni.UA)()),p=ev.useCallback(t=>{var a;(0,eK.L9)("Workspace admin search performed",{orgId:null==s?void 0:s.id,licenseGroupId:null==(a=e.licenseGroup)?void 0:a.id,queryLength:t.inputValue.length}),_(t)},[null==s?void 0:s.id,null==(t=e.licenseGroup)?void 0:t.id]),[g,E]=ev.useState(d?e.licenseGroup.name:""),h=null==(a=e.licenseGroup)?void 0:a.mirrored_workspace_id,f=null;if(h){let e=(0,dV.mU)(dH.WorkspaceOrgAccessView,{workspaceId:h});f="loaded"===e.status?e.data.workspace:null}let[v,b]=ev.useState(d&&f?f.orgAccess:ao.Zn.PUBLIC),y=ev.useCallback(e=>{let t=e.target.checked;b(t?ao.Zn.SECRET:ao.Zn.PUBLIC)},[]);ev.useEffect(()=>{f&&b(f.orgAccess)},[f]);let w=()=>{var t;(0,eK.L9)("CTA Clicked",{name:"License Group Modal Cancel",licenseGroupId:null==(t=e.licenseGroup)?void 0:t.id,orgId:l.currentUserOrgId}),r(ig.hV())},T=()=>{let e=0===o.length,t=e&&!d&&!(s&&(0,oC.uH)(s.id));t?r(ig.bF({type:Dt.type,data:{onConfirm:x}})):x()},x=()=>{let t=({data:e})=>{var t;let a=!d&&0===o.length;r(r7.R.enqueue({type:"license-group-edit",message:d?c(O3.BILLING_GROUP_EDITED_TOAST,{workspaceName:g}):c(O3.BILLING_GROUP_CREATED_TOAST,{workspaceName:g})})),r(ig.hV()),r(w4.Vx({licenseGroup:e.meta,orgId:l.currentUserOrgId})),a&&(0,eK.L9)(Ds,{licenseGroupId:null==(t=e.meta)?void 0:t.id,orgId:l.currentUserOrgId})},a=e=>{r(r7.R.enqueue({error:!0,message:e.message}))},n=(0,oC.r)(l.currentUserOrgId);d?rI.ZP.put(`/api/license_group/${e.licenseGroup.id}`,{name:g,admin_user_ids:u.tokens.map(e=>e.content.user.id),...n?{org_access:v}:{},showing_billing_groups:(0,oC.uH)(l.currentUserOrgId)}).then(t).catch(a):rI.ZP.post(`/api/orgs/${l.currentUserOrgId}/license_groups`,{name:g,admin_user_ids:u.tokens.map(e=>e.content.user.id),...n?{org_access:v}:{},showing_billing_groups:(0,oC.uH)(l.currentUserOrgId)}).then(t).catch(a)},N=t=>{if(o.find(a=>{var r;return a.name.trim().toLowerCase()===t.trim().toLowerCase()&&(null==(r=e.licenseGroup)?void 0:r.id)!==a.id})){i("duplicated");return}if("unassigned"===t.trim().toLowerCase()){i("unassigned");return}i(null)};return(0,oC.uH)(null==s?void 0:s.id)?ev.createElement(Dm,{autocomplete:u,name:g,setName:E,validateName:N,hasError:n,licenseGroup:e.licenseGroup,onClose:w,onSubmit:T,onAutocompleteChange:p}):ev.createElement(Dd,{autocomplete:u,name:g,setName:E,validateName:N,hasError:n,licenseGroup:e.licenseGroup,onClose:w,onSubmit:T,onAutocompleteChange:p,orgAccess:v,onOrgAccessChange:y})},"LicenseGroupEditModal"),D_="seen_org_admin_billing_groups_onboarding",Dp=(0,xD.Q9)("org_admin_license_groups_onboarding",xF(sd.G.OrgAdminLicenseGroupsOnboarding)),Dg=(0,o_.n_)(D_);function DE(e){let t=(0,uL.$0)(),a=(0,r9.Dv)(Dg),{isShowing:r,show:n,complete:i,uniqueId:l}=(0,so.I)({id:sd.G.OrgAdminLicenseGroupsOnboarding,priority:su.b4.DEFAULT_MODAL},[a]),s=(0,xO.eO)(Dp);(0,eZ.O)(()=>{"reset"===s.currentState?n():n({canShow:a=>!a&&(0,oC.yL)(t)&&!!e.orgHasLicenseGroups})}),(0,sc.J)(l,"Reset Onboarding",()=>n());let o=[{title:ev.createElement(eq.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.create.title"}),description:ev.createElement(eq.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.create.description.seat_rename"}),trackingContextName:`${Td} - create`,targetKey:TT,emphasized:!0,clickOutsideToHide:!0},{title:ev.createElement(eq.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.add_admins.title"}),description:ev.createElement(eq.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.add_admins.description.seat_rename"}),trackingContextName:`${Td} - add admins`,targetKey:TE,emphasized:!0,shouldCenterArrow:RY.Ht.FALLBACK,clickOutsideToHide:!0},{title:ev.createElement(eq.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.edit.title"}),description:ev.createElement(eq.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.edit.description"}),trackingContextName:`${Td} - edit`,targetKey:Tx,emphasized:!0,clickOutsideToHide:!0}];return ev.createElement(C5.Ok,{isShowing:r,userFlagOnShow:D_,steps:o,onComplete:i})}let Dh=(0,o_.n_)(D_);function Df(){let e=(0,r9.Dv)(Dh),{show:t,isShowing:a,complete:r,uniqueId:n}=(0,so.I)({id:sd.G.OrgAdminManageBillingGroup,priority:su.b4.DEFAULT_MODAL},[e]),i=(0,uL.$0)();return(0,sc.J)(n,Ds,()=>{t({canShow:e=>(0,oC.yL)(i)&&!e})}),ev.createElement(Tn.ZZ,{emphasized:!0,clickOutsideToHide:!0,isShowing:a,targetKey:Tx,trackingContextName:`${Td} - Menu cell`,title:ev.createElement(eq.Tx,{id:"onboarding_pointers.manage_billing_group_overlay.title"}),description:ev.createElement(oc.x,{i18nId:"onboarding_pointers.manage_billing_group_overlay.description",i18nParams:{optionName:ev.createElement(oc.x,{fontWeight:"semi-bold",i18nId:"billing_groups_table.manage"})}}),primaryCta:{label:ev.createElement(eq.Tx,{id:"general.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:cC.y.DONE},onClose:r,userFlagOnShow:D_})}var Dv=a(584593),Db=a(134765),Dy=a(432152);let Dw=ek.cx.cursorPointer.underline.textInherit__DEPRECATED.bgNone.$,DT=a(250215),Dx=a(858901);function DN(e){let t=(0,eb.I0)(),a=(0,_9.zt)(e.invoices),r=(0,oC.WI)(e.org.id);switch(a){case _9.O4.DEFAULT:return null;case _9.O4.REVIEW:if(r)return null;return ev.createElement(DC,{invoice:(0,_9.qo)(e.invoices,"upcoming"),org:e.org,onClick:()=>{var a;e.isLicenseGroupsEnabled?(0,oC.uH)(null==(a=e.org)?void 0:a.id)?t(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.BILLING,orgAdminSettingsViewSecondaryTab:fe._J.BILLING_GROUPS})):t(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.LICENSE_GROUPS})):t(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.MEMBERS,orgAdminMembersTabSort:{columnName:Te.h3.DESIGN_ROLE,isReversed:!0}}))},isLicenseGroupsEnabled:e.isLicenseGroupsEnabled});case _9.O4.LOCKED:if(r)return null;return ev.createElement(Dk,{invoice:(0,_9.qo)(e.invoices,"locked"),org:e.org});case _9.O4.UNPAID:return ev.createElement(DI,{invoice:(0,_9.qo)(e.invoices,"open")});case _9.O4.OVERDUE:return ev.createElement(DL,{invoice:(0,_9.qo)(e.invoices,"open")})}}function DC(e){var t,a;let r=e.invoice,n=(0,_9.kz)(r),i=!!e.org&&e.org.has_automatic_upcoming_invoice,l=(0,gk.Z)(r.due_at).format("MMM D"),s=(0,gk.Z)(r.period_start_at).format("MMM D"),o=ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.you_are_currently_in_your_date_true_up_period",date:l});n&&(o=i?ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.your_annual_renewal_invoice_is_coming_up_on_date",date:l}):ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.your_annual_renewal_invoice_is_coming_up_contact_account_manager",date:s}));let c=null;return i&&(c=e.isLicenseGroupsEnabled?(0,oC.uH)(null==(t=e.org)?void 0:t.id)?ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.review_true_up_status_for_your_billing_groups",reviewBillingGroupsLink:!(0,oC.Eq)(null==(a=e.org)?void 0:a.id)&&ev.createElement("button",{onClick:e.onClick,className:Dw},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.review_billing_groups"}))}):ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.review_true_up_status",reviewWorkspacesLink:ev.createElement("button",{onClick:e.onClick,className:Dw},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.review_workspaces"}))}):ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.go_to_the_members_tab_link.seat_rename",membersTabLink:ev.createElement("button",{onClick:e.onClick,className:Dw},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.members_tab"}))})),ev.createElement(Sp,{color:Su.YELLOW,removeNegativeMargin:!0},ev.createElement(eD.n,{autosize:!0,width:"16px",height:"16px",svg:DT,className:Sd}),ev.createElement("div",null,o,"\xa0",c))}function DS(){let e=(0,uL.Ng)();return ev.createElement(Sp,{color:Su.YELLOW,removeNegativeMargin:!0},ev.createElement(eD.n,{autosize:!0,width:"16px",height:"16px",svg:DT,className:Sd}),ev.createElement("div",null,(0,oC.uH)(null==e?void 0:e.id)?ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.billing_groups_confirm_and_finalize_the_invoice"}):ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.confirm_and_finalize_the_invoice_below"})))}function Dk({org:e,invoice:t}){return ev.createElement(Sp,{color:Su.GREEN,removeNegativeMargin:!0},ev.createElement(eD.n,{autosize:!0,width:"16px",height:"16px",svg:DT,className:Sm}),ev.createElement("div",null,(0,oC.sY)({org:e,invoice:t})))}function DI(e){let t=e.invoice,a=new Date(t.past_due_at).getTime()-Date.now();return ev.createElement(Sp,{color:Su.BLUE,removeNegativeMargin:!0},ev.createElement(eD.n,{autosize:!0,width:"16px",height:"16px",svg:DT,className:Sd}),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.due_date_message",dueDate:(0,gk.Z)(t.due_at).format("MMM D"),pastDueDate:(0,gk.Z)(t.past_due_at).format("MMM D"),differenceDays:Math.floor(a/1e3/60/60/24),payInvoiceLink:ev.createElement("button",{onClick:()=>{(0,av.Ne)(t.invoice_url,"_blank","noopener")},className:Dw},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.pay_invoice"}))})))}function DL(e){let t=e.invoice,a=new mw.Lr(t.currency);return ev.createElement(Sp,{color:Su.RED,removeNegativeMargin:!0},ev.createElement(eD.n,{autosize:!0,width:"16px",height:"16px",useOriginalSrcFills_DEPRECATED:!1,svg:Dx,className:"admin_banner--iconOnWarning--SzXXU"}),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.invoice_overdue",dueDate:(0,gk.Z)(t.due_at).format("MMM D"),amount:a.formatMoney(t.amount_due,{showCents:!1}),payInvoiceLink:ev.createElement("button",{onClick:()=>{(0,av.Ne)(e.invoice.invoice_url,"_blank","noopener")},className:Dw},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.pay_invoice"}))})))}let DR=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=(0,w6.$4)(),r=(0,uL.Ng)(),n=null==r?void 0:r.id,i=e.licenseGroups.map(e=>e.id),l=e.licenseGroups.map(e=>e.name),s=n&&(0,oC.uH)(n),o=O9(),c=()=>{t(ig.hV())},[d,m]=ev.useState(!1);return ev.createElement(e3.Ui,{name:"Delete license group modal",properties:{numLicenseGroups:e.licenseGroups.length}},ev.createElement(ib.ge,{title:o(O3.DELETE_N_BILLING_GROUPS,{licenseGroupsCount:e.licenseGroups.length}),maxWidth:372,onClose:c},ev.createElement("div",{className:"license_group_delete_modal--modalContainer--C9aZU modal--container--LVq8G"},s?ev.createElement(eq.Tx,{id:"billing_groups_table.delete_modal.deleting_the_billing_groups_will_cause",licenseGroupsCount:e.licenseGroups.length,licenseGroupsNames:ev.createElement(oc.x,{fontWeight:"bold"},(0,dg.WH)(l))}):ev.createElement(eq.Tx,{id:"workspace_table.deleting_the_workspaces_will_cause",licenseGroupsCount:e.licenseGroups.length,licenseGroupsNames:ev.createElement(oc.x,{fontWeight:"bold"},(0,dg.WH)(l))}),(null==r?void 0:r.license_group_nux_active_at)&&ev.createElement(ev.Fragment,null," ",o(O3.BILLING_GROUPS_DELETE_IF_LEFT_UNASSIGNED)),ev.createElement("div",null,ev.createElement("div",null,"\xa0"),ev.createElement("span",{className:m2.ef},o(O3.ARE_YOU_SURE_BILLING_GROUPS_DELETE,{licenseGroupsCount:e.licenseGroups.length}))),ev.createElement("div",null,"\xa0"),ev.createElement("form",{onSubmit:r=>{r.preventDefault(),rI.ZP.del(`/api/orgs/${n}/license_groups`,{license_group_ids:i,showing_billing_groups:(0,oC.uH)(n)}).then(({data:r})=>{t(r7.R.enqueue({type:"license-group-delete",message:o(O3.BILLING_GROUPS_DELETED_TOAST,{licenseGroupsCount:e.licenseGroups.length,licenseGroupName:e.licenseGroups[0].name})})),t(ig.hV()),t(w4.Si({licenseGroups:r.meta,deletingAll:a.length===e.licenseGroups.length}))}).catch(e=>{t(r7.R.enqueue({error:!0,message:e.message??o(O3.BILLING_GROUPS_DELETE_ERROR_TOAST)}))})}},ev.createElement("label",null,ev.createElement(eA.v_,{checked:d,onChange:()=>m(!d)}),ev.createElement(eq.Tx,{id:"billing_groups_table.delete_modal.i_understand_that_this_action_isnt_reversible"})),ev.createElement("div",{className:m2.UN},ev.createElement(eA.pJ,{onClick:c},ev.createElement(eq.Tx,{id:"general.cancel"})),ev.createElement(eA.VG,{type:"submit",className:m2.iY,disabled:!d},o(O3.DELETE_N_BILLING_GROUPS,{licenseGroupsCount:e.licenseGroups.length})))))))},"LicenseGroupDeleteModal");function DA({selectedLicenseGroups:e}){let t=(0,eb.I0)(),a=O9(),r=(0,uL.$0)(),n=(0,oC.Eq)(r);return 0===e.length?null:ev.createElement(ev.Fragment,null,1===e.length&&!!e[0].id&&ev.createElement(ev.Fragment,null,ev.createElement(xK.j2,{onClick:()=>{t((0,ig.K4)({type:Du,data:{licenseGroup:e[0]}}))},label:a(O3.EDIT_BILLING_GROUP)}),n&&ev.createElement(xK.j2,{onClick:()=>{t(od.fv({view:"licenseGroup",subView:ET.gp.ADMIN,licenseGroupId:e[0].id,selectedTab:ET.nb.MEMBERS,orgAdminOriginTab:fe.rN.BILLING}))},label:(0,eq.t)("billing_groups_table.manage")})),ev.createElement(xK.j2,{onClick:()=>t((0,ig.K4)({type:DR,data:{licenseGroups:e.filter(e=>!!e.id)}})),label:a(O3.DELETE_BILLING_GROUPS,{workspaceCount:e.length})}))}var DO=a(638780);let DD=(0,r0.u4)(async(e,t)=>{let a=(0,oC.uH)(t.org_id),r=O6(a,O3.BILLING_GROUP_SELECTOR_VISIBLE),n=O6(a,O3.BILLING_GROUP_SELECTOR_HIDDEN);await rI.ZP.put(`/api/license_groups_config/${t.org_id}`,{nux_enabled:t.nux_enabled}).then(({data:a})=>{e.dispatch(DO.r$({id:t.org_id,license_group_nux_active_at:a.meta.nux_active_at??void 0})),e.dispatch(r7.R.enqueue({type:"toggle-nux-active-at",message:`${t.nux_enabled?r:n}`}))}).catch(({data:t})=>e.dispatch(r7.R.enqueue({type:"toggle-nux-active-at-error",message:(null==t?void 0:t.message)||O6(a,O3.BILLING_GROUP_SELECTOR_TOGGLING_ERROR),error:!0})))}),DF=a(344867);function DM({rightActions:e}){let t=(0,eb.I0)(),a=(0,w6.US)(),r=O9(),n=(0,uL.Ng)();return ev.createElement("div",{className:"license_groups_table--menuBar--YK8hL multi_select_list--menuBar--8xNGR"},ev.createElement("div",{className:CN.FB},n&&a&&ev.createElement(ev.Fragment,null,ev.createElement(T3.W,{on:!!n.license_group_nux_active_at,onChange:()=>{t(DD({org_id:n.id,nux_enabled:!n.license_group_nux_active_at}))}}),ev.createElement("span",null,r(O3.DISPLAY_BILLING_GROUP_SELECTOR)),ev.createElement(eD.n,{"data-tooltip-type":aN.fR.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip":r(O3.BILLING_SELECTOR_INFO_TOOLTIP),svg:DF,className:"license_groups_table--infoIcon--4N43T"}))),ev.createElement("div",{className:CN.bv},e))}let DP=a(267837);function DB(e){let{licenseGroup:t,disableDropdown:a}=e,r=(0,eb.I0)(),n=(0,eb.v9)(e=>e.dropdownShown),i=O9(),l=(0,uL.$0)(),s=(0,oC.Eq)(l);if(a||!t.id)return ev.createElement(ev.Fragment,null);let o=`MENU_DROPDOWN-${t.id}`,c=(null==n?void 0:n.type)===o;return ev.createElement(xK.ud,{isRightAligned:!0,className:CN.SH,dispatch:r,hideChevron:!0,showingDropdown:c,type:o},ev.createElement(eD.n,{svg:DP,className:"license_groups_table--menuIcon--PsZKG admin_settings_page--menuIcon--dMpHa","data-onboarding-key":e.onboardingKey}),c&&ev.createElement(gb.j.DropdownWithScrim,{dispatch:r,className:"license_groups_table--dropdown--YSNYp",style:n.data.position},ev.createElement(gb.j.OptionTracked,{onClick:()=>{r((0,ig.K4)({type:Du,data:{licenseGroup:t}}))}},i(O3.EDIT_BILLING_GROUP)),s&&ev.createElement(gb.j.OptionTracked,{onClick:()=>{r(od.fv({view:"licenseGroup",subView:ET.gp.ADMIN,licenseGroupId:t.id,selectedTab:ET.nb.MEMBERS,orgAdminOriginTab:fe.rN.BILLING}))}},ev.createElement(oc.x,{i18nId:"billing_groups_table.manage"})),ev.createElement(gb.j.OptionTracked,{onClick:()=>{r((0,ig.K4)({type:DR,data:{licenseGroups:[t]}}))}},i(O3.DELETE_BILLING_GROUPS,{workspaceCount:1}))))}let DU=new TH.Or([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1}]});function DV({count:e}){return ev.createElement("div",{className:ek.cx.borderBox.minW16.px4.alignCenter.if(0===e,ek.cx.colorBgHover,ek.cx.colorBgWarning).$,style:{borderRadius:"100px"},"data-preferred-theme":"light","data-testid":"incomplete-groups-count-badge"},ev.createElement(oc.x,{color:"default",fontWeight:"medium"},e))}let DW=(0,cx.z)(cL.Vi7),DG=e=>e.id??Dj,Dj="unassigned";function DH(e){var t,a;let r=(0,eb.I0)(),n=Rq(),[i,l]=ev.useState(""),[s,o]=ev.useState(!1),[c,d]=ev.useState(!1),m=(0,uL.Ng)(),u=O9(),_=(0,w6.$4)(),p=(0,w6.US)(),g=ev.useMemo(()=>"loaded"!==e.licenseGroupTeamCounts.status?{}:e.licenseGroupTeamCounts.data,[e.licenseGroupTeamCounts]),E=(0,dV.mU)(dH.WorkspacesTableView,{orgId:e.org.id}),h=(null==(a=null==(t=E.data)?void 0:t.org)?void 0:a.workspaces)??[],f=(0,oC.uH)(null==m?void 0:m.id),v=(0,oC.Eq)(null==m?void 0:m.id),b=f?null:{name:(0,eq.t)("workspace_table.teams"),className:"license_groups_table--teamsColumn--2LuGD license_groups_table--column--XeFYP table--column--974RA",cellComponent:e=>{let t=g[e.id??bO.u]??0;return ev.createElement(eA.rU,{onClick:()=>r(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.TEAMS,licenseAdminSettingsMembersViewTab:e.id??bO.u})),trusted:!0},ev.createElement(eq.Tx,{id:"workspace_table.n_teams",count:t}))},getSortValue:e=>g[e.id??bO.u]??0,sortNumerically:!0},y=[{name:(0,eq.t)("billing_groups_table.column_header.name"),className:"license_groups_table--nameColumn--lMjJn license_groups_table--column--XeFYP table--column--974RA",getSortValue:e=>e.id?e.name:"0",cellComponent:e=>{if(!e.id)return ev.createElement(tD.j,{spacing:4,padding:0},ev.createElement(oc.x,{i18nId:"workspace_table.unassigned"}),ev.createElement(oc.x,{i18nId:"workspace_table.unassigned_row_default",color:"secondary"}));if(!f){let t=h.find(t=>t.id===e.mirrored_workspace_id);return ev.createElement(tD.j,null,ev.createElement(oc.x,null,e.name),(0,eT.BZ)().workspace_privacy_view&&t&&t.orgAccess===ao.Zn.SECRET&&ev.createElement("div",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,eq.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ev.createElement(t3.JO,{icon:"lock-16"})))}return v?ev.createElement(e3.Ui,{name:"Billing group name",trackingTargets:hm.p.NONE},ev.createElement(eA.Cr,{trusted:!0,className:ek.cx.wFitContent.hFitContent.$,onClick:()=>{r(od.fv({licenseGroupId:e.id,view:"licenseGroup",subView:ET.gp.ADMIN,selectedTab:ET.nb.MEMBERS,orgAdminOriginTab:fe.rN.BILLING}))}},ev.createElement("div",{className:"license_groups_table--name--KSapP",onMouseOver:()=>d(!0),onMouseOut:()=>d(!1)},e.name))):ev.createElement(ev.Fragment,null,e.name)}},{name:(0,eq.t)("billing_groups_table.column_header.admins"),className:"license_groups_table--adminColumn---EUCv license_groups_table--column--XeFYP table--column--974RA",cellComponent:t=>{let a=t.id?t.admin_users_metadata:[],r=a.length?a:e.orgAdmins.filter(e=>e.permission===ao.Gu.ADMIN).map(e=>e.user),n=(0,Db.H)(r);return ev.createElement(ev.Fragment,null,r.length>1?ev.createElement(ev.Fragment,null,ev.createElement(Dy.h,{className:"license_groups_table--overflowTextAvatar---EE3k",text:`${r.length}`}),ev.createElement("p",{className:"license_groups_table--overflowTextList---88BW ellipsis--ellipsis--Tjyfa"},n)):ev.createElement(ds.oJ,{entity:r[0],size:22}))}},...b?[b]:[],{name:(0,eq.t)("billing_groups_table.column_header.members"),className:"license_groups_table--membersColumn---ih79 license_groups_table--column--XeFYP table--column--974RA",cellComponent:t=>{var a;let n=(null==(a=e.licenseGroupMemberCounts[t.id??bO.u])?void 0:a.total_count)??0,i=t.id??bO.u;return ev.createElement(eA.rU,{onClick:()=>r(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.MEMBERS,licenseAdminSettingsMembersViewTab:i,orgAdminMembersTabFilters:{...e.currentFilters,licenseGroupFilter:i}})),trusted:!0},ev.createElement(eq.Tx,{id:"billing_groups_table.n_members",count:n}))},getSortValue:t=>{var a;return(null==(a=e.licenseGroupMemberCounts[t.id??bO.u])?void 0:a.total_count)??0},sortNumerically:!0},...(()=>{let t=_z.l6.excludeUnlessFlag([_K.z9.DEV_MODE],"billing_dev_mode_customer_ui").sort(_z.uE).withOverrides({[_K.xi.DESIGN]:(0,eq.t)("billing_groups_table.column_header.design_editors.seat_rename"),[_K.xi.WHITEBOARD]:(0,eq.t)("billing_groups_table.column_header.figjam_editors.seat_rename"),[_K.xi.DEV_MODE]:(0,eq.t)("billing_groups_table.column_header.dev_mode_seats")}).dict((t,a)=>({name:t,className:"license_groups_table--licenseCountsColumn--G9Bmj license_groups_table--column--XeFYP table--column--974RA",cellComponent:t=>{var r;let n=(null==(r=e.licenseGroupMemberCounts[t.id??bO.u])?void 0:r.editor_counts[a])??0;return ev.createElement("div",null,ev.createElement(eq.Tx,{id:"billing_groups_table.n_editors.seat_rename",count:n}))},getSortValue:t=>{var r;return(null==(r=e.licenseGroupMemberCounts[t.id??bO.u])?void 0:r.editor_counts[a])??0},sortNumerically:!0}));return Object.values(t)})(),{name:"",className:"license_groups_table--iconColumn--w7qWK admin_settings_page--iconColumn--qxUMs",cellComponent:(e,t,a)=>ev.createElement(DB,{licenseGroup:e,disableDropdown:t,onboardingKey:1===a?Tx:void 0})}];e.invoices&&(0,_9.qQ)(e.invoices)&&y.splice(1,0,{name:"True-up status",className:"license_groups_table--trueUpColumn--GFQY2 license_groups_table--column--XeFYP table--column--974RA",getSortValue:t=>t.id?`${(0,w6.N)(t,e.invoices)?"c":"b"}${t.name}`:"a",cellComponent:t=>{if(!t.id)return ev.createElement(ev.Fragment,null,"\u2013");let a=!(0,w6.N)(t,e.invoices);return ev.createElement("span",{className:ek.cx.flex.itemsCenter.$},ev.createElement(ds.qV,{className:ek.cx.mr8.$,size:8,color:a?ta.w0K:ta.loC}),v?a?(0,eq.t)("billing_groups_table.confirmed"):(0,eq.t)("billing_groups_table.unconfirmed"):a?(0,eq.t)("billing_groups_table.complete"):(0,eq.t)("billing_groups_table.incomplete"))}});let w=[{id:null},..._];i&&(DU.set(w),w=DU.search(i));let T=w.filter(t=>t.id&&(0,w6.N)(t,e.invoices)),x=T.length;s&&(w=T);let[N,C,S]=(0,fC.g)({columnName:"Name",isReversed:!1},w,y),k=ev.createElement(e3.Ui,{name:"New workspace"},ev.createElement(Dv.XT,{icon:"plus-32","data-onboarding-key":TT,className:CN.SH,onClick:()=>{r((0,ig.K4)({type:Du}))}},u(O3.PLUS_BILLING_GROUP))),I=ev.createElement(T$.Z,{hasHorizontalPadding:!0,title:u(O3.PAGE_TITLE),smallTitle:f,rightActions:k});return ev.createElement(ev.Fragment,null,!e.hidePageLevelContent&&ev.createElement(ev.Fragment,null,e.invoices&&(0,_9.qQ)(e.invoices)?ev.createElement(ev.Fragment,null,ev.createElement(DS,null)):ev.createElement(ev.Fragment,null),I),ev.createElement(fz.Ch,{hasNewScrollContext:!0,items:S,getItemKey:DG,columns:y,scrollAwayContent:e.scrollAwayContent,stickyContent:ev.createElement(ev.Fragment,null,!eN.K1&&!n&&ev.createElement(sb.V,null,ev.createElement(DE,{orgHasLicenseGroups:_.length>0})),!e.hidePageLevelContent&&ev.createElement(ev.Fragment,null,ev.createElement(Ln,{licenseGroupsEnabled:p,licenseGroups:_,invoices:e.invoices,org:e.org,designBillableSeats:e.designBillableSeats,figjamBillableSeats:e.figjamBillableSeats,dispatch:r}),ev.createElement(DM,null)),e.stickyContent,ev.createElement(tD.j,{strokeColor:"default",strokeWidth:{top:1,bottom:1},padding:{vertical:8},spacing:"24px"},ev.createElement(nN.Pl,{onChange:l,focusOnMount:!1,query:i,clearSearch:()=>l(""),placeholder:u(O3.SEARCH_PLACEHOLDER)}),v&&e.invoices&&(0,_9.qQ)(e.invoices)&&ev.createElement(pe.X,{checked:s,onChange:()=>o(e=>!e),label:ev.createElement(tD.j,{direction:"horizontal",width:"hug-contents",spacing:"4px"},ev.createElement(DV,{count:x}),ev.createElement(oc.x,{i18nId:"billing_groups_table.unconfirmed_billing_groups"}))}))),actionBar:e=>ev.createElement(DA,{selectedLicenseGroups:e}),actionBarClassName:"license_groups_table--bulkActionsBar--q1TdV",itemTypeContext:{itemType:f?"billing group":"workspace",getSelectedCountString:e=>u(O3.BULK_SELECTED_COUNT,{numSelected:e})},minContentWidth:DW,unselectableItemKeys:new Set([Dj]),isBannerHeightDynamic:!0,emptyContent:ev.createElement(xy.eP,null,i?u(O3.NO_SEARCH_RESULTS):(0,eq.t)("billing_groups_table.filter.no_results")),sortState:N,onSetSortState:C,styleOverrideClassNames:{row:c?"license_groups_table--hoverDisabledRow--y0wbz":void 0,unselectedCheckbox:"license_groups_table--unselectedCheckbox--iP34r"}}))}let D$=a(250215);function Dz(e){let t=new mw.Lr(e.currency);return ev.createElement(Sp,{color:Su.LIGHT_BLUE},ev.createElement(eD.n,{autosize:!0,width:"16px",height:"16px",svg:D$,className:Sd}),ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.you_have_a_credit_amount",accountCredit:t.formatMoney(e.accountCredit,{showCents:!0})})))}var DK=a(997025);let DZ=a(916671);function Dq({org:e,invoice:t}){return ev.createElement(I$,{dataTestId:"default-billing-details-banner",icon:DZ,title:ev.createElement(oc.x,{color:"default",fontWeight:"regular"},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner.details.upcoming_invoice",date:ev.createElement("strong",null,(0,gk.Z)(t.due_at).format("LL"))}))},ev.createElement(Ll,{org:e,invoice:t}))}let DY=a(187977);function DJ({org:e,invoice:t}){return ev.createElement(I$,{dataTestId:"locked-invoice-billing-details-banner",variant:"success",icon:DY,title:ev.createElement(oc.x,{fontWeight:"regular"},(0,oC.sY)({org:e,invoice:t}))},ev.createElement(Ll,{org:e,invoice:t}))}let DQ=a(916671);var DX=((B=DX||{})[B.ENABLED=0]="ENABLED",B[B.ENABLED_BILLING_GROUPS_GA=1]="ENABLED_BILLING_GROUPS_GA",B[B.ENABLED_BILLING_GROUPS_BETA=2]="ENABLED_BILLING_GROUPS_BETA",B[B.DISABLED=3]="DISABLED",B);function D0(e){let t=(0,w6.US)(),a=(0,oC.Eq)(e);return t?a?1:(0,oC.Fo)(e)?2:0:3}function D1({org:e,invoice:t,invoices:a}){let r=(0,eb.I0)(),n=(0,w6.$4)(),i=(0,w6.US)(),l=D0(e.id);switch(l){case 1:return ev.createElement(oM.z,{variant:"inverse",onClick:()=>r((0,ig.K4)({type:I3,data:{licenseGroupsEnabled:i,licenseGroups:n,org:e,invoice:t,invoices:a}}))},ev.createElement(eq.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.billing_groups"}));case 2:return ev.createElement(oM.z,{variant:"inverse",onClick:()=>r(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.BILLING,orgAdminSettingsViewSecondaryTab:fe._J.BILLING_GROUPS}))},ev.createElement(eq.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.review_seats"}));case 0:return ev.createElement(oM.z,{variant:"inverse",onClick:()=>r(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.LICENSE_GROUPS}))},ev.createElement(eq.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.review_seats"}));case 3:{let a=()=>{r(I1({licenseQuantities:(0,_9.Vk)(t)})),r((0,ig.VG)())};return ev.createElement(tD.j,{direction:"horizontal",horizontalAlignItems:"end"},ev.createElement(oM.z,{onClick:()=>{r(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.MEMBERS,orgAdminMembersTabSort:{columnName:Te.h3.DESIGN_ROLE,isReversed:!0}}))}},ev.createElement(eq.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.manage_seats"})),ev.createElement(oM.z,{variant:"inverse",onClick:()=>{r((0,ig.K4)({type:Lc,data:{org:e,invoice:t,onConfirm:a}}))}},ev.createElement(eq.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.review_and_finalize_invoice"})))}}}function D2({org:e,invoice:t,invoices:a}){let r=1===t.quarter,n=!!e&&e.has_automatic_upcoming_invoice,i=D0(e.id),l=(0,gk.Z)(t.due_at).format("ll"),s=r?n?ev.createElement(oc.x,{i18nId:"org_admin_details.billing_banner.details.upcoming_invoice.title.renewal.actionable",i18nParams:{date:l},fontWeight:"semi-bold"}):ev.createElement(oc.x,{i18nId:"org_admin_details.billing_banner.details.upcoming_invoice.title.renewal.not_actionable",i18nParams:{date:l}}):ev.createElement(oc.x,{i18nId:"org_admin_details.billing_banner.details.upcoming_invoice.title.true_up",i18nParams:{date:l},fontWeight:"semi-bold"}),o=n?1===i||2===i?ev.createElement(eq.Tx,{id:"org_admin_details.billing_banner.upcoming_invoice.subtitle.true_up.billing_groups.seat_rename"}):0===i?ev.createElement(eq.Tx,{id:"org_admin_settings.billing_banner_figjam.review_true_up_status",reviewWorkspacesLink:null}):ev.createElement(eq.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.subtitle"}):void 0;return ev.createElement(I$,{dataTestId:"upcoming-invoice-billing-details-banner",variant:"warning",icon:DQ,title:s,subtitle:o,actions:n&&ev.createElement(D1,{org:e,invoice:t,invoices:a})},ev.createElement(Ll,{org:e,invoice:t}))}var D3=a(759578);class D4 extends ev.PureComponent{constructor(e){super(e),this.openChangePaymentModal=()=>{let e=(0,_9.Gp)({[_K.z9.DESIGN]:this.props.designBillableSeats,[_K.z9.FIGJAM]:this.props.figjamBillableSeats,[_K.z9.DEV_MODE]:this.props.devModeBillableSeats},"usd",this.props.org.plan||uO.On.ORGANIZATION);this.props.dispatch((0,ig.K4)({type:DK.aF,data:{dispatch:this.props.dispatch,defaultCountry:(0,mw.xC)(),estimatedChargeCents:e,onSubmit:this.onPaymentChangeSubmit,customerInfo:{orgId:this.props.org.id}}}))},this.onPaymentChangeSubmit=async(e,t)=>{var a,r;let n={source_token:null==(a=e.token)?void 0:a.id,payment_method:null==(r=e.setup_intent)?void 0:r.payment_method,address:t},i=!1;return await rI.ZP.put(`/api/orgs/${this.props.org.id}/billing_data`,n).then(()=>{i=!0,this.props.dispatch(r7.R.enqueue({message:(0,eq.t)("org_admin_settings.billing_details.successfully_updated_your_payment_source")}))}).catch(e=>{(0,gB.V6)(e,this.props.dispatch),i=!1}),i}}render(){var e,t,a;let r=(0,_9.qo)(this.props.invoices,"upcoming")||(0,_9.qo)(this.props.invoices,"locked"),n=(0,oC.Eq)(this.props.org.id),i=(0,oC.WI)(this.props.org.id);if(!r)return null;let l=(0,_9.zt)(this.props.invoices);if(i)switch(l){case _9.O4.REVIEW:return ev.createElement(D2,{org:this.props.org,invoice:r,invoices:this.props.invoices});case _9.O4.LOCKED:return ev.createElement(DJ,{org:this.props.org,invoice:r});default:return ev.createElement(Dq,{org:this.props.org,invoice:r})}let s=[(0,eq.t)("org_admin_settings.billing_details.design_seat_count",{designSeatCount:this.props.designBillableSeats})];(0,eT.BZ)().billing_dev_mode_customer_ui&&s.push((0,eq.t)("org_admin_settings.billing_details.dev_mode_seat_count",{quantity:this.props.devModeBillableSeats})),this.props.org.figjam_disabled_at||s.push((0,eq.t)("org_admin_settings.billing_details.figjam_seat_count",{quantity:this.props.figjamBillableSeats}));let o=(0,dg.WH)(s,"unit");return ev.createElement("div",{className:Rp},n&&this.props.isLicenseGroupsEnabled&&Lr(this.props.org,this.props.invoices)?ev.createElement(Ln,{licenseGroupsEnabled:!0,licenseGroups:this.props.licenseGroups,invoices:this.props.invoices,org:this.props.org,designBillableSeats:this.props.designBillableSeats,figjamBillableSeats:this.props.figjamBillableSeats,dispatch:this.props.dispatch}):ev.createElement("div",{className:Ru},ev.createElement("div",{className:R_},ev.createElement("span",{className:Rg},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.next_invoice_issue_date"})),ev.createElement("div",{className:RE},(0,gk.Z)(r.due_at).format("ll"))),ev.createElement("div",{className:R_},ev.createElement("span",{className:Rg},1===r.quarter?ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.total_design_editor_seats.seat_rename"}):ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.new_design_editor_seats.seat_rename"})),ev.createElement("div",{className:RE},r.quantity_added)),(0,eT.BZ)().billing_dev_mode_customer_ui&&ev.createElement("div",{className:R_},ev.createElement("span",{className:Rg},1===r.quarter?ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.total_dev_mode_seats"}):ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.new_dev_mode_seats"})),ev.createElement("div",{className:RE},(null==(e=r.license_type_configuration[_K.vX])?void 0:e.added_quantity)??0)),ev.createElement("div",{className:R_},ev.createElement("span",{className:Rg},1===r.quarter?ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.total_fig_jam_editor_seats.seat_rename"}):ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.new_fig_jam_editor_seats.seat_rename"})),this.props.org.figjam_disabled_at?ev.createElement("div",{className:"billing_details_figjam--disabledPrimaryData--Kw6h1 billing_details_figjam--primaryData--h7-PG text--fontPos18--rYXJb text--_fontBase--QdLsd"},"\u2013"):ev.createElement("div",{className:RE},r.figjam_owed_seats)),ev.createElement("div",{className:R_},ev.createElement("div",null,ev.createElement("span",{className:Rg},"locked"===r.status?ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.finalized_subtotal"}):ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.projected_subtotal"}))),ev.createElement("div",{className:RE},new mw.Lr(r.currency).formatMoney(r.amount_due,{showCents:!1})),r.amount_due>0&&ev.createElement("span",{className:Rf,onClick:()=>this.props.dispatch((0,ig.K4)({type:D3.Zz,data:{title:"upcoming"===r.status?(0,eq.t)("org_admin_settings.billing_details.projected_cost_breakdown"):(0,eq.t)("org_admin_settings.billing_details.finalized_cost_breakdown"),invoice:r,org:this.props.org}}))},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.see_cost_breakdown"})))),ev.createElement("div",{className:Ru},ev.createElement("div",{className:R_},ev.createElement("div",{className:Rg},(null==(t=this.props.org)?void 0:t.plan)===uO.On.ENTERPRISE&&ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.enterprise_plan_annual_renewal"}),(null==(a=this.props.org)?void 0:a.plan)!==uO.On.ENTERPRISE&&ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.organization_plan_annual_renewal"})),ev.createElement("div",{className:Rh},(0,gk.Z)(r.period_end_at).format("ll")),this.props.org.billing===uO.zW.CHARGE_IMMEDIATELY&&ev.createElement("div",{className:Rf,onClick:this.openChangePaymentModal},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.change_payment_method"}))),ev.createElement("div",{className:R_},ev.createElement("div",{className:Rg},ev.createElement(eq.Tx,{id:"org_admin_settings.billing_details.total_editor_seats_today.seat_rename"})),ev.createElement("div",{className:Rh},o))))}}D4.displayName="OrgAdminBillingDetails";let D8="invoices_table--colDate--tGVMj",D5="invoices_table--colDescription--Oj0rr",D9="invoices_table--colSeats--Flxzs invoices_table--_rightAligned--Ep02D",D6="invoices_table--colSeatsText--xR2uV invoices_table--colSeats--Flxzs invoices_table--_rightAligned--Ep02D invoices_table--numeric--gE0il",D7="invoices_table--colStatus--lgsyl",Fe="invoices_table--secondaryText--x9mlS",Ft=rv.t1.Query({fetch:async e=>{var t;let a=await fetch(`/api/orgs/${e.orgId}/invoice/${e.invoiceId}/refresh_invoice_url`,{cache:"no-store",headers:{"X-Figma-User-ID":e.userId}});if(!a.ok)return null;let r=await a.json();return(null==(t=null==r?void 0:r.meta)?void 0:t.invoice_url)||null}});function Fa(e){let t=(0,lR.dO)(),[a]=(0,rv.aM)(Ft({orgId:e.orgId,invoiceId:e.invoiceId,userId:t||""}));return"loading"!==a.status&&a.data&&t?ev.createElement(eA.Cr,{className:"invoices_table--link--Q7eFE blue_link--blueLink--9rlnd",href:a.data,target:"_blank",trusted:!0},e.chargesText):ev.createElement("span",{className:ek.cx.colorTextDisabled.$},e.chargesText)}function Fr(e){return ev.createElement("div",{"data-testid":"invoices-table"},ev.createElement("div",{className:ek.cx.sticky.top0.$},ev.createElement(tD.j,{spacing:0,direction:"vertical",backgroundColor:"default"},e.stickyContent,ev.createElement("div",{className:"invoices_table--divider--tw9ff"}),ev.createElement(pw.SC,{header:!0,useAdminTableStyles:!0,leftPadding:!0,className:"invoices_table--header--lKV8G"},ev.createElement("div",{className:D8},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.date"})),ev.createElement("div",{className:D5},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.description"})),ev.createElement("div",{className:D9},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.design_editor_seats.seat_rename"})),(0,eT.BZ)().billing_dev_mode_customer_ui&&ev.createElement("div",{className:D9},ev.createElement(eq.Tx,{id:"org_admin_settings.invoice_table.dev_mode_seats"})),!e.org.figjam_disabled_at&&ev.createElement("div",{className:D9},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.fig_jam_editor_seats.seat_rename"})),ev.createElement("div",{className:"invoices_table--colCharges--65zI0 invoices_table--_rightAligned--Ep02D"},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.subtotal"})),ev.createElement("div",{className:D7},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.status"}))))),e.invoices.map(t=>{var a;let r,n,i;let l=new Date(t.past_due_at)<new Date,s=new mw.Lr(t.currency);switch(t.status){case"locked":case"upcoming":return null;case"paid":r=ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.paid"}),n=ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.view_invoice"});break;case"open":l?(i="invoices_table--billingStatusOverdue--jeR8e",r=ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.overdue"})):r=ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.unpaid"}),n=ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.pay_invoice"});break;default:(0,eL.vE)(t.status)}return ev.createElement(pw.SC,{useAdminTableStyles:!0,className:tQ()({"invoices_table--noHover--m18a7":!0,"invoices_table--blueBorder--LED0z":"open"===t.status&&!l,"invoices_table--redBorder--MbN7r":"open"===t.status&&l}),leftPadding:!0,key:t.id},ev.createElement("div",{className:D8},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,gk.Z)(t.due_at).toDate()}))),1===t.quarter&&ev.createElement("div",{className:D5},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.annual_subscription"})),ev.createElement("div",{className:Fe},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,gk.Z)(t.due_at).toDate()}))),1!==t.quarter&&ev.createElement("div",{className:D5},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.quarterly_true_up"})),ev.createElement("div",{className:Fe},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,gk.Z)(t.due_at).toDate()})," ","\u2013"," ",ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,gk.Z)(t.period_end_at).toDate()}))),ev.createElement("div",{className:D6},ev.createElement("div",null,t.quantity_added)),(0,eT.BZ)().billing_dev_mode_customer_ui&&ev.createElement("div",{className:D6},ev.createElement("div",null,(null==(a=t.license_type_configuration[_K.vX])?void 0:a.added_quantity)??0)),!e.org.figjam_disabled_at&&ev.createElement("div",{className:D6},null!==t.figjam_owed_seats&&ev.createElement(ev.Fragment,null,!t.is_paid_figjam&&ev.createElement(os.Ct,{className:"invoices_table--lowMargin--vYE1n",color:os.JV.DEFAULT,text:(0,eq.t)("org_admin_settings.cost_breakdown.free_for_2021")}),ev.createElement("div",null,t.figjam_owed_seats)),null===t.figjam_owed_seats&&"\u2013"),ev.createElement("div",{className:"invoices_table--colChargesText--Z1Xld invoices_table--colCharges--65zI0 invoices_table--_rightAligned--Ep02D invoices_table--numeric--gE0il"},ev.createElement("div",null,s.formatMoney(t.amount_due,{showCents:!1}))),ev.createElement("div",{className:D7},ev.createElement("div",{className:i},0===t.amount_due?"\u2013":r),t.amount_due>0&&ev.createElement(Fa,{invoiceId:t.id,chargesText:n,orgId:e.org.id})))}))}function Fn(e){let{"data-onboarding-key":t}=e,a=(0,eb.I0)();return ev.createElement(e3.Ui,{name:"New billing group"},ev.createElement(oM.J,{icon:"plus-32","data-onboarding-key":t,onClick:()=>{a((0,ig.K4)({type:Du}))}},(0,eq.t)("billing_groups_table.plus_billing_group")))}function Fi({isFullPage:e}){let t=(0,uL.$0)(),a=(0,oC.yL)(t);return ev.createElement(tD.j,{padding:8,direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center",width:"fill-parent",...e?{height:"fill-parent"}:{height:144,strokeWidth:1,strokeColor:"default"}},ev.createElement(oc.x,{fontWeight:"semi-bold",color:"secondary",i18nId:"org_admin_settings.billing.no_billing_groups_yet"}),ev.createElement("div",{className:ek.cx.pb8.alignCenter.$,style:ie.sx.add({maxWidth:"540px"}).$},ev.createElement(oc.x,{color:"secondary",i18nId:"org_admin_settings.billing.billing_groups_empty_text.seat_rename",i18nParams:{learnMoreLink:a?ev.createElement(eA.UU,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/19100885191191"},ev.createElement(oc.x,{i18nId:"general.learn_more"})):null}})),ev.createElement(Fn,null))}var Fl=((U=Fl||{}).LICENSE_GROUPS="LICENSE_GROUPS",U.INVOICES="INVOICES",U);function Fs(e){let t=Rq(),a=(0,oC.ko)(e.org),r=(0,w6.US)(),n=(0,oC.Eq)(e.org.id),i=a&&n,l=(0,w6.$4)(),[s,o]=ev.useState(i?"LICENSE_GROUPS":"INVOICES"),c=(0,oC.WI)(e.org.id);if(e.isFetching)return ev.createElement(ev.Fragment,null,e.loadingContent);let d=e.invoices&&e.invoices.length>0&&e.invoices.some(e=>"locked"===e.status||"upcoming"===e.status)?e.invoices:null;if(!d&&!i)return null;let m=i&&d,u=d?ev.createElement(D4,{adminEmail:e.adminEmail,invoices:d,figjamBillableSeats:e.figjamBillableSeats,designBillableSeats:e.designBillableSeats,devModeBillableSeats:e.devModeBillableSeats,org:e.org,dispatch:e.dispatch,shouldShowLockedBanner:e.shouldShowLockedBanner,isLicenseGroupsEnabled:r,licenseGroups:l}):void 0,_=m?ev.createElement("div",{className:ek.cx.pb20.if(c,ek.cx.pt20).$,"data-testid":"billing-subtabs"},ev.createElement(EB.v,{height:"auto",tabs:[ev.createElement(EB.y,{key:"LICENSE_GROUPS",tab:"LICENSE_GROUPS",isSelected:"LICENSE_GROUPS"===s,onClick:()=>o("LICENSE_GROUPS"),tabName:(0,eq.t)("org_admin_settings.billing.billing_groups"),dataOnboardingKey:TE}),ev.createElement(EB.y,{key:"INVOICES",tab:"INVOICES",isSelected:"INVOICES"===s,onClick:()=>o("INVOICES"),tabName:(0,eq.t)("org_admin_settings.billing.invoices")})]})):null,p=l.length>0,g=Math.max(1105,i&&p?DW:0),E=i&&!m&&0===l.length;return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"billing_table_figjam--container--O7MoP admin_settings_page--container--qnrCG"},ev.createElement("div",{className:"billing_table_figjam--stickyBanner--y4P5o"},d&&ev.createElement(DN,{org:e.org,invoices:d,isLicenseGroupsEnabled:r}),e.accountCredit&&e.accountCredit>0&&e.currency&&(0,eT.BZ)().show_account_balance_banner?ev.createElement(Dz,{accountCredit:e.accountCredit,currency:e.currency}):null),ev.createElement("div",{className:ek.cx.wFull.if(E,ek.cx.absolute.top0.zIndex1).$},ev.createElement(T$.Z,{hasHorizontalPadding:!0,title:(0,w7.K)(fe.rN.BILLING),smallTitle:!n,rightActions:i?ev.createElement(Fn,{"data-onboarding-key":TT}):void 0})),"LICENSE_GROUPS"===s&&ev.createElement(ev.Fragment,null,!eN.K1&&!t&&ev.createElement(sb.V,null,ev.createElement(Df,null)),p?ev.createElement(DH,{hidePageLevelContent:!0,org:e.org,orgAdmins:e.orgAdmins,licenseGroupTeamCounts:e.licenseGroupTeamCounts,invoices:e.invoices,figjamBillableSeats:e.figjamBillableSeats,designBillableSeats:e.designBillableSeats,currentFilters:Te.bu,licenseGroupMemberCounts:e.licenseGroupMemberCounts,scrollAwayContent:u,stickyContent:_||ev.createElement("div",{className:ek.cx.pb12.$},ev.createElement("span",{"data-onboarding-key":TE},ev.createElement(oc.x,{i18nId:"org_admin_settings.billing.billing_groups",fontSize:13,fontWeight:"medium"})))}):ev.createElement(Oz,{minContentWidth:g,scrollAwayContent:u,stickyContent:_},ev.createElement(Fi,{isFullPage:E}))),"INVOICES"===s&&ev.createElement(Oz,{minContentWidth:g,scrollAwayContent:ev.createElement(ev.Fragment,null,u,!m&&ev.createElement("div",{className:"billing_table_figjam--tableTitle--rftSv billing_table_figjam--header--5D9kz billing_tab--header--L83W3"},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.invoices"})))},ev.createElement(Fr,{invoices:d,org:e.org,stickyContent:_}))))}var Fo=((V=Fo||{})[V.DEFAULT=0]="DEFAULT",V[V.YELLOW=1]="YELLOW",V);function Fc({onClick:e,title:t,text:a,alertIcon:r,dataTestId:n,color:i=0}){return ev.createElement(e3.UE,{onClick:e,className:tQ()("action_item_card--tile--8MBSv",{0:null,1:"action_item_card--tileYellow--tHfxE"}[i]??void 0,"action_item_card--smoothText--izPuf",ek.cx.wFull.bRadius6.$),"data-testid":n},ev.createElement(tD.j,{direction:"horizontal",spacing:8,padding:{top:12,right:16,bottom:12,left:24},cornerRadius:6,strokeWidth:0===i?1:void 0,strokeColor:0===i?"default":void 0},ev.createElement("div",{className:ek.cx.font13.fontMedium.lh24.cursorDefault.colorText.$},t),r,ev.createElement(tD.m,null),ev.createElement("div",{className:ek.cx.lh24.cursorDefault.colorText.$},a),ev.createElement(t3.JO,{icon:"chevron-right-32"})))}var Fd=a(906498),Fm=a(937275),Fu=a(301760),F_=((W=F_||{}).DEV_MODE_BETA_SUGGESTED_UPGRADES="dev_mode_beta_suggested_upgrades",W);let Fp=new class{constructor(){this.UpdateTeamUsersSchemaValidator=(0,ry.PP)(!1),this.DevModeSuggestedUpgradesSchemaValidator=(0,ry.PP)(!1)}updateTeamUsers(e){return this.UpdateTeamUsersSchemaValidator.validate(async({xr:t})=>await t.put(`/api/teams/${e.team_id}/team_user_batch`,e))}declineDevModeSuggestedUpgrades(e){return this.DevModeSuggestedUpgradesSchemaValidator.validate(async({xr:t})=>await t.del(`/api/teams/${e.team_id}/team_users/dev_mode_suggested_upgrades`,e))}},Fg=(0,it.Y3)(function({planId:e,planType:t,isEnterprise:a,onNoUpgrades:r}){let n=(0,eb.I0)(),[i,l]=(0,ev.useState)([]),[s,o]=(0,ev.useState)(null),[c,d]=(0,ev.useState)(()=>new Set),[m,u]=(0,ev.useState)(!1),_=(0,dV.mU)(dH.DevModeOrgSuggestedUpgrades,{planId:e},{enabled:t===Fm.YH.ORG}),p=(0,dV.mU)(dH.DevModeTeamSuggestedUpgrades,{planId:e},{enabled:t===Fm.YH.TEAM}),g=(0,ev.useMemo)(()=>{if(t===Fm.YH.ORG){let e=function(e){l(t=>t.filter(t=>t.planUserId!==e))};return"loaded"===_.status&&_.data.devModeSuggestedUpgrades.status===dV.wy.Loaded&&_.data.devModeSuggestedUpgrades.data?_.data.devModeSuggestedUpgrades.data.reduce((t,a)=>{var r,n,i,l,s,o,d;return!(null==(r=a.orgUser)?void 0:r.user)||(null==(n=a.orgUser)?void 0:n.designPaidStatus)===ao.oz.FULL||(null==(i=a.orgUser)?void 0:i.devModePaidStatus)===ao.oz.FULL||c.has(a.orgUser.user.id)?e(a.id):t.push({userId:a.orgUser.user.id,planUserId:a.id,lastUsedDevMode:new Date(a.lastUsedAt),name:(null==(l=a.orgUser)?void 0:l.user.name)||(0,eq.t)("admin_dashboard.requests.no_name"),imgUrl:(null==(s=a.orgUser)?void 0:s.user.imgUrl)??null,jobTitle:(null==(d=null==(o=a.orgUser)?void 0:o.user.profile)?void 0:d.jobTitle)??null}),t},[]):null}return"loaded"===p.status&&p.data.devModeSuggestedUpgrades.status===dV.wy.Loaded&&p.data.devModeSuggestedUpgrades.data?p.data.devModeSuggestedUpgrades.data.reduce((e,t)=>{var a,r,n,i,l,s;return(null==(a=t.teamUser)?void 0:a.designPaidStatus)===gM.Eg.FULL||!(null==(r=t.teamUser)?void 0:r.user)||c.has(t.teamUser.user.id)||e.push({userId:t.teamUser.user.id,planUserId:t.id,lastUsedDevMode:new Date(t.lastUsedAt),name:(null==(n=t.teamUser)?void 0:n.user.name)||(0,eq.t)("admin_dashboard.requests.no_name"),imgUrl:(null==(i=t.teamUser)?void 0:i.user.imgUrl)??null,jobTitle:(null==(s=null==(l=t.teamUser)?void 0:l.user.profile)?void 0:s.jobTitle)??null}),e},[]):null},[t,_.data,_.status,p.data,p.status,c]);(0,ev.useEffect)(()=>{(null==g?void 0:g.length)===0&&r&&r(),m&&(null==g?void 0:g.length)===0&&n(ig.VG())},[n,m,g,r]);let E=[{name:(0,eq.t)("admin_dashboard.requests.columns.name"),className:"dev_mode_suggested_upgrades_modal--avatarColumn--cxxpB dev_mode_suggested_upgrades_modal--column--8kG8j admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:({name:e,imgUrl:t,userId:a})=>{let r=e||(0,eq.t)("admin_dashboard.requests.no_name");return ev.createElement(ds.oJ,{entity:{id:a,name:r,imgUrl:t},showTruncatedTextTooltip:!0,size:24})}},{name:(0,eq.t)("admin_dashboard.requests.details.job_title"),className:"dev_mode_suggested_upgrades_modal--jobTitleColumn--5sHQZ dev_mode_suggested_upgrades_modal--column--8kG8j admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:e=>ev.createElement("div",null,e.jobTitle?(0,Fu.Cw)(e.jobTitle):Fm.LL)},{name:(0,eq.t)("admin_dashboard.requests.columns.last_used_dev_mode"),className:"dev_mode_suggested_upgrades_modal--lastUsedDevModeColumn--vk57j dev_mode_suggested_upgrades_modal--column--8kG8j admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:e=>ev.createElement(eq.Tx,{id:"admin_dashboard.requests.details.display_date",dateObject:e.lastUsedDevMode})}],h=({isUpgrade:e,numSeats:t,planType:a})=>{let r=e?a===Fm.YH.ORG?(0,eq.t)("admin_dashboard.suggested.bell.assigned_org",{numSeats:t}):(0,eq.t)("admin_dashboard.suggested.bell.assigned_team",{numSeats:t}):a===Fm.YH.ORG?(0,eq.t)("admin_dashboard.suggested.bell.declined_org",{numSeats:t}):(0,eq.t)("admin_dashboard.suggested.bell.declined_team",{numSeats:t});n(r7.R.enqueue({message:r,type:e?"suggested-upgrades-assigned":"suggested-upgrades-declined"}))},f=()=>{n(r7.R.enqueue({message:(0,eq.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,eq.t)("admin_dashboard.requests.error_reload"),action:()=>{ew.default.reload("Dev mode suggested upgrades error")}}}))},v=a=>{if(0!==i.length&&null!==g){if(o(a?"upgrading":"denying"),t===Fm.YH.ORG){let r=i.map(e=>e.planUserId),n=a?SM.Q.updateOrgUsers({orgId:e,paid_statuses:{[_K.vX]:ao.oz.FULL},showing_billing_groups:!1,org_user_ids:r,latest_ou_update:new Date().toISOString(),entry_point:SM.f.DEV_MODE_BETA_SUGGESTED_UPGRADES}):SM.Q.declineDevModeSuggestedUpgrades({org_id:e,org_user_ids:r});n.then(()=>{h({isUpgrade:a,numSeats:i.length,planType:t}),a||d(e=>{let t=new Set(e);return i.forEach(e=>t.add(e.userId)),t})}).catch(()=>{f()}).finally(()=>{o(null),u(!0)})}else if(t===Fm.YH.TEAM){let r=i.map(e=>({user_id:e.userId,design_paid_status:gM.Eg.FULL})),n=a?Fp.updateTeamUsers({team_id:e,team_user_deltas:r,entry_point:F_.DEV_MODE_BETA_SUGGESTED_UPGRADES}):Fp.declineDevModeSuggestedUpgrades({team_id:e,team_user_ids:i.map(e=>e.planUserId)});n.then(()=>{h({isUpgrade:a,numSeats:i.length,planType:t}),a||d(e=>{let t=new Set(e);return i.forEach(e=>t.add(e.userId)),t})}).catch(()=>{f()}).finally(()=>{o(null),u(!0)})}}},b=ev.createElement("div",{style:ie.sx.add({height:"35vh"}).$},ev.createElement(tD.j,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center",verticalAlignItems:"center"},ev.createElement("div",{className:ek.cx.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$},ev.createElement(eq.Tx,{id:"admin_dashboard.suggested.empty.primary_text"})),ev.createElement("div",{className:ek.cx.lh16.cursorDefault.colorTextSecondary.$},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.empty.secondary_text"})))),y=(0,Fm.At)({planType:t,planId:e,isEnterprise:!!a}),w=g&&0===g.length;return ev.createElement(e3.Ui,{name:r2.V4.DEV_MODE_SUGGESTED_UPGRADES_MODAL,properties:{adminRequestsDashboard:!0,orgId:t===Fm.YH.ORG?e:void 0,teamId:t===Fm.YH.TEAM?e:void 0}},ev.createElement(ir.u_,{dispatch:n,className:ek.cx.cursorDefault.selectNone.hFull.$,title:"",size:529,maxHeight:"700px",padding:0},ev.createElement(n6.Q7,{customStyle:{top:12,right:12},onClick:()=>n(ig.VG())}),ev.createElement(tD.j,{direction:"vertical",spacing:0},ev.createElement("div",{style:ie.sx.add({margin:"40px 50px 16px 40px"}).$},ev.createElement("div",{className:ek.cx.font24.fontSemiBold.lh32.mb4.$},ev.createElement(eq.Tx,{id:"admin_dashboard.suggested.title"})),ev.createElement(oc.x,{fontSize:13,i18nId:"admin_dashboard.suggested.body_v2",i18nParams:{devModePrice:y}})),ev.createElement(fz.Ch,{emptyContent:b,items:g??[],getItemKey:e=>e.userId,disabled:null!==s,columns:E,itemTypeContext:{itemType:"",getSelectedCountString:e=>""},sortState:{columnName:"",isReversed:!1},minContentWidth:439,onSetSortState:ex.ZT,scrollContainerInnerClassName:"dev_mode_suggested_upgrades_modal--tableScrollContainer--vkNcV",onSelectedItemsChange:l,isLoading:null===g,onFetchMore:null===g?ex.ZT:void 0,hasNewScrollContext:!0,scrollBarAlwaysVisible:!0}),ev.createElement(tD.j,{direction:"horizontal",padding:{vertical:12,horizontal:16},strokeWidth:{top:1},strokeColor:"default",horizontalAlignItems:"end",height:56},w?ev.createElement(oM.J,{variant:"primary",onClick:()=>n(ig.VG()),innerText:"Close",dataTestId:"empty-close-button"},ev.createElement(eq.Tx,{id:"general.close"})):ev.createElement(ev.Fragment,null,ev.createElement(oM.J,{variant:"secondary",onClick:()=>v(!1),innerText:"Decline",dataTestId:"decline-button",disabled:0===i.length||null!==s,trackingProperties:{selectedCount:i.length}},(0,Fm.BX)({text:(0,eq.t)("admin_dashboard.requests.decline"),showSpinner:"denying"===s})),ev.createElement(oM.J,{variant:"primary",onClick:()=>v(!0),innerText:"Upgrade",dataTestId:"upgrade-button",disabled:0===i.length||null!==s,trackingProperties:{selectedCount:i.length}},(0,Fm.BX)({text:(0,eq.t)("admin_dashboard.suggested.upgrade"),showSpinner:"upgrading"===s})))))))},"DevModeSuggestedUpgradesModal");var FE=a(481354);let Fh=(0,it.Y3)(function({onConfirm:e,totalRequestCount:t,filteredRequestCount:a}){let r=(0,eb.I0)(),n=()=>{r(ig.hV())},i=t!==a,l=i?ev.createElement(eq.Tx,{id:"admin_dashboard.requests.approve_all_modal.body_filtered",numTotalRequests:t,numHiddenRequests:t-a}):ev.createElement(eq.Tx,{id:"admin_dashboard.requests.approve_all_modal.body",numRequests:ev.createElement(oc.x,{fontWeight:"semi-bold"},t)}),s=i?ev.createElement(eq.Tx,{id:"admin_dashboard.requests.approve_all_modal.title_filtered"}):ev.createElement(eq.Tx,{id:"admin_dashboard.requests.approve_all_modal.title"}),o=i?ev.createElement(eq.Tx,{id:"admin_dashboard.requests.approve_all_modal.confirm_filtered",numRequests:t}):ev.createElement(eq.Tx,{id:"admin_dashboard.requests.approve_all_modal.confirm"});return ev.createElement(ir.u_,{dispatch:r,className:ek.cx.cursorDefault.selectNone.$,title:"",size:360,padding:0},ev.createElement(tD.j,{padding:{left:16,right:8,top:8,bottom:0},spacing:8},ev.createElement("div",{className:ek.cx.fontSemiBold.lh16.colorText.$},s),ev.createElement(tD.m,null),ev.createElement(n6.PZ,{onClick:n})),ev.createElement("div",{className:ek.cx.p16.$},ev.createElement(oc.x,null,l)),ev.createElement(tD.j,{direction:"horizontal",padding:{left:16,right:16,bottom:16,top:0},horizontalAlignItems:"end"},ev.createElement(oM.z,{variant:"secondary",onClick:n},ev.createElement(eq.Tx,{id:"general.cancel"})),ev.createElement(oM.z,{variant:"destructive",onClick:()=>{n(),e()}},o)))},"ApproveAllUpgradeRequestsConfirmationModal");function Ff({text:e,linkText:t,onClickLink:a,textMaxWidth:r,textClassName:n}){let[i,l]=(0,ev.useState)(!1),s=(0,ev.useRef)(null),o=()=>{let e=s.current;if(!e)return;let t=e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight;l(t)};return(0,ev.useLayoutEffect)(()=>{o()},[e]),ev.createElement("div",{className:ek.cx.flex.flexRow.$},ev.createElement("div",{className:n??void 0,style:ie.sx.noWrap.overflowHidden.ellipsis.add({maxWidth:`${r}px`}).$,ref:s},e),i&&ev.createElement(eA.UU,{trusted:!0,onClick:e=>{e.stopPropagation(),a()}},t??ev.createElement(eq.Tx,{id:"admin_dashboard.requests.truncated_text_more"})))}function Fv({label:e,contents:t}){return ev.createElement(tD.j,{direction:"horizontal",spacing:16,verticalAlignItems:"start"},ev.createElement("div",{style:ie.sx.add({maxWidth:"60px",minWidth:"60px"}).colorText.fontSemiBold.lh16.$},e),t?ev.createElement("div",{style:ie.sx.add({maxWidth:"275px"}).$},t):ev.createElement("div",{className:ek.cx.colorTextTertiary.$},Fm.LL))}let Fb=(0,it.Y3)(function({request:e,planId:t,planType:a,onApprove:r,onDeny:n}){let i=(0,eb.I0)(),l=()=>{i(ig.hV())};return ev.createElement(e3.Ui,{name:r2.V4.UPGRADE_REQUESTS_DETAIL_MODAL,properties:{adminRequestsDashboard:!0,accountTypeRequestId:e.id,orgId:a===Fm.YH.ORG?t:void 0,teamId:a===Fm.YH.TEAM?t:void 0}},ev.createElement(ir.u_,{dispatch:i,className:ek.cx.cursorDefault.selectNone.$,title:"",size:400,padding:0},ev.createElement(tD.j,{padding:{left:16,right:4,top:4,bottom:4}},ev.createElement("div",{className:ek.cx.fontSemiBold.lh16.colorText.$},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.details.title"})),ev.createElement(tD.m,null),ev.createElement(n6.PZ,{onClick:l,innerText:"X"})),ev.createElement(tD.j,{direction:"vertical",padding:{left:16,right:24,top:24,bottom:24},spacing:24,strokeWidth:{top:1,bottom:1},strokeColor:"default"},ev.createElement(Fv,{label:(0,eq.t)("admin_dashboard.requests.details.name"),contents:ev.createElement(xA,{dispatch:i,entity:{id:e.userId,name:e.name??void 0,email:e.email??void 0,imgUrl:e.imgUrl},size:24,defaultText:Fm.LL})}),ev.createElement(Fv,{label:(0,eq.t)("admin_dashboard.requests.details.job_title"),contents:e.jobTitle?ev.createElement("div",null,(0,Fu.Cw)(e.jobTitle)):null}),ev.createElement(Fv,{label:(0,eq.t)("admin_dashboard.requests.details.license_type"),contents:ev.createElement(Fm.tq,{licenseType:e.licenseType})}),ev.createElement(Fv,{label:(0,eq.t)("admin_dashboard.requests.details.date"),contents:ev.createElement("div",null,ev.createElement(eq.Tx,{id:"admin_dashboard.requests.details.display_date",dateObject:e.createdAt}))}),ev.createElement(Fv,{label:(0,eq.t)("admin_dashboard.requests.details.note"),contents:e.message?ev.createElement("div",null,`\u201C${e.message}\u201D`):null})),ev.createElement(tD.j,{direction:"horizontal",padding:16,horizontalAlignItems:"end"},ev.createElement(oM.J,{variant:"secondary",onClick:()=>{l(),n()},innerText:"Decline"},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.decline"})),ev.createElement(oM.J,{variant:"primary",onClick:()=>{l(),r()},innerText:"Approve"},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.approve"})))))},"UpgradeRequestsDetailModal"),Fy="approving-all-requests";function Fw({supportedLicenses:e,planType:t,planId:a,onClickViewHistory:r}){var n,i,l,s,o,c,d,m,u,_,p;let g;let E=(0,eb.I0)(),h=(0,mj.L)(),[f,v]=(0,ev.useState)(!1),[b,y]=(0,ev.useState)(""),[w,T]=(0,ev.useState)(null),[x,N]=(0,ev.useState)(Fm.rE.NEWEST_FIRST),[C,S]=(0,ev.useState)(!1),k=(0,ev.useRef)(0),[I,L]=(0,ev.useState)(0),[R,A]=(0,ev.useState)(window.innerHeight);(0,eZ.O)(()=>{let e=()=>{A(window.innerHeight)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)});let[O,D]=(0,r9.KO)(Fd.u),[F,M]=(0,ev.useState)(new Set),[P,B]=(0,ev.useState)(0),[U,V]=(0,ev.useState)(null),[W,G]=(0,ev.useState)(0),j=(0,ev.useMemo)(()=>JSON.stringify({editor_type:w,search_query:b,refreshNonce:W,sortTypeNonce:x}),[w,b,W,x]),H=(0,dV.mU)(dH.AdminRequestDashboardView,{planType:t,planId:a,sortOrder:x===Fm.rE.NEWEST_FIRST?"desc":"asc",filterParams:j,firstPageSize:25}),$=(0,dV.mU)(dH.AdminNotificationsCountView,{planType:t,planId:a,filterParams:JSON.stringify({refreshNonce:j})}),z=(0,dV.mU)(dH.DevModeOptInInfo,{orgId:a},{enabled:t===Fm.YH.ORG}),K=null==(i=null==(n=z.data)?void 0:n.org)?void 0:i.devModeAccountTypeRequests,Z=(0,ev.useMemo)(()=>new Set(null==K?void 0:K.map(e=>e.id)),[K]),q="loading"===z.status,Y="loaded"===H.status,J="loaded"===$.status,Q=Y&&!!(null==(s=null==(l=null==H?void 0:H.data)?void 0:l.adminRequestDashboardRows)?void 0:s.isLoadingNextPage),X=Y&&!!(null==(c=null==(o=null==H?void 0:H.data)?void 0:o.adminRequestDashboardRows)?void 0:c.hasNextPage()),ee=!Y||Q||X||q,et=Y?(null==(m=null==(d=null==H?void 0:H.data)?void 0:d.adminRequestDashboardRowCount)?void 0:m.rowCount)??null:null,ea=J&&(null==(_=null==(u=null==$?void 0:$.data)?void 0:u.adminRequestDashboardTotalRowCount)?void 0:_.status)===fx.wy.Loaded?(null==(p=$.data.adminRequestDashboardTotalRowCount.data)?void 0:p.rowCount)??null:null,er=null===et?null:et-P,en=null===ea?null:ea-P,ei=[t,a].toString(),el=O[ei],es=en?Math.max(en,0):0,eo=ea&&el!==es;ev.useEffect(()=>{if(eo){let e={...O};e[ei]=es,D(e)}},[eo,ei,es]);let ec=f&&null===er;(0,ev.useEffect)(()=>{Y&&V(new Date)},[Y]);let ed=(0,ev.useMemo)(()=>{var t;if(B(0),!(null==(t=null==H?void 0:H.data)?void 0:t.adminRequestDashboardRows)||q)return[];let a=H.data.adminRequestDashboardRows.reduce((t,a)=>{var r;let n=a.id,i=a.request,l=a.user,s=a.userId;if(i.status!==fx.wy.Loaded||l.status!==fx.wy.Loaded)return B(e=>e+1),t;let o=i.data,c=l.data;if(!o||!c)return B(e=>e+1),t;let d=(0,Fm.Uj)(o.licenseType);return e.includes(d)&&("pending"!==o.status?B(e=>e+1):t.push({id:n,createdAt:o.createdAt,name:c.name,email:c.email,licenseType:d,imgUrl:c.imgUrl,message:o.message&&o.message.trim().length>0?o.message:null,jobTitle:(null==(r=c.profile)?void 0:r.jobTitle)??null,userId:s})),t},[]);return a.sort((e,t)=>x===Fm.rE.NEWEST_FIRST?t.createdAt.getTime()-e.createdAt.getTime():e.createdAt.getTime()-t.createdAt.getTime())},[H.data,x,e,q]),em=(0,ev.useMemo)(()=>{if(0===ed.length)return null;let e=ed.length*(0,cx.F)(cL.y0z)+99+3*(0,cx.F)(cL.y0z)/4,t=R-(0,cx.F)(cL.ePE)-2-48-24-24;return e<t?e:t},[ed.length,R]),eu=(0,ev.useMemo)(()=>(0,ld.D)(y,300),[y]),e_=ev.createElement(tD.j,{padding:{vertical:8},strokeColor:"default",strokeWidth:{top:1,bottom:1}},ev.createElement(nN.Pl,{onChange:e=>eu((0,Fm.zD)(e)),focusOnMount:!1,query:b,clearSearch:()=>y(""),placeholder:(0,eq.t)("admin_dashboard.requests.search.placeholder"),maxInputLength:Fm.cn}),e.length>1&&ev.createElement(xK.MF,{label:(0,eq.t)("admin_dashboard.requests.filter.type"),dispatch:E,dropdownShown:h,dropdownType:Fm.AU,values:e,selectedValue:w,getDisplayText:e=>(0,gU.y)(e),updateFilter:T}),ev.createElement(xK.MF,{label:(0,eq.t)("admin_dashboard.requests.filter.sort"),dispatch:E,dropdownShown:h,dropdownType:Fm.xj,values:[Fm.rE.NEWEST_FIRST,Fm.rE.OLDEST_FIRST],selectedValue:x,getDisplayText:e=>Fm.qW[e](),updateFilter:N,hideDefaultOption:!0})),ep=()=>{E(r7.R.enqueue({message:(0,eq.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,eq.t)("admin_dashboard.requests.error_reload"),action:()=>{ew.default.reload("Admin requests dashboard error")}}}))},eg=({multiple:e})=>{E(r7.R.enqueue({message:e?(0,eq.t)("admin_dashboard.requests.error_multiple"):(0,eq.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,eq.t)("admin_dashboard.requests.error_reload"),action:()=>{ew.default.reload("Admin requests dashboard error")}}}))},eE=({approve:e,numRequests:t})=>{E(r7.R.enqueue({message:e?(0,eq.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:t}):(0,eq.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:t}),type:e?"requests-approved":"requests-denied"}))},eh=({approve:e,selectedRequestIds:a,approveAll:r=!1,shouldProcessAsSingleRequest:n=!1})=>{var i,l;let s=()=>{n?ef({approve:e,requestId:a[0]}):ey({approve:e,selectedRequestIds:a,approveAll:r})};(0,eT.BZ)().dev_mode_opt_in&&t===Fm.YH.ORG&&e&&(0,_9.gD)((null==(l=null==(i=z.data)?void 0:i.org)?void 0:l.devModeOptInPlanProperty)||null)&&(r&&0!==Z.size||a.some(e=>Z.has(e)))?E(ig.K4({type:Or.d1,data:{onOptInUpgrade:s,source:fe.rN.DASHBOARD}})):s()},ef=({approve:e,requestId:r})=>{M(e=>new Set(e).add(r));let n=e?FE.e.approveRequests.bind(FE.e):FE.e.denyRequests.bind(FE.e);n({plan_id:a,plan_type:t,included_request_ids:[r],selection_method:Fm.Fg.SINGLE}).then(t=>{if(200!==t.status){ep();return}if(t.data.meta.failed_attempts>0){eg({multiple:!1});return}eE({approve:e,numRequests:1})}).catch(()=>{ep()}).finally(()=>{M(e=>{let t=new Set(e);return t.delete(r),t})})},ey=({approve:e,selectedRequestIds:r,approveAll:n})=>{L(k.current),S(n?"approving_all_button":e?"approving":"denying"),n&&en&&E(r7.R.enqueue({message:(0,eq.t)("admin_dashboard.requests.selected_count_approving",{numSelected:en}),type:Fy,timeoutOverride:1/0,icon:xk.B4.SPINNER,preventDismissal:!0,role:"status"}));let i=n||f,l=new Set(r),s=i?{plan_id:a,plan_type:t,subtractive:!0,excluded_request_ids:n?[]:ed.map(e=>e.id).filter(e=>!l.has(e)),filter_params:n?void 0:j,timestamp:(U??new Date).toISOString(),selection_method:n?Fm.Fg.APPROVE_ALL:Fm.Fg.BULK_SELECT}:{plan_id:a,plan_type:t,included_request_ids:r,selection_method:Fm.Fg.BULK_SELECT},o=e?FE.e.approveRequests.bind(FE.e):FE.e.denyRequests.bind(FE.e);o(s).then(t=>{if(200!==t.status){ep();return}if(t.data.meta.failed_attempts>0){eg({multiple:!0});return}eE({approve:e,numRequests:t.data.meta.successful_attempts})}).catch(()=>{ep()}).finally(()=>{n&&E(r7.R.dequeue({matchType:Fy})),S(!1),L(0),i&&G(e=>e+1)})},eN=e=>{E(ig.K4({type:Fb,data:{request:e,planId:a,planType:t,onApprove:()=>eh({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0}),onDeny:()=>eh({approve:!1,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})}}))},eC=[{name:(0,eq.t)("admin_dashboard.requests.columns.name"),className:"upgrade_requests_table--avatarColumn--wvdQd upgrade_requests_table--column--46cLg admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:({name:e,email:t,imgUrl:a,userId:r})=>{let n=e||t||(0,eq.t)("admin_dashboard.requests.no_name");return ev.createElement(ds.oJ,{entity:{id:r,name:n,imgUrl:a},size:24,defaultText:Fm.LL})}},{name:(0,eq.t)("admin_dashboard.requests.columns.request"),className:"upgrade_requests_table--requestColumn--i5-ke upgrade_requests_table--column--46cLg admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:e=>ev.createElement(Fm.tq,{licenseType:e.licenseType})},{name:(0,eq.t)("admin_dashboard.requests.columns.note"),className:"upgrade_requests_table--noteColumn--Do6gK upgrade_requests_table--column--46cLg admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:e=>{let t=!!C||F.has(e.id);return ev.createElement(tD.j,{spacing:8},ev.createElement(Ff,{text:e.message??Fm.LL,textClassName:null===e.message?ek.cx.colorTextTertiary.$:void 0,textMaxWidth:200,onClickLink:()=>{eN(e)}}),ev.createElement(tD.m,null),0===k.current&&"approving_all_button"!==C&&ev.createElement(ev.Fragment,null,ev.createElement(oM.J,{variant:"secondary",disabled:t,onClick:t=>{t.stopPropagation(),eh({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},innerText:"Approve",dataTestId:"approve-button-single",trackingProperties:{accountTypeRequestId:e.id}},(0,Fm.BX)({text:(0,eq.t)("admin_dashboard.requests.approve"),showSpinner:t})),ev.createElement("button",{className:"upgrade_requests_table--rowDetailButton--JHX1m",onClick:t=>{t.stopPropagation(),eN(e)}},ev.createElement(t3.JO,{icon:"chevron-right-32"}))))}}],eS=ev.createElement("div",{className:ek.cx.mx24.mb12.cursorDefault.selectNone.$},ev.createElement(tD.j,{spacing:0},ev.createElement("div",{className:ek.cx.font13.fontMedium.lh24.colorText.mr8.py4.$},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.title"})),!!en&&en>0&&ev.createElement(os.Ct,{text:en.toString(),color:os.JV.LIGHT,dataTestId:"table-row-count-badge"}),ev.createElement(tD.m,null),r&&ev.createElement(eA.UU,{trusted:!0,onClick:r,className:ek.cx.fontMedium.$},ev.createElement(oc.x,null,ev.createElement(eq.Tx,{id:"admin_dashboard.requests.view_history"}))),!!en&&en>0&&ev.createElement("div",{className:ek.cx.pl16.$},ev.createElement(oM.J,{variant:"primary",onClick:()=>{if(null===er||null===en)return;let e=C?ex.ZT:()=>eh({approve:!0,approveAll:!0,selectedRequestIds:[]});if(en===er&&en<100){e();return}E(ig.K4({type:Fh,data:{onConfirm:e,totalRequestCount:en,filteredRequestCount:er}}))},innerText:"Approve all",dataTestId:"approve-all-button"},(0,Fm.BX)({text:(0,eq.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all_button"===C})))));return ev.createElement(e3.Ui,{name:r2.V4.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:t===Fm.YH.ORG?a:void 0,teamId:t===Fm.YH.TEAM?a:void 0}},ev.createElement("div",{className:tQ()("upgrade_requests_table--fontSmoothing--RQKgx",ek.cx.pt12.bRadius6.b1.colorBorder.$)},eS,ev.createElement("div",{style:ie.sx.add({width:"780px",height:em?`${em}px`:void 0}).$},ev.createElement(fz.Ch,{disabled:!!C,unselectableItemKeys:F,stickyContent:e_,emptyContent:(g=0===b.length&&null===w?ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.empty.primary_text"})),ev.createElement("div",{className:ek.cx.lh16.cursorDefault.colorTextSecondary.$},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.empty.secondary_text"}))):b.length>0&&null===w?ev.createElement("div",{className:ek.cx.lh16.cursorDefault.colorText.$},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.empty.no_search_results"})):ev.createElement("div",{className:ek.cx.lh16.cursorDefault.colorText.$},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.empty.no_filter_results",resetFiltersLink:ev.createElement(eA.UU,{trusted:!0,onClick:()=>{T(null),y("")}},ev.createElement(eq.Tx,{id:"admin_dashboard.requests.empty.reset_filters"}))})),ev.createElement(tD.j,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center"},g)),items:ed,getItemKey:e=>e.id,columns:eC,itemTypeContext:{itemType:Fm.jj,getSelectedCountString:e=>ec?"":"approving"===C?(0,eq.t)("admin_dashboard.requests.selected_count_approving",{numSelected:I}):"denying"===C?(0,eq.t)("admin_dashboard.requests.selected_count_denying",{numSelected:I}):(0,eq.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},getTotalSelected:ec?void 0:(e,t)=>{let a;return a=f&&er?Math.max(1,er-(t.length-e.length)):e.length,k.current=a,a},actionBar:"approving_all_button"===C?void 0:e=>ec?ev.createElement("div",{className:ek.cx.w150.$},ev.createElement(xS.g4,{className:ek.cx.h12.w150.$,animationType:xS.F4.SHIMMER_ON_MENU})):ev.createElement("div",{className:"upgrade_requests_table--actionBarButtons--GFmxk"},ev.createElement(tD.j,{spacing:8},ev.createElement(oM.J,{variant:"toolbar-secondary",disabled:!!C,onClick:C?ex.ZT:()=>eh({approve:!1,selectedRequestIds:e.map(e=>e.id)}),innerText:"Decline",dataTestId:"decline-button-multiple"},(0,Fm.BX)({text:(0,eq.t)("admin_dashboard.requests.decline"),showSpinner:"denying"===C})),ev.createElement(oM.J,{variant:"primary",onClick:C?ex.ZT:()=>eh({approve:!0,selectedRequestIds:e.map(e=>e.id)}),innerText:"Approve",dataTestId:"approve-button-multiple"},(0,Fm.BX)({text:(0,eq.t)("admin_dashboard.requests.approve"),showSpinner:"approving"===C})))),actionBarClassName:tQ()("upgrade_requests_table--actionBar--ooXSY",ec?void 0:"upgrade_requests_table--actionBarHasContent--kJbMn"),sortState:{columnName:"",isReversed:!1},onSetSortState:ex.ZT,scrollContainerInnerClassName:"upgrade_requests_table--tableScrollContainer--ZezYu",minContentWidth:780,onToggleSelectAll:e=>{v(!e)},isLoading:ee,onFetchMore:X?()=>{var e,t;Y&&!Q&&X&&(null==(t=null==(e=null==H?void 0:H.data)?void 0:e.adminRequestDashboardRows)||t.loadNext(25))}:void 0,hasNewScrollContext:!0,scrollBarAlwaysVisible:!0}))))}function FT({org:e,onClickViewHistory:t}){return ev.createElement(Fw,{supportedLicenses:[_K.xi.DESIGN,...e.figjam_disabled_at?[]:[_K.xi.WHITEBOARD],...(0,eT.BZ)().dev_mode_opt_in?[_K.xi.DEV_MODE]:[]],planType:Fm.YH.ORG,planId:e.id,onClickViewHistory:t})}let Fx="dashboard--overviewLabel--URDgp",FN="dashboard--overviewValue--3ivjL",FC="dashboard--section--ZP8I0 text--fontPos11--2LvXf text--_fontBase--QdLsd",FS="dashboard--sectionTitle--UaBXO text--fontPos13--xW8hS text--_fontBase--QdLsd",Fk="dashboard--sectionBody--MIuAt",FI="dashboard--caret--J6-6i",FL="dashboard--sectionDivider--c1lF3",FR="dashboard--secondary--tvnLs",FA=a(373260);function FO(e){var t,a,r,n,i,l,s,o,c;let d;let m=(0,eb.I0)(),u=(0,eb.v9)(e=>e.avatarEditorState),_=(0,eb.v9)(e=>(0,_q.YM)(e)),p=(0,dV.mU)(dH.OrgTaxIdView,{orgId:e.org.id}),g="loaded"===p.status?null==(t=p.data.org)?void 0:t.taxIdVerificationStatus:null,E=(0,dV.mU)(dH.DevModeOptInInfo,{orgId:e.org.id}),h=(0,eT.BZ)().dev_mode_opt_in,f=(0,eT.BZ)().billing_dev_mode_customer_ui&&h,v="loaded"===E.status,b=h&&v&&(0,_9.gD)((null==(r=null==(a=E.data)?void 0:a.org)?void 0:r.devModeOptInPlanProperty)||null),y=(0,Fm._H)(),w=(0,Fm.PY)({planType:Fm.YH.ORG,planId:e.org.id}),[T,x]=(0,r9.KO)(Fd.P),N=(0,eT.BZ)().tax_id_status_admin_ui&&g===ao.v4.UNVERIFIED,C=(0,nm.LL)(!0),[S,k]=ev.useState(b||w);d=b?w?(0,eq.t)("admin_dashboard.suggested.tile.body.dm_not_opted_in"):(0,eq.t)("admin_dashboard.suggested.tile.body.dm_not_opted_in_no_beta_users"):(0,eq.t)("admin_dashboard.suggested.tile.body.dm_opted_in"),ev.useEffect(()=>{k(b||w);let t=[Fm.YH.ORG,e.org.id].toString(),a={...T};a[t]=b||w,x(a)},[w,e.org.id,b]);let I=()=>{k(!1);let t=[Fm.YH.ORG,e.org.id].toString(),a={...T};a[t]=!1,x(a)},L=()=>m(ig.K4({type:Fg,data:{planId:e.org.id,planType:Fm.YH.ORG,isEnterprise:e.org.plan===uO.On.ENTERPRISE,onNoUpgrades:I}})),R=()=>{m(ig.K4({type:Or.d1,data:{onOptInShowModal:L,source:fe.rN.DASHBOARD}}))};(0,eZ.O)(()=>{h&&!e.org.is_dev_mode_opt_in_accepted&&e.devModeOptInModalState&&e.devModeOptInModalState.shouldShowModal&&m((0,ig.K4)({type:Or.wY,data:{emailRequestId:e.devModeOptInModalState.emailRequestId}})),y&&e.shouldShowDevModeSuggestedUpgradesModal&&(e.org.is_dev_mode_opt_in_accepted?L():R())});let A=(0,w$.GZ)(e.org.id),O=()=>{A(),m(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.BILLING}))},D=()=>{A(),m(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.SETTINGS}))},F=e=>{m(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.ACTIVITY,activityTabInitialEventOptionId:e}))},M=(e,t)=>t===ao.gg.DESIGN?(0,eq.t)("org_dashboard.quantity_new_design_editors.seat_rename",{quantity:e}):(0,eq.t)("org_dashboard.quantity_new_fig_jam_editors.seat_rename",{quantity:e}),P=(0,ev.useMemo)(()=>!!e.invoices&&e.invoices.length>0&&(0,_9.zt)(e.invoices)!==_9.O4.DEFAULT,[e.invoices]),B=(()=>{let t=[];return e.invoices&&e.invoices.length>0&&t.push({primaryTitle:(0,_9.GJ)(e.org,e.invoices),secondaryTitle:(0,eq.t)("org_dashboard.visit_the_billing_tab_for_more_details"),type:_9.SR.BILLING_STATUS,onClick:O}),(0,eT.BZ)().tax_id_status_admin_ui&&g===ao.v4.UNVERIFIED&&t.push({primaryTitle:(0,eq.t)("billing_status.tax_id.invalid"),secondaryTitle:(0,eq.t)("org_dashboard.make_updates_in_the_tax_identification_number_section_in_settings"),type:_9.SR.TAX_ID_STATUS,onClick:D}),t})(),U=(e,t=!1)=>{let a=Object.values(e).every(e=>1===e);return a?t?f?(0,eq.t)("org_dashboard.unpaid_annual_renewal_singular_with_dev_mode"):(0,eq.t)("org_dashboard.1_design_editor_and_1_fig_jam_editor_unpaid_annual_renewal.seat_rename"):f?(0,eq.t)("org_dashboard.upcoming_annual_renewal_singular_with_dev_mode"):(0,eq.t)("org_dashboard.1_design_editor_and_1_fig_jam_editor_upcoming_annual_renewal.seat_rename"):f?t?(0,eq.t)("org_dashboard.unpaid_annual_renewal_with_dev_mode_plural",{quantityDesign:e[_K.z9.DESIGN],quantityFigJam:e[_K.z9.FIGJAM],quantityDevMode:e[_K.z9.DEV_MODE]}):(0,eq.t)("org_dashboard.upcoming_annual_renewal_with_dev_mode_plural",{quantityDesign:e[_K.z9.DESIGN],quantityFigJam:e[_K.z9.FIGJAM],quantityDevMode:e[_K.z9.DEV_MODE]}):1===e[_K.z9.DESIGN]?t?(0,eq.t)("org_dashboard.1_design_editor_and_quantity_fig_jam_fig_jam_editors_unpaid_annual_renewal.seat_rename",{quantityFigJam:e[_K.z9.FIGJAM]}):(0,eq.t)("org_dashboard.1_design_editor_and_quantity_fig_jam_1_unpaid_fig_jam_editor_upcoming_annual_renewal.seat_rename",{quantityFigJam:e[_K.z9.FIGJAM]}):1===e[_K.z9.FIGJAM]?t?(0,eq.t)("org_dashboard.quantity_design_design_editors_and_1_fig_jam_editor_unpaid_annual_renewal.seat_rename",{quantityDesign:e[_K.z9.DESIGN]}):(0,eq.t)("org_dashboard.quantity_design_design_editors_and_1_fig_jam_editor_upcoming_annual_renewal.seat_rename",{quantityDesign:e[_K.z9.DESIGN]}):t?(0,eq.t)("org_dashboard.quantity_design_design_editors_and_quantity_fig_jam_fig_jam_editors_unpaid_annual_renewal.seat_rename",{quantityDesign:e[_K.z9.DESIGN],quantityFigJam:e[_K.z9.FIGJAM]}):(0,eq.t)("org_dashboard.quantity_design_design_editors_and_quantity_fig_jam_fig_jam_editor_upcoming_annual_renewal.seat_rename",{quantityDesign:e[_K.z9.DESIGN],quantityFigJam:e[_K.z9.FIGJAM]})},V="";if(e.invoices&&e.invoices.length>0){let t=(0,_9.zt)(e.invoices);switch(t){case _9.O4.UNPAID:case _9.O4.OVERDUE:let a=(0,_9.qo)(e.invoices,"open");if(1===a.quarter)V=U({[_K.z9.DESIGN]:a.quantity_full_members,[_K.z9.FIGJAM]:a.figjam_billable_seats??0,[_K.z9.DEV_MODE]:(null==(n=a.license_type_configuration[_K.z9.DEV_MODE])?void 0:n.total_quantity)??0},!0);else{let e={[_K.z9.DESIGN]:a.quantity_added,[_K.z9.FIGJAM]:a.figjam_owed_seats??0,[_K.z9.DEV_MODE]:(null==(i=a.license_type_configuration[_K.z9.DEV_MODE])?void 0:i.added_quantity)??0};if(f){let t=Object.values(e).every(e=>1===e),a={designCount:e[_K.z9.DESIGN],figJamCount:e[_K.z9.FIGJAM],devModeCount:e[_K.z9.DEV_MODE]};V=t?(0,eq.t)("org_dashboard.unpaid_invoice_singular_with_dev_mode",a):(0,eq.t)("org_dashboard.unpaid_invoice_plural_with_dev_mode",a)}else{let t=M(e[_K.z9.DESIGN],ao.gg.DESIGN),a=M(e[_K.z9.FIGJAM],ao.gg.WHITEBOARD);V=(0,eq.t)("org_dashboard.design_editors_text_and_fig_jam_file_editors_text_added_unpaid_invoice",{designEditorsText:t,figJamEditorsText:a})}}break;case _9.O4.REVIEW:let r=(0,_9.qo)(e.invoices,"upcoming"),d=(0,_9.C5)(r,e.licenseQuantities,e.org.plan);if(1===r.quarter)V=U({[_K.z9.DESIGN]:d.licenseData[_K.z9.DESIGN].rawQuantityToBill,[_K.z9.FIGJAM]:d.licenseData[_K.z9.FIGJAM].rawQuantityToBill,[_K.z9.DEV_MODE]:d.licenseData[_K.z9.DEV_MODE].rawQuantityToBill});else{let e={[_K.z9.DESIGN]:d.licenseData[_K.z9.DESIGN].rawQuantityToBill,[_K.z9.FIGJAM]:d.licenseData[_K.z9.FIGJAM].rawQuantityToBill,[_K.z9.DEV_MODE]:d.licenseData[_K.z9.DEV_MODE].rawQuantityToBill};if(f){let t=Object.values(e).every(e=>1===e),a={designCount:e[_K.z9.DESIGN],figJamCount:e[_K.z9.FIGJAM],devModeCount:e[_K.z9.DEV_MODE]};V=t?(0,eq.t)("org_dashboard.added_since_last_invoice_singular_with_dev_mode",a):(0,eq.t)("org_dashboard.added_since_last_invoice_plural_with_dev_mode",a)}else{let e=M(d.licenseData[_K.z9.DESIGN].rawQuantityToBill,ao.gg.DESIGN),t=M(d.licenseData[_K.z9.FIGJAM].rawQuantityToBill,ao.gg.WHITEBOARD);V=(0,eq.t)("org_dashboard.design_editors_text_and_fig_jam_file_editors_text_added_since_your_last_invoice",{designEditorsText:e,figJamEditorsText:t})}}break;case _9.O4.LOCKED:let m=(0,_9.qo)(e.invoices,"locked");if(1===m.quarter)V=U({[_K.z9.DESIGN]:m.quantity_full_members,[_K.z9.FIGJAM]:m.figjam_billable_seats??0,[_K.z9.DEV_MODE]:(null==(l=m.license_type_configuration[_K.z9.DEV_MODE])?void 0:l.total_quantity)??0});else{let e={[_K.z9.DESIGN]:m.quantity_added,[_K.z9.FIGJAM]:m.figjam_owed_seats??0,[_K.z9.DEV_MODE]:(null==(s=m.license_type_configuration[_K.z9.DEV_MODE])?void 0:s.added_quantity)??0};if(f){let t=Object.values(e).every(e=>1===e),a={designCount:e[_K.z9.DESIGN],figJamCount:e[_K.z9.FIGJAM],devModeCount:e[_K.z9.DEV_MODE]};V=t?(0,eq.t)("org_dashboard.added_upcoming_invoice_singular_with_dev_mode",a):(0,eq.t)("org_dashboard.added_upcoming_invoice_plural_with_dev_mode",a)}else{let e=M(m.quantity_added,ao.gg.DESIGN),t=M(m.figjam_owed_seats??0,ao.gg.WHITEBOARD);V=(0,eq.t)("org_dashboard.design_editors_text_and_fig_jam_file_editors_text_added_upcoming_invoice",{designEditorsText:e,figJamEditorsText:t})}}break;case _9.O4.DEFAULT:let u=(0,_9.qo)(e.invoices,"upcoming");if(1===u.quarter)V=U({[_K.z9.DESIGN]:u.quantity_full_members,[_K.z9.FIGJAM]:u.figjam_billable_seats??0,[_K.z9.DEV_MODE]:(null==(o=u.license_type_configuration[_K.z9.DEV_MODE])?void 0:o.total_quantity)??0});else if(f){let e={[_K.z9.DESIGN]:u.quantity_added,[_K.z9.FIGJAM]:u.figjam_owed_seats??0,[_K.z9.DEV_MODE]:(null==(c=u.license_type_configuration[_K.z9.DEV_MODE])?void 0:c.added_quantity)??0},t=Object.values(e).every(e=>1===e),a={designCount:e[_K.z9.DESIGN],figJamCount:e[_K.z9.FIGJAM],devModeCount:e[_K.z9.DEV_MODE]};V=t?(0,eq.t)("org_dashboard.added_upcoming_invoice_singular_with_dev_mode",a):(0,eq.t)("org_dashboard.added_upcoming_invoice_plural_with_dev_mode",a)}else{let e=M(u.quantity_added,ao.gg.DESIGN),t=M(u.figjam_owed_seats??0,ao.gg.WHITEBOARD);V=(0,eq.t)("org_dashboard.design_editors_text_and_fig_jam_file_editors_text_added_upcoming_invoice",{designEditorsText:e,figJamEditorsText:t})}break;default:(0,eL.vE)(t)}}return ev.createElement("div",{className:"dashboard--container--KKsGd admin_settings_page--container--qnrCG"},ev.createElement("div",{className:"dashboard--overview--ny1rm"},ev.createElement("div",{className:"dashboard--overviewLeft--wdTpo"},ev.createElement(bD.Fu,{dispatch:m,entityType:bA.py.ORG,entity:e.org,size:80,avatarEditorState:u}),ev.createElement("div",{className:"dashboard--handle--5rF0W"},ev.createElement(oc.x,{fontWeight:"regular",fontSize:24},e.org.name),e.org.community_profile_handle&&ev.createElement("div",{className:"dashboard--communityProfile--1T3gQ text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>{m(od.fv({view:"communityHub",subView:"handle",handle:e.org.community_profile_handle}))}},"@",e.org.community_profile_handle))),ev.createElement("div",{className:"dashboard--overviewRight--bhW0U"},ev.createElement("div",null,ev.createElement("span",{className:Fx},ev.createElement(eq.Tx,{id:"org_dashboard.total_teams"})),ev.createElement("span",{className:FN},e.teams.length)),ev.createElement("div",null,ev.createElement("span",{className:Fx},ev.createElement(eq.Tx,{id:"org_dashboard.total_members"})),ev.createElement("span",{className:FN},e.orgUserCount)))),C&&ev.createElement(tD.j,{spacing:16,direction:"vertical"},S&&ev.createElement(e3.Ui,{name:r2.V4.DEV_MODE_SUGGESTED_UPGRADES_ACTION_CARD,properties:{adminRequestsDashboard:!0,orgId:e.org.id}},ev.createElement(Fc,{onClick:()=>{b?R():L()},title:(0,eq.t)("admin_dashboard.suggested.tile.title",{dateObject:Fm.Gy}),text:d,color:Fo.YELLOW,dataTestId:`billing-highlight-${_9.SR.DEV_MODE_SUGGESTED_UPGRADES}`})),P&&ev.createElement(Fc,{onClick:O,title:(0,eq.t)("org_dashboard.billing"),text:(0,_9.GJ)(e.org,e.invoices),alertIcon:ev.createElement(fZ.bM,{faded:!0}),dataTestId:`billing-highlight-${_9.SR.BILLING_STATUS}`}),N&&ev.createElement(Fc,{onClick:D,title:(0,eq.t)("org_dashboard.settings"),text:(0,eq.t)("billing_status.tax_id.invalid.v2"),alertIcon:ev.createElement(fZ.bM,{faded:!0}),dataTestId:`billing-highlight-${_9.SR.TAX_ID_STATUS}`}),ev.createElement("div",{className:ek.cx.mb16.$},ev.createElement(FT,{org:e.org,onClickViewHistory:()=>F("activity_log.filter.upgrade_requests_and_activity")}))),!C&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:FL}),!!(null==B?void 0:B.length)&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:FC},ev.createElement("div",{className:FS},ev.createElement(eq.Tx,{id:"org_dashboard.billing"})),B.map((t,a)=>t.primaryTitle&&ev.createElement("div",{key:a,className:Fk,onClick:t.onClick,role:"link",tabIndex:0,"data-testid":`billing-highlight-${t.type}`},ev.createElement("div",{className:"dashboard--sectionWithIcon--BArGr"},ev.createElement(vB.IB,{org:e.org,orgUser:_,invoices:e.invoices,showTooltip:!1,alignTop:!0,highlightType:t.type}),ev.createElement("div",null,ev.createElement("div",null,t.primaryTitle),ev.createElement("div",{className:FR},t.secondaryTitle))),ev.createElement(eD.n,{svg:FA,className:FI})))),ev.createElement("div",{className:FL})),V&&ev.createElement("div",{className:FC},ev.createElement("div",{className:FS},ev.createElement(eq.Tx,{id:"org_dashboard.members"})),ev.createElement("div",{className:Fk,onClick:()=>{m(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.MEMBERS,orgAdminMembersTabSort:{columnName:Te.h3.DESIGN_ROLE,isReversed:!0}}))}},ev.createElement("div",null,ev.createElement("div",null,V),ev.createElement("div",{className:FR},ev.createElement(eq.Tx,{id:"org_dashboard.visit_the_members_tab_for_more_details"}))),ev.createElement(eD.n,{svg:FA,className:FI})))))}function FD(e){return ev.createElement(DH,{org:e.org,orgAdmins:e.orgAdmins,invoices:e.invoices,currentFilters:e.currentFilters,designBillableSeats:e.designBillableSeats,figjamBillableSeats:e.figjamBillableSeats,licenseGroupMemberCounts:e.licenseGroupMemberCounts,licenseGroupTeamCounts:e.licenseGroupTeamCounts})}function FF(e){return(0,lL.E)("exp_teams_table_refactor",{type:Rz.i_.ORG,id:e}).defaultValue(!1).treatment("variant",!0).disableTracking().get()}let FM={[fe.rN.RESOURCES]:[fe.Q$.LIBRARIES,fe.Q$.SHARED_FONTS,fe.Q$.APPROVED_PLUGINS,fe.Q$.APPROVED_WIDGETS],[fe.rN.BILLING]:[fe._J.INVOICES,fe._J.BILLING_GROUPS]},FP=e=>{let t=(0,uL.Ng)(),a=(0,w8.yS)(),r=a.length>0,n=ev.useCallback(a=>{if(e===fe.rN.BILLING)switch(a){case fe._J.INVOICES:return r;case fe._J.BILLING_GROUPS:return t&&t.bigma_enabled&&(0,oC.Fo)(t.id)}return!0},[e,r,t]),i=FM[e];return i?i.filter(n):[]};function FB({tab:e,selectedSecondaryTab:t}){let a=(0,eb.I0)(),r=(0,uL.Ng)(),n=FP(e),i=ev.useCallback(t=>{a(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:e,orgAdminSettingsViewSecondaryTab:t}))},[a,e]),l=n.length>1;if(!l)return null;let s=!(0,oC.Fo)(null==r?void 0:r.id),o=t||n[0];return s?ev.createElement("div",{className:ek.cx.px32.pt16.$,"data-testid":"org-admin-settings-secondary-tabs"},ev.createElement(EB.v,{tabs:n.map(t=>ev.createElement(EB.y,{key:t,tab:t,isSelected:o===t,onClick:i,tabName:(0,w7.K)(e,t)}))})):ev.createElement(tD.j,{height:40,padding:{left:20,right:32},strokeWidth:{bottom:1},strokeColor:"default",spacing:0,dataTestId:"org-admin-settings-secondary-tabs"},n.map(t=>ev.createElement(nG.O,{key:t,tab:t,selectedTab:o,onClick:i},ev.createElement(oc.x,{fontSize:11},(0,w7.K)(e,t)))))}let FU=(0,NQ.Bw)(),FV=e=>Object.values(fe.rN).filter(t=>!fe.GK.includes(t)&&(t!==fe.rN.BILLING||!!e.length)),FW=(e,t)=>{let a=(0,oC.uH)(e);return Object.values(fe.rN).filter(e=>a?e!==fe.rN.LICENSE_GROUPS:(e!==fe.rN.BILLING||!!t.length)&&e!==fe.rN.WORKSPACES)};function FG(e){let t=(0,eb.I0)(),a=(0,eb.v9)(({currentUserOrgId:e})=>e),r=(0,_t.Mn)(),n=(0,w8.yS)(),i=r.orgById[a],l=i.bigma_enabled,s=(0,w$.GZ)(a),o=e=>{e===fe.rN.BILLING&&n.length&&s(),t(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:e}))},c=l?FW(a,n):FV(n),d=c.map(t=>ev.createElement(Rr,{"data-onboarding-key":Tg[t],tab:t,selectedTab:e.selectedTab,key:t,onClick:o,mobileNavTabTitle:(0,w7.K)(t),getDisplayName:w7.K})),m=(0,w7.K)(e.selectedTab),u=ev.createElement(FU,{key:"DESKTOP_SMALL_TABS_SELECTOR",tab:m,selectedTab:m,mobileNavTabTitle:m,dropdownKey:"DESKTOP_SMALL_TABS_SELECTOR",dropdownOptions:c.map(a=>ev.createElement(gb.j.CheckableOption,{checked:a===e.selectedTab,key:`desktop-small-tab-${a}`,onClick:()=>{t(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:a}))}},(0,w7.K)(a)))},m);return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"org_admin_settings_view_toolbar--desktopAndMobile--2db6t"},ev.createElement(Rd,{navTabs:d})),ev.createElement("div",{className:"org_admin_settings_view_toolbar--customDesktopSmall--Ojqyv"},ev.createElement(Rd,{navTabs:[u]})),ev.createElement(FB,{tab:e.selectedTab,selectedSecondaryTab:e.selectedSecondaryTab}))}let Fj=e=>{let t={};return e.org_analytics.forEach(e=>{let{plugin_id:a,extension_usage_window:r,workspaces_extensions_used_on:n,n_extension_actions:i,n_extension_users:l}=e,s={n_extension_actions:parseInt(i),n_extension_users:parseInt(l),workspaces_extensions_used_on:n,top_org_users:[]},o={usage_windows:{[r]:s}};t[a]?t[a]={...t[a],usage_windows:{...t[a].usage_windows,...o.usage_windows}}:t[a]=o}),e.top_org_users.forEach(e=>{let{org_id:a,plugin_id:r,extension_usage_window:n,org_rank:i,n_extension_actions:l,user_id:s,user_name:o,img_url:c}=e,d=t[r];if(!d){let e=Error(`Missing extension analytics data for org ${a} and plugin ${r}`);(0,ae.Jz)(m0.k.EXTENSIBILITY,e);return}let m=d.usage_windows[n];if(!m)throw Error("Missing extension_usage_window from org analytics data");let u={user_id:s,user_name:o,img_url:c,org_rank:parseInt(i),n_extension_actions:parseInt(l)};m.top_org_users||(m.top_org_users=[]),m.top_org_users.push(u)}),t},FH=new class{constructor(){this.OrgExtensionAnalyticsValidator=(0,ry.PP)(),this.getExtensionAnalyticsForOrg=async e=>{let t=await this.OrgExtensionAnalyticsValidator.validate(async({xr:t})=>await t.get(`/api/extension_analytics/v1/org/${e}`)),{data:a}=t,{meta:r}=a;return Fj(r)}}};var F$=((G=F$||{}).ALLOWLIST="allowlist",G.PUBLIC="public",G);class Fz{constructor(e){this.extensionType=e}getWhitelistEnforcedPayload(e){return void 0===e?{}:"plugin"===this.extensionType?{plugins_whitelist_enforced:"allowlist"===e}:{widgets_whitelist_enforced:"allowlist"===e}}getSuccessMessage(e){if(e)return"plugin"===this.extensionType?"allowlist"===e?(0,eq.t)("settings_tab.enable_plugin_approval_success"):(0,eq.t)("settings_tab.disable_plugin_approval_success"):"allowlist"===e?(0,eq.t)("settings_tab.widget_admin_approval_enabled"):(0,eq.t)("settings_tab.widget_admin_approval_disabled")}getInitialExtensionAllowed(e){return"plugin"===this.extensionType?!e.publicPluginsAllowed||e.pluginsWhitelistEnforced?"allowlist":"public":!e.publicPluginsAllowed||e.widgetsWhitelistEnforced?"allowlist":"public"}getSettingsText(){let e={title:(0,eq.t)("resources_tab.approved_plugins.modal.plugin_approval"),permissionsText:(0,eq.t)("resources_tab.approved_plugins.modal.org_members_can_use"),allRadioText:(0,eq.t)("resources_tab.approved_plugins.modal.all_plugins"),defaultRadioText:(0,eq.t)("resources_tab.approved_plugins.modal.default"),approvedRadioText:(0,eq.t)("resources_tab.approved_plugins.modal.approved_plugins_only"),requestCheckboxText:(0,eq.t)("resources_tab.approved_plugins.modal.request_plugins")},t={title:(0,eq.t)("resources_tab.approved_widgets.modal.widget_approval"),permissionsText:(0,eq.t)("resources_tab.approved_plugins.modal.org_members_can_use"),allRadioText:(0,eq.t)("resources_tab.approved_widgets.modal.all_widgets"),defaultRadioText:(0,eq.t)("resources_tab.approved_widgets.modal.default"),approvedRadioText:(0,eq.t)("resources_tab.approved_widgets.modal.approved_widgets_only"),requestCheckboxText:(0,eq.t)("resources_tab.approved_widgets.modal.request_widgets")};return"plugin"===this.extensionType?e:t}getExtensionRequestsAllowed(e){return"plugin"===this.extensionType?e.pluginRequestsAllowed:e.widgetRequestsAllowed}getExtensionRequestAllowedPayload(e){return void 0===e?{}:"plugin"===this.extensionType?{plugin_requests_allowed:e}:{widget_requests_allowed:e}}}function FK(e){let{modalCopy:t,extensionsAllowed:a,setExtensionsAllowed:r,extensionRequestsAllowed:n,setExtensionRequestsAllowed:i}=e;return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.flex.flexColumn.$},ev.createElement("div",{className:ek.cx.mx8.my4.$},ev.createElement(oc.x,{fontSize:11,fontWeight:"medium"},t.permissionsText)),ev.createElement(Ed.E,{value:a,onChange:r,className:ek.cx.flex.flexColumn.py8.pl10.gap4.$},ev.createElement(Ed._,{value:"public",dataTestId:"all-radio-option"},ev.createElement(oc.x,{fontSize:11},t.allRadioText),ev.createElement(oc.x,{fontSize:11,color:"secondary"},t.defaultRadioText)),ev.createElement(Ed._,{value:"allowlist",dataTestId:"allowlist-radio-option"},ev.createElement(oc.x,{fontSize:11},t.approvedRadioText)))),"allowlist"===a&&ev.createElement("div",{className:ek.cx.flex.flexColumn.pt8.mt8.bt1.colorBorder.bSolid.$},ev.createElement("div",{className:ek.cx.p8.$},ev.createElement(pe.X,{checked:n,label:t.requestCheckboxText,onChange:e=>{i(e.currentTarget.checked)}}))))}function FZ({goBack:e,text:t}){return ev.createElement("div",{className:ek.cx.wFull.flex.itemsCenter.gap4.$},ev.createElement(oM.z,{icon:"chevron-left-32",onClick:e,variant:"text"}),ev.createElement(oc.x,{truncate:!0,color:"default"},t))}let Fq=(0,it.Y3)(function({orgId:e,extensionType:t,hasBackButton:a}){var r;let n=(0,dV.mU)(dH.AllowlistSettingsModalView,{orgId:e}),i=null==(r=n.data)?void 0:r.org,l=new Fz(t),s=l.getSettingsText(),o=(0,eb.I0)(),c=()=>{a&&o(ig.eI()),o(ig.eI())},[d,m]=ev.useState(),[u,_]=ev.useState();if("loading"===n.status||"errors"===n.status||!i)return null;let p=l.getInitialExtensionAllowed(i),g=l.getExtensionRequestsAllowed(i);return ev.createElement(ib.ge,{title:a?ev.createElement(FZ,{text:s.title,goBack:()=>o(ig.eI())}):s.title,onClose:c,maxWidth:a?void 0:320,minWidth:a?void 0:320,fixedTop:!!a},ev.createElement("div",{className:ek.cx.flex.flexColumn.px8.py16.$},ev.createElement(FK,{modalCopy:s,extensionsAllowed:d??p,setExtensionsAllowed:m,extensionRequestsAllowed:u??g,setExtensionRequestsAllowed:_}),ev.createElement("div",{className:ek.cx.flex.flexRow.gap8.justifyEnd.mr8.mt8.$},ev.createElement(oM.z,{onClick:c},(0,eq.t)("general.cancel")),ev.createElement(oM.z,{onClick:()=>{if(i.publicPluginsAllowed){let e={...l.getWhitelistEnforcedPayload(d),...l.getExtensionRequestAllowedPayload(u)};o(x1.Vx({payload:e,successMessage:l.getSuccessMessage(d??p)})),c()}else o((0,ig.K4)({type:A$,data:{org:{currentUserOrgId:e},extensionType:t}}))},variant:"primary",dataTestId:"save-button"},(0,eq.t)("general.save")))))},"AllowlistSettingsModal"),FY="extension_allowlist_table--afterDivider--XU9gY";var FJ=((j=FJ||{}).NAME="name",j.APPROVED="approved",j);function FQ({allowlistedExtensions:e,extensionToUsageData:t,orgId:a,extensionType:r,onAddExtension:n,selectedExtensionId:i}){let[l,s]=ev.useState({column:"name",isReversed:!1}),o=ev.useMemo(()=>({name:e=>e.name??"",approved:e=>e.approvedAt.getTime()}),[]),c=(0,eb.I0)(),d=FX(e,r),m=d.size>0,u=Array.from(d.values());return(0,nx.Wk)(u,o[l.column],l.isReversed,l.secondaryColumn&&(null==o?void 0:o[l.secondaryColumn]),l.isSecondaryReversed),ev.useEffect(()=>{if(i){let e=null==t?void 0:t[i];c((0,ig.K4)({type:AU,data:{mode:"manage",extensionId:i,orgId:a,usageData:e,extensionType:r,initialTab:"overview",isAllowed:!0,openDeclineModal:ex.ZT}}))}},[c,t,r,a,i]),ev.createElement("div",{className:ek.cx.flex.flexColumn.$,"data-testid":"extension-allowlist-table"},ev.createElement("div",{className:ek.cx.pl32.$},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.table.approved_header",fontSize:13,fontWeight:"medium"})),ev.createElement(F0,{extensionType:r,updateSortState:e=>{l.column===e?s(e=>({...e,isReversed:!e.isReversed})):s(t=>({column:e,isReversed:!1,secondaryColumn:t.column,isSecondaryReversed:t.isReversed}))},sortState:l}),m?u.map((e,n)=>{let i=n=>{let i=null==t?void 0:t[e.extensionId];c((0,ig.K4)({type:AU,data:{mode:"manage",extensionId:e.extensionId,orgId:a,usageData:i,extensionType:r,initialTab:n,isAllowed:!0,openDeclineModal:ex.ZT}}))};return ev.createElement(pw.SC,{key:e.extensionId,className:tQ()(ek.cx.flex.itemsCenter.gap16.relative.$,FY),style:ie.sx.add({border:"none"}).px32.py12.$,useAdminTableStyles:!0,onClick:e=>{e.stopPropagation(),i("overview")},dataTestId:`extension-allowlist-table-row-${n}`},ev.createElement(F2,{name:e.name,iconUrl:e.iconUrl}),ev.createElement(F3,{description:e.description,tagline:e.tagline}),ev.createElement(F4,{entry:e}),ev.createElement(F8,{entry:e,openAllowlistModal:i}),ev.createElement(F5,null))}):ev.createElement("div",{className:ek.cx.mt32.mlAuto.mrAuto.$},ev.createElement(Aq,{extensionType:r,onAddExtension:n})))}function FX(e,t){let a=new Map;for(let r of e){let e=r.plugin;if(!e||"plugin"===t&&e.isWidget||"widget"===t&&!e.isWidget)continue;let n=e.currentPluginVersion;if(!n)continue;let{id:i}=e,{iconUrl:l,name:s,description:o,tagline:c}=n,{createdAt:d}=r,m=function(e){let{allowlistGroupType:t}=e;switch(t){case"Org":{let{allowlistedOrg:a}=e;if(!a)return null;return{type:t,id:a.id,name:a.name}}case"Workspace":{let{allowlistedWorkspace:a}=e;if(!a)return null;return{type:t,id:a.id,name:a.name}}default:return null}}(r);if(!m)continue;let u=a.get(i);if(u){u.allowlistGroups.push(m),u.approvedAt=d<u.approvedAt?d:u.approvedAt;continue}let _={extensionId:i,iconUrl:l,name:s,description:o,tagline:c,approvedAt:d,allowlistGroups:[m]};a.set(i,_)}return a}function F0({extensionType:e,updateSortState:t,sortState:a}){return ev.createElement(pw.SC,{header:!0,useAdminTableStyles:!0,className:tQ()(ek.cx.fontSemiBold.relative.flex.gap16.itemsBaseline.$,FY),style:ie.sx.add({border:"none"}).px32.py16.$},ev.createElement(pw.qN,{style:ie.sx.add({width:"20%"}).$},ev.createElement(pw.de,{hasArrow:"name"===a.column,field:"name",sortBy:()=>t("name"),isDescending:!a.isReversed},ev.createElement(oc.x,{color:"default",i18nId:"plugin"===e?"resources_tab.approved_plugins.table.plugin_name_column":"resources_tab.approved_plugins.table.widget_name_column"}))),ev.createElement(pw.qN,{style:ie.sx.add({width:"40%"}).$},ev.createElement(oc.x,{color:"default",i18nId:"resources_tab.approved_plugins.table.description_column"})),ev.createElement(pw.qN,{style:ie.sx.add({width:"10%"}).justifyStart.$},ev.createElement(pw.de,{hasArrow:"approved"===a.column,field:"approved",sortBy:()=>t("approved"),isDescending:!a.isReversed},ev.createElement(oc.x,{color:"default",i18nId:"resources_tab.approved_plugins.table.approved_column"}))),ev.createElement(pw.qN,{style:ie.sx.add({width:"20%"}).justifyStart.$},ev.createElement(oc.x,{color:"default",i18nId:"resources_tab.approved_plugins.table.approved_for_column"})),ev.createElement(pw.qN,{style:ie.sx.add({width:"10%"}).justifyStart.$},ev.createElement("span",null)," "))}let F1=a(589668);function F2({name:e,iconUrl:t,numWorkspaces:a}){return ev.createElement("div",{className:ek.cx.flex.itemsCenter.gap12.overflowHidden.$,style:ie.sx.add({width:"20%"}).$},ev.createElement("img",{src:t??"",alt:"approved for workspace",className:ek.cx.w24.h24.bRadius6.$}),ev.createElement(oc.x,{truncate:!0},e),a&&a>0&&ev.createElement(eD.n,{width:"16px",height:"16px",svg:F1,className:"extension_allowlist_table--greenCheck--UQRQb","data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("resources_tab.approved_plugins.table.already_approved",{numWorkspaces:a})}))}function F3({description:e,tagline:t}){return ev.createElement("div",{className:ek.cx.flex.itemsCenter.overflowHidden.$,style:ie.sx.add({width:"40%"}).$},ev.createElement(oc.x,{truncate:!0,showTooltipWhenTruncated:!1},(0,R4.ju)(t||e||"")))}function F4({entry:e}){return ev.createElement("div",{className:ek.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:ie.sx.add({width:"10%"}).$},ev.createElement(n2.Lt,{date:e.approvedAt}))}function F8({entry:e,openAllowlistModal:t}){let a=ev.useMemo(()=>{let a=e.allowlistGroups.some(e=>"Org"===e.type);if(a)return ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.table.entire_org"});let r=e.allowlistGroups[0];if(!r)return null;if(e.allowlistGroups.length>1){let a=e.allowlistGroups.map(e=>e.name).join("\n");return ev.createElement("button",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":a,"data-tooltip-text-left":!0,type:"button",className:ek.cx.bgTransparent.cursorPointer.$,onClick:e=>{e.stopPropagation(),t("edit")}},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.table.n_workspaces_approved_for",i18nParams:{numberOfWorkspaces:e.allowlistGroups.length},color:"brand"}))}return r.name},[e.allowlistGroups,t]);return ev.createElement("div",{className:ek.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:ie.sx.add({width:"20%"}).$},a)}function F5(){return ev.createElement("div",{className:ek.cx.flex.itemsCenter.justifyEnd.overflowHidden.$,style:ie.sx.add({width:"10%"}).$},ev.createElement(t3.JO,{icon:"chevron-right-32"}))}let F9=(0,it.Y3)(function({extension:e,isWidget:t,declineModalParams:a}){let{name:r,iconUrl:n}=e,[i,l]=ev.useState(void 0),s=(0,eb.I0)(),o=t?(0,eq.t)("extension_decline_modal.decline_widget_request"):(0,eq.t)("extension_decline_modal.decline_plugin_request"),c=()=>s(ig.eI()),d=e=>{let t={orgId:e.orgId,extensionId:e.extensionId,extensionType:e.extensionType,declineNote:i};0===e.approvedWorkspaceIds.length?R5.m.rejectRequestForOrg(t):R5.m.updateRequestForWorkspaces({...e,declineNote:i}),s(ig.eI()),c()},m=t?(0,eq.t)("extension_decline_modal.leave_widget_note"):(0,eq.t)("extension_decline_modal.leave_plugin_note");return ev.createElement(ib.ge,{title:o,maxWidth:360,onClose:c,disableClickOutsideToHide:!0},ev.createElement("div",{className:ek.cx.p16.$,"data-testid":"decline-extension-request-modal"},ev.createElement("div",{className:ek.cx.mb16.flex.itemsCenter.$},ev.createElement("img",{src:n??"",alt:"plugin icon",className:ek.cx.w24.h24.bRadius6.mr8.$}),ev.createElement(oc.x,{fontWeight:"medium",truncate:!0},r)),ev.createElement("div",{className:ek.cx.mb16.$},ev.createElement(oc.x,null,m)),ev.createElement("div",{className:ek.cx.mb16.$},ev.createElement("textarea",{className:ek.cx.wFull.borderBox.b1.h64.bRadius2.p8.resizeNone.colorBorder.$,value:i,onChange:e=>{l(e.target.value)}})),ev.createElement(tD.j,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},ev.createElement(oM.z,{variant:"secondary",onClick:c},(0,eq.t)("general.cancel")),ev.createElement(oM.z,{variant:"primary",onClick:()=>d(a)},(0,eq.t)("resources_tab.approved_plugins.modal.decline")))))},"ExtensionDeclineModal"),F6=e=>{let t=new Map;for(let a of e){let{createdAt:e,orgUser:r,plugin:n}=a;if(!n||!r)continue;let{currentPluginVersion:i}=n;if(!i)continue;let l=n.id,{name:s,iconUrl:o,description:c,tagline:d}=i,{user:m}=r;if(!m.name||!m.email)continue;let u={userId:m.id,name:m.name,email:m.email,imgUrl:m.imgUrl},_={extensionId:n.id,name:s,iconUrl:o,description:c,tagline:d,lastRequestedDates:[e],requesters:[u]},p=t.get(l);p?(p.lastRequestedDates.push(e),p.requesters.push(u)):t.set(l,_)}for(let e of t.values())e.lastRequestedDates.sort((e,t)=>t.getTime()-e.getTime());return t},F7=(e,t)=>e.filter(e=>"pending"===e.status).filter(e=>{let{plugin:a}=e;return!!a&&("plugin"===t?!a.isWidget:a.isWidget)});var Me=((H=Me||{}).NAME="name",H.LAST_REQUESTED="last_requested",H);function Mt({extensionType:e,updateSortState:t,sortState:a}){return ev.createElement(pw.SC,{header:!0,useAdminTableStyles:!0,className:tQ()(ek.cx.fontSemiBold.relative.flex.gap16.itemsBaseline.$,FY),style:ie.sx.add({border:"none"}).px32.py16.$},ev.createElement(pw.qN,{style:ie.sx.add({width:"20%"}).$},ev.createElement(pw.de,{hasArrow:"name"===a.column,field:"name",sortBy:()=>t("name"),isDescending:!a.isReversed},ev.createElement(oc.x,{color:"default",i18nId:"plugin"===e?"resources_tab.approved_plugins.table.plugin_name_column":"resources_tab.approved_plugins.table.widget_name_column"}))),ev.createElement(pw.qN,{style:ie.sx.add({width:"40%"}).$},ev.createElement(oc.x,{color:"default",i18nId:"resources_tab.approved_plugins.table.description_column"})),ev.createElement(pw.qN,{style:ie.sx.add({width:"10%"}).justifyStart.$},ev.createElement(pw.de,{hasArrow:"last_requested"===a.column,field:"last_requested",sortBy:()=>t("last_requested"),isDescending:!a.isReversed},ev.createElement(oc.x,{color:"default",i18nId:"resources_tab.approved_plugins.table.last_requested_column"}))),ev.createElement(pw.qN,{style:ie.sx.add({width:"20%"}).justifyStart.$},ev.createElement(oc.x,{color:"default",i18nId:"resources_tab.approved_plugins.table.requested_by_column"})),ev.createElement(pw.qN,{style:ie.sx.add({width:"10%"}).justifyStart.$},ev.createElement("span",null)," "))}function Ma({lastRequestedDate:e}){return ev.createElement("div",{className:ek.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:ie.sx.add({width:"10%"}).$},ev.createElement(n2.Lt,{date:e}))}function Mr({requesters:e,onClick:t}){let a;if(1===e.length){let t=e[0];a=ev.createElement(ev.Fragment,null,ev.createElement(oo.Yt,{size:oo.DZ.MEDIUM,user:t}),ev.createElement("div",{className:ek.cx.flex.flexColumn.ml8.$},ev.createElement(oc.x,{color:"default",fontSize:11,fontWeight:"medium"},t.name),ev.createElement(oc.x,{color:"secondary",fontSize:11},t.email)))}else{let r=e.map(e=>e.name).join("\n");a=ev.createElement("button",{onClick:t,style:ie.sx.add({backgroundColor:"inherit"}).$,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":r,"data-tooltip-text-left":!0},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.table.members",i18nParams:{numberOfMembers:e.length},fontSize:11,color:"brand"}))}return ev.createElement("div",{className:ek.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:ie.sx.add({width:"20%"}).$},ev.createElement("div",{className:ek.cx.flex.itemsCenter.$},a))}function Mn(){return ev.createElement("div",{className:ek.cx.flex.itemsCenter.justifyEnd.overflowHidden.$,style:ie.sx.add({width:"10%"}).$},ev.createElement(eA.DF,null,ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.table.review_button"})))}function Mi(e){let t=(0,eb.I0)(),{entry:a,orgId:r,extensionType:n,isAllowed:i,usageData:l,dataTestId:s}=e,{extensionId:o}=a,c=()=>{t((0,ig.K4)({type:AU,data:{mode:"review",extensionId:o,orgId:r,usageData:l,extensionType:n,isAllowed:i,openDeclineModal:d}}))},d=e=>{let i={extension:{pluginId:a.extensionId,iconUrl:a.iconUrl,name:a.name},isWidget:"widget"===n,orgId:r,workspaceDetails:void 0,declineModalParams:e};t((0,ig.K4)({type:F9,data:i}))};return ev.createElement(pw.SC,{className:tQ()(ek.cx.flex.itemsCenter.gap16.relative.$,FY),style:ie.sx.add({border:"none"}).px32.py12.$,useAdminTableStyles:!0,onClick:c,dataTestId:s},ev.createElement(F2,{name:a.name,iconUrl:a.iconUrl,numWorkspaces:e.numAllowedWorkspaces}),ev.createElement(F3,{description:a.description,tagline:a.tagline}),ev.createElement(Ma,{lastRequestedDate:a.lastRequestedDates[0]}),ev.createElement(Mr,{requesters:a.requesters,onClick:c}),ev.createElement(Mn,null))}function Ml(e){let{orgId:t,extensionToUsageData:a,extensionType:r}=e,[n,i]=ev.useState({column:"last_requested",isReversed:!0}),l=ev.useMemo(()=>({name:e=>e[1].name??"",last_requested:e=>e[1].lastRequestedDates[0].getTime()}),[]),s=(0,dV.mU)(dH.PluginRequests,{orgId:t});if("loading"===s.status||"disabled"===s.status)return null;if("errors"===s.status)return(0,ae.Jz)(m0.k.EXTENSIBILITY,Error("Failed to load plugin requests")),null;let{data:o}=s,{org:c}=o;if(!c)return null;let{pluginRequests:d,allowlistedPlugins:m}=c;if(!d||0===d.length)return null;let u=F7(d,r),_=m.map(e=>e.pluginId),p=FX(e.allowlistedExtensions,r),g=F6(u);if(0===g.size)return null;let E=Array.from(g.entries());return(0,nx.Wk)(E,l[n.column],n.isReversed,n.secondaryColumn&&(null==l?void 0:l[n.secondaryColumn]),n.isSecondaryReversed),ev.createElement("div",{className:ek.cx.pb32.$},ev.createElement("div",{className:ek.cx.pl32.$},ev.createElement(oc.x,{i18nId:"resources_tab.approved_plugins.table.requested_header",fontSize:13,fontWeight:"medium"})),ev.createElement(Mt,{extensionType:r,updateSortState:e=>{n.column===e?i(e=>({...e,isReversed:!e.isReversed})):i(t=>({column:e,isReversed:!1,secondaryColumn:t.column,isSecondaryReversed:t.isReversed}))},sortState:n}),ev.createElement("div",{className:ek.cx.flex.flexColumn.$,"data-testid":"extension-request-table"},E.map(([e,n],i)=>{var l;let s=(null==(l=p.get(e))?void 0:l.allowlistGroups.length)??void 0;return ev.createElement(Mi,{extensionType:r,orgId:t,entry:n,key:e,isAllowed:_.includes(e),numAllowedWorkspaces:s,usageData:null==a?void 0:a[e],dataTestId:`extension-request-table-row-${i}`})})))}function Ms({orgId:e,extensionType:t,selectedExtensionId:a}){var r;let n=(0,eb.I0)(),i=(0,uL.Ng)(),l=(null==i?void 0:i.bigma_enabled)??!1,s=(0,dV.mU)(dH.AllowlistPluginsSectionView,{orgId:e}),[o]=(0,rv.aM)(Md(e),{enabled:l}),c=null==(r=s.data)?void 0:r.org,d=()=>{"plugin"===t?n((0,ig.K4)({type:Az,data:{currentUserOrgId:e}})):n((0,ig.K4)({type:AK,data:{currentUserOrgId:e}}))},m=()=>{n((0,ig.K4)({type:Fq,data:{orgId:e,extensionType:t}}))};if("loading"===s.status||"errors"===s.status||!c)return null;let u=Mc(t,c);return ev.createElement(xy.rn,{selectedViewAndTab:{view:fe.yA.ORG,tab:Mo[t]},rightActions:ev.createElement("div",{className:ek.cx.flex.flexRow.gap8.$},ev.createElement(oM.z,{icon:"plus-32",disabled:!u,onClick:d},"plugin"===t&&ev.createElement(eq.Tx,{id:"resources_tab.approved_plugins.actions.plugin"}),"widget"===t&&ev.createElement(eq.Tx,{id:"resources_tab.approved_widgets.actions.widget"})),ev.createElement(oM.z,{icon:"adjust-32",onClick:m},ev.createElement(eq.Tx,{id:"resources_tab.approved_plugins.actions.settings"})))},!u&&ev.createElement("div",{className:ek.cx.ml32.mr32.mb24.$},ev.createElement(AJ,{extensionType:t,onGoToSettings:m,settingsText:(0,eq.t)("resources_tab.approved_plugins.plugin_approval_banner.open_settings")})),ev.createElement("div",{className:ek.cx.if(!u,ek.cx.opacity0_3.eventsNone).$},ev.createElement(Ml,{orgId:e,extensionToUsageData:o.data,extensionType:t,allowlistedExtensions:c.allowlistedPlugins}),ev.createElement(FQ,{allowlistedExtensions:c.allowlistedPlugins,extensionToUsageData:o.data,orgId:e,extensionType:t,onAddExtension:d,selectedExtensionId:a})))}let Mo={plugin:fe.Q$.APPROVED_PLUGINS,widget:fe.Q$.APPROVED_WIDGETS},Mc=(e,t)=>"plugin"===e?!!(t.publicPluginsAllowed&&t.pluginsWhitelistEnforced):!!(t.publicPluginsAllowed&&t.widgetsWhitelistEnforced),Md=rv.t1.Query({fetch:async e=>await FH.getExtensionAnalyticsForOrg(e)});function Mm(e,t,a=!0){let r=new URLSearchParams(ew.default.location.search),n=r.get(e);if("true"===n){if(a){r.delete(e);let t=r.toString().length>0?`?${r.toString()}`:"";ew.default.replace(`${ew.default.location.pathname}${t}`)}t()}}var Mu=a(651705),M_=(($=M_||{}).DAILY="daily",$.WEEKLY="weekly",$.MONTHLY="monthly",$),Mp=((z=Mp||{}).ALL_ADMINS="all_admins",z.SPECIFIC_ADMINS="specific_admins",z),Mg=((K=Mg||{}).TEAM="team",K.ORGANIZATION="organization",K),ME=((Z=ME||{}).NEW_EDITOR_NOTIFICATION="new_editor_notification",Z),Mh=((q=Mh||{}).VIEWER="viewer",q.VIEWER_RESTRICTED="viewer_restricted",q.FULL="full",q);let Mf=new class{constructor(){this.NotificationSettingsSchemaValidator=(0,ry.PP)(),this.PlanPropertiesSchemaValidator=(0,ry.PP)()}getNotificationSettings(e){return this.NotificationSettingsSchemaValidator.validate(async({xr:t})=>{let a=await t.get("/api/billing/notification_settings",ry.yA.toAPIParameters({plan_id:e.planId,plan_type:e.planType,notification_type:e.notificationType}));return a??null})}getPlanProperties(e){return this.PlanPropertiesSchemaValidator.validate(async({xr:t})=>{let a=await t.get(`/api/billing/${e.planType}/${e.planId}/plan_properties`,ry.yA.toAPIParameters({desired_properties:["default_paid_status_design","default_paid_status_whiteboard"].toString()}));return a??null})}updatePlanProperties(e){return this.PlanPropertiesSchemaValidator.validate(async({xr:t})=>{let a=await t.put(`/api/billing/${e.planType}/${e.planId}/plan_properties`,e.properties);return a??null})}};var Mv=a(772760),Mb=a(160296),My=a(80613),Mw=a(382052),MT=a(255215),Mx=a(300174),MN=a(307425),MC=a(961215),MS=a(938110),Mk=a(548626),MI=a(164214),ML=a(158451),MR=a(450062);function MA({onClick:e,onChange:t,value:a,error:r,buttonText:n}){let i=(0,uL.Ng)(),l=(0,eb.I0)(),s=ev.createElement(eA.UU,{onClick:()=>{if(ey.YO)l(od.fv({view:"org",orgId:(null==i?void 0:i.id)??"",orgViewTab:Ex.i.PLUGINS})),l(ig.hV());else{let e=`/files/${null==i?void 0:i.id}/plugins`;l(od.YQ({url:e}))}},trusted:!0},null==i?void 0:i.name),o=ev.createElement(eA.UU,{onClick:()=>{l(od.YQ({url:"/community/plugins/devmode"}))},trusted:!0},(0,eq.t)("community.community"));return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.flex.flexColumn.gap8.py8.$},ev.createElement(oc.x,{i18nId:"settings_tab.paste_plugin_link",i18nParams:{orgLink:s,communityLink:o}}),ev.createElement("div",{className:ek.cx.flex.$},ev.createElement(eA.Sc,{className:ek.cx.flexGrow1.mr8.$,onChange:t,value:a,placeholder:(0,cH.Vk)(),recordingKey:"devRelatedLinkUrlInput"}),ev.createElement(oM.z,{onClick:e},n))),r&&ev.createElement("div",{className:ek.cx.colorTextDanger.$},r))}function MO(){return ev.createElement("div",{className:ek.cx.colorBorder.bSolid.bt1.$})}let MD=a(174341),MF=a(406304),MM=(0,r9.cn)(!1),MP=(0,r9.cn)(!1),MB=(0,r9.cn)(!1),MU=(0,r9.cn)(""),MV=(0,r9.cn)(null),MW=(0,r9.cn)(null),MG=(0,r9.cn)(""),Mj=(0,r9.cn)(null);var MH=((Y=MH||{}).AUTO_RUN="auto-run",Y.PINNED_PLUGINS="pinned-plugins",Y.CODEGEN="codegen",Y);async function M$(e,t,a){var r,n;let i;let l=(0,cH.xy)(e),s={errorMessage:(0,eq.t)("settings_tab.pinned_plugins_invalid_url")};if(null===l)return s;try{i=await (0,EH.Yj)(dH.Plugin,{pluginId:l,orgId:t.id})}catch(e){return s}if("loaded"!==i.status||!(null==(r=i.data)?void 0:r.plugin))return s;let o=(0,Ab.yv)(null==(n=i.data)?void 0:n.plugin,t.id,null,null);return!o||!t.plugins_whitelist_enforced||(null==o?void 0:o.plugin_id)in a?o&&!(0,n8.vS)(o)?s:{pluginId:l,plugin:o}:{errorMessage:(0,eq.t)("settings_tab.invalid_url_allowlist")}}function Mz({text:e}){return ev.createElement("div",{className:ek.cx.mx8.$},ev.createElement(oc.x,{color:"default"},e))}function MK({preferences:e}){return ev.createElement(Mv.t.Group,{axis:"y",onReorder:t=>{e.updatePrefs(t)},values:e.pinnedPlugins,role:"button",tabIndex:0,translate:"no"},e.pinnedPlugins.map(t=>ev.createElement(Mv.t.Item,{value:t,id:t.plugin_id,key:t.plugin_id,translate:"no"},ev.createElement("div",{className:ek.cx.justifyBetween.flex.h32.alignCenter.$},ev.createElement("div",{className:ek.cx.flex.itemsCenter.$},ev.createElement(iW.d,{className:ek.cx.w16.h16.br2.$,plugin:t}),ev.createElement("div",{className:ek.cx.h32.flex.itemsCenter.mx4.alignLeft.$},t.name)),ev.createElement("div",{className:ek.cx.justifyEnd.$},ev.createElement(oM.z,{icon:"minus-32",onClick:()=>{e.unpinPlugin(t.plugin_id)},onMouseDown:oN.UW,recordingKey:"overflow_pins","data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("settings_tab.pinned_plugins_remove"),variant:"text"}))))))}function MZ(e){let t=(0,uL.Ng)()||null;return ev.createElement("div",{className:ek.cx.flex.justifyBetween.py8.$},ev.createElement("div",null,ev.createElement("div",{className:ek.cx.mb4.$},ev.createElement(oc.x,{fontWeight:"bold"},e.label)),ev.createElement(oc.x,null,e.description)),ev.createElement(T3.W,{on:e.isActive,onChange:a=>{e.onToggle(a),(0,eK.L9)("Dev Mode Setting Toggled",{orgId:(null==t?void 0:t.id)??"",setting:e.sectionName,value:a?"on":"off"})},disabled:!(0,oC.ko)(t)&&!e.isActive,dataTestId:`dev-mode-setting-toggle-${e.label.split(" ").map(e=>e.toLowerCase()).join("-")}`}))}function Mq({preferences:e}){let t=(0,uL.Ng)()||null,a=(0,eb.v9)(e=>e.whitelistedPlugins),[r,n]=ev.useState(!1),[i,l]=(0,r9.KO)(MM),[s,o]=(0,r9.KO)(MG),[c,d]=(0,r9.KO)(Mj),m=(0,eT.BZ)().dev_mode_org_pinned_plugins_ent&&(0,oC.ko)(t)||!(0,eT.BZ)().dev_mode_org_pinned_plugins_ent,u=()=>{n(!r)},_=e=>{o(e.target.value)},p=async()=>{if(!t)return;let r=await M$(s,t,a);"plugin"in r?r.plugin?(0,n8.MK)(r.plugin)?d((0,eq.t)("settings_tab.pinned_plugins_invalid_url_codegen")):"pluginId"in r&&(e.pinPlugin(r.pluginId),d(null),o(""),u()):d((0,eq.t)("settings_tab.pinned_plugins_invalid_url")):"errorMessage"in r&&d(r.errorMessage)};return ev.createElement("div",{className:ek.cx.m16.$,"data-testid":"dev-mode-settings-modal-pinned-plugins"},(0,eT.BZ)().dev_mode_org_pinned_plugins_ent?ev.createElement("div",{className:ek.cx.mb8.$},ev.createElement("div",{className:ek.cx.if(!(0,oC.ko)(t)&&!i,ek.cx.opacity0_5).$},ev.createElement(MZ,{label:(0,eq.t)("settings_tab.pinned_plugins_label"),description:(0,eq.t)("settings_tab.pinned_plugins_description"),isActive:i,sectionName:"pinned-plugins",onToggle:()=>{l(!i)}})),!(0,oC.ko)(t)&&e&&e.pinnedPlugins.length>0&&ev.createElement(MY,null)):ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.mb4.$},ev.createElement(oc.x,{fontWeight:"bold",i18nId:"settings_tab.pinned_plugins_label"})),ev.createElement("div",null,ev.createElement(oc.x,{i18nId:"settings_tab.pinned_plugins_description"}))),i&&!e.loaded?ev.createElement(ax.TK,{className:ek.cx.pt8.flex.alignCenter.justifyCenter.$}):(0,eT.BZ)().dev_mode_org_pinned_plugins_ent?i&&ev.createElement(ev.Fragment,null,ev.createElement(MK,{preferences:e}),ev.createElement("div",{className:ek.cx.flex.bSolid.b1.bRadius3.colorBorder.h40.my16.$},ev.createElement("div",{className:ek.cx.flex.itemsCenter.justifyBetween.wFull.px8.$},ev.createElement("div",{className:ek.cx.flex.$},ev.createElement("div",{className:ek.cx.flex.mx8.$},ev.createElement(oc.x,{i18nId:"settings_tab.pinned_plugins_inspect",color:"secondary",fontWeight:"medium"})),ev.createElement("div",{className:ek.cx.flex.mx8.$},ev.createElement(oc.x,{i18nId:"settings_tab.pinned_plugins_plugins",color:"secondary",fontWeight:"medium"}))),ev.createElement("div",{className:ek.cx.flex.itemsCenter.$},m&&ev.createElement("div",{className:ek.cx.mr1.$},ev.createElement(oM.z,{icon:"plus-32",variant:r?"primary":"text",onClick:u,ariaLabel:(0,eq.t)("settings_tab.pinned_plugins_add_label")})),e.pinnedPlugins.length>0&&ev.createElement(MI.ms,{...e})))),r&&ev.createElement(MA,{value:s,onClick:p,onChange:_,error:c,buttonText:(0,eq.t)("settings_tab.pinned_plugins_add")})):ev.createElement(ev.Fragment,null,m&&ev.createElement("div",{className:ek.cx.flex.py12.$},ev.createElement(eA.Sc,{className:ek.cx.flexGrow1.mr8.$,onChange:_,value:s,placeholder:(0,cH.Vk)(),recordingKey:"devRelatedLinkUrlInput"}),ev.createElement(oM.z,{onClick:p},ev.createElement(eq.Tx,{id:"settings_tab.pinned_plugins_add"}))),c&&ev.createElement("div",{className:ek.cx.colorTextDanger.$},c),ev.createElement(MK,{preferences:e}),ev.createElement("div",{className:ek.cx.flex.bSolid.b1.bRadius3.colorBorder.h32.my12.$},ev.createElement("div",{className:ek.cx.flex.itemsCenter.justifyBetween.wFull.px8.$},ev.createElement("div",{className:ek.cx.flex.mx8.$},ev.createElement(oc.x,{fontWeight:"bold",i18nId:"settings_tab.pinned_plugins_inspect"})),ev.createElement("div",{className:ek.cx.flex.mx8.$},ev.createElement(oc.x,{i18nId:"settings_tab.pinned_plugins_plugins",fontWeight:"regular"})),ev.createElement("div",{className:ek.cx.flexGrow1.$},e.pinnedPlugins.length>0&&ev.createElement(MI.ms,{...e}))))))}function MY(){return ev.createElement(n7.X,{variant:"warning",orientation:"vertical",iconSrc:MF},ev.createElement(eq.Tx,{id:"settings_tab.pinned_plugins_downgrade_warning",noteLabel:ev.createElement(oc.x,{fontWeight:"semi-bold",i18nId:"settings_tab.pinned_plugins_dowgrade_warning.note"})}))}function MJ({onCodeLanguageChange:e,addCodegenPluginCallback:t,currentSavedCodeLanguage:a}){let r=(0,Mb.U2)(),n=(0,My.mN)({codeLanguage:r,onChange:e,showAddInsteadOfBrowse:!0,addCodegenPluginCallback:t,currentSavedCodeLanguage:a});return ev.createElement("div",{className:ek.cx.flex.justifyBetween.itemsCenter.wFull.$,"data-testid":"org-admin-codegen-language-row"},ev.createElement(oc.x,{i18nId:"settings_tab.codegen_language_dropdown_label",fontWeight:"medium"}),ev.createElement("div",{className:ek.cx.flex.justifyEnd.$},ev.createElement(My.At,{dropdownId:"ORG_ADMIN_SETTINGS_CODE_LANGUAGE_DROPDOWN",codeLanguageApi:n,parentElementId:"org-admin-codegen-settings"})))}function MQ({currentUnit:e,onCodeLanguageUnitChange:t}){let a=(0,Mx.OH)();return a?ev.createElement("div",{className:ek.cx.flex.justifyBetween.itemsCenter.wFull.$,"data-testid":"org-admin-codegen-unit-row"},ev.createElement(oc.x,{i18nId:"settings_tab.codegen_language_unit_dropdown_label",fontWeight:"medium"}),ev.createElement("div",{className:ek.cx.flex.justifyEnd.mr4.$},ev.createElement(Mw.BH,{currentUnit:e||MC.QC6.PIXEL,onChangeUnit:t}))):null}function MX({codeExtensionPreferences:e,onCustomSettingsChange:t}){let a=(0,Mb.U2)(),r=(0,Mb.ez)(),n=(0,Mx.S5)({codeLanguage:a,plugin:r,codeExtensionPreferences:e,onChangePreferences:t});return 0===n.length?null:ev.createElement(ev.Fragment,null,n.map(e=>ev.createElement(M0,{key:e.name,item:e})))}function M0({item:e}){return ev.createElement("div",{className:ek.cx.flex.justifyBetween.itemsCenter.wFull.$,"data-testid":"org-admin-codegen-plugin-settings-row"},ev.createElement(oc.x,{fontWeight:"medium"},e.displayText),ev.createElement("div",{className:ek.cx.flex.justifyEnd.$},ev.createElement(Mw.j5,{item:e})))}function M1({preferences:e}){var t,a;let r=(0,uL.Ng)()||null,n=(0,eb.I0)(),[i,l]=(0,r9.KO)(MB),[s,o]=ev.useState(null),[c,d]=ev.useState(!1),[m,u]=ev.useState(!1),[_,p]=ev.useState(""),[g,E]=ev.useState(void 0);ev.useEffect(()=>{(null==e?void 0:e.loaded)&&(null==e?void 0:e.localCodegenSettings)&&!c&&d(()=>{var t;return(null==(t=e.localCodegenSettings)?void 0:t.language.type)==="published-plugin"&&(E(e.localCodegenSettings.language),n((0,MN.zD)({storeInRecentsKey:MS.xQ.Handoff,id:e.localCodegenSettings.language.id,version:void 0,currentUserId:void 0,skipPluginRun:!0}))),!0})},[null==e?void 0:e.loaded,null==e?void 0:e.localCodegenSettings,c,n]),ev.useEffect(()=>{n((0,MN.cD)({storeInRecentsKey:MS.xQ.Handoff}))},[n]);let h=(0,eb.v9)(e=>e.whitelistedPlugins);return ev.createElement("div",{className:ek.cx.m16.if(!(0,oC.ko)(r),ek.cx.opacity0_5).$,id:"org-admin-codegen-settings","data-testid":"org-admin-codegen-settings"},ev.createElement(MZ,{label:(0,eq.t)("settings_tab.codegen_language_label"),description:(0,eq.t)("settings_tab.codegen_language_description"),isActive:i,sectionName:"codegen",onToggle:()=>{l(!i)}}),i&&(0,oC.ko)(r)&&((null==e?void 0:e.loaded)?ev.createElement("div",{className:ek.cx.flexColumn.py8.$},ev.createElement(MJ,{onCodeLanguageChange:t=>{null==e||e.setCodegenSettingsLanguage(t),u(!1)},addCodegenPluginCallback:()=>{u(!0)},currentSavedCodeLanguage:g}),m&&ev.createElement(MA,{value:_,onClick:()=>{if(!r||!(0,oC.ko)(r)){o((0,eq.t)("settings_tab.plugin_not_enterprise_err"));return}M$(_,r,h).then(t=>{if("pluginId"in t&&t.plugin){let a=t.plugin;if((0,n8.Uo)(a)){o(null);let t=(0,MT.Ep)(a);null==e||e.setCodegenSettingsLanguage(t),n((0,MN.zD)({storeInRecentsKey:MS.xQ.Handoff,id:a.plugin_id,version:a.version,currentUserId:void 0,skipPluginRun:!0})),u(!1),p("");return}o((0,eq.t)("settings_tab.plugin_not_codegen_err"))}if("errorMessage"in t){o(t.errorMessage);return}o((0,eq.t)("settings_tab.plugin_invalid_err"))}).catch(e=>{console.error("Error:",e)})},onChange:e=>{p(e.target.value)},error:s,buttonText:(0,eq.t)("settings_tab.dev_mode_setting_set")}),!m&&ev.createElement("div",null,ev.createElement(MQ,{currentUnit:null==(t=null==e?void 0:e.localCodegenSettings)?void 0:t.preferences.unit,onCodeLanguageUnitChange:t=>{null==e||e.setCodegenSettingsUnit(t)}}),ev.createElement(MX,{codeExtensionPreferences:(null==(a=null==e?void 0:e.localCodegenSettings)?void 0:a.preferences)??{},onCustomSettingsChange:(t,a,r)=>{null==e||e.setCodegenSettingsCustomSettings(t,r)}}))):ev.createElement(ax.TK,{className:ek.cx.m16.pt8.flex.alignCenter.justifyCenter.$})))}function M2({plugin:e}){return e?ev.createElement("div",{className:ek.cx.flex.py8.itemsCenter.$},ev.createElement(iW.d,{className:ek.cx.w24.h24.br2.$,plugin:e}),ev.createElement("div",{className:ek.cx.mx8.$},ev.createElement(oc.x,{fontWeight:"semi-bold"},e.name))):null}function M3(){let e=(0,uL.Ng)()||null,t=(0,Mk.Gm)(),a=(0,eb.v9)(e=>e.whitelistedPlugins),[r,n]=(0,r9.KO)(MP),[i,l]=(0,r9.KO)(MU),[s,o]=(0,r9.KO)(MV),[c,d]=(0,r9.KO)(MW),[m,u]=ev.useState(!1);return ev.useEffect(()=>{t.loaded&&!m&&(o(t.plugin),u(!0))},[t.loaded,t.plugin,o,m,u]),ev.createElement("div",{className:ek.cx.m16.if(!(0,oC.ko)(e),ek.cx.opacity0_5).$,"data-testid":"dev-mode-settings-modal-auto-run"},ev.createElement(MZ,{label:(0,eq.t)("settings_tab.auto_run_label"),description:(0,eq.t)("settings_tab.auto_run_description"),isActive:r,sectionName:"auto-run",onToggle:()=>{n(!r)}}),r&&(0,oC.ko)(e)&&ev.createElement("div",null,m?ev.createElement(ev.Fragment,null,s?ev.createElement(ev.Fragment,null,ev.createElement(M2,{plugin:s}),ev.createElement("div",{className:ek.cx.py8.$},ev.createElement(eA.UU,{trusted:!0,onClick:()=>o(null)},ev.createElement(eq.Tx,{id:"settings_tab.auto_run_remove_plugin"})))):ev.createElement(MA,{value:i,onClick:()=>{if(!e||!(0,oC.ko)(e)){d((0,eq.t)("settings_tab.plugin_not_enterprise_err"));return}M$(i,e,a).then(t=>{if("pluginId"in t&&t.plugin){if((0,Mk.Jl)(t.plugin)){d(null),o(t.plugin),l(""),(0,eK.L9)("Dev Mode Auto Run Plugin Set",{orgId:e.id,pluginId:t.plugin.plugin_id});return}d((0,eq.t)("settings_tab.plugin_not_autorun_err"));return}if("errorMessage"in t){d(t.errorMessage);return}d((0,eq.t)("settings_tab.plugin_invalid_err"))}).catch(e=>{console.error("Error:",e)})},onChange:e=>{l(e.target.value)},error:c,buttonText:(0,eq.t)("settings_tab.dev_mode_setting_set")})):ev.createElement(ax.TK,{className:ek.cx.pt8.flex.alignCenter.justifyCenter.$})))}let M4=(0,it.Y3)(function(){let e=(0,uL.Ng)()||null,t=(0,eb.I0)(),a=(0,ML.rd)(),[r,n]=(0,r9.KO)(MP),[i,l]=(0,r9.KO)(MM),[s,o]=(0,r9.KO)(MB),c=(0,r9.b9)(MW),d=(0,r9.b9)(Mj),m=(0,r9.b9)(MU),u=(0,r9.b9)(MV),_=(0,r9.b9)(MG);ev.useEffect(()=>()=>{c(null),d(null),m(""),u(null),_("")},[m,c,u,_,d]);let p=(0,r9.Dv)(MV),g=(0,dV.mU)(dH.ToggledDevModeSettingsView,{targetOrgId:(null==e?void 0:e.id)??"",targetUserId:null});ev.useEffect(()=>{var e,t,a,r,i,s;"loaded"===g.status&&(l((null==(t=null==(e=g.data)?void 0:e.pluginPreferences)?void 0:t.pinnedPluginsEnabled)||!1),n((null==(r=null==(a=g.data)?void 0:a.pluginPreferences)?void 0:r.autoRunEnabled)||!1),o((null==(s=null==(i=g.data)?void 0:i.pluginPreferences)?void 0:s.codegenEnabled)||!1))},[g.status,g.data,l,n,o]);let E=(0,ML.rd)().serialize(),h=(0,Mk.Gm)(),f=ev.useMemo(()=>{var e,t,a,r,n,i;return{preferences:E,autoRunPlugin:h.plugin,autoRunEnabled:null==(t=null==(e=g.data)?void 0:e.pluginPreferences)?void 0:t.autoRunEnabled,codegenEnabled:null==(r=null==(a=g.data)?void 0:a.pluginPreferences)?void 0:r.codegenEnabled,pinnedPluginsEnabled:null==(i=null==(n=g.data)?void 0:n.pluginPreferences)?void 0:i.pinnedPluginsEnabled}},[g.data,h,E]),v=(0,Eb.Rs)(),b=(0,y_.EA)(),y=()=>{null==a||a.setCodegenSettings(null),t(ig.eI())},w=async()=>{if(e){b("Dev Handoff Org Commit Plugin Changes",{});let n=null==a?void 0:a.serialize();!(0,oC.ko)(e)&&n&&(n.codegenSettings=null,n.removedInheritedPins=[]);try{await MR.G.updateOrgPreferences(e,{preferences:n,auto_run_plugin_id:p?p.plugin_id:null,auto_run_enabled:r,codegen_enabled:s,pinned_plugins_enabled:i})}catch(e){t(r7.R.enqueue({message:"Failed to save dev mode preferences",error:!0}))}}t(ig.eI())};return ev.createElement(ib.ge,{title:ev.createElement(Mz,{text:(0,eq.t)("settings_tab.dev_mode_label")}),onClose:y,fixedTop:!0},ev.createElement(Mq,{preferences:a}),(0,eT.BZ)().dev_mode_default_codegen&&ev.createElement(MO,null),(0,eT.BZ)().dev_mode_default_codegen&&ev.createElement(M1,{preferences:a}),(0,eT.BZ)().dev_mode_auto_run_plugin&&ev.createElement(MO,null),(0,eT.BZ)().dev_mode_auto_run_plugin&&ev.createElement(M3,null),!(0,oC.ko)(e)&&(0,eT.BZ)().dev_mode_org_pinned_plugins_ent&&ev.createElement("div",{className:ek.cx.m16.$},ev.createElement(n7.X,{orientation:"vertical",iconSrc:MD,variant:"gray"},ev.createElement(oc.x,{fontWeight:"bold"},ev.createElement(eq.Tx,{id:"settings_tab.customize_dev_mode"})),ev.createElement(oc.x,null,ev.createElement(eq.Tx,{id:"settings_tab.upgrade_to_enterprise_plan_text"})),ev.createElement(eA.UU,{onClick:()=>{t((0,ig.K4)({type:_w.yd,data:{team:v,resource:_v.gx.DEV_MODE_ADMIN_SETTINGS,currentPlan:_f.V.Plan.ORG,upsellPlan:_f.V.Plan.ENTERPRISE}}))},trusted:!0},ev.createElement(oc.x,{i18nId:"settings_tab.upgrade_to_enterprise_learn_more_link"})))),ev.createElement("div",{className:ek.cx.flex.flexRow.gap8.justifyEnd.m16.$},ev.createElement(oM.z,{onClick:y},ev.createElement(eq.Tx,{id:"general.cancel"})),ev.createElement(oM.z,{variant:"primary",onClick:w,disabled:!(!(EP()(f.preferences,a.serialize())&&EP()(f.autoRunPlugin,p))||f.autoRunEnabled!==r||f.codegenEnabled!==s||f.pinnedPluginsEnabled!==i)},ev.createElement(eq.Tx,{id:"general.save"}))))},"DEV_MODE_MODAL"),M8="default_paid_status--inputRow--5Uarh",M5="default_paid_status--inputLabel--gGP5B",M9="default_paid_status--subText--ltbsS",M6=e=>{switch(e){case Mh.FULL:return(0,eq.t)("general.editor.seat_rename");case Mh.VIEWER:return(0,eq.t)("general.viewer");case Mh.VIEWER_RESTRICTED:return(0,eq.t)("general.viewer_restricted")}},M7=rv.t1.Query({fetch:async e=>{var t;let a=await Mf.getPlanProperties({planId:e.planId,planType:e.planType});return(null==(t=a.data)?void 0:t.meta)??null},output:({data:e})=>({default_paid_status_design:(null==e?void 0:e.default_paid_status_design)??Mh.VIEWER,default_paid_status_whiteboard:(null==e?void 0:e.default_paid_status_whiteboard)??Mh.VIEWER})}),Pe=rv.t1.Mutation(async(e,{query:t})=>{let{planId:a,planType:r,defaultPaidStatusDesign:n,defaultPaidStatusWhiteboard:i}=e;t.mutate(M7({planId:a,planType:r}),e=>{null!=e&&(e.default_paid_status_design=n,e.default_paid_status_whiteboard=i)}),await Mf.updatePlanProperties({planId:e.planId,planType:e.planType,properties:{default_paid_status_design:n,default_paid_status_whiteboard:i}})}),Pt=(0,it.Y3)(function(e){let t=(0,eb.I0)(),{planId:a,planType:r}=e,[n,i]=(0,rv.aM)(M7({planId:a,planType:r}));(0,ev.useEffect)(()=>{n.data&&(s(n.data.default_paid_status_design),c(n.data.default_paid_status_whiteboard))},[n]);let[l,s]=(0,ev.useState)(Mh.VIEWER),[o,c]=(0,ev.useState)(Mh.VIEWER),[d,m]=(0,ev.useState)(!1),u=(0,rv.Db)(Pe),_=(0,eb.v9)(({dropdownShown:e})=>e),p=(e,a)=>{let r=[{displayText:M6(Mh.VIEWER_RESTRICTED),subText:(0,eq.t)("default_paid_status_modal_v2.viewer_restricted_subtext.seat_rename"),subTextClassname:M9,isChecked:e===Mh.VIEWER_RESTRICTED,optionHeight:40,callback:()=>a(Mh.VIEWER_RESTRICTED)},{displayText:M6(Mh.VIEWER),subText:(0,eq.t)("default_paid_status_modal_v2.viewer_subtext.seat_rename"),subTextClassname:M9,isChecked:e===Mh.VIEWER,optionHeight:40,callback:()=>a(Mh.VIEWER)},{displayText:M6(Mh.FULL),displayTextClassname:"default_paid_status--displayText--Hf1lS",subText:(0,eq.t)("default_paid_status_modal_v2.editor_subtext.seat_rename"),subTextClassname:M9,isChecked:e===Mh.FULL,optionHeight:40,callback:()=>a(Mh.FULL),displayTextBadge:ev.createElement(os.Ct,{className:"default_paid_status--badge--r6VCf",text:(0,eq.t)("default_paid_status_modal_v2.paid"),color:os.JV.BRAND,size:os.OD.LARGE})}],n=_.data.targetRect,i=8;switch(e){case Mh.VIEWER:i+=48;break;case Mh.FULL:i+=96}let l={bottom:n.bottom,height:n.height,left:n.left,right:n.right,top:n.top-i,width:n.width};return ev.createElement(ev.Fragment,null,ev.createElement(mz.z,{minWidth:310,lean:"right",showPoint:!1,items:r,displayOverTarget:!0,onSelectItem:e=>{e.callback("",null,t)},parentRect:l,dispatch:t}))},g="DESIGN_DEFAULT_PAID_STATUS_DROPDOWN",E=(null==_?void 0:_.type)===g,h="WHITEBOARD_DEFAULT_PAID_STATUS_DROPDOWN",f=(null==_?void 0:_.type)===h;return ev.createElement(e3.Ui,{name:"Default License Type Setting Modal"},ev.createElement(ib.ge,{title:(0,eq.t)("default_paid_status_modal_v2.manage_default_roles.seat_rename"),onClose:()=>t(ig.hV()),maxWidth:310,minWidth:310},"loaded"!==n.status?ev.createElement(ax.TK,{className:"default_paid_status--loading_spinner--QKHjF"}):ev.createElement("div",{className:"default_paid_status--modalContainer--PEJw8 modal--container--LVq8G"},ev.createElement("span",{className:"default_paid_status--textContainer--WVFxT"},ev.createElement(eq.Tx,{id:"default_paid_status_modal_v2.description.seat_rename",plan_type:r===Mg.ORGANIZATION?(0,eq.t)("default_paid_status_modal_v2.organization"):(0,eq.t)("default_paid_status_modal_v2.team")})),ev.createElement("label",{className:M8},ev.createElement("span",{className:M5},ev.createElement(eq.Tx,{id:"default_paid_status_modal.figma_design"})),ev.createElement(xK.ud,{showingDropdown:E,type:g,isMultilevelDropdown:!0,dispatch:t,isDisabled:d},M6(l),E&&p(l,s))),ev.createElement("label",{className:M8},ev.createElement("span",{className:M5},ev.createElement(eq.Tx,{id:"default_paid_status_modal.figjam"})),ev.createElement(xK.ud,{showingDropdown:f,type:h,isMultilevelDropdown:!0,dispatch:t,isDisabled:d},M6(o),f&&p(o,c))),ev.createElement("div",{className:m2.UN},ev.createElement(eA.DF,{onClick:async()=>{m(!0);try{await u({planId:e.planId,planType:e.planType,defaultPaidStatusDesign:l,defaultPaidStatusWhiteboard:o}),m(!1),t(dl.l.flash((0,eq.t)("default_paid_status_modal.updated_default_roles.seat_rename"))),t(ig.hV())}catch(e){m(!1),t(dl.l.flash("An error has occured. Please try again"))}}},ev.createElement(eq.Tx,{id:"general.save"}))))))},"DefaultPaidStatusModalV2"),Pa=(0,it.Y3)(function(){let e=(0,eb.I0)(),t=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]);return ev.createElement(ir.u_,{title:(0,eq.t)("settings_tab.delete_org_modal.are_you_sure_you_d_like_to_delete_figma"),dispatch:e,size:364},ev.createElement(eq.Tx,{id:"settings_tab.delete_org_modal.please_confirm_that_you_wish_to_permanently_delete_the_org",orgName:t.name}),ev.createElement("div",{className:m2.UN},ev.createElement(eA.PL,{onClick:()=>{e(ig.eI())},className:m2.iY},ev.createElement(eq.Tx,{id:"modal.cancel"})),ev.createElement(eA.E0,{onClick:()=>{e(ig.eI()),e((0,x1.FR)({orgId:t.id}))},className:m2.iY},ev.createElement(eq.Tx,{id:"settings_tab.delete_org_modal.request_to_delete_organization"}))))},"DELETE_ORG_MODAL"),Pr=(0,it.Y3)(function(){let e=(0,eb.I0)(),t=(0,uL.Ng)(),[a,r]=ev.useState((0,Ni.UA)()),n=ev.useCallback(e=>{(0,eK.L9)("Delete user search performed",{orgId:null==t?void 0:t.id,queryLength:e.inputValue.length}),r(e)},[null==t?void 0:t.id]),i=0===a.tokens.length;return ev.createElement(ir.u_,{title:(0,eq.t)("settings_tab.delete_org_modal.delete_users_from_this_organization"),dispatch:e,size:364,className:"delete_org_modal_autocomplete--deleteOrgUserModal--e7aS8"},ev.createElement(eq.Tx,{id:"settings_tab.delete_org_modal.enter_names_or_emails_of_users_that_you_d_like_to_delete"}),ev.createElement("div",{className:"delete_org_modal_autocomplete--autocompleteDiv--XcvHs"},ev.createElement(O2,{placeholder:(0,eq.t)("settings_tab.delete_org_modal.email_or_names_of_org_members"),autocomplete:a,onAutocompleteChange:n})),ev.createElement("div",{className:m2.UN},ev.createElement(eA.PL,{onClick:()=>{e(ig.eI())},className:m2.iY},ev.createElement(eq.Tx,{id:"modal.cancel"})),ev.createElement(eA.E0,{onClick:()=>{e(ig.eI()),e((0,ig.K4)({type:Pn,data:{orgUsers:a.tokens.map(e=>e.content)}}))},disabled:i,className:m2.iY},ev.createElement(eq.Tx,{id:"settings_tab.delete_org_modal.delete"}))))},"DELETE_ORG_USER_MODAL"),Pn=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]);return ev.createElement(ir.u_,{title:(0,eq.t)("settings_tab.delete_org_modal.delete_users_and_their_data"),dispatch:t,size:364},ev.createElement("p",null,ev.createElement(eq.Tx,{id:"settings_tab.delete_org_modal.you_re_deleting_figma_data_and_access_for_the_following_user"})),ev.createElement("ul",{className:"delete_org_modal_autocomplete--orgUserList--PhNTi"},e.orgUsers.map(e=>ev.createElement("li",{key:e.user.email},e.user.handle," (",e.user.email,")"))),ev.createElement("br",null),ev.createElement("p",null,ev.createElement(eq.Tx,{id:"settings_tab.delete_org_modal.this_action_can_t_be_undone"})),ev.createElement("div",{className:m2.UN},ev.createElement(eA.PL,{onClick:()=>{t(ig.eI())},className:m2.iY},ev.createElement(eq.Tx,{id:"modal.cancel"})),ev.createElement(eA.E0,{onClick:()=>{t(ig.eI()),t((0,x1.H_)({orgId:a.id,orgUserIds:e.orgUsers.map(e=>e.id)}))},className:m2.iY},ev.createElement(eq.Tx,{id:"modal.confirm"}))))},"CONFIRM_DELETE_ORG_USER_MODAL");function Pi(e){return ev.createElement("div",null,e.token.content)}let Pl=e=>({state:(0,n1.Jh)(e.trim())?Nn.k.OK:Nn.k.ERROR,content:e}),Ps=(0,it.Y3)(function(e){let[t,a]=(0,ev.useState)(e.currentContacts),[r,n]=(0,ev.useState)({inputValue:"",tokens:e.currentContacts.split(",").map(e=>Pl(e)),errorMessage:""}),i=(0,eb.I0)(),l=()=>i(ig.eI()),s=()=>{let e=r.tokens.filter(e=>e.state===Nn.k.OK),t=e.map(e=>e.content);return t.join(",")},o=()=>{let e=r.tokens.filter(e=>e.state===Nn.k.ERROR);return e.length>0};return ev.createElement(ib.ge,{onClose:l,isCloseHidden:!1,title:(0,eq.t)(e.isOrg?"payments.org_change_billing_contact":"payments.pro_change_billing_contact"),minWidth:341,maxWidth:341},ev.createElement("div",{className:"billing_contact_modal--container--CgvAc"},ev.createElement("div",{className:"billing_contact_modal--secondary--L8-Mz"},ev.createElement(eq.Tx,{id:e.isOrg?"payments.org_enter_an_email_address":"payments.pro_enter_an_email_address"})),e.isOrg?ev.createElement(Nl.P,{autocomplete:r,onChange:n,validateToken:Pl,TokenComponent:Pi,autoFocus:!1,placeholder:(0,eq.t)("payments.change_billing_contact_placeholder")}):ev.createElement(eA.Sc,{value:t,onChange:e=>a(e.target.value)}),ev.createElement("div",{className:"billing_contact_modal--buttons--o9Grb"},ev.createElement(eA.pJ,{onClick:l},ev.createElement(eq.Tx,{id:"payments.cancel"})),ev.createElement(eA.RS,{type:"submit",onClick:()=>{if(e.isOrg&&o()){i(dl.l.error((0,eq.t)("payments.invalid_billing_contact_error"),5e3));return}let a=e.isOrg?s():t;if(!a){i(dl.l.error((0,eq.t)("payments.missing_billing_contact_error"),5e3));return}e.onSubmit(a).then(l).catch(e=>{var t;i(dl.l.error((null==(t=e.data)?void 0:t.message)||(0,eq.t)("payments.change_billing_contact_error"),5e3)),console.error(e)})}},ev.createElement(eq.Tx,{id:"payments.save"})))))},"ChangeBillingContact");function Po(e){let t=e.searchResult;return ev.createElement("div",{className:e.isSelected?"admin_search_input--userRowSelected--jfVgG autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"admin_search_input--userRow--ingGG autocomplete_permissions--contactRow--DRMiv"},ev.createElement("div",{className:"admin_search_input--userAvator--FG3LO autocomplete_permissions--avatar--Hb2O-"},ev.createElement(oo.Yt,{user:t,size:oo.DZ.MEDIUM})),ev.createElement("div",null,ev.createElement("div",{className:"admin_search_input--name--s2UoA autocomplete_permissions--name--62sCS ellipsis--ellipsis--Tjyfa"},t.name),ev.createElement("div",{className:"admin_search_input--email--DzKVd autocomplete_permissions--email--HCICx ellipsis--ellipsis--Tjyfa"},t.email)))}function Pc(e){return ev.createElement("div",null,e.token.content.name)}function Pd(e){let t=(0,eb.I0)(),{planId:a,planType:r,initialEmails:n,autocomplete:i,setAutocomplete:l,initialEmailsLoaded:s,setInitialEmailsLoaded:o}=e,[c,d]=(0,ev.useState)([]);(0,ev.useEffect)(()=>{r===Mg.TEAM?t(_m.gI({teamId:a})):t(C3.v5({orgId:a}))},[t,a,r]);let m=(0,ev.useCallback)(({data:e})=>{let t=e.meta;d(t);let a=t.filter(e=>null!=e.email&&n.includes(e.email));!1===s&&(l({...(0,Ni.UA)(),tokens:a.map(e=>({state:Nn.k.OK,content:e}))}),o(!0))},[n,s,l,o]);return((0,ev.useEffect)(()=>{r===Mg.ORGANIZATION?_J.uU.getOrgAdmins({orgId:a}).then(m):gI.j.getTeamAdmins({teamId:a}).then(m)},[n,s,m,a,r,l]),s)?ev.createElement("div",{className:"admin_search_input--admin_search_container--sLx7z"},ev.createElement(Nl.P,{autocomplete:i,autocompleteResultsClassName:"admin_search_input--autocompleteResults--N5LMj",onChange:l,validateToken:ex.ZT,searchResults:e=>{let t=new TH.Or([],{keys:["name","email"],threshold:0,tokenize:!0,matchAllTokens:!0});return t.set(c.filter(t=>!e.tokens.map(e=>e.content.id).includes(t.id))),t.search(e.inputValue)},SearchResultComponent:Po,TokenComponent:Pc}),ev.createElement("div",{className:""!==i.errorMessage?"admin_search_input--errorMessage--NDiHB":"admin_search_input--message--Tk5jH"},0===i.tokens.length?ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.error_message_for_empty_admins"}):null)):ev.createElement(xS.g4,{className:"admin_search_input--loadingText---G5Vg"})}function Pm(e){switch(e){case M_.DAILY:return{label:ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.daily_option_label"}),description:ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.daily_option_description.seat_rename"})};case M_.WEEKLY:return{label:ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.weekly_option_label"}),description:ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.weekly_option_description.seat_rename"})};case M_.MONTHLY:return{label:ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.monthly_option_label"}),description:ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.monthly_option_description.seat_rename"})}}}let Pu=rv.t1.Query({fetch:async e=>{var t;let a=await Mf.getNotificationSettings({planId:e.planId,planType:e.planType,notificationType:ME.NEW_EDITOR_NOTIFICATION});return(null==(t=a.data)?void 0:t.meta)??null},output:({data:e})=>e&&0!==e.frequencies.length?e:{frequencies:[],recipient_settings:Mp.SPECIFIC_ADMINS,recipients:[]}}),P_=rv.t1.Mutation(async(e,{query:t,xr:a})=>{let{planId:r,planType:n,frequencies:i,recipientSettings:l,recipients:s}=e;t.mutate(Pu({planId:r,planType:n}),e=>{null!=e&&(e.frequencies=i,e.recipient_settings=l,e.recipients=s)}),await a.put("/api/billing/notification_settings",{plan_id:r,plan_type:n,notification_type:ME.NEW_EDITOR_NOTIFICATION,frequencies:Array.from(i),recipient_settings:l,recipients:s})}),Pp=(0,it.Y3)(function(e){let t=(0,eb.I0)(),{planId:a,planType:r}=e,[n,i]=(0,rv.aM)(Pu({planId:a,planType:r}));(0,ev.useEffect)(()=>{n.data&&(o(new Set(n.data.frequencies)),m(n.data.recipient_settings))},[n]);let l=function(e){switch(e){case Mg.TEAM:return[M_.DAILY,M_.WEEKLY];case Mg.ORGANIZATION:return[M_.DAILY,M_.MONTHLY]}}(e.planType),[s,o]=(0,ev.useState)(new Set),c=(0,ez.Db)(P_),[d,m]=(0,ev.useState)(Mp.SPECIFIC_ADMINS),[u,_]=(0,ev.useState)((0,Ni.UA)()),[p,g]=(0,ev.useState)(!1),[E,h]=(0,ev.useState)(!1),f="loaded"!==n.status?ev.createElement(ax.TK,{className:"new_editor_notification_modal--loading_spinner--ExRoZ"}):ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"new_editor_notification_modal--notification_type_container--YIJoo"},ev.createElement("div",{className:"new_editor_notification_modal--notification_type_question---7lMW"},ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.which_notifications_would_you_like_to_get"})),ev.createElement("div",{className:"new_editor_notification_modal--notification_type_options_container--WYoj5"},l.map(e=>ev.createElement("div",{className:"new_editor_notification_modal--notification_type_option_container--O0EWC",key:e,"data-testid":e+" option"},ev.createElement("div",{className:"new_editor_notification_modal--notification_type_checkbox_container--Vt-U-"},ev.createElement(pe.X,{checked:s.has(e),onChange:t=>{let a=t.currentTarget.checked,r=new Set(s);a?r.add(e):r.delete(e),o(r)},disabled:p||"loaded"!==n.status})),ev.createElement("div",{className:"new_editor_notification_modal--notification_type_option_label_container--eVYg6"},ev.createElement("div",{className:"new_editor_notification_modal--notification_type_option_label--UonZh"},Pm(e).label),ev.createElement("div",{className:"new_editor_notification_modal--notification_type_option_description--Xs-Mg"},Pm(e).description)))))),ev.createElement("div",null),0===s.size?null:ev.createElement("div",{className:"new_editor_notification_modal--notification_recipient_container--hhRtK"},ev.createElement("div",{className:"new_editor_notification_modal--notification_recipient_question_container--AxG9T"},ev.createElement("div",{className:"new_editor_notification_modal--notification_recipient_question--mFHGL"},ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.who_should_get_notified"})),ev.createElement("div",{className:"new_editor_notification_modal--notification_recipient_recommendation--DgOZr"},ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.who_should_get_notified_recommendation"}))),ev.createElement(Ed.E,{value:d,className:"new_editor_notification_modal--notification_recipient_options_container--FxRER",onChange:e=>{m(e)}},[Mp.ALL_ADMINS,Mp.SPECIFIC_ADMINS].map(e=>ev.createElement("div",{className:"new_editor_notification_modal--notification_type_radio_option_container--v-Ijl",key:e},ev.createElement(Ed._,{value:e,className:"new_editor_notifications_modal.notification_recipient_option",_isChecked:e===d,_onChange:e=>{m(e)}},ev.createElement("div",{className:"new_editor_notification_modal--notification_type_radio_option_label--NYyos"},function(e){switch(e){case Mp.ALL_ADMINS:return ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.all_admins"});case Mp.SPECIFIC_ADMINS:return ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.specific_admins"})}}(e)))))),d===Mp.SPECIFIC_ADMINS&&ev.createElement("div",{className:"new_editor_notification_modal--admin_search_input--mVTSB"},ev.createElement(Pd,{planType:e.planType,planId:e.planId,autocomplete:u,setAutocomplete:e=>{_({...e,errorMessage:""})},initialEmails:n.data.recipients??[],initialEmailsLoaded:E,setInitialEmailsLoaded:h}))),ev.createElement("div",null));return ev.createElement(ib.sv,{onClose:()=>t(ig.eI()),isCloseHidden:!1,confirmText:(0,eq.t)("general.save"),disabled:p||"loaded"!==n.status||""!==u.inputValue,onSubmit:async()=>{if(d===Mp.SPECIFIC_ADMINS&&0===u.tokens.length&&0!==s.size){_(e=>({...u,errorMessage:"Add the name of at least on admin"}));return}g(!0);try{let a=d===Mp.ALL_ADMINS?[]:u.tokens.map(e=>e.content.email).filter(e=>void 0!==e);await c({planId:e.planId,planType:e.planType,notificationType:ME.NEW_EDITOR_NOTIFICATION,frequencies:Array.from(s),recipientSettings:d,recipients:a}),g(!1),t(dl.l.flash((0,eq.t)("new_editor_notifications_modal.confirmation"))),t(ig.eI())}catch(e){g(!1),(0,gB.V6)("An error has occured. Please try again.",t)}},title:(0,eq.t)("new_editor_notifications_modal.header.seat_rename"),maxWidth:420,minWidth:420},ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.summary.seat_rename"})," ",e.planType!==Mg.TEAM&&ev.createElement(eq.Tx,{id:"new_editor_notifications_modal.disclaimer_for_orgs"}),f)},"NewEditorNotificationSettingsModal"),Pg="billing_emails_modal--secondary--qI6PP",PE="billing_emails_modal--full_width--IcYZO",Ph="billing_emails_modal--icon--7bno5",Pf="billing_emails_modal--description_section--tlEG6",Pv="billing_emails_modal--subtitle--u1LWC",Pb=a(245378),Py=a(178123),Pw=(0,it.Y3)(function(e){let t=(0,eb.I0)(),r=()=>t(ig.eI());var n=a(212167);return gk.Z.extend(n),(0,gk.Z)(e.subscriptionStart).format("Do"),ev.createElement(ib.ge,{onClose:r,isCloseHidden:!1,title:(0,eq.t)("billing_emails_modal.billing_emails_info.what_billing_emails"),minWidth:341,maxWidth:341},ev.createElement("div",{className:"billing_emails_modal--container--47cge"},ev.createElement("div",{className:Pg},ev.createElement(eq.Tx,{id:"billing_emails_modal.billing_emails_info.about_billing_emails"})),ev.createElement("div",{className:PE},ev.createElement("div",{className:Ph},ev.createElement(eD.n,{svg:Pb})),ev.createElement("div",{className:Pf},ev.createElement("div",{className:Pv},ev.createElement(eq.Tx,{id:"billing_emails_modal.billing_emails_info.annual_subscriptions_and_renewals"})),ev.createElement("div",{className:Pg},ev.createElement(eq.Tx,{id:"billing_emails_modal.billing_emails_info.annual_subscription_description",subscriptionStart:ev.createElement("strong",null,ev.createElement(eq.Tx,{id:"billing_emails_modal.billing_emails_info.subscription_date",subscriptionStart:e.subscriptionStart}))})))),ev.createElement("div",{className:PE},ev.createElement("div",{className:Ph},ev.createElement(eD.n,{svg:Py})),ev.createElement("div",{className:Pf},ev.createElement("div",{className:Pv},ev.createElement(eq.Tx,{id:"billing_emails_modal.billing_emails_info.quarterly_true_ups"})),ev.createElement("div",{className:Pg},ev.createElement("div",{className:"billing_emails_modal--padding_below--0rcQb"},ev.createElement(eq.Tx,{id:"billing_emails_modal.billing_emails_info.quarterly_true_ups_description_1.seat_rename"})),ev.createElement(eq.Tx,{id:"billing_emails_modal.billing_emails_info.quarterly_true_ups_description_2",more:ev.createElement("a",{className:"billing_emails_modal--link--sDtp9 blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/360040328293-Manage-billing-on-the-Organization-and-Enterprise-plans"},ev.createElement(eq.Tx,{id:"billing_emails_modal.billing_emails_info.more"}))})))),ev.createElement("div",{className:"billing_emails_modal--buttons--IIxMO"},ev.createElement(eA.RS,{onClick:r},ev.createElement(eq.Tx,{id:"billing_emails_modal.billing_emails_info.close"})))))},"BillingEmailsInfo");var PT=a(850724);let Px="configure_sso--sectionInstruction--BJqP9",PN="configure_sso--important--qIpJg modal--important--qfd6R",PC="configure_sso--blueLink--yQaB8 blue_link--blueLink--9rlnd",PS="configure_sso--table--Cp6vD",Pk="configure_sso--modalContent--glIRT",PI="configure_sso--modalDone--YLR5E";class PL extends ev.PureComponent{copyTokenToClipboard(e){(0,PT.zp)(e).then(()=>{this.props.dispatch(r7.R.enqueue({type:"scim_api_token_copied_to_clipboard",message:(0,eq.t)("org_settings.sso.copied")}))})}render(){if(this.props.provisioningApiToken){var e;return ev.createElement(I2.H,{disableClickOutsideToHide:!0,dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:(0,eq.t)("modal.close"),title:(0,eq.t)("org_settings.scim.your_provisioning_api_token"),hideCancelButton:!0,checkboxText:ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_settings.scim.i_understand_that_this_is_the_only_time_i_will_see_this_token"}))},ev.createElement("div",{className:"configure_sso--token--dRmJj"},ev.createElement("span",null,this.props.provisioningApiToken),(e=this.props.provisioningApiToken,document.queryCommandSupported("copy")&&ev.createElement(eA.rU,{className:PC,onClick:this.copyTokenToClipboard.bind(this,e),trusted:!0},ev.createElement(eq.Tx,{id:"org_settings.sso.copy"})))))}return ev.createElement(I2.H,{dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:(0,eq.t)("org_settings.scim.revoke_access"),title:(0,eq.t)("org_settings.scim.revoke_token_access_title"),size:"small",checkboxText:ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_settings.scim.revoke_token_confirmation",willBeDenied:ev.createElement("span",{className:PN},ev.createElement(eq.Tx,{id:"org_settings.scim.will_be_denied"}))}))})}}PL.displayName="ProvisioningApiTokenModal";let PR=(0,it.Y3)(PL,"PROVISIONING_API_TOKEN_MODAL"),PA=(0,r0.u4)((e,{orgSamlConfigId:t})=>{rI.ZP.post(`/api/org_saml_config/${t}/scim_api_token`).then(t=>{e.dispatch((0,ig.K4)({type:PR,data:{dispatch:e.dispatch,provisioningApiToken:t.data.meta.scim_api_token,onConfirm:()=>{e.dispatch(ig.hV())},onCancel:()=>{e.dispatch(ig.hV())}}})),e.dispatch(R$.t({orgSamlConfig:t.data.meta.org_saml_config}))}).catch(t=>{var a;e.dispatch(dl.l.flash((null==(a=t.data)?void 0:a.message)||(0,eq.t)("orgs_middleware.an_error_occurred_while_generating_scim"),5e3)),console.error(t)})}),PO=(0,r0.u4)((e,{orgSamlConfigId:t})=>{rI.ZP.del(`/api/org_saml_config/${t}/scim_api_token`).then(({data:t})=>{e.dispatch(R$.t({orgSamlConfig:t.meta}))}).catch(t=>{var a;e.dispatch(dl.l.flash((null==(a=t.data)?void 0:a.message)||(0,eq.t)("orgs_middleware.an_error_occurred_while_revoking_scim"),5e3)),console.error(t)})});class PD extends ev.PureComponent{constructor(){super(...arguments),this.generateTokenMethod=()=>{this.props.dispatch(PA({orgSamlConfigId:this.props.orgSamlConfig.id}))},this.revokeTokenMethod=()=>{this.props.dispatch(PO({orgSamlConfigId:this.props.orgSamlConfig.id}))},this.confirmRevokeTokenMethod=()=>{this.props.dispatch((0,ig.K4)({type:PR,data:{dispatch:this.props.dispatch,onConfirm:()=>{this.props.dispatch(ig.hV()),this.revokeTokenMethod()},onCancel:()=>{this.props.dispatch(ig.hV())}}}))}}isSamlConfigured(){return!!this.props.orgSamlConfig.idp_name}render(){let e=this.props.orgSamlConfig.sp_scim_bearer_token_at,t=this.props.orgSamlConfig.has_scim_token;return ev.createElement(ev.Fragment,null,ev.createElement("p",{className:Px},ev.createElement(eq.Tx,{id:"org_settings.scim.scim_description",helpArticle:ev.createElement("a",{className:PC,href:"https://help.figma.com/hc/articles/360040532333-Getting-Started-with-SAML-SSO#h_d0220c93-18fa-4c1f-b965-69a5c8113f05",target:"_blank"},ev.createElement(eq.Tx,{id:"org_settings.sso.help_article"}))})),ev.createElement("table",{className:PS},ev.createElement("tbody",null,ev.createElement("tr",null,ev.createElement("th",null,ev.createElement(eq.Tx,{id:"org_settings.scim.api_token"})),e&&ev.createElement("td",null,ev.createElement(eq.Tx,{id:"org_settings.scim.api_token_generated_at",timestamp:ev.createElement(n2.Lt,{date:e})})),ev.createElement("td",null,!this.isSamlConfigured()&&(0,eq.t)("org_settings.scim.saml_sso_must_be_configured"),this.isSamlConfigured()&&t&&ev.createElement(eA.rU,{onClick:this.confirmRevokeTokenMethod,className:PC,trusted:!0},ev.createElement(eq.Tx,{id:"org_settings.scim.revoke_token_access"})),this.isSamlConfigured()&&!t&&ev.createElement(eA.rU,{onClick:this.generateTokenMethod,className:PC,trusted:!0},ev.createElement(eq.Tx,{id:"org_settings.scim.generate_api_token"})))))))}}PD.displayName="ScimProvisioningSection";let PF=(0,it.Y3)(function(){let e=(0,eb.I0)(),t=(0,eb.v9)(e=>e.orgSamlConfig),a=!t.config,r=()=>e(ig.eI());return ev.createElement(ib.ge,{title:(0,eq.t)("org_settings.scim.scim_provisioning"),onClose:r,maxWidth:492,minWidth:492},ev.createElement("div",{className:Pk},a&&ev.createElement(ax.TK,null),!a&&ev.createElement(ev.Fragment,null,ev.createElement(PD,{dispatch:e,orgSamlConfig:t.config}),ev.createElement(eA.VM,{className:PI,onClick:r},ev.createElement(eq.Tx,{id:"org_settings.sign_in_method.done"})))))},"EDIT_SCIM_MODAL"),PM=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=null;return(e.signInMethod===uO.RF.GOOGLE?a=(0,eq.t)("org_settings.sso.google"):e.signInMethod===uO.RF.SAML&&(a=(0,eq.t)("org_settings.sso.saml_sso")),a)?ev.createElement(I2.H,{dispatch:t,onConfirm:e.onConfirm,buttonText:(0,eq.t)("org_settings.sign_in_method.change_log_in"),title:(0,eq.t)("org_settings.sign_in_method.change_log_in"),checkboxText:(0,eq.t)("org_settings.sign_in_method.i_understand_that_members_must_log_in_with_label_after_confirming",{label:a})}):null},"REQUIRE_SSO_MODAL");function PP(e){let t=(0,oC.aH)(e.org),a=a=>{a===uO.RF.GOOGLE?e.dispatch(x1.hY({orgId:e.org.id,googleSsoOnly:!0})):a===uO.RF.SAML?e.dispatch(x1.MR({orgId:e.org.id,samlSsoOnly:!0})):t===uO.RF.GOOGLE?e.dispatch(x1.hY({orgId:e.org.id,googleSsoOnly:!1})):e.dispatch(x1.MR({orgId:e.org.id,samlSsoOnly:!1}))};return ev.createElement(ev.Fragment,null,ey.YO&&ev.createElement("div",{className:Px},ev.createElement(eq.Tx,{id:"org_settings.sso.you_must_use_a_web_browser"})),ev.createElement(Ed.E,{value:t,onChange:r=>{r!==t&&(r===uO.RF.ANY?a(r):e.dispatch((0,ig.K4)({type:PM,data:{signInMethod:r,onConfirm:()=>{e.dispatch(ig.eI()),a(r)}}})))}},ev.createElement(Ed._,{value:uO.RF.ANY,disabled:!!ey.YO},ev.createElement(eq.Tx,{id:"org_settings.sign_in_method.any",default:ev.createElement("span",{className:"configure_sso--secondary--a3feh"},ev.createElement(eq.Tx,{id:"org_settings.sign_in_method.default"}))})),ev.createElement(Ed._,{value:uO.RF.GOOGLE,disabled:!!ey.YO},ev.createElement(eq.Tx,{id:"org_settings.sign_in_method.members_must_log_in_with_a_google_account"})),ev.createElement(Ed._,{tooltipText:e.orgSamlConfig.idp_name?void 0:(0,eq.t)("org_settings.sign_in_method.you_need_to_configure_saml_sso_first"),value:uO.RF.SAML,disabled:!!ey.YO||!e.orgSamlConfig.idp_name},ev.createElement(eq.Tx,{id:"org_settings.sign_in_method.members_must_log_in_with_saml_sso"}))))}let PB=(0,it.Y3)(function(){let e=(0,eb.I0)(),t=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]),a=(0,eb.v9)(e=>e.orgSamlConfig),r=()=>e(ig.eI());return ev.createElement(ib.ge,{title:(0,eq.t)("org_settings.sign_in_method.authentication"),onClose:r,maxWidth:560,minWidth:560},ev.createElement("div",{className:Pk},!a.config&&ev.createElement(ax.TK,null),a.config&&ev.createElement(ev.Fragment,null,ev.createElement(PP,{dispatch:e,org:t,orgSamlConfig:a.config}),ev.createElement(eA.VM,{onClick:r,className:PI},ev.createElement(eq.Tx,{id:"org_settings.sign_in_method.done"})))))},"SIGN_IN_METHOD_MODAL"),PU="configure_saml--container--ge4ip",PV="configure_saml--section--EsW7M",PW="configure_saml--h2--oYpub",PG="configure_saml--idpMetadataUrlInput--0sb6r",Pj="configure_saml--idpMetadata--4VPuq";function PH(){let e=[{value:"okta",text:(0,eq.t)("org_settings.sso.okta"),placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:(0,eq.t)("org_settings.sso.microsoft_azure_active_directory"),placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"},{value:"onelogin",text:(0,eq.t)("org_settings.sso.one_login"),placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"},{value:"other",text:(0,eq.t)("org_settings.sso.other"),placeholder:""}];return e}class P$ extends ev.PureComponent{constructor(e){super(e),this.onIdpNameChange=e=>{this.setState({idp_name:e})},this.onIdpMetadataUrlChange=e=>{this.setState({idp_metadata_url:e.currentTarget.value})},this.onIdpSSOEntityIDChange=e=>{this.setState({idp_entity_id:e.currentTarget.value})},this.onIdpSSOTargetURLChange=e=>{this.setState({idp_sso_target_url:e.currentTarget.value})},this.onCertificateChange=e=>{let t=e.target.files?e.target.files[0]:null;this.setState({certificate:t})},this.onCancel=()=>{this.props.dispatch(ig.hV())},this.onConfirm=()=>{this.props.dispatch(ig.K4({type:PK,data:{certificate:this.state.certificate,idp_entity_id:this.state.idp_entity_id,idp_name:this.state.idp_name,idp_metadata_url:this.state.idp_metadata_url,idp_sso_target_url:this.state.idp_sso_target_url}}))},this.onKeyDown=e=>{e.keyCode===ly.sr.ENTER&&(e.preventDefault(),this.onConfirm())},this.state={certificate:null,idp_entity_id:"",idp_metadata_url:e.idp_metadata_url||"",idp_name:e.idp_name||null,idp_sso_target_url:""}}render(){let e;e="other"===this.state.idp_name?!this.state.idp_sso_target_url||!this.state.certificate||!this.state.idp_entity_id:!this.state.idp_metadata_url;let t=(PH().find(e=>e.value===this.state.idp_name)||PH()[0]).placeholder;return ev.createElement(ib.ge,{title:(0,eq.t)("org_settings.sso.configure_saml_sso"),maxWidth:459,onClose:this.onCancel,fixedTop:!0},ev.createElement("div",{className:PU},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_settings.sso.saml_single_sign_on",helpArticle:ev.createElement("a",{className:"configure_saml--blueLink--PCXE7 blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/360040532333",target:"_blank",rel:"noopener"},ev.createElement(eq.Tx,{id:"org_settings.sso.help_article"}))})),ev.createElement("div",null,ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.identity_provider_id_p"})),ev.createElement(Ed.E,{className:"configure_saml--radioGroup--yDktw",value:this.state.idp_name,onChange:this.onIdpNameChange},PH().map(e=>ev.createElement(Ed._,{key:e.value,value:e.value},e.text)))),ev.createElement("div",{className:PV},"other"===this.state.idp_name&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.idp_entity_id"})),ev.createElement(eA.Sc,{type:"url",className:PG,placeholder:"https://idp.com/saml/metadata/abc123",onChange:this.onIdpSSOEntityIDChange,value:this.state.idp_entity_id,onKeyDown:this.onKeyDown}),ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.idp_sso_target_url"})),ev.createElement(eA.Sc,{type:"url",className:PG,placeholder:"https://sso.idp.com/abc123/saml2",onChange:this.onIdpSSOTargetURLChange,value:this.state.idp_sso_target_url,onKeyDown:this.onKeyDown}),ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.signing_certificate"})),ev.createElement("input",{type:"file",onChange:this.onCertificateChange})),this.state.idp_name&&"other"!==this.state.idp_name&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.id_p_metadata_url"})),ev.createElement(eA.Sc,{type:"url",className:PG,placeholder:`Eg: ${t}`,onChange:this.onIdpMetadataUrlChange,value:this.state.idp_metadata_url,onKeyDown:this.onKeyDown}))),this.props.error&&ev.createElement("div",{className:PV},ev.createElement("div",{className:"configure_saml--error--mDamI"},this.props.error)),ev.createElement("div",{className:"configure_saml--buttonBox--TXwLP"},ev.createElement(eA.PL,{onClick:()=>this.props.dispatch(ig.eI())},ev.createElement(eq.Tx,{id:"modal.cancel"})),ev.createElement(eA.DF,{disabled:e,onClick:this.onConfirm},ev.createElement(eq.Tx,{id:"org_settings.sso.review"})))))}}P$.displayName="ConfigureSAMLModal";let Pz=(0,it.Y3)(P$,"EDIT_SAML_CONFIG_MODAL"),PK="CONFIGURE_SAML_CONFIRMATION_MODAL";(0,it.QR)(PK,e=>ev.createElement(PZ,{dispatch:e.dispatch,currentUserOrgId:e.currentUserOrgId,...e.modalShown.data}));class PZ extends ev.PureComponent{constructor(e){super(e),this.onEdit=()=>{this.props.dispatch(ig.eI()),this.props.dispatch(ig.eI()),this.props.dispatch((0,ig.K4)({type:Pz,data:{dispatch:this.props.dispatch,idp_name:this.props.idp_name,idp_metadata_url:this.props.idp_metadata_url}}))},this.onCancel=()=>{this.props.dispatch(ig.hV())},this.updateSAMLConfig=e=>{rI.ZP.post("/api/org_saml_config",{certificate:e,idp_entity_id:this.props.idp_entity_id,idp_name:this.props.idp_name,metadata_url:this.props.idp_metadata_url,org_id:this.props.currentUserOrgId,sso_target_url:this.props.idp_sso_target_url}).then(e=>{this.setState({busy:!1}),this.props.dispatch(R$.t({orgSamlConfig:e.data.meta})),this.onCancel()}).catch(e=>{var t;this.setState({busy:!1}),this.props.dispatch((0,ig.K4)({type:Pz,data:{dispatch:this.props.dispatch,idp_name:this.props.idp_name,idp_metadata_url:this.props.idp_metadata_url,error:(null==(t=e.data)?void 0:t.message)||(0,eq.t)("org_settings.sso.an_error_occurred_while_configuring_saml_sso")}}))})},this.onConfirm=()=>{if(this.setState({busy:!0}),"other"===this.props.idp_name){let e=new FileReader;e.addEventListener("load",()=>{this.updateSAMLConfig(e.result)}),e.readAsText(this.props.certificate)}else this.updateSAMLConfig(null)},this.state={busy:!1}}render(){let e=PH().reduce((e,t)=>(e[t.value]=t.text,e),{});return ev.createElement(ib.ge,{title:(0,eq.t)("org_settings.sso.configure_saml_sso"),maxWidth:459,onClose:this.onCancel,disableClickOutsideToHide:this.state.busy,isCloseHidden:this.state.busy},ev.createElement("div",{className:PU},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_settings.sso.please_review_the_information_you_entered"})),ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.identity_provider_id_p"})),ev.createElement("div",{className:Pj},e[this.props.idp_name]),ev.createElement("div",{className:"configure_saml--lastSection--apMbb"},"other"===this.props.idp_name&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.idp_entity_id"})),ev.createElement("div",{className:Pj},this.props.idp_entity_id),ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.idp_sso_url"})),ev.createElement("div",{className:Pj},this.props.idp_sso_target_url),ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.signing_certificate"})),ev.createElement("div",{className:Pj},this.props.certificate.name)),"other"!==this.props.idp_name&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:PW},ev.createElement(eq.Tx,{id:"org_settings.sso.id_p_metadata_url"})),ev.createElement("div",{className:Pj},this.props.idp_metadata_url)))),this.state.busy&&ev.createElement("div",{className:"configure_saml--spinnerContainer--SUsQI"},ev.createElement(ax.TK,null)),!this.state.busy&&ev.createElement(I2.N,{onConfirm:this.onConfirm,onCancel:this.onEdit,confirmButtonText:(0,eq.t)("org_settings.sso.configure_saml_sso"),cancelButtonText:(0,eq.t)("org_settings.sso.edit")},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_settings.sso.this_information_is_correct"}))))}}class Pq extends ev.PureComponent{constructor(){super(...arguments),this.onClickConfigureSAML=()=>{this.props.dispatch((0,ig.K4)({type:Pz,data:{dispatch:this.props.dispatch}}))}}copyToClipboard(e,t){(0,PT.zp)(e).then(()=>{this.props.dispatch(r7.R.enqueue({type:t,message:(0,eq.t)("org_settings.sso.copied")}))})}renderDomains(){let e=this.props.orgDomains.map(e=>e.domain);return ev.createElement("p",{className:Px},ev.createElement(eq.Tx,{id:"org_settings.sso.domain_requirement",domains:ev.createElement(h9.x,{formatType:"disjunction"},e.map(e=>ev.createElement("span",{key:e,className:PN},e))),contactSupport:ev.createElement("a",{className:PC,href:"mailto:support@figma.com"},ev.createElement(eq.Tx,{id:"org_settings.sso.contact_support"}))}))}renderSPSettings(){let e=this.props.orgSamlConfig,t=document.queryCommandSupported("copy")&&e&&ev.createElement("a",{className:"configure_sso--copyTenantId--DbECD configure_sso--blueLink--yQaB8 blue_link--blueLink--9rlnd",onClick:()=>this.copyToClipboard(e.id,"saml_tenant_id_copied_to_clipboard")},ev.createElement(eq.Tx,{id:"org_settings.sso.copy"})),a=[{rowName:(0,eq.t)("org_settings.sso.tenant_id"),value:e.id,action:t},{rowName:(0,eq.t)("org_settings.sso.sp_entity_id"),value:e.sp_entity_id},{rowName:(0,eq.t)("org_settings.sso.sp_acs_url"),value:e.sp_acs_target_url}];return ev.createElement("table",{className:PS},ev.createElement("tbody",null,a.map(e=>ev.createElement("tr",{key:`row-${e.rowName}`},ev.createElement("th",null,e.rowName),ev.createElement("td",null,e.value||"Not configured",e.action)))))}isSamlConfigured(){return!!this.props.orgSamlConfig.idp_name}renderConfigureIdp(){let e=(0,oC.aH)(this.props.org),t=e===uO.RF.SAML;return ev.createElement(eA.DF,{className:"configure_sso--configureButton--AnOM7",disabled:t,onClick:this.onClickConfigureSAML},this.isSamlConfigured()?"Edit configuration":"Configure SAML")}renderIdpSettings(){let e={okta:(0,eq.t)("org_settings.sso.okta"),azure:(0,eq.t)("org_settings.sso.azure"),onelogin:(0,eq.t)("org_settings.sso.one_login"),other:(0,eq.t)("org_settings.sso.other")},t=(0,eq.t)("org_settings.sso.not_configured"),a=this.props.orgSamlConfig.idp_name,r=[{rowName:(0,eq.t)("org_settings.sso.idp"),value:a&&e[a]||a},{rowName:(0,eq.t)("org_settings.sso.idp_entity_id"),value:this.props.orgSamlConfig.idp_entity_id},{rowName:(0,eq.t)("org_settings.sso.idp_sso_url"),value:this.props.orgSamlConfig.idp_sso_target_url}];return ev.createElement("div",null,ev.createElement("p",{className:"configure_sso--sectionInstructionMarginTop--z91SA configure_sso--sectionInstruction--BJqP9"},ev.createElement(eq.Tx,{id:"org_settings.sso.your_configuration_details"})),ev.createElement("table",{className:PS},ev.createElement("tbody",null,r.map(e=>ev.createElement("tr",{key:`row-${e.rowName}`},ev.createElement("th",null,e.rowName),ev.createElement("td",null,e.value||t,e.action))))))}render(){return ev.createElement(ev.Fragment,null,ev.createElement("p",{className:Px},ev.createElement(eq.Tx,{id:"org_settings.sso.saml_sso_description",helpArticle:ev.createElement("a",{className:PC,href:"https://help.figma.com/hc/articles/360040532333",target:"_blank"},ev.createElement(eq.Tx,{id:"org_settings.sso.help_article"}))})),ev.createElement("div",null,this.renderDomains(),this.renderSPSettings(),this.renderIdpSettings(),!this.props.hideEditButton&&this.renderConfigureIdp()))}}Pq.displayName="SamlConfigSection";let PY=(0,it.Y3)(function(){let e=(0,eb.I0)(),t=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]),a=(0,eb.v9)(e=>e.orgSamlConfig),r=(0,eb.v9)(e=>e.orgDomains),n=!a.config||0==r.domains.length,i=()=>e(ig.eI());return ev.createElement(ib.ge,{title:(0,eq.t)("org_settings.sso.saml_sso"),onClose:i,maxWidth:536,minWidth:536},ev.createElement("div",{className:Pk},n&&ev.createElement(ax.TK,null),!n&&ev.createElement(ev.Fragment,null,ev.createElement(Pq,{dispatch:e,hideEditButton:!0,org:t,orgDomains:r.domains,orgSamlConfig:a.config}),ev.createElement("div",{className:PI},ev.createElement(eA.VM,{onClick:()=>{e((0,ig.K4)({type:Pz,data:{dispatch:e}}))}},ev.createElement(eq.Tx,{id:"org_settings.sso.edit_configuration"})),ev.createElement(eA.DF,{onClick:i},ev.createElement(eq.Tx,{id:"org_settings.sso.done"}))))))},"VIEW_SAML_CONFIG_MODAL"),PJ="autogen_password_controls_modal--radioLabel--Gkka8",PQ=a(665229),PX=e=>e?"autogen":"custom",P0=(0,it.Y3)(function(){var e,t,a;let r=(0,eb.I0)(),n=(0,eq.t)("org_settings.autogen_password_controls.success"),i=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]),l=(0,dV.mU)(dH.OrgSharedSettingView,{orgId:i.id}),s=()=>r(ig.eI()),[o,c]=ev.useState("loaded"===l.status?PX(null==(a=null==(t=null==(e=l.data)?void 0:e.org)?void 0:t.sharedOrgLicenseGroupSetting)?void 0:a.autogenPasswordControls):null);return ev.useEffect(()=>{var e,t,a;"loaded"===l.status&&c(PX(null==(a=null==(t=null==(e=l.data)?void 0:e.org)?void 0:t.sharedOrgLicenseGroupSetting)?void 0:a.autogenPasswordControls))},[l]),ev.createElement(ib.ge,{title:(0,eq.t)("org_settings.autogen_password_controls.title"),onClose:s,maxWidth:380,minWidth:380,fixedTop:!0},ev.createElement("div",{className:"autogen_password_controls_modal--modalContent--V-gBK"},ev.createElement(eq.Tx,{id:"org_settings.autogen_password_controls.description"}),ev.createElement(Ed.E,{value:o,onChange:e=>{c(e)},className:"autogen_password_controls_modal--radioGroup--jik1F"},ev.createElement(Ed._,{value:"custom",labelClassName:PJ,disabled:"loading"===l.status},ev.createElement(oc.x,{i18nId:"org_settings.autogen_password_controls.custom_passwords_button"}),ev.createElement("span",null,ev.createElement(oc.x,{i18nId:"org_settings.autogen_password_controls.default",color:"secondary"})),ev.createElement("br",null),ev.createElement(oc.x,{color:"secondary",i18nId:"org_settings.autogen_password_controls.custom_passwords_description"})),ev.createElement(Ed._,{value:"autogen",labelClassName:PJ,disabled:"loading"===l.status},ev.createElement(oc.x,{i18nId:"org_settings.autogen_password_controls.autogen_passwords_button"}),ev.createElement("br",null),ev.createElement(oc.x,{color:"secondary",i18nId:"org_settings.autogen_password_controls.autogen_passwords_description"}))),ev.createElement(n7.X,{orientation:"vertical",variant:"brand",iconSrc:PQ,dataTestId:"password-info-banner"},ev.createElement(oc.x,{i18nId:"org_settings.autogen_password_controls.banner"})),ev.createElement("div",{className:"autogen_password_controls_modal--modalButtons---LSkB"},ev.createElement(_E.PL,{onClick:s},ev.createElement(oc.x,{i18nId:"org_settings.autogen_password_controls.cancel"})),ev.createElement(_E.DF,{onClick:()=>{var e,t,a;o&&(r(x1.wI({orgId:i.id,autogenPasswordControl:"autogen"===o,settingsId:null==(a=null==(t=null==(e=l.data)?void 0:e.org)?void 0:t.sharedOrgLicenseGroupSetting)?void 0:a.id,successMessage:n})),s())}},ev.createElement(oc.x,{i18nId:"org_settings.autogen_password_controls.save"})))))},"AUTOGEN_PASSWORD_CONTROLS_MODAL"),P1=(0,it.Y3)(function(){let e=(0,eb.I0)(),t=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]),a=()=>e(ig.eI());return ev.createElement(ib.ge,{title:(0,eq.t)("settings_tab.scim_metadata_modal.member_metadata"),onClose:a,maxWidth:340,minWidth:340},ev.createElement("div",{className:Pk},ev.createElement("p",{className:Px},ev.createElement(eq.Tx,{id:"settings_tab.scim_metadata_modal.change_which_scim_metadata_shows_on_the_members_tab"})),ev.createElement(Ed.E,{value:t.featured_scim_metadata,onChange:a=>e(x1.zz({orgId:t.id,attribute:a}))},Object.values(ao.Wn).map(e=>ev.createElement(Ed._,{key:e,value:e},(0,oC.QW)(e)))),ev.createElement(eA.VM,{onClick:a,className:PI},ev.createElement(eq.Tx,{id:"settings_tab.scim_metadata_modal.done"}))))},"CHOOSE_SCIM_METADATA_MODAL");var P2=((J=P2||{}).ORG_ACTIVITY_LOG_READ="org:activity_log_read",J.ORG_USER_READ="org:user_read",J.ORG_FILE_READ="org:file_read",J.ORG_RELATED_LINKS_WEBHOOKS="org:related_links_webhooks",J.USER_FILE_READ_DEPRECATED="file_read",J.USER_FILE_CREATE="file_create",J.USER_FILE_ENUMERATE="file_enumerate",J.USER_USER_READ="user_read",J.USER_FILES_READ="files:read",J.USER_FILE_COMMENTS_WRITE="file_comments:write",J.USER_FILE_DEV_RESOURCES_READ="file_dev_resources:read",J.USER_FILE_DEV_RESOURCES_WRITE="file_dev_resources:write",J.USER_FILE_VARIABLES_READ="file_variables:read",J.USER_FILE_VARIABLES_WRITE="file_variables:write",J.USER_LIBRARY_ANALYTICS_READ="library_analytics:read",J.USER_WEBHOOKS_WRITE="webhooks:write",J);let P3={"org:activity_log_read":()=>[(0,eq.t)("tokens.oauth.view_user_activity_in_figma_like_opening_files_creating_projects_and_sharing_resources")],"org:file_read":()=>[(0,eq.t)("tokens.oauth.view_basic_information_about_files")],"org:related_links_webhooks":()=>[(0,eq.t)("tokens.oauth.manage_related_links_webhooks")],"org:user_read":()=>[(0,eq.t)("tokens.oauth.view_basic_information_about_users")],file_read:()=>[(0,eq.t)("tokens.oauth.read_files_you_have_access_to"),(0,eq.t)("tokens.oauth.read_and_modify_comments_for_files_you_have_access_to"),(0,eq.t)("tokens.oauth.read_projects_you_have_access_to"),(0,eq.t)("tokens.oauth.read_components_and_styles_you_have_access_to")],file_create:()=>[(0,eq.t)("tokens.oauth.create_files")],file_enumerate:()=>[(0,eq.t)("tokens.oauth.enumerate_files")],user_read:()=>[(0,eq.t)("tokens.oauth.read_your_name_email_and_profile_image")],"files:read":()=>[(0,eq.t)("tokens.oauth.read_files_you_have_access_to"),(0,eq.t)("tokens.oauth.read_comments_for_files_you_have_access_to"),(0,eq.t)("tokens.oauth.read_projects_you_have_access_to"),(0,eq.t)("tokens.oauth.read_components_and_styles_you_have_access_to"),(0,eq.t)("tokens.oauth.read_your_name_email_and_profile_image")],"file_comments:write":()=>[(0,eq.t)("tokens.oauth.modify_comments_for_files_you_have_access_to")],"file_dev_resources:read":()=>[(0,eq.t)("tokens.oauth.read_dev_resources")],"file_dev_resources:write":()=>[(0,eq.t)("tokens.oauth.create_and_modify_dev_resources")],"file_variables:read":()=>[(0,eq.t)("tokens.oauth.read_variables_from_files_you_have_access_to")],"file_variables:write":()=>[(0,eq.t)("tokens.oauth.create_and_modify_variables_for_files_you_have_access_to")],"library_analytics:read":()=>[(0,eq.t)("tokens.oauth.read_library_analytics_data")],"webhooks:write":()=>[(0,eq.t)("tokens.oauth.create_and_modify_webhooks")]},P4="connected_apps--modalContent--jofiG",P8="connected_apps--tokenMeta--q0ci4",P5="connected_apps--buttonBox--LSVPH",P9="connected_apps--button--yaM0o",P6="connected_apps--columnScope---TfNz table--column--974RA",P7="connected_apps--columnDescription--hsy1E table--column--974RA",Be=a(373260);function Bt(e){var t;return ev.createElement("div",{role:"button",tabIndex:0,key:e.token.name,className:"connected_apps--tokenRow--8t3rQ",onClick:e.onClick},ev.createElement("div",null,ev.createElement("img",{src:e.token.logo,alt:"",className:"connected_apps--logoImage--QMb8h"})),ev.createElement("div",{className:"connected_apps--tokenInfo--YiebU"},ev.createElement("div",{className:"connected_apps--tokenName--jw63V"},e.token.name),ev.createElement("div",{className:P8},ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.connected_since",date:(0,gk.Z)(e.token.granted_at).format("LL")})),ev.createElement("div",{className:P8},ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.scopes_granted",numScopes:(null==(t=e.token.scopes)?void 0:t.length)??1}))),e.onClick&&ev.createElement(eD.n,{svg:Be,className:"connected_apps--caret--TWlfa"}))}let Ba=(0,it.Y3)(function(e){let t=(0,eb.I0)(),[a,r]=(0,ev.useState)([]),[n,i]=(0,ev.useState)(!0);ev.useEffect(()=>{_J.uU.getOauthConnections({orgId:e.org.id}).then(({data:e})=>{r(e.meta),i(!1)}).catch(e=>{t(dl.l.error((0,eq.t)("settings_tab.connected_apps.error_loading_tokens"))),i(!1)})},[t,e.org.id]);let l=null;return l=n?ev.createElement("div",{className:"connected_apps--loading--yYjBQ"},ev.createElement(ax.TK,null)):0===a.length?ev.createElement("p",{className:"connected_apps--noToken--OGl0i"},ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.this_org_does_not_have_any_connected_apps",orgName:e.org.name})):ev.createElement("div",null,a.map(n=>ev.createElement(Bt,{key:n.client_id,token:n,onClick:()=>{t((0,ig.K4)({type:Br,data:{org:e.org,token:n,onRevoke:()=>{r(a.filter(e=>e.client_id!==n.client_id))}}}))}}))),ev.createElement(ib.ge,{title:(0,eq.t)("settings_tab.connected_apps"),onClose:()=>t(ig.eI()),maxWidth:462,minWidth:462},ev.createElement("div",{className:P4},ev.createElement("p",{className:"connected_apps--sectionInstruction--9x0kV"},ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.instruction"})),l))},"CONNECTED_APPS_MODAL"),Br=(0,it.Y3)(function(e){var t;let a=(0,eb.I0)();return ev.createElement(ib.ge,{title:e.token.name,onClose:()=>a(ig.eI()),maxWidth:462,minWidth:462},ev.createElement("div",{className:P4},ev.createElement(Bt,{token:e.token}),ev.createElement("p",null,ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.scope_description"})),ev.createElement("div",{className:"connected_apps--scopeTable--4rTLd"},ev.createElement("div",{className:"connected_apps--headerRow--5gJQx"},ev.createElement("div",{className:P6},ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.o_auth_scope"})),ev.createElement("div",{className:P7},ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.description"}))),null==(t=e.token.scopes)?void 0:t.map(e=>{let t=P3[e]()??[];return ev.createElement("div",{key:e,className:"connected_apps--tableRow--JZQwR"},ev.createElement("div",{className:P6},ev.createElement("span",null,e)),ev.createElement("div",{className:P7},t.map(e=>ev.createElement("div",{key:e},e))))})),ev.createElement("div",{className:P5},ev.createElement(eA.PL,{className:P9,onClick:()=>{a(ig.eI())}},ev.createElement(eq.Tx,{id:"general.back"})),ev.createElement(eA.E0,{className:P9,onClick:()=>{a((0,ig.K4)({type:Bn,data:{org:e.org,token:e.token,onRevoke:e.onRevoke}}))}},ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.revoke"})))))},"CONNECTED_APP_MODAL"),Bn=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=()=>t(ig.eI());return ev.createElement(ib.ge,{title:(0,eq.t)("settings_tab.connected_apps.revoke_app",{appName:e.token.name}),onClose:a,maxWidth:462,minWidth:462},ev.createElement("div",{className:P4},ev.createElement("p",{className:"connected_apps--confirmText--V6RKI"},ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.are_you_sure",appName:ev.createElement("span",{style:{fontWeight:600}},e.token.name),orgName:e.org.name})),ev.createElement("div",{className:P5},ev.createElement(eA.PL,{className:P9,onClick:a},ev.createElement(eq.Tx,{id:"general.back"})),ev.createElement(eA.E0,{className:P9,onClick:()=>{t(ig.eI()),rI.ZP.del(`/api/oauth/token/${e.org.id}/${e.token.client_id}`).then(a=>{t(dl.l.flash((0,eq.t)("settings_tab.connected_apps.oauth_token_deleted"))),t(ig.eI()),e.onRevoke()}).catch(e=>{var a;t(dl.l.error((null==(a=e.data)?void 0:a.message)||(0,eq.t)("settings_tab.connected_apps.an_error_occurred_while_deleting_the_token"),5e3)),console.error(e)})}},ev.createElement(eq.Tx,{id:"settings_tab.connected_apps.revoke"})))))},"REVOKE_APP_MODAL"),Bi=(0,it.Y3)(function(e){let[t,a,r]="win"===e.platform?[(0,eq.t)("org_admin_settings.enterprise_installer_label"),"https://help.figma.com/hc/articles/14172933259287",`https://desktop.figma.com/win/Figma-${e.version}.msi`]:[(0,eq.t)("org_admin_settings.enterprise_installer_label_mac"),"https://help.figma.com/hc/articles/17686512113175",`https://desktop.figma.com/mac-universal/Figma-${e.version}.pkg`];return ev.createElement(ir.cV,{confirmationTitle:t,confirmText:(0,eq.t)("org_admin_settings.enterprise_installer_confirmation"),onConfirm:()=>window.location.href=r,tintedModalBackground:!0,dispatch:(0,eb.I0)()},ev.createElement(eq.Tx,{id:"win"===e.platform?"org_admin_settings.enterprise_installer_modal_copy":"org_admin_settings.enterprise_installer_modal_copy_mac"}),ev.createElement(eA.rU,{href:a,target:"_blank",trusted:!0},ev.createElement(eq.Tx,{id:"org_admin_settings.enterprise_installer_modal_link"})),ev.createElement(eq.Tx,{id:"org_admin_settings.enterprise_installer_modal_release_version",version:e.version}),ev.createElement("br",null),ev.createElement(eq.Tx,{id:"org_admin_settings.enterprise_installer_modal_release_date",releaseDate:new Date(e.releaseDate||Date.now()).toLocaleDateString()}))},"ENTERPRISE_INSTALLER_MODAL"),Bl="external_collaboration_controls_modal--sectionInstruction--3Em4j",Bs="external_collaboration_controls_modal--radioLabel---ZT-n",Bo="external_collaboration_controls_modal--listItem--RAIKD",Bc="external_collaboration_controls_modal--confirmButton--yOTgX",Bd="external_collaboration_controls_modal--bold--6eZYS",Bm=a(753224),Bu=(0,it.Y3)(function(){var e,t;let a=(0,eb.I0)(),r=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]),n=()=>a(ig.eI()),[i,l]=(0,ev.useState)(null==(e=r.shared_org_license_group_settings)?void 0:e.external_collaboration_controls),s=!!(null==(t=r.shared_org_license_group_settings)?void 0:t.external_collaboration_controls);return ev.createElement(e3.Ui,{name:"External Content Controls Setting Modal",properties:{orgId:r.id}},ev.createElement(ib.ge,{title:(0,eq.t)("org_settings.external_collaboration_controls.header"),onClose:n,maxWidth:376,minWidth:376,fixedTop:!0},ev.createElement("div",{className:"external_collaboration_controls_modal--modalContent--z39Th"},ev.createElement("div",{className:"external_collaboration_controls_modal--warningBanner--uBIyF"},ev.createElement(eD.n,{className:"external_collaboration_controls_modal--icon--mHGvS",svg:Bm}),ev.createElement("p",null,ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.banner",let_org_know:ev.createElement(eA.UU,{href:"https://help.figma.com/hc/articles/12080587805719",className:ek.cx.font11.$,trusted:!0},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.let_org_know"}))}))),ev.createElement("div",{className:Bl},i?ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.list_header_setting_on",orgName:r.name,cannot:ev.createElement("span",{className:Bd},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.cannot"}))}):ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.list_header_setting_off",orgName:r.name}),ev.createElement("ul",null,ev.createElement("li",{className:Bo},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.accept_invites"})),ev.createElement("li",{className:Bo},i?ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.view_only",note:ev.createElement("span",{className:Bd},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.note"}))}):ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.view_or_edit_files"})),ev.createElement("li",{className:Bo},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.create"})),ev.createElement("li",{className:Bo},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.open_sessions"})))),ev.createElement("p",{className:`${Bl} ${Bd}`},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.setting_header",orgName:r.name})),ev.createElement(Ed.E,{value:i?"true":"false",onChange:e=>"true"===e?l(!0):l(!1)},ev.createElement(Ed._,{value:"false",labelClassName:Bs},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.enable"})),ev.createElement(Ed._,{value:"true",labelClassName:Bs},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.disable"}))),ev.createElement("div",{className:m2.UN},ev.createElement(eA.PL,{onClick:n,className:`${m2.iY} ${Bc}`},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.cancel"})),ev.createElement(eA.E0,{onClick:()=>{if(i===s||void 0===i){n();return}let e=(0,eq.t)("org_settings.external_collaboration_controls.success");a(x1.Vx({payload:{external_collaboration_controls:i},successMessage:e})),n()},disabled:i===s||void 0===i,className:`${m2.iY} ${Bc}`},ev.createElement(eq.Tx,{id:"org_settings.external_collaboration_controls.save"}))))))},"EXTERNAL_COLLABORATION_CONTROLS_MODAL"),B_="guest_invite_settings_modal--sectionInstruction--ypd15",Bp="guest_invite_settings_modal--radioLabel--yCxLw",Bg=(0,it.Y3)(function(e){let t=(0,eb.I0)();return ev.createElement(ir.cV,{confirmationTitle:(0,eq.t)("org_settings.guest_control.confirm_title"),confirmText:(0,eq.t)("org_settings.guest_control.confirm_button"),onConfirm:()=>{t(x1.Vx({payload:{invite_whitelist_guest_invite_setting:e.guestInviteSetting},successMessage:e.settingString}))},tintedModalBackground:!0,dispatch:t},ev.createElement(eq.Tx,{id:"org_settings.guest_control.no_guest_confirmation"}))},"CONFIRM_BAN_GUEST_INVITE_MODAL"),BE=(0,it.Y3)(function(){let e=(0,eb.I0)(),t=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]),a=(0,eb.v9)(e=>e.orgDomains.domains),r=()=>e(ig.eI()),[n,i]=(0,ev.useState)(t.invite_whitelist_guest_invite_setting);return ev.createElement(ib.ge,{title:(0,eq.t)("org_settings.guest_control.guest_membership"),onClose:r,maxWidth:440,minWidth:440,fixedTop:!0},ev.createElement("div",{className:"guest_invite_settings_modal--modalContent--byRFx"},ev.createElement("p",{className:B_},ev.createElement(eq.Tx,{id:"org_settings.guest_control.guest_definition",domains:ev.createElement(h9.x,{formatType:"disjunction"},a.map(e=>ev.createElement("span",{key:e.domain},"@",e.domain)))})),ev.createElement("p",{className:B_,style:{fontWeight:500}},ev.createElement(eq.Tx,{id:"org_settings.guest_control.guest_question"})),ev.createElement(Ed.E,{value:n??"none",onChange:e=>{let t="none"===e?null:e;n!==t&&i(t)}},ev.createElement(Ed._,{value:"none",labelClassName:Bp},(0,oC.Op)(null),ev.createElement("span",{className:"guest_invite_settings_modal--secondary--Ft9Th"},ev.createElement(eq.Tx,{id:"org_settings.guest_control.default"}))),ev.createElement(Ed._,{value:uO.lz.REQUIRE_APPROVAL,labelClassName:Bp},(0,oC.Op)(uO.lz.REQUIRE_APPROVAL)),ev.createElement(Ed._,{value:uO.lz.BANNED,labelClassName:Bp},(0,oC.Op)(uO.lz.BANNED))),!(0,vC.Zy)(t.shared_org_license_group_settings)&&null!=n&&ev.createElement("div",{className:"guest_invite_settings_modal--publicLinksBanner--K082Y"},ev.createElement(eq.Tx,{id:"org_settings.guest_control.link_sharing_on",enabled:ev.createElement("span",{style:{fontWeight:600}},ev.createElement(eq.Tx,{id:"org_settings.guest_control.enabled"})),publicLinkSharingSettings:ev.createElement("button",{onClick:r,className:"guest_invite_settings_modal--blueLink--zuEFV blue_link--blueLink--9rlnd"},ev.createElement(eq.Tx,{id:"org_settings.guest_control.public_link_sharing_settings"}))})),ev.createElement(eA.DF,{onClick:()=>{if(n===t.invite_whitelist_guest_invite_setting){r();return}let a=(0,oC.Op)(n);(0,vC.Zy)(t.shared_org_license_group_settings)||n!==uO.lz.BANNED?(e(x1.Vx({payload:{invite_whitelist_guest_invite_setting:n},successMessage:a})),r()):e((0,ig.K4)({type:Bg,data:{guestInviteSetting:n,settingString:a}}))},className:"guest_invite_settings_modal--modalSave--0JmNA"},ev.createElement(eq.Tx,{id:"org_settings.guest_control.save_button"}))))},"GUEST_INVITE_SETTINGS_MODAL");var Bh=((Q=Bh||{}).CONFIGURED="configured",Q.DEFAULT="default",Q);let Bf=()=>!1,Bv=Bf()?1:12,Bb=()=>({...Bf()?{[SQ.Tl.MINUTES]:(0,ay.w6)(15,60,5).map(e=>({type:"option",text:e.toString(),key:e}))}:null,[SQ.Tl.HOURS]:(0,ay.w6)(Bv,24,1).map(e=>({type:"option",text:e.toString(),key:e})),[SQ.Tl.DAYS]:(0,ay.w6)(1,15,1).map(e=>({type:"option",text:e.toString(),key:e}))}),By=()=>({timeAmount:{key:14,text:"14"},timeUnit:{key:SQ.Tl.DAYS,text:(0,eq.t)("settings_tab.idle_session_timeout_settings_modal.days",{timeAmount:14})}}),Bw=e=>{let t=[{type:"option",key:SQ.Tl.HOURS,text:(0,eq.t)("settings_tab.idle_session_timeout_settings_modal.hours",{timeAmount:e})},{type:"option",key:SQ.Tl.DAYS,text:(0,eq.t)("settings_tab.idle_session_timeout_settings_modal.days",{timeAmount:e})}];return Bf()&&t.unshift({type:"option",key:SQ.Tl.MINUTES,text:(0,eq.t)("settings_tab.idle_session_timeout_settings_modal.minutes",{timeAmount:e})}),t};function BT(e){let{timeUnit:{key:t},timeAmount:{key:a}}=e;switch(t){case SQ.Tl.MINUTES:return a*SQ.ks;case SQ.Tl.HOURS:return a*SQ.Jk;case SQ.Tl.DAYS:return a*SQ.RP}}function Bx(e){let t=(0,eb.I0)(),a=(0,mj.L)(),r=(null==a?void 0:a.type)===e.id;return ev.createElement(xK.ud,{chevronClassName:ek.cx.mlAuto.$,className:ek.cx.bRadius3.b1.bSolid.colorBorder.wFull.$,dispatch:t,type:e.id,showingDropdown:r},e.currentText,r&&ev.createElement(x$.m,{dispatch:t,dropdownShown:a,options:e.options,value:e.currentKey,onChange:e.onChange}))}function BN(e){return ev.createElement("div",{style:ie.sx.add({marginTop:"-8px"}).$,className:ek.cx.colorTextSecondary.ml20.mb8.$},e.children)}function BC(e){let{key:t,time:{unit:a,duration:r}}=e.configuredTimeHelperTextOptions,n=(0,eq.t)(`settings_tab.idle_session_timeout.time.${a}`,{duration:r});return ev.createElement("div",{className:ek.cx.mt8.font11.fontNormal.colorTextSecondary.$},ev.createElement(eq.Tx,{id:`settings_tab.idle_session_timeout.configured_time_description.${t}`,duration:n}))}let BS=(0,it.Y3)(function(e){let t=(0,eb.I0)(),[a,r]=ev.useState(e.idleTimeoutDurationInSecs?Bh.CONFIGURED:Bh.DEFAULT),[n,i]=ev.useState(function(e){if(!e)return By();let[t,a]=(0,SQ.fs)(e);return a in Bb()?{timeAmount:{key:t,text:t.toString()},timeUnit:{key:a,text:(0,eq.t)(`settings_tab.idle_session_timeout_settings_modal.${a}`,{timeAmount:t})}}:By()}(e.idleTimeoutDurationInSecs)),[l,s]=ev.useState(!1),[o,c]=ev.useState(null),d=a===Bh.CONFIGURED&&e.idleTimeoutDurationInSecs!==BT(n)||null!==e.idleTimeoutDurationInSecs&&a===Bh.DEFAULT,m=ev.useCallback(e=>{c(null),i(t=>({timeUnit:{key:t.timeUnit.key,text:(0,eq.t)(`settings_tab.idle_session_timeout_settings_modal.${t.timeUnit.key}`,{timeAmount:e})},timeAmount:{key:e,text:e.toString()}}))},[]),u=ev.useCallback(e=>{i(t=>{let a=Bb()[e],r=t.timeAmount.key,n=By().timeAmount;if(a){let t=a.find(({key:e})=>e===r);if(t)n=t,c(null);else{let t=r<a[0].key,i=t?a[0]:a[a.length-1];n=i,c({key:t?"minimum":"maximum",time:{duration:i.key,unit:e}})}}return{timeAmount:{key:n.key,text:n.text},timeUnit:{key:e,text:(0,eq.t)(`settings_tab.idle_session_timeout_settings_modal.${e}`,{timeAmount:n.key})}}})},[]),_=ev.useCallback(()=>t(ig.eI()),[t]),p=ev.useCallback(()=>{s(!0);let r=a===Bh.DEFAULT?null:BT(n);t(x1.Av({orgId:e.orgId,onFailure:()=>s(!1),onSuccess:_,timeoutDurationInSecs:r}))},[a,n,e.orgId,t,_]),g=ev.useCallback(e=>{e!==a&&(r(e),i(By()))},[a]);return ev.createElement(ib.ge,{title:(0,eq.t)("settings_tab.idle_session_timeout_settings_modal.header"),onClose:_,maxWidth:288,minWidth:288,fixedTop:!0},ev.createElement(tD.j,{direction:"vertical",horizontalAlignItems:"center",padding:16,spacing:16},ev.createElement(eq.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.description"}),ev.createElement(Ed.E,{className:ek.cx.wFull.mt16.$,value:a,onChange:g},ev.createElement(Ed._,{value:Bh.DEFAULT},ev.createElement(eq.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.default_choice_description"})),ev.createElement(BN,null,ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.default_choice_timeframe"}),ev.createElement("div",{className:ek.cx.inline.$},ev.createElement(eA.rU,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/14376092335127",className:ek.cx.inline.ml4.$},ev.createElement(eq.Tx,{id:"workspace.create_confirmation_modal.description.outro.learn_more"}))))),ev.createElement(Ed._,{value:Bh.CONFIGURED},ev.createElement(eq.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.configured_choice_description"})),ev.createElement(BN,null,ev.createElement(eq.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.configured_choice_subtitle"})),a===Bh.CONFIGURED&&ev.createElement("div",{"data-testid":"dropdown-group",className:ek.cx.mlAuto.$},ev.createElement(tD.j,{direction:"horizontal",horizontalAlignItems:"end",spacing:8,width:236},ev.createElement(Bx,{id:"TIME_VALUE_DROPDOWN",options:Bb()[n.timeUnit.key]??Bb()[By().timeUnit.key],currentText:n.timeAmount.text,currentKey:n.timeAmount.key,onChange:m}),ev.createElement(Bx,{id:"TIME_UNIT_DROPDOWN",options:Bw(n.timeAmount.key),currentText:n.timeUnit.text,currentKey:n.timeUnit.key,onChange:u})),o&&ev.createElement(BC,{configuredTimeHelperTextOptions:o}))),a===Bh.CONFIGURED&&d&&ev.createElement("div",{className:ek.cx.bRadius4.px12.py8.colorBgInfo.$},ev.createElement(eq.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.warning_description"})),ev.createElement(tD.j,{direction:"horizontal",horizontalAlignItems:"end",spacing:8},ev.createElement(eA.VM,{onClick:_},ev.createElement(eq.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.cancel"})),ev.createElement(eA.DF,{disabled:l||!d,onClick:p},ev.createElement(eq.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.save"})))))},"IDLE_SESSION_TIMEOUT_SETTINGS_MODAL");var Bk=a(389579),BI=a(298358);let BL=a(648387);function BR(e){return ev.createElement("button",{onClick:e.goBack,className:"workspace_public_sharing_modal--goBackButton--IeIwq"},ev.createElement(eD.n,{className:"workspace_public_sharing_modal--rotate--DvHuy",svg:BL}),ev.createElement(oc.x,{truncate:!0,color:"default"},e.workspace.name))}let BA=(0,it.Y3)(function({goBack:e,org:t,workspace:a}){let r=(0,eb.I0)(),{formState:n,formActions:i}=LQ(t,a.publicLinkControlsSetting||null,parseInt(a.publicLinkControlsMaxExpiration)||null),l=(e,t)=>e===n.initialPublicLinkControlsSetting&&t===parseInt(a.publicLinkControlsMaxExpiration),s=ev.useCallback(()=>{r((0,ig.K4)({type:BO,data:{workspace:a,goBack:e}}))},[r,a,e]);return ev.createElement(ib.ge,{title:ev.createElement(BR,{workspace:a,goBack:e}),maxWidth:480,minWidth:480,onClose:e,fixedTop:!0},ev.createElement("div",{className:ek.cx.px16.pt16.$},ev.createElement("div",{className:L$},ev.createElement(L5,{isPublicLinksBanned:n.isPublicLinksBanned,togglePublicLinksBanned:i.togglePublicLinksBanned,labelText:(0,eq.t)("settings_tab.public_sharing.workspace_public_sharing_label"),subText:(0,eq.t)("settings_tab.public_sharing.workspace_public_sharing_subtext")}),!n.isPublicLinksBanned&&ev.createElement(L8,{displayExpiration:!!t.bigma_enabled,doPublicLinksRequireExpiration:n.doPublicLinksRequireExpiration,doPublicLinksRequirePassword:n.doPublicLinksRequirePassword,togglePublicLinksRequirePassword:i.togglePublicLinksRequirePassword,togglePublicLinksRequireExpiration:i.togglePublicLinksRequireExpiration}),!n.isPublicLinksBanned&&n.doPublicLinksRequireExpiration&&ev.createElement(L4,{inputValue:n.maxDuration,onChange:i.changeMaxDuration,errorMessage:n.durationErrorMessage,dropdownKey:"workspace-public-sharing-modal-expiration-dropdown",dropdownText:LJ(n.isTimeMeasuredInDays),options:i.getDropdownOptions()}))),ev.createElement("div",{className:ek.cx.flex.pl16.itemsCenter.$},a.hasCustomPublicLinkControlsSetting&&ev.createElement("span",{className:"workspace_public_sharing_modal--secondaryTextColor---sge7"},ev.createElement(eA.oD,{onClick:s},ev.createElement(eq.Tx,{id:"org_settings.workspace_controls.remove_custom_settings"}))),ev.createElement("div",{className:ek.cx.mlAuto.$},ev.createElement(L2,{cancel:e,canSave:n.canSave,save:()=>{let t=L0(n),i=L1(n,r);if(LX(n.maxDuration,n.isTimeMeasuredInDays)){if(l(t,i)&&a.hasCustomPublicLinkControlsSetting)return e();BI.r.updatePublicLinkControlsSetting({workspaceId:a.id,publicLinkControlsSetting:t,publicLinkControlsMaxExpiration:i}).then(()=>{r(dl.l.flash((0,eq.t)("setting_tab.successfully_updated_workspace_public_link_controls"))),e()}).catch(()=>{r(dl.l.error((0,eq.t)("org_actions.an_error_occurred")))})}}}))))},"WORKSPACE_PUBLIC_SHARING_MODAL"),BO=(0,it.Y3)(function({workspace:e,goBack:t}){let a=(0,eb.I0)();return ev.createElement(ib.ge,{title:(0,eq.t)("settings_tab.public_sharing.remove_custom_workspace_settings"),maxWidth:480,minWidth:480,onClose:t,fixedTop:!0},ev.createElement("div",{className:Lj},ev.createElement("div",{className:tQ()(L$,ek.cx.px16.pt16.$)},ev.createElement(eq.Tx,{id:"setting_tab.remove_custom_workspace_setting_warning",workspaceName:e.name})),ev.createElement("div",{className:ek.cx.flex.mb16.mlAuto.pr16.$},ev.createElement(eA.VM,{onClick:t,className:ek.cx.mr8.$},ev.createElement(eq.Tx,{id:"setting_tab.public_sharing.modal.cancel"})),ev.createElement(eA.E0,{onClick:()=>{BI.r.updatePublicLinkControlsSetting({workspaceId:e.id,publicLinkControlsSetting:null,publicLinkControlsMaxExpiration:null}).then(()=>{a(dl.l.flash((0,eq.t)("setting_tab.successfully_updated_workspace_public_link_controls"))),t(),t()}).catch(()=>{a(dl.l.error((0,eq.t)("org_actions.an_error_occurred")))})},className:LH},ev.createElement(eq.Tx,{id:"setting_tab.public_sharing.modal.remove"})))))},"RESET_WORKSPACE_CUSTOM_SETTINGS_WARNING_MODAL");function BD(){return ev.createElement("div",{className:"workspace_level_public_link_controls_search--addWorkspaceIcon--GMVAU"},ev.createElement(t3.JO,{icon:"plus-32"}))}let BF=ek.cx.fontSemiBold.font11.lh16.colorText.$,BM=ek.cx.font11.lh16.colorTextSecondary.$;function BP({org:e,displaySearch:t,setDisplaySearch:a}){var r,n;let i=(0,dV.mU)(dH.OrgWithWorkspacesPublicLinkControlsSettingView,{orgId:e.id}),l=(0,eb.I0)(),s=[...(null==(n=null==(r=i.data)?void 0:r.org)?void 0:n.workspaces)??[]];(0,nx.aV)(s,"name");let o=s.filter(e=>e.hasCustomPublicLinkControlsSetting),c=ev.useCallback(()=>l(ig.eI()),[l]),d=ev.useCallback(t=>{l((0,ig.K4)({type:BA,data:{org:e,workspace:t,goBack:c}}))},[e,l,c]);return ev.createElement("div",{className:ek.cx.pt12.$,style:ie.sx.add({borderTop:"1px solid var(--color-border)"}).$},ev.createElement("div",{className:ek.cx.mt8.mb16.$},ev.createElement("p",{className:BF},ev.createElement(eq.Tx,{id:"org_settings.workspace_controls.header_text"})),ev.createElement("p",{className:BM},ev.createElement(eq.Tx,{id:"org_settings.workspace_controls.sub_header_text"}))),ev.createElement(tD.j,{direction:"vertical",spacing:8},ev.createElement("div",{className:ek.cx.maxH32.h32.wFull.$},t?ev.createElement(BU,{org:e,workspaces:s,hide:()=>{a(!1)}}):ev.createElement(BB,{ariaLabel:(0,eq.t)("settings_tab.add_workspace_label"),avatar:ev.createElement(BD,null),mainText:(0,eq.t)("settings_tab.add_workspace_label"),onClick:()=>a(!0)})),ev.createElement("div",{className:tQ()(ek.cx.flex.flexColumn.gap8.wFull.$,"workspace_level_public_link_controls_search--customWorkspaceContainer--5KTEM",{"workspace_level_public_link_controls_search--loaded--xKUFX":"loaded"===i.status})},o.map(e=>ev.createElement("div",{key:e.name,className:"workspace_level_public_link_controls_search--customWorkspaceRow--0QKZS"},ev.createElement(tD.j,{direction:"horizontal",spacing:8},ev.createElement(BB,{key:e.name,onClick:()=>d(e),avatar:ev.createElement(ds.zf,{size:24,entity:e}),rightElement:ev.createElement(t3.JO,{icon:"chevron-right-32"}),ariaLabel:e.name,mainText:e.name,subText:e.publicLinkControlsSetting&&ev.createElement(LG,{publicLinkControlsSetting:e.publicLinkControlsSetting})})))))))}function BB(e){let t=e.disabled?ek.cx.maxW250.$:"workspace_level_public_link_controls_search--maxWidth350--4QB4D";return ev.createElement("button",{onClick:()=>!e.disabled&&e.onClick&&e.onClick(),className:tQ()(ek.cx.flex.flexRow.wFull.itemsCenter.gap8.$,{"workspace_level_public_link_controls_search--workspaceRowHoverable--E-X4-":e.withHoverStyles,"workspace_level_public_link_controls_search--selectedWorkspaceRow--iAM2W":e.isSelected,"workspace_level_public_link_controls_search--withPadding--sRhRb":e.withPadding,"workspace_level_public_link_controls_search--disabled--OOK6t":e.disabled}),disabled:e.disabled,"aria-labelledby":e.ariaLabel},ev.createElement("div",null,e.avatar),ev.createElement("div",{className:t},ev.createElement(tD.j,{direction:"vertical",verticalAlignItems:"center",spacing:0},ev.createElement(oc.x,{color:e.disabled?"disabled":"default",truncate:!0},e.mainText),e.subText&&ev.createElement("p",{className:BM},e.subText))),e.rightElement&&ev.createElement("div",{className:ek.cx.mlAuto.$},e.rightElement))}function BU(e){let{hide:t,org:a,workspaces:r}=e,n=(0,eb.I0)(),[i,l]=ev.useState({inputValue:"",tokens:[],errorMessage:""}),[s,o]=ev.useState(r),c=ev.useRef(null),[d,m]=ev.useState("auto");(0,Bk.W)(c,t);let u=ev.useCallback(e=>{let t=e.inputValue.toLowerCase();l(t=>({...t,inputValue:e.inputValue})),o(r.filter(e=>e.name.toLowerCase().includes(t)))},[r]),_=ev.useCallback(e=>{n((0,ig.K4)({type:BA,data:{org:a,workspace:e,goBack:()=>n(ig.eI())}}))},[n,a]);return ev.useEffect(()=>{let e=c.current;if(e){let t=e.getBoundingClientRect();m(t.bottom)}},[c]),ev.createElement("div",{ref:c,className:ek.cx.wFull.h32.maxH32.$},ev.createElement(Nl.P,{autocomplete:i,placeholder:(0,eq.t)("org_settings.workspace_controls.search_placeholder_text"),inviteInputClassName:ek.cx.borderBox.maxH32.p0.$,autocompleteResultsClassName:tQ()(ek.cx.colorBg.overflowAuto.$,"workspace_level_public_link_controls_search--workspaceSearchResults--MhuIy"),autocompleteResultsStyling:{top:d},validateToken:ex.ZT,onChange:u,autoFocus:!0,onCustomSelectSearchResult:e=>{e.hasCustomPublicLinkControlsSetting||_(e)},SearchResultComponent:({searchResult:e,isSelected:t})=>{let a=e.hasCustomPublicLinkControlsSetting;return ev.createElement(BB,{ariaLabel:e.name,mainText:e.name,avatar:ev.createElement(ds.zf,{size:24,entity:e}),isSelected:!a&&t,disabled:a,rightElement:a?ev.createElement(eq.Tx,{id:"org_settings.workspace_controls.has_custom_settings"}):void 0,withPadding:!0,withHoverStyles:!0})},TokenComponent:BV,searchResults:()=>s,onEsc:t}))}function BV(e){return null}let BW=(0,it.Y3)(function(){var e,t;let a=(0,eb.I0)(),[r,n]=ev.useState(!1),i=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]),{formState:l,formActions:s}=LQ(i,null==(e=i.shared_org_license_group_settings)?void 0:e.public_link_controls_setting,null==(t=i.shared_org_license_group_settings)?void 0:t.public_link_controls_max_expiration),o=()=>a(ig.eI()),[c,d]=(0,ev.useState)(!!i.workshop_enabled),m=(e,t)=>{var a;return e===l.initialPublicLinkControlsSetting&&!!i.workshop_enabled===c&&t===(null==(a=i.shared_org_license_group_settings)?void 0:a.public_link_controls_max_expiration)},u=i.bigma_enabled&&(0,cS.lR)(i);return ev.createElement(ib.ge,{title:(0,eq.t)("settings_tab.public_sharing_title"),onClose:o,maxWidth:480,minWidth:480,fixedTop:!0},ev.createElement(ev.Fragment,null,ev.createElement("div",{className:Lj},ev.createElement(cr.l,{className:"public_sharing_modal--scrollableContent--wusRm",scrollingDisabled:r,hideScrollbar:r},ev.createElement("div",{className:tQ()(L$,ek.cx.mt16.$)},ev.createElement(eq.Tx,{id:"setting_tab.public_sharing.modal.description"})),ev.createElement("div",{className:L$},ev.createElement(L5,{isPublicLinksBanned:l.isPublicLinksBanned,togglePublicLinksBanned:s.togglePublicLinksBanned,labelText:(0,eq.t)("setting_tab.public_sharing.modal.public_link_sharing_header"),subText:(0,eq.t)("setting_tab.public_sharing.modal.public_link_sharing_toggle")}),!l.isPublicLinksBanned&&i.bigma_enabled&&ev.createElement(L8,{displayExpiration:!!i.bigma_enabled,doPublicLinksRequireExpiration:l.doPublicLinksRequireExpiration,doPublicLinksRequirePassword:l.doPublicLinksRequirePassword,togglePublicLinksRequirePassword:s.togglePublicLinksRequirePassword,togglePublicLinksRequireExpiration:s.togglePublicLinksRequireExpiration}),!l.isPublicLinksBanned&&l.doPublicLinksRequireExpiration&&i.bigma_enabled&&ev.createElement(L4,{inputValue:l.maxDuration,onChange:s.changeMaxDuration,errorMessage:l.durationErrorMessage,dropdownKey:"org-public-sharing-modal-expiration-dropdown",dropdownText:LJ(l.isTimeMeasuredInDays),options:s.getDropdownOptions()})),ev.createElement("div",{className:L$},ev.createElement("div",{className:Lz},ev.createElement("div",{className:ek.cx.flex.flexColumn.$},ev.createElement("span",{id:"open-sessions",className:ek.cx.fontBold.$},ev.createElement(eq.Tx,{id:"setting_tab.public_sharing.modal.open_sessions_header"})),ev.createElement("span",{className:ek.cx.colorTextSecondary.$},ev.createElement(eq.Tx,{id:"setting_tab.public_sharing.modal.open_sessions_toggle"}))),ev.createElement("div",{className:LK},ev.createElement(T3.W,{"aria-labelledby":"open-sessions",on:c,onChange:e=>d(e)})))),c&&(l.doPublicLinksRequirePassword||l.doPublicLinksRequireExpiration)&&ev.createElement("div",{className:"public_sharing_modal--openSessionsNote--gSNzr"},ev.createElement(eq.Tx,{id:"settings_tab.public_sharing.modal.open_sessions_note"})),u&&ev.createElement(BP,{org:i,displaySearch:r,setDisplaySearch:n})),u&&ev.createElement("div",{className:"public_sharing_modal--modalDivider--gc2Ib"}),ev.createElement(L2,{cancel:o,canSave:l.canSave,save:()=>{let e=L0(l),t=L1(l,a);if(!LX(l.maxDuration,l.isTimeMeasuredInDays))return;if(m(e,t)){o();return}let r=(0,eq.t)("org_settings.public_link_sharing.success"),n=()=>{a(x1.Vx({payload:{public_link_controls_setting:e,workshop_enabled:c,public_link_controls_max_expiration:t},successMessage:r}))};e===S1.Ey.BANNED?a((0,ig.K4)({type:BG,data:{onConfirm:n,isOpenSessionsEnabled:c}})):(o(),n())}}))))},"PUBLIC_SHARING_MODAL"),BG=(0,it.Y3)(function(e){let t,a,r;let n=(0,eb.I0)();return e.isOpenSessionsEnabled?(t=(0,eq.t)("settings_tab.public_sharing.confirmation_modal.disable_public_links_title"),a=(0,eq.t)("settings_tab.public_sharing.confirmation_modal.disable_public_links_submit"),r=ev.createElement(eq.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_links_description"})):(t=(0,eq.t)("settings_tab.public_sharing.confirmation_modal.disable_public_sharing_title"),a=(0,eq.t)("settings_tab.public_sharing.confirmation_modal.disable_public_sharing_submit"),r=ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_sharing_description.main"}),ev.createElement("ul",{className:"public_sharing_modal--bulletList--uA22J"},ev.createElement("li",null,ev.createElement(eq.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_sharing_description.figma_design"})),ev.createElement("li",null,ev.createElement(eq.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_sharing_description.figjam"}))))),ev.createElement(ir.cV,{confirmationTitle:t,confirmText:a,onConfirm:e.onConfirm,destructive:!0,tintedModalBackground:!0,dispatch:n},r)},"CONFIRM_PUBLIC_SHARING_OFF_MODAL");function Bj({org:e,billableSeats:t}){let a=(0,eb.I0)(),r=(0,_9.Gp)(t,"usd",e.plan||uO.On.ORGANIZATION),n=async(t,r)=>{var n,i;let l={source_token:null==(n=t.token)?void 0:n.id,payment_method:null==(i=t.setup_intent)?void 0:i.payment_method,address:r};try{await _J.uU.updateOrgPaymentMethod({orgId:e.id,paymentMethod:l})}catch(e){return(0,gB.V6)(e,a),!1}return a(r7.R.enqueue({message:(0,eq.t)("org_admin_settings.billing_details.successfully_updated_your_payment_source")})),!0};return ev.createElement(LB,{key:"change-payment-method",label:(0,eq.t)("org_admin_settings.settings_tab.billing.change_payment_method.label"),description:(0,eq.t)("org_admin_settings.settings_tab.billing.change_payment_method.description"),onClick:()=>{a((0,ig.K4)({type:DK.aF,data:{dispatch:a,defaultCountry:(0,mw.xC)(),estimatedChargeCents:r,onSubmit:n,customerInfo:{orgId:e.id}}}))}})}let BH="team_creation_controls_modal--settingLabel--iIFIb",B$="team_creation_controls_modal--description--bhS6C",Bz="team_creation_controls_modal--radioLabel--3PgPp",BK=(0,it.Y3)(function(){var e;let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.orgById[e.currentUserOrgId]),r=(0,w6.$4)(),n=()=>t(ig.hV()),[i,l]=(0,ev.useState)((null==(e=a.shared_org_license_group_settings)?void 0:e.team_creation_controls)?a.shared_org_license_group_settings.team_creation_controls:null);return ev.createElement(e3.Ui,{name:"Team Creation Control Setting Modal",properties:{orgId:a.id}},ev.createElement(ib.sv,{title:(0,eq.t)("org_settings.team_creation.modal",{organization:a.name}),maxWidth:440,minWidth:440,fixedTop:!1,onConfirm:()=>{if(a.shared_org_license_group_settings&&i===a.shared_org_license_group_settings.team_creation_controls||i===a.shared_org_license_group_settings){n();return}t(x1.Vx({payload:{team_creation_controls:i},successMessage:(0,eq.t)("org_settings.team_creation.success")})),n()},confirmText:(0,eq.t)("org_settings.team_creation.save_button")},ev.createElement("div",null,ev.createElement(Ed.E,{value:i??S1.ls.TEAM_CREATION_CONTROLS_ANYONE,onChange:e=>{let t=null;"none"!==e&&(t=e),l(t)}},ev.createElement(Ed._,{key:S1.ls.TEAM_CREATION_CONTROLS_ANYONE,value:S1.ls.TEAM_CREATION_CONTROLS_ANYONE,labelClassName:Bz,className:"team_creation_controls_modal--option--FVN-i"},ev.createElement("div",{className:BH},ev.createElement("div",null,(0,eq.t)("org_settings.team_creation.any.title")),ev.createElement("div",{className:B$},(0,eq.t)("org_settings.team_creation.any.description")))),ev.createElement(Ed._,{key:S1.ls.TEAM_CREATION_CONTROLS_ADMIN_ONLY,value:S1.ls.TEAM_CREATION_CONTROLS_ADMIN_ONLY,labelClassName:Bz},ev.createElement("div",{className:BH},ev.createElement("div",null,(0,eq.t)("org_settings.team_creation.admin_only.title")),ev.createElement("div",{className:B$},r.length>0?(0,eq.t)("org_settings.team_creation.admin_only.description.workspaces"):(0,eq.t)("org_settings.team_creation.admin_only.description.no_workspaces"))))))))},"TEAM_CREATION_CONTROLS_MODAL");function BZ(e){return e?(0,gk.Z)(e).format("MMMM D, YYYY"):""}function Bq(e){var t,a,r;let{org:n,orgDomains:i,orgSamlConfig:l}=e,s=(0,eb.I0)(),o=(0,lR.XU)(),c=(0,oC.uH)(n.id),d=(0,w6.US)(),m=(0,oC.ko)(n)&&(0,oC.Eq)(n.id),[u,_]=ev.useState(!1),[p,g]=ev.useState(!1);ev.useEffect(()=>{_J.uU.getShowVatGst({orgId:n.id}).then(({data:e})=>{g(e.meta.show_vat_gst_id)})},[n.id]),ev.useEffect(()=>{p&&Mm(Mu.O,()=>{x1.Kn({org:n,dispatch:s})})},[p,s,n]);let E=[ev.createElement(LB,{key:"org-handle",label:(0,eq.t)("settings_tab.modify_community_handle_label"),description:(0,eq.t)("settings_tab.modify_community_handle_description"),currentValue:n.community_profile_handle?`@${n.community_profile_handle}`:"",onClick:()=>{s(ig.K4({type:N6.Bh,data:{orgId:n.id,profileId:n.community_profile_id,profileHandle:n.community_profile_handle}}))}})];n.community_profile_id&&(E.push(ev.createElement(LB,{key:"delete-profile",label:(0,eq.t)("settings_tab.delete_community_label"),description:(0,eq.t)("settings_tab.delete_community_description"),onClick:()=>{n.community_profile_id&&n.community_profile_handle&&s((0,ig.K4)({type:N7.p,data:{dispatch:s,profileId:n.community_profile_id,handle:n.community_profile_handle}}))}})),E.push(ev.createElement(LB,{key:"restrict-comments",label:(0,eq.t)("settings_tab.community_commenters_label"),description:(0,eq.t)("settings_tab.community_commenters_description"),onClick:()=>{n.community_profile_id&&s((0,ig.K4)({type:N2.b,data:{profileId:n.community_profile_id,profileHandle:n.community_profile_handle,emptyStateText:`@${n.community_profile_handle} currently has no restricted commenters.`}}))}})));let h={title:(0,eq.t)("settings_tab.section_header.profile"),settings:E},f={title:(0,eq.t)("settings_tab.section_header.team_management"),settings:[ev.createElement(LB,{key:"team-creation-controls",label:(0,eq.t)("settings_tab.team_creation_label"),description:(0,eq.t)("settings_tab.team_creation_description"),onClick:()=>{s((0,ig.K4)({type:BK}))}})]},v={title:(0,eq.t)("settings_tab.section_header.domains"),settings:[ev.createElement(LV,{user:o,tag:"a_add_domain",key:"add-domain",label:(0,eq.t)("settings_tab.add_domain_label"),description:ev.createElement(ev.Fragment,null,ev.createElement("span",null,ev.createElement(eq.Tx,{id:"settings_tab.add_domain_description"})),ev.createElement("span",null,ev.createElement(eq.Tx,{id:"settings_tab.domain_list",numDomains:i.length,domains:ev.createElement("span",null," ",ev.createElement(h9.x,{formatType:"disjunction"},i.map(e=>ev.createElement("span",{key:e.domain},e.domain))))})))})]},b=[];(0,oC.ko)(n)&&b.push(ev.createElement(LB,{key:"guest-controls",label:(0,eq.t)("settings_tab.guest_membership_label"),description:(0,eq.t)("settings_tab.guest_membership_description"),onClick:()=>{s((0,ig.K4)({type:BE}))}})),(0,oC.W3)(n)?b.push(ev.createElement(LB,{key:"external-collab-controls",label:(0,eq.t)("settings_tab.external_collaboration_controls_label"),description:(0,eq.t)("settings_tab.external_collaboration_controls_description",{orgName:n.name}),currentValue:(null==(t=n.shared_org_license_group_settings)?void 0:t.external_collaboration_controls)?(0,eq.t)("settings_tab.disabled"):(0,eq.t)("settings_tab.enabled"),onClick:()=>{s((0,ig.K4)({type:Bu}))}})):(0,oC.rt)(n)&&b.push(ev.createElement(LV,{user:o,tag:"a_permissions",key:"external-collab-controls",label:(0,eq.t)("settings_tab.external_collaboration_controls_label"),description:(0,eq.t)("settings_tab.external_collaboration_controls_description",{orgName:n.name}),contactSupportCopy:(0,eq.t)("settings_tab.contact_support_to_disable"),contactSupportTooltipCopy:(0,eq.t)("settings_tab.domain_capture_contact_support_tooltip_copy")})),b.push(ev.createElement(LB,{key:"public-sharing",label:(0,eq.t)("settings_tab.public_sharing_title"),description:(0,eq.t)("settings_tab.public_sharing_description"),onClick:()=>{s((0,ig.K4)({type:BW}))}})),(0,oC.ko)(n)&&b.push(ev.createElement(LB,{key:"autogen-password-controls",label:(0,eq.t)("settings_tab.password_controls_settings_label"),description:(0,eq.t)("settings_tab.password_controls_settings_description",{orgName:n.name}),onClick:()=>{s((0,ig.K4)({type:P0}))}})),(0,oC.zk)(n)&&b.push(ev.createElement(LV,{user:o,tag:"a_something_else",key:"ip_restriction",label:(0,eq.t)("settings_tab.network_access_restriction_label"),description:ev.createElement(ev.Fragment,null,ev.createElement("span",null,ev.createElement(eq.Tx,{id:"settings_tab.ip_restriction_description",orgName:n.name})),ev.createElement("span",null,0!==n.ip_ranges.length?ev.createElement(eq.Tx,{id:"settings_tab.ip_restriction_range",ipRanges:ev.createElement(h9.x,{formatType:"unit"},n.ip_ranges.map(e=>ev.createElement("span",{key:e},e)))}):ev.createElement(ev.Fragment,null)))}));let y={title:(0,eq.t)("settings_tab.section_header.external_access"),settings:b},w=(null==(a=null==l?void 0:l.config)?void 0:a.idp_name)?(0,eq.t)("settings_tab.enabled"):(0,eq.t)("settings_tab.disabled"),T=[ev.createElement(LB,{key:"authentication",label:(0,eq.t)("settings_tab.authentication_label"),description:(0,eq.t)("settings_tab.authentication_description"),currentValue:function(e){let t=(0,oC.aH)(e);switch(t){case uO.RF.SAML:return(0,eq.t)("settings_tab.sso_method.saml_only");case uO.RF.GOOGLE:return(0,eq.t)("settings_tab.sso_method.google_only");case uO.RF.ANY:return(0,eq.t)("settings_tab.sso_method.any_method");default:(0,eL.vE)(t)}}(n),onClick:()=>{s((0,ig.K4)({type:PB}))}}),ev.createElement(LB,{key:"saml",label:(0,eq.t)("settings_tab.saml_label"),description:(0,eq.t)("settings_tab.saml_description"),currentValue:w,onClick:()=>{s((0,ig.K4)({type:PY}))}}),ev.createElement(LB,{key:"scim",label:(0,eq.t)("settings_tab.scim_label"),description:(0,eq.t)("settings_tab.scim_description"),currentValue:(0,oC.v1)(l)?(0,eq.t)("settings_tab.enabled"):(0,eq.t)("settings_tab.disabled"),onClick:()=>{s((0,ig.K4)({type:PF}))}})];if((0,oC.ko)(n)&&T.push(ev.createElement(LB,{key:"idle-sesstion-timeout-setting",label:(0,eq.t)("settings_tab.idle_session_timeout_label"),description:(0,eq.t)("settings_tab.idle_session_timeout_description"),currentValue:function(e){if(null==e)return(0,eq.t)("settings_tab.idle_session_timeout_default_duration");let[t,a]=(0,SQ.fs)(e);return(0,eq.t)(`settings_tab.idle_session_timeout.time.${a}`,{duration:t})}(null==(r=n.shared_org_license_group_settings)?void 0:r.idle_timeout_duration_in_secs),onClick:()=>{var e;s((0,ig.K4)({data:{idleTimeoutDurationInSecs:null==(e=n.shared_org_license_group_settings)?void 0:e.idle_timeout_duration_in_secs,orgId:n.id},type:BS}))}})),T.push(ev.createElement(LB,{key:"default-role",label:(0,eq.t)("settings_tab.default_role_label.seat_rename"),description:ev.createElement(eq.Tx,{id:"settings_table.default_role_entrypoint_description.seat_rename",plan_type:(0,eq.t)("settings_table.organization")}),onClick:()=>{s((0,ig.K4)({type:Pt,data:{planType:Mg.ORGANIZATION,planId:n.id}}))}})),m){let e=!!n.workspaces_nux_active_at,t=!e;T.push(ev.createElement(LW,{key:"workspace-selector",label:(0,eq.t)("settings_tab.workspace_selector_label"),description:ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"settings_tab.workspace_selector_description_with_link"}),ev.createElement(eA.UU,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/7249713835799"},ev.createElement(oc.x,{i18nId:"general.learn_more"}))),isActive:e,onToggle:()=>{s(x1.Vx({payload:{workspaces_nux_enabled:t},successMessage:t?(0,eq.t)("license_group.workspace_selector_is_visible"):(0,eq.t)("license_group.workspace_selector_is_hidden")}))}}))}else d&&T.push(ev.createElement(LW,{key:"workspace-selector",label:c?(0,eq.t)("settings_tab.billing_group_selector_label"):(0,eq.t)("settings_tab.workspace_selector_label"),description:c?(0,eq.t)("settings_tab.billing_group_selector_description"):(0,eq.t)("settings_tab.workspace_selector_description"),isActive:!!n.license_group_nux_active_at,onToggle:()=>{s(DD({org_id:n.id,nux_enabled:!n.license_group_nux_active_at}))}}));let x={title:(0,eq.t)("settings_tab.section_header.login_and_provisioning"),settings:T},N={title:(0,eq.t)("settings_tab.section_header.billing"),description:ev.createElement(ev.Fragment,null),settings:[]};if(e.billingDate){let t=BZ(e.billingDate),a=(0,gk.Z)(e.billingDate).add(-1,"years").toString(),r=BZ(a);N.description=ev.createElement("div",{className:"settings_section--sectionDescription--rUoGP"},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"settings_table.subscription_renewal",frequency:"annual",billing_date:ev.createElement("span",{className:"settings_section--boldText--NdRyj"},ev.createElement(eq.Tx,{id:"settings_table.billing_date",billing_date:t})),more:ev.createElement("button",{className:"settings_section--link--gbIUo",onClick:()=>{s((0,ig.K4)({type:Pw,data:{subscriptionStart:r}}))}},ev.createElement(eq.Tx,{id:"settings_table.learn_more"}))})))}N.settings.push(ev.createElement(Bj,{org:n,billableSeats:e.billableSeats})),N.settings.push(ev.createElement(LB,{key:"upgrade-notifications",label:(0,eq.t)("settings_tab.new_editor_notifications.seat_rename"),description:(0,eq.t)("settings_tab.new_editor_notifications_description.seat_rename"),onClick:()=>{s((0,ig.K4)({type:Pp,data:{planType:Mg.ORGANIZATION,planId:n.id}}))}})),N.settings.push(ev.createElement(LB,{key:"billing-contacts",label:(0,eq.t)("settings_table.billing_contacts"),description:(0,eq.t)("settings_table.billing_contacts_description"),onClick:()=>{s(BY({orgId:n.id,currentContact:e.adminEmail||""}))}}));let C={title:(0,eq.t)("settings_tab.section_header.extensions"),settings:[]};RK(n.id)?C.settings.push(ev.createElement(LB,{key:"plugin-admin-approval",label:(0,eq.t)("settings_tab.plugin_approval_label"),description:(0,eq.t)("settings_tab.plugin_approval_description"),testId:"plugin-approval-setting-action",onClick:()=>{s((0,ig.K4)({type:Fq,data:{orgId:n.id,extensionType:"plugin"}}))}}),ev.createElement(LB,{key:"widget-admin-approval",label:(0,eq.t)("settings_tab.widget_admin_approval_label"),description:(0,eq.t)("settings_tab.widget_admin_approval_description"),testId:"widget-approval-setting-action",onClick:()=>{s((0,ig.K4)({type:Fq,data:{orgId:n.id,extensionType:"widget"}}))}})):C.settings.push(ev.createElement(LW,{key:"plugin-admin-approval-toggle",label:(0,eq.t)("settings_tab.plugin_approval_label"),description:(0,eq.t)("settings_tab.plugin_approval_description"),isActive:!n.public_plugins_allowed||n.plugins_whitelist_enforced,testId:"plugin-approval-setting-toggle",onToggle:e=>{let t=e?(0,eq.t)("settings_tab.enable_plugin_approval_success"):(0,eq.t)("settings_tab.disable_plugin_approval_success");n.public_plugins_allowed?s(x1.Vx({payload:{plugins_whitelist_enforced:e},successMessage:t})):s((0,ig.K4)({type:A$,data:{org:{currentUserOrgId:n.id},extensionType:"plugin"}}))}}),ev.createElement(LW,{key:"widget-admin-approval-toggle",label:(0,eq.t)("settings_tab.widget_admin_approval_label"),description:(0,eq.t)("settings_tab.widget_admin_approval_description"),isActive:n.widgets_whitelist_enforced,testId:"widget-approval-setting-toggle",onToggle:e=>{let t=e?(0,eq.t)("settings_tab.widget_admin_approval_enabled"):(0,eq.t)("settings_tab.widget_admin_approval_disabled");n.public_plugins_allowed?s(x1.Vx({payload:{widgets_whitelist_enforced:e},successMessage:t})):s((0,ig.K4)({type:A$,data:{org:{currentUserOrgId:n.id},extensionType:"widget"}}))}})),C.settings.push(ev.createElement(LB,{key:"dev-mode-plugins",label:(0,eq.t)("settings_tab.dev_mode_label"),description:(0,eq.t)("settings_tab.dev_mode_description"),onClick:()=>{s((0,ig.K4)({type:M4}))}}));let S={title:(0,eq.t)("settings_tab.section_header.ai_beta"),settings:[]};S.settings.push(ev.createElement(LW,{key:"ai_opt_out",label:(0,eq.t)("settings_tab.ai_beta.figma_and_figjam_ai"),description:ev.createElement(eq.Tx,{id:"settings_tab.ai_beta.let_users_access_ai_features",learnMoreLink:ev.createElement("a",{target:"_blank",rel:"noopener",className:"settings_section--blueLink--r5rrf blue_link--blueLink--9rlnd",href:Ct.IY},ev.createElement(eq.Tx,{id:"file_browser.team_settings.learn_more"}))}),descriptionClassName:"settings_section--descriptionWithChildren--2aduX",isActive:!n.ai_features_disabled,onToggle:e=>{let t=e?(0,eq.t)("settings_tab.ai_beta.enable_success"):(0,eq.t)("settings_tab.ai_beta.disable_success");s(x1.Vx({payload:{ai_features_disabled:!e},successMessage:t}))}}));let k={title:(0,eq.t)("settings_tab.section_header.other"),settings:[]};if((0,eT.BZ)().presets_baseline_org&&k.settings.push(ev.createElement(LW,{key:"figma_libraries",label:(0,eq.t)("settings_tab.figma_preset_libraries_label"),description:(0,eq.t)("settings_tab.figma_preset_libraries_description"),isActive:!n.figma_provided_libraries_disabled,testId:"figma-provided-libraries-setting-toggle",onToggle:e=>{let t=e?(0,eq.t)("settings_tab.figma_preset_libraries_enabled"):(0,eq.t)("settings_tab.figma_preset_libraries_disabled");s(x1.Vx({payload:{figma_provided_libraries_disabled:!e},successMessage:t}))}})),k.settings.push(ev.createElement(LW,{key:"audio",label:(0,eq.t)("settings_tab.audio_label"),description:(0,eq.t)("settings_tab.audio_description"),isActive:!!n.voice_enabled,onToggle:e=>{let t=e?(0,eq.t)("settings_tab.audio_enabled"):(0,eq.t)("settings_tab.audio_disabled");s(x1.Vx({payload:{voice_enabled:e},successMessage:t}))}})),k.settings.push(ev.createElement(LW,{key:"custom-templates",label:(0,eq.t)("settings_tab.custom_templates_label"),description:(0,eq.t)("settings_tab.custom_templates_description"),isActive:!!n.are_custom_templates_allowed,onToggle:e=>{let t=e?(0,eq.t)("settings_tab.custom_templates_enabled"):(0,eq.t)("settings_tab.custom_templates_disabled");s(x1.Vx({payload:{custom_templates_allowed:e},successMessage:t}))}})),(0,oC.ko)(n)&&k.settings.push(ev.createElement(LW,{key:"cursor-chat",label:(0,eq.t)("settings_tab.cursor_chat_label"),description:(0,eq.t)("settings_tab.cursor_chat_description"),isActive:!n.cursor_chat_disabled,onToggle:e=>{s(x1.Vx({payload:{cursor_chat_disabled:!e},successMessage:e?(0,eq.t)("settings_tab.enable_cursor_chat_success"):(0,eq.t)("settings_tab.disable_cursor_chat_success")}))}})),(0,eT.BZ)().cmty_resources_in_paid_spaces&&n.community_profile_handle&&k.settings.push(ev.createElement(LW,{key:"community-file-publishing",label:(0,eq.t)("settings_tab.community_file_publishing_label"),description:(0,eq.t)("settings_tab.community_file_publishing_description"),isActive:!!n.cmty_publish_as_user_enabled,onToggle:e=>{s(x1.Vx({payload:{cmty_publish_as_user_enabled:e},successMessage:e?(0,eq.t)("settings_tab.enable_community_file_publishing_success"):(0,eq.t)("settings_tab.disable_community_file_publishing_success")}))}})),(0,oC.v1)(l)&&k.settings.push(ev.createElement(LB,{key:"member-metadata",label:(0,eq.t)("settings_tab.member_metadata_label"),description:(0,eq.t)("settings_tab.member_metadata_description"),currentValue:n.featured_scim_metadata?(0,oC.QW)(n.featured_scim_metadata):"",onClick:()=>s((0,ig.K4)({type:P1}))})),k.settings.push(ev.createElement(LB,{key:"authentication",label:(0,eq.t)("settings_tab.connected_apps"),description:(0,eq.t)("settings_tab.connected_apps_description"),onClick:()=>{s((0,ig.K4)({type:Ba,data:{org:n}}))}})),(0,eT.BZ)().conveyor_sso_enabled&&k.settings.push(ev.createElement(LB,{key:"compliance-hub",label:(0,eq.t)("org_admin_settings.compliance_center_label"),description:(0,eq.t)("org_admin_settings.compliance_center_description"),onClick:()=>(0,av.Ne)("/conveyor/sso","_blank")})),(0,oC.ko)(n)){let e=async e=>{var t,a;let r=await fetch("win"===e?"https://desktop.figma.com/win/releases.xml":"https://desktop.figma.com/mac-universal/releases.xml"),n=await r.text(),[i,l]=[null==(t=n.match(/<title>Figma (\d+\.\d+\.\d+)<\/title>/))?void 0:t[1],null==(a=n.match(/<pubDate>(.*?)<\/pubDate>/))?void 0:a[1]];i&&l&&s((0,ig.K4)({type:Bi,data:{version:i,releaseDate:l,platform:e}}))};k.settings.push(ev.createElement(LB,{key:"enterprise-installer",label:(0,eq.t)("org_admin_settings.enterprise_installer_label"),description:(0,eq.t)("org_admin_settings.enterprise_installer_description"),onClick:()=>e("win")})),k.settings.push(ev.createElement(LB,{key:"enterprise-installer",label:(0,eq.t)("org_admin_settings.enterprise_installer_label_mac"),description:(0,eq.t)("org_admin_settings.enterprise_installer_description_mac"),onClick:()=>e("mac")}))}p&&k.settings.push(ev.createElement(LB,{label:(0,eq.t)("settings_tab.vat_gst"),description:(0,eq.t)("settings_tab.change_vat_gst_id"),onClick:()=>x1.Kn({org:n,dispatch:s})}));let I=n.target_locality===uO.Ld.EU?(0,eq.t)("settings_tab.data_storage_eu"):(0,eq.t)("settings_tab.data_storage_us");k.settings.push(ev.createElement(LV,{user:o,key:"data-locality-control",label:(0,eq.t)("settings_tab.data_storage"),description:(0,eq.t)("settings_tab.data_storage_description",{currentLocation:I})}));let L=[ev.createElement(LB,{key:"delete-org",label:(0,eq.t)("settings_tab.delete_org_label"),description:(0,eq.t)("settings_tab.delete_org_description"),onClick:()=>s((0,ig.K4)({type:Pa}))})];n.domain_capture&&L.push(ev.createElement(LB,{key:"delete-user",label:(0,eq.t)("settings_tab.delete_user_label"),description:(0,eq.t)("settings_tab.delete_user_description"),onClick:()=>s((0,ig.K4)({type:Pr}))}));let R=[h];return(0,oC.ko)(n)&&R.push(f),n.k12_google_org?R.push(v,y,C,k):R.push(v,y,x,N,C,S,k),ev.createElement("div",{className:"settings_section--container--LjJC0 admin_settings_page--container--qnrCG"},ev.createElement(T$.Z,{showBorderBottom:!0,title:(0,w7.K)(fe.rN.SETTINGS)}),ev.createElement("div",{className:"settings_section--settingsWrapper--ymG5e text--fontPos11--2LvXf text--_fontBase--QdLsd"},R.filter(e=>!!e.settings.length).map(e=>ev.createElement(LF,{key:e.title,...e})),!u&&ev.createElement("button",{className:"settings_section--showMore----gaP",onClick:()=>_(!0)},ev.createElement(eq.Tx,{id:"settings_tab.show_more"})),u&&ev.createElement(LF,{title:(0,eq.t)("settings_tab.section_header.user_data"),settings:L})),ev.createElement("div",{className:"settings_section--settingsFooter--Kd1dR"}))}let BY=(0,r0.u4)((e,t,{liveStore:a})=>{let r=e.dispatch,{orgId:n,currentContact:i}=t,l=a.getMutation(w$.Ao),s=async t=>{await l({orgId:n,billingContacts:t}),e.dispatch(dl.l.flash((0,eq.t)("org_admin_settings.billing_details.billing_contact_updated")))};r((0,ig.K4)({type:Ps,data:{currentContacts:i,onSubmit:s,isOrg:!0}}))});var BJ=a(827523),BQ=a(600470);let BX=a(850663),B0=a(753224);var B1=((X=B1||{})[X.SEARCH=0]="SEARCH",X[X.FILTER=1]="FILTER",X);let B2=()=>({[x6.JOINED]:(0,eq.t)("teams_table.membership_filter.my_teams_option"),[x6.NOT_JOINED]:(0,eq.t)("teams_table.membership_filter.not_my_teams_option")});function B3(e){var t;let{dropdownShown:a,filterCounts:r,lastFilterAction:n,onFilter:i,onSearch:l,onFetchMore:s,onSort:o,sortState:c,org:d,orphanedTeamFilter:m,searchQuery:u,selectedOrgAccessFilter:_,selectedTeamMembershipFilter:p,teamRoleRequests:g,teams:E,selectedLicenseGroupFilter:h,selectedWorkspaceFilter:f,selectedDiscoverabilityFilter:v,isLoading:b}=e,[y,w]=ev.useState(!1),T=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),x=(0,eb.I0)(),N=(0,lR.xJ)(),[C,S]=ev.useState(new Map),k=ev.useCallback(()=>{xL.j.getOrgTeamTransfers({orgId:d.id}).then(({data:e})=>{let t=e.meta;if(t)for(let e of t)S(t=>new Map(t.set(e.source_team_id,e)))})},[d.id]),I=e=>{S(t=>new Map(t.set(e,null))),x(r7.R.enqueue({message:(0,eq.t)("asset_transfers.revoke.transfer_revoked")}))},{onChangeOrgAccess:L,onAddToLicenseGroup:R,onRemoveFromLicenseGroup:A,onAddToWorkspace:O,onRemoveFromWorkspace:D}=Ne(g,C,k,I),F=(0,w6.$4)(),M=(0,w6.US)(),P=(0,eb.v9)(({selectedView:e})=>e),B="orgAdminSettings"===P.view,U="workspace"===P.view&&P.subView===ES.ep.ADMIN,V=(0,eb.v9)(({licenseGroups:e})=>e),W=(0,eb.v9)(({selectedView:e})=>"licenseGroup"===e.view&&e.subView===ET.gp.ADMIN?e.licenseGroupId:null),G=W?null==(t=V[W])?void 0:t.mirrored_workspace_id:null,j=(0,eb.v9)(({selectedView:e})=>"workspace"===e.view&&e.subView===ES.ep.ADMIN?e.workspaceId:null),{groupsUserIsAdminOf:H,otherLicenseGroups:$}=(0,w6.O)(F,N.id,!B),z=!eN.K1&&B,K=H.concat($),Z=(0,oC.uH)(d.id),q=(0,gv.d3)(d.id),Y=q.data||[],J={};Y.forEach(e=>J[e.id]=e);let Q=(0,eT.BZ)().sc_team_experience,X=j&&f!==wO.F&&(0,oC.BD)(),ee=W&&h!==bO.u,et=X||ee,ea=JSON.stringify(C);ev.useEffect(()=>{k()},[ea,k]);let er=()=>{let e={};if(Z)e={workspaceId:j||f||void 0};else{let t;t=W||h||void 0;let a=t?V[t]:void 0;e={licenseGroupId:t||void 0,licenseGroupName:(null==a?void 0:a.name)||void 0}}x(ig.K4({type:vS.d3,data:e}))},en=()=>{W?G&&(0,oC.BD)()?x((0,ig.K4)({type:CK,data:{workspaceId:G}})):x((0,ig.K4)({type:Nb,data:{licenseGroupId:W}})):j&&x((0,ig.K4)({type:CK,data:{workspaceId:j}}))},ei=e=>`ORG-ACCESS-DROPDOWN-${e.id}`;function el(e,t){return ev.createElement(CW,{org:d,team:e,areDropdownsDisabled:t,dropdownShown:a,teamRoleRequests:g,teamPendingTransfers:C,pendingTransferRequests:k,onRevokeTransferRequestSuccess:I,licenseGroupsCanMoveTo:K,workspacesCanMoveTo:Y})}function es(e){var t,a;if(C&&C.get(e.id)){let r=(0,eq.t)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:null==(t=C.get(e.id))?void 0:t.source_user_email,destinationUserEmail:null==(a=C.get(e.id))?void 0:a.destination_user_email});return ev.createElement("div",{className:CB,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":r,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":2,"data-tooltip-max-width":250},ev.createElement(eD.n,{svg:B0,className:CP}))}return ev.createElement(ev.Fragment,null)}let eo=e=>{let t=K.map(e=>({type:"option",key:e.id,text:e.name}));return t.push({type:"separator",key:"separator"}),t.push({type:"option",key:bO.u,text:e?(0,eq.t)("members_table.license_group_cell.unassign"):(0,eq.t)("license_group.unassigned"),selectedLabelClass:ek.cx.textFGBlack54__DEPRECATED.$}),t},ec=e=>{let t=e&&J[e]?e:null,a=Y.map(e=>({type:"option",key:e.id,text:e.name}));return a.push({type:"separator",key:"separator"}),a.push({type:"option",key:wO.F,text:t?(0,eq.t)("members_table.workspace_cell.unassign"):(0,eq.t)("workspace.unassigned"),selectedLabelClass:ek.cx.textFGBlack54__DEPRECATED.$}),{options:a,selectedValue:t??wO.F}};return ev.createElement(ev.Fragment,null,ev.createElement(T$.Z,{title:(0,w7.K)(fe.rN.TEAMS),hasHorizontalPadding:!0,rightActions:ev.createElement(tD.j,{width:"hug-contents"},ev.createElement(oM.z,{icon:"plus-32",onClick:er,"data-onboarding-key":TN},ev.createElement(oc.x,{i18nId:"teams_table.team"})),ev.createElement(oM.J,{onClick:()=>{if(y)return;w(!0),x(r7.R.enqueue({message:(0,eq.t)("teams_table.csv_export.preparing_request"),type:"orgTeam.exportCSV",icon:xk.B4.SPINNER}));let t=j||G,a=t?`/api/workspace/${t}/export_teams`:`/api/orgs/${e.org.id}/export_teams`;rI.ZP.post(a).then(()=>{x(r7.R.enqueue({message:(0,eq.t)("teams_table.csv_export.generating"),type:"orgTeam.exportCSV",icon:xk.B4.CHECK})),w(!1)},()=>{x(r7.R.enqueue({message:(0,eq.t)("teams_table.csv_export.error"),type:"orgTeam.exportCSV",icon:xk.B4.EXCLAMATION,error:!0})),w(!1)})},trackingProperties:{action:"Export CSV"}},ev.createElement(oc.x,{i18nId:"teams_table.csv_export.get_csv"})))}),ev.createElement(fz.Ch,{hasNewScrollContext:!0,emptyContent:ev.createElement(xy.eP,null,(()=>{let e=()=>{i({orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null})},t=h?ev.createElement(eq.Tx,{id:"teams_table.no_teams_to_show"}):ev.createElement("span",null,ev.createElement(eq.Tx,{id:"teams_table.your_organization_does_not_have_any_teams_yet"})," ",ev.createElement("a",{className:CF,onClick:er},ev.createElement(eq.Tx,{id:"teams_table.create_one"}))),a=ev.createElement("span",null,(0,eq.t)("teams_table.no_teams_to_show")," ",ev.createElement("a",{className:CF,onClick:()=>e()},ev.createElement(eq.Tx,{id:"multi_select_list.reset_filters"}))),r=ev.createElement(eq.Tx,{id:"teams_table.no_search_results"}),l=_||p||m;return l&&u?0===n?r:a:l?a:u?r:t})()),items:E,getItemKey:e=>e.id,columns:(()=>{let e=[];function t(){return ev.createElement(ev.Fragment,null,"\u2013")}return e.push({name:(0,eq.t)("teams_table.team_name"),className:CS,sorting_key:BJ.O.NAME,getSortValue:e=>e.name,cellComponent:e=>ev.createElement(tD.j,null,ev.createElement(ds.Zq,{entity:e,size:22,className:CU}),Q&&(e.org_access===ao.Zn.PRIVATE||e.org_access===ao.Zn.SECRET)&&ev.createElement("div",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":e.org_access===ao.Zn.PRIVATE?(0,eq.t)("teams_table.closed_team_tooltip_header"):(0,eq.t)("teams_table.secret_team_tooltip_header"),"data-tooltip-subtext":e.org_access===ao.Zn.PRIVATE?(0,eq.t)("teams_table.closed_team_tooltip_subtitle"):(0,eq.t)("teams_table.secret_team_tooltip_subtitle"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ev.createElement(lu.J,{icon:"lock-16"})))}),e.push({name:(0,eq.t)("teams_table.owner"),className:CI,sorting_key:BJ.O.OWNER,getSortValue:e=>{var t;return(null==(t=e.owner)?void 0:t.handle)?`a${e.owner.handle}`:`z${e.name}`},cellComponent:e=>e.owner?ev.createElement(xA,{entity:e.owner,size:22,dispatch:x}):ev.createElement(t,null)}),e.push({name:(0,eq.t)("teams_table.projects"),className:CL,sorting_key:BJ.O.PROJECTS,getSortValue:e=>e.projects,sortNumerically:!0,cellComponent:e=>ev.createElement(eq.Tx,{id:"teams_table.project_count",numProjects:e.projects})}),e.push({name:(0,eq.t)("teams_table.members"),className:CR,sorting_key:BJ.O.MEMBERS,getSortValue:e=>e.member_count||0,sortNumerically:!0,cellComponent:e=>ev.createElement(eq.Tx,{id:"teams_table.member_count",numMembers:e.member_count})}),(0,eT.BZ)().sc_team_experience||e.push({name:(0,eq.t)("teams_table.org_access"),className:CA,sorting_key:BJ.O.ORG_ACCESS,getSortValue:e=>{let t=e.org_access||ao.Zn.PUBLIC;switch(t){case ao.Zn.PUBLIC:return`a${e.name}`;case ao.Zn.PRIVATE:return`b${e.name}`;case ao.Zn.SECRET:return`c${e.name}`}},cellComponent:(e,r)=>e.org_access?(0,uR.canManageOrgTeam)(e.id,T)?ev.createElement(x$.Q,{dispatch:x,dropdownShown:a,value:e.org_access,options:x7(),onChange:t=>{L(e,t)},id:ei(e),disabled:r}):ev.createElement(ev.Fragment,null,(0,uR.orgAccessStrings)()[e.org_access]):ev.createElement(t,null)}),d.bigma_enabled&&M&&!Z&&e.push({name:(0,eq.t)("teams_table.enterprise.workspace"),sorting_key:BJ.O.WORKSPACE,getSortValue:e=>{var t;return e.license_group_id&&(null==(t=V[e.license_group_id])?void 0:t.name)||""},className:Ck,cellComponent:(e,t)=>{let r=`UPDATE_TEAM_LICENSE_GROUP-${e.id}`;return ev.createElement("div",{className:ek.cx.maxWFull.$},ev.createElement(x$.Q,{dispatch:x,dropdownShown:a,disabled:t,value:e.license_group_id??bO.u,options:eo(e.license_group_id),onChange:t=>{var a;t===bO.u?A(e):R(e,t,null==(a=V[t])?void 0:a.name)},id:r}))}}),d.bigma_enabled&&Y.length>0&&Z&&e.push({name:(0,eq.t)("teams_table.enterprise.workspace"),sorting_key:BJ.O.WORKSPACE,getSortValue:e=>{var t;return e.workspace_id&&(null==(t=J[e.workspace_id])?void 0:t.name)||""},className:Ck,cellComponent:(e,t)=>{let r=`UPDATE_TEAM_WORKSPACE-${e.id}`,{options:n,selectedValue:i}=ec(e.workspace_id);return ev.createElement("div",{className:ek.cx.maxWFull.$},"loaded"===q.status?ev.createElement(x$.Q,{dispatch:x,dropdownShown:a,disabled:t,value:i,options:n,onChange:t=>{var a;t===wO.F?D(e):O(e,t,null==(a=J[t])?void 0:a.name)},id:r}):ev.createElement("div",{style:ie.sx.w64.$},ev.createElement(xS.g4,{className:ek.cx.h24.w64.$,animationType:xS.F4.SHIMMER})))}}),e.push({name:" ",className:CD,cellComponent:es}),e.push({name:"",className:CO,cellComponent:el}),e})(),stickyContent:(()=>{let t=Z?(0,bE.yl)(E):(0,w6.lz)(E);return ev.createElement(ev.Fragment,null,U&&(0,oC.yL)(e.org.id)&&ev.createElement(sb.V,null,ev.createElement(xj,null)),Z&&j?ev.createElement(xQ,{workspace:Y.filter(e=>e.id===j)[0]}):ev.createElement(xY,null),ev.createElement("div",{className:CC},ev.createElement("div",{className:CN.FB},ev.createElement("div",{className:ek.cx.pr8.$},ev.createElement(nN.Pl,{onChange:l,focusOnMount:!1,query:u,clearSearch:()=>{l("")},placeholder:(0,eq.t)("teams_table.search_teams_with_ellipsis")})),Z?ev.createElement(xJ,{selectedWorkspaceId:f,onFilterUpdate:e=>i({workspaceFilter:e}),getCount:e=>t[e]??0}):ev.createElement(xZ,{selectedLicenseGroupId:h,onFilterUpdate:e=>i({licenseGroupFilter:e}),getCount:e=>t[e]??0}),(0,eT.BZ)().sc_team_experience?ev.createElement(xK.MF,{dropdownShown:a,dropdownType:"FILTER_DISCOVERABILITY_DROPDOWN",selectedValue:v,getDisplayText:e=>(0,uR.discoverabilityStrings)()[e],getSelectedDisplayText:e=>{switch(e){case _y.X_.ORG_BROWSABLE:return(0,eq.t)("teams_table.discoverability_filter.visible");case _y.X_.HIDDEN:return(0,eq.t)("teams_table.discoverability_filter.hidden");default:return(0,eq.t)("teams_table.discoverability_filter.all")}},getCount:e=>r.discoverabilityFilter[e],updateFilter:e=>i({discoverabilityFilter:e}),values:Object.values(_y.X_),dispatch:x}):ev.createElement(xK.MF,{"data-onboarding-key":"teams_table_onboarding_key",dropdownShown:a,dropdownType:"FILTER_ORG_ACCESS_DROPDOWN",selectedValue:_,getDisplayText:e=>(0,uR.orgAccessStrings)()[e],getSelectedDisplayText:e=>{switch(e){case ao.Zn.PUBLIC:return(0,eq.t)("teams_table.org_access_filter.open");case ao.Zn.PRIVATE:return(0,eq.t)("teams_table.org_access_filter.closed");case ao.Zn.SECRET:return(0,eq.t)("teams_table.org_access_filter.secret");default:return(0,eq.t)("teams_table.org_access_filter.all")}},getCount:e=>r.orgAccessFilter[e],updateFilter:e=>i({orgAccessFilter:e}),values:Object.values(ao.Zn),dispatch:x}),ev.createElement(xK.MF,{dropdownShown:a,dropdownType:"FILTER_TEAM_MEMBERSHIP_DROPDOWN",selectedValue:p,getDisplayText:e=>B2()[e],getSelectedDisplayText:e=>{switch(e){case x6.JOINED:return(0,eq.t)("teams_table.membership_filter.my_teams_label");case x6.NOT_JOINED:return(0,eq.t)("teams_table.membership_filter.not_my_teams_label");default:return(0,eq.t)("teams_table.membership_filter.all")}},getCount:e=>r.teamMembershipFilter[e],updateFilter:e=>i({teamMembershipFilter:e}),values:Object.values(x6),dispatch:x}),ev.createElement(e3.UE,{className:CN.Vw,onClick:()=>i({orphanedTeamFilter:!m}),trackingProperties:{filterType:"OrphanedTeamFilter",isFilterEnabled:!m}},ev.createElement(eA.v_,{checked:m,onChange:ex.ZT}),ev.createElement(eq.Tx,{id:"teams_table.teams_without_owners"}))),ev.createElement("div",{className:CN.bv},et&&ev.createElement("div",{className:CN.SH,onClick:en},ev.createElement(eD.n,{className:CN.c_,svg:BX}),ev.createElement(eq.Tx,{id:"teams_table.enterprise.edit_default_teams"})))))})(),actionBar:e=>ev.createElement(Nr,{licenseGroupsCanMoveTo:K,workspacesCanMoveTo:Y,org:d,selectedTeams:e,teamRoleRequests:g,teamPendingTransfers:C,pendingTransferRequests:k,onRevokeTransferRequestSuccess:I}),actionBarClassName:CM,itemTypeContext:{itemType:"team",getSelectedCountString:e=>(0,eq.t)("multi_select_list.selected_count_team",{numSelected:e})},minContentWidth:(0,cx.z)(cL.Vi7),isBannerHeightDynamic:!0,sortState:c,onSetSortState:o,isLoading:b,onFetchMore:s}),z?ev.createElement(sb.V,null,ev.createElement(xU,null)):null)}function B4(e){let{dispatch:t,dropdownShown:a,teamRoleRequests:r,user:n,selectedLicenseGroupTab:i,selectedWorkspaceId:l}=e,s=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),[o,c]=ev.useState({licenseGroupFilter:i??null,workspaceFilter:l??null,orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null,discoverabilityFilter:null}),[d,m]=ev.useState(CY.FILTER),[u,_]=ev.useState(""),[p,g]=ev.useState({columnName:(0,xX.RD)(BJ.O.NAME),isReversed:!1,sortingKey:BJ.O.NAME}),{teams:E,fetchMore:h,status:f}=function({searchQuery:e,firstPageSize:t,orgAccess:a,teamsWithoutOwners:r,memberOfFilter:n,teamsMemberOf:i,workspaceId:l,sortBy:s,sortOrder:o},c){var d;let m=(0,uL.$0)()||"",u=ev.useMemo(()=>({stuckMs:1e4,onEvent:(e,t,a,r)=>(function(e,t,a,r,n){let i={lgEvent:t,traceId:r.traceId,hasBeenOffline:r.wasOffline,hasBeenBackgrounded:r.wasBackgrounded,timeElapsedMs:r.timeElapsedMs,orgId:e,errors:JSON.stringify(a.errors)};if("initiated"===t)i.viewArgs=JSON.stringify(r.viewArgs);else if("stuck"===t){let e=(0,EH.i0)().session.getViewSubscriptionsForDebugging(),t=[];for(let a in e)a.includes("OrgTeamView")&&t.push(e[a]);i.lgInfraLayerSubs=JSON.stringify(t)}else"canceled"===t&&(i.nextTraceId=null==n?void 0:n.nextTraceId);(0,eK.L9)("Org Teams Table LG",i)})(m,e,t,a,r)}),[m]),_=(0,EH.uL)(dH.OrgTeamView,{orgId:m,firstPageSize:t||25,queryParams:`${(0,BQ.cv)({...e&&{search_query:e},...a&&{org_access:a},...r&&{teams_without_owners:r},...n&&{member_of_filter:n},...i&&{teams_member_of:i},...l&&{workspace_id:l},...s&&{sort_by:s},...o&&{order_by:o}})}`},{enabled:c,subscriptionLogger:u}),p=_d.Q.LOADING;"loaded"===_.status?p=_d.Q.SUCCESS:"errors"===_.status&&(p=_d.Q.FAILURE);let g=p===_d.Q.SUCCESS&&(null==(d=_.data)?void 0:d.orgTeams)&&_.data.orgTeams.hasNextPage()&&!_.data.orgTeams.isLoadingNextPage?()=>{_.data.orgTeams.loadNext(t||25)}:void 0;return{teams:ev.useMemo(()=>_.data?function(e){let t=e.orgTeams||[];return t.filter(e=>null!==e&&null!==e.team).map(e=>{var t,a,r,n;let i=e.team,l={...i,id:i.id,created_at:i.createdAt.toISOString(),img_url:i.imgUrl||void 0,org_id:i.orgId,name:i.name,description:i.description||"",hidden:i.hidden,org_browsable:i.orgBrowsable,license_group_id:i.licenseGroupId,workspace_id:i.workspaceId,org_access:e.orgAccess,projects:Number(e.projects)||0,editors:Number(i.editorsCount)||0,restrictions_list:i.restrictionsList||null,subscription:i.subscription||null,subscription_raw:i._subscriptionRaw||null,stripe_customer_id:i.stripeCustomerId||null,student_team_at:(null==(t=i.studentTeamAt)?void 0:t.toISOString())||null,student_team_state:i.studentTeamState||_y.QX.STUDENT_TEAM_NULL,student_autoverifying_team_at:(null==(a=i.studentAutoverifyingTeamAt)?void 0:a.toISOString())||null,student_team:!!i.studentTeamAt,pro_team:!1,org_team:!0,starter_team:i.isStarterTeam||!1,grace_period_end:(null==(r=i.gracePeriodEnd)?void 0:r.toISOString())||null,grace_period_type:i.gracePeriodType||null,last_upgraded_at:null,deleted_at:(null==(n=i.deletedAt)?void 0:n.toISOString())||null,experiment_seed:i.experimentSeed||null,license_group:null,default_permission:i.defaultPermission,vat_gst_id:i.vatGstId||void 0,tax_id_verification_status:i.taxIdVerificationStatus||void 0,ai_features_disabled:!!i.aiFeaturesDisabledAt,legal_name:i.legalName||null,sharing_audience_control:i.sharingAudienceControlComputed||void 0,orphaned:!e.ownerId,member_count:Number(e.memberCount)||0,owner:e.owner?{id:e.owner.id,name:e.owner.name||void 0,handle:e.owner.handle,img_url:e.owner.imgUrl,email:e.owner.email||void 0,description:e.owner.description,org_id:i.orgId||void 0}:null,experiment_assignments:[]};return l})}(_.data):[],[_.data]),fetchMore:g,status:p}}({searchQuery:u,workspaceId:o.workspaceFilter,orgAccess:((e,t)=>{switch(t){case _y.X_.ORG_BROWSABLE:return ao.Zn.PRIVATE;case _y.X_.HIDDEN:return ao.Zn.SECRET;default:return e}})(o.orgAccessFilter,o.discoverabilityFilter),teamsWithoutOwners:o.orphanedTeamFilter,memberOfFilter:null!==o.teamMembershipFilter,teamsMemberOf:o.teamMembershipFilter===x6.JOINED,sortBy:p.sortingKey,sortOrder:p.isReversed?Te.u.DESC:Te.u.ASC},!0),v=E.map(e=>({...e,userTeamMembership:(0,uR.hasViewerRoleAccessOnTeam)(e.id,s)?x6.JOINED:x6.NOT_JOINED})),b=ev.useCallback(e=>{let t=(0,xX.RD)(e);g(a=>({columnName:t,isReversed:a.columnName===t&&!a.isReversed,sortingKey:e}))},[g]),y=ev.useCallback(e=>{c({...o,...e}),m(CY.FILTER)},[c,o,m]),w=ev.useCallback(e=>{_(e),m(CY.SEARCH)},[_,m]);(0,eZ.O)(()=>{t((0,gf.fO)())}),(0,eZ.O)(()=>{i&&c(e=>({...e,licenseGroupFilter:i}))}),(0,eZ.O)(()=>{l&&c(e=>({...e,workspaceFilter:l}))});let T={orgAccessFilter:{[ao.Zn.PUBLIC]:0,[ao.Zn.PRIVATE]:0,[ao.Zn.SECRET]:0},teamMembershipFilter:{[x6.JOINED]:0,[x6.NOT_JOINED]:0},discoverabilityFilter:{[_y.X_.ORG_BROWSABLE]:0,[_y.X_.HIDDEN]:0}},x=e=>e.hidden?_y.X_.HIDDEN:e.org_browsable?_y.X_.ORG_BROWSABLE:null;v.forEach(e=>{null!==e.org_access&&T.orgAccessFilter[e.org_access]++;let t=x(e);null!==t&&T.discoverabilityFilter[t]++,T.teamMembershipFilter[e.userTeamMembership]++});let N=f!==_d.Q.SUCCESS||!!h;return ev.createElement(B3,{dropdownShown:a,lastFilterAction:d,selectedOrgAccessFilter:o.orgAccessFilter,onFilter:y,onSearch:w,onFetchMore:h,org:e.org,filterCounts:T,orphanedTeamFilter:o.orphanedTeamFilter,searchQuery:u,selectedTeamMembershipFilter:o.teamMembershipFilter,teams:v,teamRoleRequests:r,user:n,selectedLicenseGroupFilter:o.licenseGroupFilter,selectedWorkspaceFilter:o.workspaceFilter,selectedDiscoverabilityFilter:o.discoverabilityFilter,isLoading:N,onSort:b,sortState:p})}let B8="workspace_edit_modal--adminRow--Gmc9u workspace_edit_modal--inputRow--w7H5Y",B5="workspace_edit_modal--inputLabel--IxcTC",B9="workspace_edit_modal--adminField---r-wb",B6="workspace_edit_modal--subtext--pHtOX",B7="First Workspace Created",Ue=a(524709),Ut=a(858901),Ua=(0,it.Y3)(function(e){let t=(0,eb.I0)(),[a,r]=ev.useState(null),n=(0,eb.v9)(e=>(0,uR.getPermissionsStateMemoized)(e)),i=(0,uL.Ng)(),l=e.workspacesData,s=e.workspaceId&&l?l.find(t=>t.id===e.workspaceId):void 0,o=!!s,c=(0,oC.r)(null==i?void 0:i.id),d=[];(null==s?void 0:s.admins)&&(d=s.admins.reduce((e,t)=>{let a=null==t?void 0:t.baseOrgUser;return a?[...e,{state:Nn.k.OK,content:{id:a.id,user:{id:a.user.id,handle:a.user.handle,img_url:a.user.imgUrl}}}]:e},[]));let[m,u]=ev.useState(o?{...(0,Ni.UA)(),tokens:d}:(0,Ni.UA)()),_=ev.useCallback(e=>{(0,eK.L9)("Workspace admin search performed",{orgId:null==i?void 0:i.id,workspaceId:null==s?void 0:s.id,queryLength:e.inputValue.length}),u(e)},[null==i?void 0:i.id,null==s?void 0:s.id]),[p,g]=ev.useState(o?s.name:""),[E,h]=ev.useState(o?s.orgAccess:ao.Zn.PUBLIC),f=ev.useCallback(e=>{let t=e.target.checked;h(t?ao.Zn.SECRET:ao.Zn.PUBLIC)},[]),v=()=>{(0,eK.L9)("CTA Clicked",{name:"Workspace Modal Cancel",workspaceId:null==s?void 0:s.id,orgId:n.currentUserOrgId}),t(ig.hV())},b=()=>{let e=o?`/api/workspace/${s.id}`:`/api/orgs/${n.currentUserOrgId}/workspaces`,a=o?rI.ZP.put:rI.ZP.post,r=!o&&(!l||0===l.length);a(e,{name:p,admin_org_user_ids:m.tokens.map(e=>e.content.id),org_access:E}).then(({data:e})=>{var a;t(r7.R.enqueue({type:"workspace-edit",message:o?(0,eq.t)("workspace_table.workspace_edited_toast",{workspaceName:p}):(0,eq.t)("workspace_table.workspace_created_toast",{workspaceName:p})})),t(ig.hV()),r&&(0,eK.L9)(B7,{workspaceId:null==(a=e.meta)?void 0:a.id,orgId:n.currentUserOrgId})}).catch(e=>{t(r7.R.enqueue({error:!0,message:e.message}))})},y=e=>{if(null==l?void 0:l.find(t=>t.name.trim().toLowerCase()===e.trim().toLowerCase()&&(null==t?void 0:t.id)!==(null==s?void 0:s.id))){r("duplicated");return}if("unassigned"===e.trim().toLowerCase()){r("unassigned");return}r(null)};return ev.createElement(ib.ge,{title:o?(0,eq.t)("workspace_table.edit_workspace_title"):(0,eq.t)("workspace_table.create_workspace_title"),onClose:v,minWidth:500},ev.createElement("div",{className:"workspace_edit_modal--container--TYAcr"},ev.createElement(ev.Fragment,null,ev.createElement("label",{className:"workspace_edit_modal--inputRow--w7H5Y"},ev.createElement("span",{className:B5},ev.createElement(eq.Tx,{id:"workspace_table.name_input"})),ev.createElement("div",null,ev.createElement(eA.Sc,{className:"workspace_edit_modal--inputField--QISQN",autoFocus:!0,placeholder:(0,eq.t)("workspace_table.name_input_placeholder"),onChange:e=>{g(e.currentTarget.value),y(e.currentTarget.value)},value:p,dataTestId:"workspace-name-input"}),!c&&ev.createElement("p",{className:B6},ev.createElement(eD.n,{className:"workspace_edit_modal--iconSvg--4SXhP",svg:Ue}),ev.createElement(eq.Tx,{id:"workspace_table.name_input_help_text"}))),ev.createElement(fZ.bM,{className:"workspace_edit_modal--yellowIcon--NYUA0 admin_settings_link--yellowIcon--bsDMr",style:ie.sx.if(!a,ie.sx.invisible).$})),ev.createElement("label",{className:B8},ev.createElement("span",{className:B5},ev.createElement(eq.Tx,{id:"workspace_table.admins_input"})),ev.createElement("div",{className:B9},ev.createElement(O2,{placeholder:(0,eq.t)("workspace_table.admin_input_placeholder"),autocomplete:m,onAutocompleteChange:_}),ev.createElement("p",{className:B6},c?ev.createElement(eq.Tx,{id:"workspace_table.admins_will_manage_input_help_text"}):ev.createElement(eq.Tx,{id:"workspace_table.admins_input_help_text"})))),c&&ev.createElement("label",{className:B8},ev.createElement("span",{className:B5},ev.createElement(eq.Tx,{id:"workspace_table.visibility"})),ev.createElement("div",{className:B9},ev.createElement(pe.X,{checked:E===ao.Zn.SECRET,onChange:f,label:(0,eq.t)("workspace_table.make_it_hidden"),description:(0,eq.t)("workspace_table.only_members_can_find_and_access")}))),a&&ev.createElement("div",{className:"workspace_edit_modal--banner--22ScT",style:ie.sx.mb32.p16.flex.itemsCenter.bRadius6.$},ev.createElement(eD.n,{className:ek.cx.mr16.$,svg:Ut,useOriginalSrcFills_DEPRECATED:!0}),ev.createElement("p",null,"unassigned"===a?ev.createElement(eq.Tx,{id:"workspace_table.workspace_name_unassigned_error"}):ev.createElement(eq.Tx,{id:"workspace_table.workspace_name_already_exists_error"}))),ev.createElement("div",{className:"workspace_edit_modal--buttonContainer--SMxZ9"},ev.createElement(eA.PL,{onClick:v},ev.createElement(eq.Tx,{id:"workspace_table.cancel_create_or_edit"})),ev.createElement(e3.Ui,{name:"Workspace Modal Submit",properties:{workspaceId:e.workspaceId}},ev.createElement(eA.RS,{className:"workspace_edit_modal--submitButton--x5EhS",onClick:()=>{let e=!l||0===l.length;e&&!o?t(ig.bF({type:Dt.type,data:{onConfirm:b}})):b()},disabled:!!a||!p.length||0===m.tokens.length},o?ev.createElement(eq.Tx,{id:"workspace_table.workspace_edit_save_changes"}):ev.createElement(eq.Tx,{id:"workspace_table.create_workspace_button"})))))))},"WorkspaceEditModal"),Ur="seen_org_admin_workspaces_onboarding",Un=(0,o_.n_)(Ur);function Ui(){let e=(0,r9.Dv)(Un),{show:t,isShowing:a,complete:r,uniqueId:n}=(0,so.I)({id:sd.G.OrgAdminWorkspacesOnboarding,priority:su.b4.DEFAULT_MODAL},[e]),i=(0,uL.$0)();return(0,sc.J)(n,B7,()=>{t({canShow:e=>(0,oC.yL)(i)&&!e})}),ev.createElement(Tn.ZZ,{emphasized:!0,clickOutsideToHide:!0,isShowing:a,targetKey:T_,trackingContextName:`${Tm} - Teams tab`,title:ev.createElement(eq.Tx,{id:"org_admin_onboarding.tooltip.workspace_add_teams.title"}),description:ev.createElement(oc.x,{i18nId:"org_admin_onboarding.tooltip.workspace_add_teams.description"}),primaryCta:{label:ev.createElement(eq.Tx,{id:"general.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:cC.y.DONE},onClose:r,userFlagOnShow:Ur,shouldCenterArrow:RY.Ht.FALLBACK})}let Ul=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.currentUserOrgId),r=e.workspaces.map(e=>e.id),n=e.workspaces.map(e=>e.name),i=()=>{t(ig.hV())},[l,s]=ev.useState(!1);return ev.createElement(e3.Ui,{name:"Delete workspace modal",properties:{numWorkspaces:e.workspaces.length}},ev.createElement(ib.ge,{title:(0,eq.t)("workspace_table.delete_n_workspaces",{licenseGroupsCount:e.workspaces.length}),maxWidth:372,onClose:i},ev.createElement("div",{className:ek.cx.font11.p16.$},ev.createElement(eq.Tx,{id:"workspace_table.deleting_the_workspaces_will_cause",licenseGroupsCount:e.workspaces.length,licenseGroupsNames:ev.createElement(oc.x,{fontWeight:"bold"},(0,dg.WH)(n))}),ev.createElement("div",null,ev.createElement("div",null,"\xa0"),ev.createElement("span",{className:m2.ef},(0,eq.t)("workspace_table.are_you_sure_you_want_to_delete_these_workspaces",{licenseGroupsCount:e.workspaces.length}))),ev.createElement("div",null,"\xa0"),ev.createElement("form",{onSubmit:n=>{n.preventDefault(),_J.uU.delWorkspaces({orgId:a,workspaceIds:r}).then(()=>{t(r7.R.enqueue({type:"workspace-delete",message:(0,eq.t)("workspace_table.workspaces_deleted_toast",{licenseGroupsCount:e.workspaces.length,licenseGroupName:e.workspaces[0].name})})),t(ig.hV())}).catch(e=>{t(r7.R.enqueue({error:!0,message:e.message??(0,eq.t)("workspace_table.an_error_occurred_while_deleting_workspaces")}))})}},ev.createElement("label",null,ev.createElement(pe.X,{checked:l,onChange:()=>s(!l),label:(0,eq.t)("billing_groups_table.delete_modal.i_understand_that_this_action_isnt_reversible")})),ev.createElement("div",{className:m2.UN},ev.createElement(eA.pJ,{onClick:i},ev.createElement(eq.Tx,{id:"general.cancel"})),ev.createElement(eA.VG,{type:"submit",className:m2.iY,disabled:!l},(0,eq.t)("workspace_table.delete_n_workspaces",{licenseGroupsCount:e.workspaces.length})))))))},"WorkspaceDeleteModal");function Us({workspacesData:e,selectedWorkspaces:t}){let a=(0,eb.I0)();return 0===t.length?null:ev.createElement(ev.Fragment,null,1===t.length&&!!t[0].id&&ev.createElement(xK.j2,{onClick:()=>{a((0,ig.K4)({type:Ua,data:{workspacesData:e,workspaceId:t[0].id}}))},label:(0,eq.t)("workspace_table.edit_details")}),ev.createElement(xK.j2,{onClick:()=>a((0,ig.K4)({type:Ul,data:{workspaces:t.filter(e=>!!e.id)}})),label:(0,eq.t)("general.delete")}))}let Uo=a(267837);function Uc(e){let{workspacesData:t,workspaceId:a,disableDropdown:r}=e,n=t.find(e=>e.id===a),i=(0,eb.I0)(),l=(0,eb.v9)(e=>e.dropdownShown),s=ev.useCallback(()=>{i((0,ig.K4)({type:Ul,data:{workspaces:[n]}}))},[i,n]);if(r||!a)return null;let o=`MENU_DROPDOWN-${a}`,c=(null==l?void 0:l.type)===o;return ev.createElement(xK.ud,{isRightAligned:!0,className:CN.SH,dispatch:i,hideChevron:!0,showingDropdown:c,type:o},ev.createElement(eD.n,{svg:Uo,className:"workspaces_table--menuIcon--w7kvm admin_settings_page--menuIcon--dMpHa",dataTestId:"workspace-menu-icon"}),c&&ev.createElement(gb.j.DropdownWithScrim,{dispatch:i,className:"workspaces_table--dropdown--DbNom",style:l.data.position},ev.createElement(gb.j.OptionTracked,{onClick:()=>{i((0,ig.K4)({type:Ua,data:{workspacesData:t,workspaceId:a}}))}},(0,eq.t)("workspace_table.edit_details")),ev.createElement(gb.j.OptionTracked,{onClick:s},(0,eq.t)("general.delete"))))}(em||(em={})).PenCheckmark=function(){return ev.createElement("svg",{width:"49",height:"49",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:ek.cx.colorIcon.$},ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.1443 11.9928L45.5223 20.4496L19.0803 47.1707L4.35542 32.3646L12.7172 23.8917L19.0636 30.2731L37.1443 11.9928ZM37.145 13.6986L19.0659 31.9772L12.7204 25.5967L6.04459 32.3613L19.0782 45.4668L43.8336 20.45L37.145 13.6986Z"}),ev.createElement("path",{d:"M37.2101 11.8238C37.8652 11.8238 38.3963 12.3549 38.3963 13.0101C38.3963 13.6652 37.8652 14.1963 37.2101 14.1963C36.5549 14.1963 36.0238 13.6652 36.0238 13.0101C36.0238 12.3549 36.5549 11.8238 37.2101 11.8238Z",className:ek.cx.colorIconOninverse.$}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.2101 10.6238C38.528 10.6238 39.5963 11.6922 39.5963 13.0101C39.5963 14.328 38.528 15.3963 37.2101 15.3963C35.8922 15.3963 34.8238 14.328 34.8238 13.0101C34.8238 11.6922 35.8922 10.6238 37.2101 10.6238ZM38.3963 13.0101C38.3963 12.3549 37.8652 11.8238 37.2101 11.8238C36.5549 11.8238 36.0238 12.3549 36.0238 13.0101C36.0238 13.6652 36.5549 14.1963 37.2101 14.1963C37.8652 14.1963 38.3963 13.6652 38.3963 13.0101Z"}),ev.createElement("path",{d:"M44.7101 19.0238C45.3652 19.0238 45.8963 19.5549 45.8963 20.2101C45.8963 20.8652 45.3652 21.3963 44.7101 21.3963C44.0549 21.3963 43.5238 20.8652 43.5238 20.2101C43.5238 19.5549 44.0549 19.0238 44.7101 19.0238Z",className:ek.cx.colorIconOninverse.$}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M44.7101 17.8238C46.028 17.8238 47.0963 18.8922 47.0963 20.2101C47.0963 21.528 46.028 22.5963 44.7101 22.5963C43.3922 22.5963 42.3238 21.528 42.3238 20.2101C42.3238 18.8922 43.3922 17.8238 44.7101 17.8238ZM45.8963 20.2101C45.8963 19.5549 45.3652 19.0238 44.7101 19.0238C44.0549 19.0238 43.5238 19.5549 43.5238 20.2101C43.5238 20.8652 44.0549 21.3963 44.7101 21.3963C45.3652 21.3963 45.8963 20.8652 45.8963 20.2101Z"}),ev.createElement("path",{d:"M18.6863 45.1238C19.3414 45.1238 19.8725 45.6549 19.8725 46.3101C19.8725 46.9652 19.3414 47.4963 18.6863 47.4963C18.0311 47.4963 17.5 46.9652 17.5 46.3101C17.5 45.6549 18.0311 45.1238 18.6863 45.1238Z",className:ek.cx.colorIconOninverse.$}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.6863 43.9238C20.0041 43.9238 21.0725 44.9922 21.0725 46.3101C21.0725 47.628 20.0041 48.6963 18.6863 48.6963C17.3684 48.6963 16.3 47.628 16.3 46.3101C16.3 44.9922 17.3684 43.9238 18.6863 43.9238ZM19.8725 46.3101C19.8725 45.6549 19.3414 45.1238 18.6863 45.1238C18.0311 45.1238 17.5 45.6549 17.5 46.3101C17.5 46.9652 18.0311 47.4963 18.6863 47.4963C19.3414 47.4963 19.8725 46.9652 19.8725 46.3101Z"}),ev.createElement("path",{d:"M18.6863 29.5238C19.3414 29.5238 19.8725 30.0549 19.8725 30.7101C19.8725 31.3652 19.3414 31.8963 18.6863 31.8963C18.0311 31.8963 17.5 31.3652 17.5 30.7101C17.5 30.0549 18.0311 29.5238 18.6863 29.5238Z",className:ek.cx.colorIconOninverse.$}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.6863 28.3238C20.0041 28.3238 21.0725 29.3922 21.0725 30.7101C21.0725 32.028 20.0041 33.0963 18.6863 33.0963C17.3684 33.0963 16.3 32.028 16.3 30.7101C16.3 29.3922 17.3684 28.3238 18.6863 28.3238ZM19.8725 30.7101C19.8725 30.0549 19.3414 29.5238 18.6863 29.5238C18.0311 29.5238 17.5 30.0549 17.5 30.7101C17.5 31.3652 18.0311 31.8963 18.6863 31.8963C19.3414 31.8963 19.8725 31.3652 19.8725 30.7101Z"}),ev.createElement("path",{d:"M12.6863 23.8238C13.3414 23.8238 13.8725 24.3549 13.8725 25.0101C13.8725 25.6652 13.3414 26.1963 12.6863 26.1963C12.0311 26.1963 11.5 25.6652 11.5 25.0101C11.5 24.3549 12.0311 23.8238 12.6863 23.8238Z",className:ek.cx.colorIconOninverse.$}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.6863 22.6238C14.0041 22.6238 15.0725 23.6922 15.0725 25.0101C15.0725 26.328 14.0041 27.3963 12.6863 27.3963C11.3684 27.3963 10.3 26.328 10.3 25.0101C10.3 23.6922 11.3684 22.6238 12.6863 22.6238ZM13.8725 25.0101C13.8725 24.3549 13.3414 23.8238 12.6863 23.8238C12.0311 23.8238 11.5 24.3549 11.5 25.0101C11.5 25.6652 12.0311 26.1963 12.6863 26.1963C13.3414 26.1963 13.8725 25.6652 13.8725 25.0101Z"}),ev.createElement("path",{d:"M5.18625 31.6238C5.8414 31.6238 6.3725 32.1549 6.3725 32.8101C6.3725 33.4652 5.8414 33.9963 5.18625 33.9963C4.5311 33.9963 4 33.4652 4 32.8101C4 32.1549 4.5311 31.6238 5.18625 31.6238Z",className:ek.cx.colorIconOninverse.$}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.18625 30.4238C6.50414 30.4238 7.5725 31.4922 7.5725 32.8101C7.5725 34.128 6.50414 35.1963 5.18625 35.1963C3.86836 35.1963 2.8 34.128 2.8 32.8101C2.8 31.4922 3.86836 30.4238 5.18625 30.4238ZM6.3725 32.8101C6.3725 32.1549 5.8414 31.6238 5.18625 31.6238C4.5311 31.6238 4 32.1549 4 32.8101C4 33.4652 4.5311 33.9963 5.18625 33.9963C5.8414 33.9963 6.3725 33.4652 6.3725 32.8101Z"}),ev.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.3876 12.6156L22.2292 15.2282C18.9526 15.9577 15.4711 14.4246 13.8677 11.2973C13.5621 10.7013 13.3431 10.0829 13.2065 9.45665L8.59466 7.97098L10.9015 0.809704L15.4787 2.2842C15.9684 1.83489 16.5254 1.44354 17.1443 1.12628C20.3838 -0.534604 24.2614 0.36987 26.4631 3.09209L35.3876 12.6156ZM32.187 10.9551L25.5567 3.87971L25.5424 3.86194C23.6928 1.56053 20.4216 0.794505 17.6917 2.19412C17.0714 2.51213 16.5266 2.91732 16.0637 3.38669L15.8043 3.6498L11.6758 2.31985L10.1048 7.19673L14.26 8.53531L14.3202 8.8956C14.4253 9.5251 14.628 10.15 14.9356 10.7499C16.2845 13.381 19.2162 14.6724 21.9745 14.0555L21.9815 14.0539L31.8256 12.0994L20.4477 8.43412L20.8157 7.29193L32.187 10.9551Z"}),ev.createElement("path",{d:"M18.8873 7.17071C19.2085 6.17344 20.2774 5.62544 21.2747 5.9467C22.2719 6.26796 22.8199 7.33684 22.4987 8.3341C22.1774 9.33137 21.1085 9.87937 20.1113 9.55811C19.114 9.23685 18.566 8.16798 18.8873 7.17071Z"}))};let Ud=a(234874),Um=a(716440);function Uu({asset:e,title:t,subtitle:a}){return ev.createElement(tD.j,{direction:"vertical",spacing:8,horizontalAlignItems:"center"},e,ev.createElement(tD.j,{direction:"vertical",spacing:4,horizontalAlignItems:"center"},ev.createElement("div",{className:ek.cx.alignCenter.$},ev.createElement(oc.x,{fontWeight:"medium",fontSize:13},t)),ev.createElement("div",{className:ek.cx.alignCenter.$},ev.createElement(oc.x,{color:"secondary"},a))))}function U_(){let e=(0,eb.I0)();return ev.createElement("div",{className:ek.cx.hFull.$,style:{minWidth:660,paddingTop:50,paddingLeft:50,paddingRight:50}},ev.createElement(tD.j,{width:"fill-parent",height:"fill-parent",direction:"vertical",verticalAlignItems:"start",horizontalAlignItems:"center"},ev.createElement("img",{alt:"",src:"https://static.figma.com/uploads/31ad8dd79c291ecf576eb7c434a16cfd3a53034b",width:235,height:235,"data-testid":"workspaces-table-colorful-blocks"}),ev.createElement("div",{className:ek.cx.alignCenter.$},ev.createElement(oc.x,{fontSize:18,fontWeight:"medium",i18nId:"workspace_table.empty_state.title"})),ev.createElement("div",{className:ek.cx.alignCenter.$},ev.createElement(oc.x,{fontSize:14,i18nId:"workspace_table.empty_state.subtitle"})),ev.createElement("div",{className:ek.cx.pt8.$},ev.createElement(oM.z,{icon:"plus-32",variant:"inverse",onClick:()=>{e((0,ig.K4)({type:Ua,data:{workspacesData:[]}}))}},ev.createElement(oc.x,{i18nId:"workspace_table.workspace"}))),ev.createElement(tD.j,{direction:"horizontal",horizontalAlignItems:"center",height:"hug-contents",padding:{vertical:50}},ev.createElement("div",{style:{maxWidth:1100}},ev.createElement(tD.j,{direction:"horizontal",width:"fill-parent",verticalAlignItems:"start",horizontalAlignItems:"space-between",spacing:"64px"},ev.createElement(Uu,{asset:ev.createElement(eD.n,{svg:Ud,className:ek.cx.colorIcon.$}),title:(0,eq.t)("workspace_table.empty_state.manage_access_and_plugins"),subtitle:(0,eq.t)("workspace_table.empty_state.manage_access_and_plugins.subtitle")}),ev.createElement(Uu,{asset:ev.createElement(em.PenCheckmark,null),title:(0,eq.t)("workspace_table.empty_state.approve_libraries_and_assets"),subtitle:(0,eq.t)("workspace_table.empty_state.approve_libraries.subtitle")}),ev.createElement(Uu,{asset:ev.createElement(eD.n,{svg:Um,className:ek.cx.colorIcon.$}),title:(0,eq.t)("workspace_table.empty_state.let_workspaces_be_unique"),subtitle:(0,eq.t)("workspace_table.empty_state.let_workspaces_be_unique.subtitle")}))))))}let Up=e=>e.id??wO.F,Ug=new TH.Or([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1}]});function UE(e){var t,a;let r=(0,eb.I0)(),[n,i]=ev.useState(""),l=(0,dV.mU)(dH.WorkspacesTableView,{orgId:e.org.id}),s="loaded"!==l.status,{filterCountsViewResult:o}=(0,EJ.S8)(e.org.id,"",Te.bu),c=(null==(a=null==(t=l.data)?void 0:t.org)?void 0:a.workspaces)??[],d=s?[]:[{id:null},...c];n&&(Ug.set(d),d=Ug.search(n));let m=(0,eT.BZ)().workspace_privacy_view,u=[{name:(0,eq.t)("workspace_table.name"),className:"workspaces_table--nameColumn--7EOOL workspaces_table--column--Gd721 table--column--974RA",getSortValue:e=>e.id?e.name:"0",cellComponent:e=>e.id?ev.createElement(tD.j,null,ev.createElement(ds.zf,{entity:e,size:22}),ev.createElement(oc.x,null,e.name),m&&e.orgAccess===ao.Zn.SECRET&&ev.createElement("div",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,eq.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ev.createElement(t3.JO,{icon:"lock-16"}))):ev.createElement(tD.j,{spacing:4,padding:0},ev.createElement(oc.x,{i18nId:"workspace_table.unassigned"}),ev.createElement(oc.x,{i18nId:"workspace_table.unassigned_row_default",color:"secondary"}))},{name:(0,eq.t)("workspace_table.admins"),className:"workspaces_table--adminColumn--7yytA workspaces_table--column--Gd721 table--column--974RA",cellComponent:t=>{let a=[],r=t.admins;if((null==r?void 0:r.length)>0&&r.forEach(e=>{var t;let r=null==(t=null==e?void 0:e.baseOrgUser)?void 0:t.user;r&&a.push({id:r.id,handle:r.handle,img_url:r.imgUrl??void 0})}),(null==a?void 0:a.length)===0){let t=e.orgAdmins.filter(e=>e.permission===ao.Gu.ADMIN).map(e=>e.user);a.push(...t)}let n=(0,Db.H)(a);return ev.createElement(ev.Fragment,null,a.length>1?ev.createElement(tD.j,null,ev.createElement(Dy.h,{className:ek.cx.flexShrink0.$,textColor:"onselected",backgroundColor:"onselected",text:`${a.length}`,size:22}),ev.createElement(oc.x,{truncate:!0},n)):ev.createElement(ds.oJ,{entity:a[0],size:22}))}},{name:(0,eq.t)("workspace_table.teams"),className:"workspaces_table--teamsColumn--CmGu3 workspaces_table--column--Gd721 table--column--974RA",cellComponent:t=>{let{status:a,data:n}=e.workspaceTeamCounts;if("loaded"!==a)return ev.createElement(xS.g4,{className:ek.cx.h12.w100.$,animationType:xS.F4.SHIMMER,dataTestId:"teams-count-shimmer"});let i=n[t.id??wO.F]??0;return ev.createElement(AZ.r,{onClick:()=>r(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.TEAMS,selectedWorkspaceId:t.id??wO.F})),trusted:!0},ev.createElement(eq.Tx,{id:"workspace_table.n_teams",count:i}))},getSortValue:t=>{var a;return(null==(a=e.workspaceTeamCounts.data)?void 0:a[t.id??wO.F])??0},sortNumerically:!0},{name:(0,eq.t)("workspace_table.members"),className:"workspaces_table--membersColumn--rjfbn workspaces_table--column--Gd721 table--column--974RA",cellComponent:e=>{var t;let{status:a,data:n}=o;if("loaded"!==a)return ev.createElement(xS.g4,{className:ek.cx.h12.w100.$,animationType:xS.F4.SHIMMER,dataTestId:"members-count-shimmer"});let i=(null==(t=n.workspaces)?void 0:t[e.id??wO.F])??0;return ev.createElement(AZ.r,{onClick:()=>r(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.MEMBERS,orgAdminMembersTabFilters:{...Te.bu,workspaceFilter:e.id??wO.F}})),trusted:!0},ev.createElement(eq.Tx,{id:"workspace_table.n_members",count:i}))},getSortValue:e=>{var t,a;return(null==(a=null==(t=o.data)?void 0:t.workspaces)?void 0:a[e.id??wO.F])??0},sortNumerically:!0},{name:"",className:"workspaces_table--iconColumn--s0ELc admin_settings_page--iconColumn--qxUMs",cellComponent:(e,t)=>ev.createElement(Uc,{workspaceId:e.id,workspacesData:c,disableDropdown:t})}],[_,p,g]=(0,fC.g)({columnName:"Name",isReversed:!1},d,u);return(0,oC.yL)(e.org.id)&&!s&&0===c.length?ev.createElement(U_,null):ev.createElement(ev.Fragment,null,ev.createElement(T$.Z,{title:(0,w7.K)(fe.rN.LICENSE_GROUPS),hasHorizontalPadding:!0,rightActions:ev.createElement(oM.z,{icon:"plus-32",onClick:()=>{r((0,ig.K4)({type:Ua,data:{workspacesData:c}}))}},ev.createElement(oc.x,{i18nId:"workspace_table.workspace"}))}),ev.createElement(fz.Ch,{hasNewScrollContext:!0,isLoading:s,items:g,getItemKey:Up,columns:u,stickyContent:ev.createElement(tD.j,{strokeColor:"default",strokeWidth:{top:1,bottom:1},padding:{vertical:8}},ev.createElement(nN.Pl,{onChange:i,focusOnMount:!1,query:n,clearSearch:()=>i(""),placeholder:(0,eq.t)("workspace_table.search.placeholder")})),actionBar:e=>ev.createElement(Us,{workspacesData:c,selectedWorkspaces:e}),actionBarClassName:"workspaces_table--bulkActionsBar--ZdJL6",itemTypeContext:{itemType:"workspace",getSelectedCountString:e=>(0,eq.t)("multi_select_list.selected_count_workspace",{numSelected:e})},unselectableItemKeys:new Set([wO.F]),isBannerHeightDynamic:!0,emptyContent:ev.createElement(xy.eP,null,ev.createElement(eq.Tx,{id:"workspace_table.search.no_results"})),sortState:_,onSetSortState:p,minContentWidth:(0,cx.z)(cL.Vi7)}))}function Uh(e){let t=Rq();return ev.createElement(ev.Fragment,null,ev.createElement(UE,{org:e.org,orgAdmins:e.orgAdmins,workspaceTeamCounts:e.workspaceTeamCounts}),!t&&ev.createElement(Ui,null))}function Uf(e){var t,a,r,n,i,l,s,o,c,d,m,u,_,p;let g=(0,eb.I0)();(0,w8.dl)([e.selectedTab]);let E=(0,uL.Ng)(),h=(0,eb.v9)(({orgDomains:e})=>e),f=(0,eb.v9)(({orgSamlConfig:e})=>e),v=(0,eb.v9)(({library:e})=>e.isFetched),b=(0,w6.$4)(),y=(0,eb.v9)(({loadingState:e})=>e),w=(0,mj.L)(),T=(0,uR.usePermissionsState)(),x=(0,eb.v9)(({publishedPlugins:e})=>e),N=(0,eb.v9)(({publishedWidgets:e})=>e),C=(0,eb.v9)(({sharedFonts:e})=>e),S=(0,eb.v9)(({activityLogs:e})=>e),k=(0,lR.xJ)(),I=(0,eb.v9)(({teamRoleRequests:e})=>e),L=(0,eb.v9)(({selectedView:e})=>e),[R,A]=ev.useState(0),[O,D]=ev.useState(0),[F,M]=ev.useState(0),P=ev.useCallback(e=>A(t=>t+e),[]),B=ev.useCallback(e=>D(t=>t+e),[]),U=ev.useCallback(e=>M(t=>t+e),[]),V=(0,EJ.V_)(),W=!!(E.bigma_enabled&&V&&V.license_admin),G=!!(V&&V.permission===ao.Gu.ADMIN),{groupsUserIsAdminOf:j}=V?(0,w6.O)(b,null==V?void 0:V.user_id,W&&!G):{groupsUserIsAdminOf:[]},[H,$]=(0,EJ._c)(E.id),{isFetched:z,orgAdmins:K}=(0,EJ.Mx)({orgId:E.id,includeLicenseAdmins:!1}),Z=(0,oC.ko)(E),{isFetched:q,memberCounts:Y}=(0,w6.oI)(E.id,Z&&G);ev.useEffect(()=>{W&&!G?j.length>0?g(od.fv({view:"licenseGroup",subView:ET.gp.ADMIN,licenseGroupId:j[0].id,selectedTab:(0,Ri.j)(e.selectedTab,E.id)})):(0,dn.B4)(y,(0,w6.lV)(E.id))&&g(od.fv(Tt.r_)):G||g(od.fv(Tt.r_))},[g,j,W,G,E.id,y,e.selectedTab]);let J=(0,oC.uH)(E.id),Q=(0,oC.Eq)(E.id);ev.useEffect(()=>{J&&e.selectedTab===fe.rN.LICENSE_GROUPS?g(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.WORKSPACES})):J||e.selectedTab!==fe.rN.WORKSPACES||g(od.fv({view:"orgAdminSettings",orgAdminSettingsViewTab:fe.rN.LICENSE_GROUPS}))},[g,e.selectedTab,J]);let[X,ee]=ev.useState(0),[et,ea]=ev.useState("");ev.useEffect(()=>{e.selectedTab===fe.rN.MEMBERS&&(ee(Date.now()),(0,eK.L9)("Org Admin Members Table V2 Load Initiated",{orgId:E.id},{forwardToDatadog:!0}))},[e.selectedTab,E.id]),ev.useEffect(()=>{G&&g(wZ.U2({includeMemberCount:!0,includeTopMembers:!0,includeProjectCount:!0,includeSecretTeams:!0}))},[G,g,E.id]),ev.useEffect(()=>{G&&(g(RH.go({force:!0})),g(R$.U()))},[G,g,E.id]);let[er]=w3.dA({currentOrgId:E.id,excludeDrafts:!0},{enabled:G}),en=er.data||null;ev.useEffect(()=>{G&&g(w3._2({}))},[G,E.id,g]),ev.useEffect(()=>{G&&Oa.B.loadSharedFonts(g)},[G,g,E.id]),ev.useEffect(()=>{G&&(g(Rj.Yh({})),g(Rj.rr({})))},[G,g,E.id]),ev.useEffect(()=>{g(w4.U2({forceRefetch:!0}))},[g,E.id]);let ei=(0,uL.$0)(),el=(0,w$.A9)(ei),es="loading"===el.status,eo=null==(t=el.data)?void 0:t.invoices,ec=((null==(a=el.data)?void 0:a.design_billable_seats)||0)+R,ed=((null==(r=el.data)?void 0:r.figjam_billable_seats)||0)+O,em=((null==(n=el.data)?void 0:n.dev_mode_billable_seats)||0)+F,eu=null,e_=null;e_=e.selectedTab===fe.rN.DASHBOARD?ev.createElement(ax.jz,null):e.selectedTab===fe.rN.RESOURCES?ev.createElement(xy.rn,{selectedViewAndTab:{view:fe.yA.ORG,tab:e.selectedSecondaryTab||fe.Q$.LIBRARIES},isLoading:!0}):ev.createElement("div",{className:Rv},ev.createElement(T$.Z,{title:(0,w7.K)(e.selectedTab,e.selectedSecondaryTab),smallTitle:fe.rN.BILLING===e.selectedTab&&!Q}),ev.createElement(ax.jz,null));let ep=!1,eg=L.orgAdminMembersTabFilters||Te.bu;E.figjam_disabled_at&&eg[Te.qx.productFilter]===_K.xi.WHITEBOARD&&(eg[Te.qx.productFilter]=null);let eE=(0,r9.Dv)(w0),eh=(0,ev.useMemo)(()=>"loaded"!==eE.status?eE:(0,dV.wl)((0,w6.lz)(eE.data)),[eE]),ef=(0,ev.useMemo)(()=>"loaded"!==eE.status?eE:(0,dV.wl)((0,bE.yl)(eE.data)),[eE]);switch(e.selectedTab){case fe.rN.ACTIVITY:eu=ev.createElement(OH,{dispatch:g,org:E,dropdownShown:w,orgTeams:eE.data||[],activityLogs:S,initialEmail:L.activityTabInitialEmail,initialStartTime:L.activityTabInitialStartTime,initialEventOptionId:L.activityTabInitialEventOptionId});break;case fe.rN.BILLING:let ey=!!(null==eo?void 0:eo.length),ew=!!Z&&((0,dn.hg)(y,(0,w6.lV)(E.id))||!q);Q?(ep=es||ew||!z,eu=ev.createElement(Fs,{isFetching:ep,accountCredit:null==(i=el.data)?void 0:i.account_credit,currency:null==(l=el.data)?void 0:l.currency,dispatch:g,loadingContent:e_,invoices:eo,adminEmail:null==(s=el.data)?void 0:s.admin_email,figjamBillableSeats:ed,designBillableSeats:ec,devModeBillableSeats:em,org:E,shouldShowLockedBanner:L.shouldShowLockedBanner,orgAdmins:K,licenseGroupTeamCounts:eh,licenseGroupMemberCounts:Y})):e.selectedSecondaryTab===fe._J.INVOICES||!e.selectedSecondaryTab&&ey?(ep=es,eu=ev.createElement(Fs,{isFetching:ep,accountCredit:null==(o=el.data)?void 0:o.account_credit,currency:null==(c=el.data)?void 0:c.currency,dispatch:g,loadingContent:e_,invoices:eo,adminEmail:null==(d=el.data)?void 0:d.admin_email,figjamBillableSeats:ed,designBillableSeats:ec,devModeBillableSeats:em,org:E,orgAdmins:K,shouldShowLockedBanner:L.shouldShowLockedBanner,licenseGroupTeamCounts:eh,licenseGroupMemberCounts:Y})):!J||e.selectedSecondaryTab!==fe._J.BILLING_GROUPS&&(e.selectedSecondaryTab||ey)||(ep=(0,dn.hg)(y,(0,w6.lV)(E.id))||!q||!z||!!G&&es,eu=ev.createElement(FD,{org:E,orgAdmins:K,licenseGroupTeamCounts:eh,invoices:eo,figjamBillableSeats:ed,designBillableSeats:ec,currentFilters:eg,licenseGroupMemberCounts:Y,loadingContent:e_}));break;case fe.rN.DASHBOARD:ep=es||"loaded"!==eE.status||!H,eu=ev.createElement(FO,{invoices:eo,orgUserCount:$,licenseQuantities:{[_K.z9.DESIGN]:(null==(m=el.data)?void 0:m.design_billable_seats)||0,[_K.z9.FIGJAM]:(null==(u=el.data)?void 0:u.figjam_billable_seats)||0,[_K.z9.DEV_MODE]:(null==(_=el.data)?void 0:_.dev_mode_billable_seats)||0},teams:eE.data||[],org:E,devModeOptInModalState:L.devModeOptInModalState,shouldShowDevModeSuggestedUpgradesModal:L.shouldShowDevModeSuggestedUpgradesModal});break;case fe.rN.LICENSE_GROUPS:ep=(0,dn.hg)(y,(0,w6.lV)(E.id))||!q||!z||!!G&&es,eu=ev.createElement(FD,{org:E,orgAdmins:K,licenseGroupTeamCounts:eh,invoices:eo,figjamBillableSeats:ed,designBillableSeats:ec,currentFilters:eg,licenseGroupMemberCounts:Y,loadingContent:e_});break;case fe.rN.WORKSPACES:ep=!z,eu=ev.createElement(Uh,{org:E,orgAdmins:K,loadingContent:e_,workspaceTeamCounts:ef});break;case fe.rN.MEMBERS:let eT=(0,dn.hg)(y,(0,w6.lV)(E.id))||!!G&&("loading"===el.status||f.isFetching),ex=L.orgAdminMembersTabSort||Te.SR;eu=G?ev.createElement(LR,{invoices:eo,org:E,dropdownShown:w,searchQuery:et,setSearchQuery:ea,filters:eg,sort:ex,figjamBillableSeats:ed,designBillableSeats:ec,devModeBillableSeats:em,startTime:X,isLoading:eT,setDesignEditorDiff:P,setWhiteboardEditorDiff:B,setDevModeEditorDiff:U}):null;break;case fe.rN.RESOURCES:switch(e.selectedSecondaryTab){case fe.Q$.APPROVED_PLUGINS:RK(E.id)?eu=ev.createElement(Ms,{orgId:E.id,extensionType:"plugin",selectedExtensionId:e.selectedExtensionId}):(ep=(0,dn.hg)(y,(0,iR.gu)(E.id,null)),eu=ev.createElement(A9,{dispatch:g,dropdownShown:w,publishedPlugins:x,org:E}));break;case fe.Q$.APPROVED_WIDGETS:RK(E.id)?eu=ev.createElement(Ms,{orgId:E.id,extensionType:"widget",selectedExtensionId:e.selectedExtensionId}):(ep=(0,dn.hg)(y,(0,iR.mz)(E.id,null)),eu=ev.createElement(Ot,{dispatch:g,dropdownShown:w,publishedWidgets:N,org:E}));break;case fe.Q$.SHARED_FONTS:ep=!!Oa.B.fontLoadPromise||!Oa.B.loadedFonts,eu=ev.createElement(Oa.B,{dispatch:g,dropdownShown:w,permissionsState:T,orgId:E.id,sharedFonts:C,resourceType:"org"});break;case fe.Q$.LIBRARIES:default:ep=null===en||!v,eu=ev.createElement(xC,{org:E,libraryStats:en})}break;case fe.rN.SETTINGS:ep=f.isFetching||h.isFetching,eu=ev.createElement(Bq,{org:E,orgDomains:h.domains,orgSamlConfig:f,user:k,adminEmail:(null==(p=el.data)?void 0:p.admin_email)||"",billingDate:eo&&eo.length>0?eo[0].period_end_at:null,billableSeats:{[_K.z9.DESIGN]:ec,[_K.z9.FIGJAM]:ed,[_K.z9.DEV_MODE]:em}});break;case fe.rN.TEAMS:ep="loaded"!==eE.status||(0,dn.hg)(y,(0,w6.lV)(E.id)),eu=FF(E.id)?ev.createElement(B4,{org:E,dropdownShown:w,dispatch:g,teamRoleRequests:I,user:k,selectedLicenseGroupTab:e.selectedLicenseGroupTab,selectedWorkspaceId:e.selectedWorkspaceId}):ev.createElement(C0,{org:E,teams:eE.data||[],dropdownShown:w,dispatch:g,teamRoleRequests:I,user:k,selectedLicenseGroupTab:e.selectedLicenseGroupTab,selectedWorkspaceId:e.selectedWorkspaceId})}return ev.createElement(ev.Fragment,null,ev.createElement(da.S,{containerClass:Rb,scrollableContainerClass:Ry,toolbar:ev.createElement(FG,{selectedTab:e.selectedTab,selectedSecondaryTab:e.selectedSecondaryTab}),content:ep||!G?e_:eu,belowToolbarBanner:ev.createElement(O_,{selectedTab:e.selectedTab,org:E})}),ev.createElement(R2,null))}var Uv=a(678211),Ub=a(41285);function Uy({orgId:e}){let t=(0,uR.usePermissionsState)(),a=(0,eb.I0)();return(0,uR.canMemberOrg)(e,t)?ev.createElement(Ub.J,{action:{kind:Uv.G.BUTTON,key:Uv.y.VIEW_LIBRARIES,displayText:(0,eq.t)("org_view.view_libraries"),onClick:()=>{a(od.fv({view:"org",orgId:e,orgViewTab:Ex.i.LIBRARIES}))}}}):null}let Uw=ev.forwardRef(function({disabled:e,onClick:t,onKeyDown:a,icon:r,children:n,onFocus:i,onBlur:l},s){let o=ev.useCallback(e=>{null==a||a(e),e.keyCode===ly.sr.ESCAPE&&e.currentTarget.blur()},[a]);return ev.createElement("button",{disabled:e,onClick:t,onKeyDown:o,className:tQ()("inverted_inverse_button--buttonBase--tzhDW button--buttonBase---72nl","inverted_inverse_button--buttonColors--qy-Tt","inverted_inverse_button--buttonHugContents--Qgb-f"),onFocus:i,onBlur:l,ref:s},r&&ev.createElement("div",{className:"inverted_inverse_button--iconContainer--8ypWk"},ev.createElement(t3.JO,{icon:r})),n&&ev.createElement(oc.x,{fontSize:11,fontWeight:"medium",truncate:!0},n))}),UT=a(704062),Ux=e=>{switch(e){case"primary":case"destructive":case"success":case"toolbar-secondary":return ek.cx.colorIconOnbrand.$;case"inverse":return ek.cx.colorIconOninverse.$;default:return ek.cx.colorIcon.$}};function UN(e){let t=ev.createElement("div",{className:ek.cx.flex.gap6.itemsCenter.$},ev.createElement(eD.n,{className:Ux(e.variant),svg:UT}),ev.createElement(oc.x,null,e.text));return"inverted-inverse"===e.variant?ev.createElement(Uw,{onClick:e.onClick,disabled:e.disabled},t):ev.createElement(oM.z,{"data-onboarding-key":e["data-onboarding-key"],variant:e.variant,onClick:e.onClick,disabled:e.disabled},t)}function UC({orgId:e}){let t=(0,eb.I0)(),a=(0,w6.xY)(),r=(0,eb.v9)(oC.Hd),n=(0,eb.v9)(t=>t.orgById[e]),{canCreateTeam:i}=(0,gv.G3)(n,void 0);return r||!i?null:ev.createElement(Ub.J,{action:{kind:Uv.G.CUSTOM,key:Uv.y.NEW_TEAM,element:ev.createElement(UN,{onClick:()=>{let e={licenseGroupId:null==a?void 0:a.id,licenseGroupName:(null==a?void 0:a.name)||(0,eq.t)("team_creation.unassigned_workspace")};t(ig.K4({type:vS.d3,data:e}))},variant:"inverse",text:(0,eq.t)("license_group_view.toolbar.new_team_button")})}})}function US({orgId:e}){return e?ev.createElement(ev.Fragment,null,ev.createElement(UC,{orgId:e,key:"org-new-team-action"}),ev.createElement(Uy,{orgId:e,key:"org-library"})):null}var Uk=a(365653);class UI extends ev.PureComponent{render(){let e=fg(this.props,this.props.dispatch);if(!e)return ev.createElement("div",null);let t=ff({resourceType:"org",orgId:this.props.currentUserOrgId},e),a=e.severity===hj.WARN?hH:"",r=`${h0} ${a}`;return ev.createElement("div",{className:r},ev.createElement(h5,{...e,tracking:t}))}}UI.displayName="OrgDelinquencyBanner";let UL=(0,eb.$j)(e=>({currentUserOrgId:e.currentUserOrgId,selectedView:e.selectedView,...(0,uR.getPermissionsState)(e),userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData}))(UI),UR=a(616705);class UA extends ev.PureComponent{constructor(){super(...arguments),this.onLeaveClick=e=>{e.stopPropagation(),this.props.canLeave&&this.props.onLeaveClick()}}render(){let e=this.props.members.length,t=this.props.membersToShow||10;return ev.createElement("div",null,!this.props.removeHeader&&ev.createElement("div",{className:ek.cx.font13.fontMedium.mb12.$},this.props.label||(0,eq.t)("file_browser.team_overview.member_label")),this.props.members.slice(0,t).map(e=>{let t=e.id===this.props.currentUserId,a=this.props.showAdminBadge&&this.props.showAdminBadge(e);return ev.createElement(ds.oJ,{key:e.id,size:24,entity:e,className:this.props.customAvatarRowStyle?this.props.customAvatarRowStyle:ek.cx.font13.mb16.$,showIsMe:t,onClick:this.props.onMemberClick,badge:a?{color:os.JV.DEFAULT,text:(0,eq.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:this.props.shouldIncludeUserEmailAddress},this.props.canLeave&&t&&ev.createElement("span",{onClick:this.onLeaveClick,className:"members_preview--leaveLink--u1X-3 text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd"},ev.createElement(eq.Tx,{id:"file_browser.team.leave_confirm"})))}),e>t&&(this.props.customOverflowRow||ev.createElement("div",{className:"members_preview--totalMemberCountContainer--Pe3wO",onClick:this.props.onClickShowMore},ev.createElement(eD.n,{svg:UR,className:"members_preview--teamIcon--2-FAe"}),ev.createElement("div",{className:"members_preview--totalMemberCount--6WdaE text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"file_browser.team_overview.num_others",numMembers:e-t})))))}}let UO=(0,eb.$j)(e=>{var t;return{currentUserId:null==(t=e.user)?void 0:t.id}})(UA);var UD=a(248578);let UF="org_meta_content--container--xXnr8";function UM({org:e}){return ev.createElement("div",{className:ek.cx.flex.flexColumn.rowGap16.$},ev.createElement(ds.Kn,{entity:e,size:36}),ev.createElement(oc.x,{fontWeight:"medium",fontSize:13},e.name))}function UP({handle:e}){let t=(0,eb.I0)();return ev.createElement("a",{href:`/@${e}`,className:UD.W,onClick:a=>{a.metaKey||(a.preventDefault(),t(od.fv({view:"communityHub",subView:"handle",handle:e})))}},ev.createElement(oc.x,{fontSize:11},"@",e))}function UB({orgId:e}){let t=(0,eb.v9)(t=>(0,_q.IY)(t.orgUsersByOrgId.orgUsers[e]).map(e=>e.user)),a=(0,eb.I0)();return ev.createElement(UO,{label:(0,eq.t)("org_home_view_meta.admins"),members:t,onMemberClick:(e,t)=>{a(od.fv({view:"user",userId:t.id,userViewTab:Nx.l.INTERNAL_PROFILE}))},canLeave:!1})}function UU({org:e,orgStats:t}){let a=t?ev.createElement(oc.x,{fontSize:11,color:"secondary"},ev.createElement(eq.Tx,{id:"org_home_view_meta.member_count",memberCount:t.memberCount.data}),ev.createElement("span",null,"\xa0\xb7\xa0"),"workspaceCount"in t?ev.createElement(eq.Tx,{id:"org_home_view_meta.workspace_count",workspaceCount:t.workspaceCount.data}):ev.createElement(eq.Tx,{id:"org_home_view_meta.team_count",teamCount:t.discoverableTeamCount.data})):ev.createElement(xS.g4,{className:ek.cx.mb4.$,animationType:xS.F4.SHIMMER});return ev.createElement("div",{className:UF},ev.createElement(UM,{org:e}),ev.createElement("span",{className:ek.cx.mt4.$},a),e.community_profile_handle?ev.createElement("span",{className:ek.cx.mt2.$},ev.createElement(UP,{handle:e.community_profile_handle})):null,ev.createElement("span",{className:ek.cx.mt32.$},ev.createElement(UB,{orgId:e.id})))}function UV({org:e}){var t;let a=(0,dV.mU)(dH.EnterpriseOrgMetaContentView,{orgId:e.id});return ev.createElement(UU,{orgStats:(null==(t=a.data)?void 0:t.org)??null,org:e})}function UW({org:e}){var t;let a=(0,dV.mU)(dH.NonEnterpriseOrgMetaContentView,{orgId:e.id});return ev.createElement(UU,{orgStats:(null==(t=a.data)?void 0:t.org)??null,org:e})}function UG({org:e}){return ev.createElement("div",{className:UF},ev.createElement(UM,{org:e}),e.community_profile_handle?ev.createElement("span",{className:ek.cx.mt4.$},ev.createElement(UP,{handle:e.community_profile_handle})):null,ev.createElement("span",{className:ek.cx.mt4.$},ev.createElement(oc.x,{fontSize:11,color:"secondary"},ev.createElement(eq.Tx,{id:"payments_modal.guest_permission_disclaimer"})," ",ev.createElement("a",{className:UD.W,href:"https://help.figma.com/hc/articles/360039957374",target:"_blank",rel:"noopener"},ev.createElement(eq.Tx,{id:"org_home_view_meta.learn_more"})))))}var Uj=a(553667);let UH="org_plugins_view--resourcesGrid--f9Ngl profile_resources_grid--_resourcesGridTemplateColumns--19JO6",U$="org_plugins_view--container--RRqE9",Uz="org_plugins_view--emptyState--Ip--m tiles_view--emptyState--uQFY5 text--fontPos11--2LvXf text--_fontBase--QdLsd";function UK(){let e=(0,w8.Fj)(),t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.publishedPlugins);ev.useEffect(()=>{t(ne.kX())},[t]);let r=function(){if(!e)return[];let t=(0,n8.hi)((0,n8.pJ)(Object.values(a)),e.id);return Object.keys(t).map(e=>t[e])}();return e&&0!==r.length?ev.createElement("div",{className:U$},ev.createElement("div",{className:UH},r.map((e,t)=>ev.createElement(ad.CL,{isPublic:!1,pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,viewContext:"OrgPluginsView",innerText:(0,eq.t)("org_view.plugin_tile"),trackingProperties:{pluginId:e.id,position:t},dropdown:ev.createElement(Uj.Z,{resource:e})})),ev.createElement(ad.Ur,{numResources:r.length}))):ev.createElement("div",{className:Uz},ev.createElement(eq.Tx,{id:"org_view.private_plugins_will_appear_here"}))}a(79875),(eu||(eu={})).filter=function(e,t){return"loaded"!==e.status?e:(0,dV.wl)(e.data.filter(t))};var UZ=a(716221),Uq=((ee=Uq||{}).Medium="Medium",ee.Large="Large",ee);function UY(e){let t;if(e.isLoading)return ev.createElement("div",{className:"tile_grid--loadingContainer--wlsRF"},ev.createElement(ax.TK,null));let a=!e.children||Array.isArray(e.children)&&!e.children.length;return a?ev.createElement("div",{className:"tile_grid--emptyContainer--xuQOR text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.emptyView):(t="Large"===e.tileSize?"tile_grid--gridLarge--ffG9b":"tile_grid--gridMedium--t0ipw",ev.createElement("div",{className:tQ()("tile_grid--gridContainer--fIwRt",e.containerClassName)},ev.createElement("div",{className:t},e.children)))}var UJ=a(814527);let UQ=a(653270);function UX(e){return ev.createElement("div",{className:UJ.Zu},ev.createElement("div",{className:UJ.Rx},ev.createElement(eq.Tx,{id:"team_tile.no_teams.title"})),e.onCreateTeam&&ev.createElement(ev.Fragment,null,ev.createElement("p",null,ev.createElement(eq.Tx,{id:"team_tile.no_teams.info"})),ev.createElement(eA.VM,{className:UJ.tq,onClick:e.onCreateTeam},ev.createElement(eD.n,{svg:UQ,className:UJ.q8}),ev.createElement(eq.Tx,{id:"team_tile.no_teams.create_team_button"}))))}var U0=a(636204);function U1(e){let t=[...e.orgTeams.data||[]],a=t.length<nx.DD;(0,nx.aV)(t,"name",{useExpensiveNaturalComparison:a});let r="loaded"!==e.orgTeams.status,[n,i]=ev.useState(void 0),l=(0,eb.I0)(),s=(e,t)=>{e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};i(t.id),l(od.SP({type:vo.iu,data:{teamId:t.id,targetRect:a}}))};return ev.createElement(UY,{isLoading:r,emptyView:e.emptyView??ev.createElement(UX,{onCreateTeam:e.onCreateTeam})},t.map(t=>ev.createElement(U0.m6,{key:t.id,team:t,onJoin:e.onJoin,onLeave:e.onLeave,onJoinRequest:e.onJoinRequest,onBypassRequest:e.onBypassRequest,onWithdrawRequestForTeam:e.onWithdrawRequestForTeam,setSelectedTeamId:i,selectedTeamId:n,onContextMenu:s})))}var U2=a(13423),U3=a(164932);function U4(e){let[t,a]=ev.useState(!1),r=(0,eb.I0)(),n=(0,eb.v9)(e=>e.selectedView),i=(0,_t.Mn)(),l=e.team,s=()=>{(0,eH.H)("file_browser_team_click",l.id,i,{selectedView:"recentsAndSharing"===n.view?n.tab||EN.D.RECENTLY_VIEWED:n.view,viewMode:"grid"}),r(od.Hg({clickedResourceType:"team",resourceIdOrKey:l.id})),r(od.fv({view:"team",teamId:l.id}))},o=e.selectedTeamId===e.team.id,c=t||o;return ev.createElement(U2.R,{name:l.name,description:l.description,headerLeft:ev.createElement(ds.Kn,{className:UJ.l5,entity:l,size:40}),headerRight:ev.createElement(U3.O,{team:l,onLeave:e.onLeave,isCardActive:c}),onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&s()},canView:!0,isCardActive:c,isSelected:o,onMouseOver:()=>{a(!0)},onMouseOut:()=>{a(!1)}})}function U8(e){let t=e.teams;(0,nx.aV)(t,"name");let[a,r]=ev.useState(void 0);return ev.createElement(UY,{emptyView:ev.createElement(eq.Tx,{id:"team_tile.guest.no_teams.info",orgName:e.orgName})},t.map(t=>ev.createElement(U4,{key:t.id,team:t,onLeave:e.onLeave,selectedTeamId:a,setSelectedTeamId:r})))}class U5 extends ev.PureComponent{constructor(){super(...arguments),this.onJoin=e=>(0,wZ.FI)(this.props.dispatch,e)(),this.onLeave=e=>{this.props.dispatch(ig.K4({type:x0.Y,data:{teamId:e.id}}))},this.onJoinRequest=e=>{this.props.dispatch(ig.K4({type:x2.M_,data:{team:e}}))},this.onBypassRequest=e=>(0,wZ.FI)(this.props.dispatch,e,uq.V.OWNER)(),this.onWithdrawRequestForTeam=e=>{let t=this.props.teamRoleRequests[e.id].id;this.props.dispatch(x1.pn({requestId:t}))},this.onCreateTeam=()=>{var e,t,a;let r={licenseGroupId:(null==(t=null==(e=this.props.workspace)?void 0:e.mirroringLicenseGroup)?void 0:t.id)??bO.u,workspaceId:(null==(a=this.props.workspace)?void 0:a.id)??wO.F};this.props.dispatch(ig.K4({type:vS.d3,data:r}))},this.onLeaveGuestTeam=e=>{this.props.dispatch(ig.K4({type:x0.Y,data:{teamId:e.id}}))}}render(){var e;let t=this.props.currentOrgUser&&this.props.currentOrgUser.permission===ao.Gu.GUEST,a=Object.keys((0,UZ.E)(this.props.roles.byTeamId,this.props.user.id)).filter(e=>this.props.teams[e]);if(t){let{orgId:e}=this.props,t=a.map(e=>this.props.teams[e]).filter(t=>t.org_id===e);return ev.createElement(U8,{teams:t,onLeave:this.onLeaveGuestTeam,orgName:this.props.orgName})}let r=(null==(e=this.props.workspace)?void 0:e.id)??wO.F,n=eu.filter(this.props.orgTeams,e=>{if(this.props.onlyJoinedTeams)return(0,uR.hasViewerRoleAccessOnTeam)(e.id,this.props.permissionsState);if(r===wO.F){if(e.workspace_id)return!1}else if(r&&e.workspace_id!==r)return!1;return(0,xX.Q5)(e,this.props.permissionsState,this.props.orgId)});return ev.createElement(U1,{orgTeams:n,onJoin:this.onJoin,onJoinRequest:this.onJoinRequest,onWithdrawRequestForTeam:this.onWithdrawRequestForTeam,onLeave:this.onLeave,onBypassRequest:this.onBypassRequest,onCreateTeam:this.props.canCreateTeam?this.onCreateTeam:void 0,emptyView:r&&!this.props.canCreateTeam?(0,eq.t)("team_tile.no_teams.empty_workspace"):void 0})}}U5.displayName="OrgTeamsViewContent";let U9=(0,r9.cn)(()=>(0,dV.wl)([])),U6=(0,eb.$j)(e=>({teamRoleRequests:e.teamRoleRequests,currentOrgUser:e.orgUsersByOrgId.orgUsers[e.currentUserOrgId][e.user.id],teams:e.teams,user:e.user,roles:e.roles,org:e.orgById[e.currentUserOrgId],orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name,permissionsState:(0,uR.getPermissionsStateMemoized)(e)}))(U5);function U7(e){var t;let a=(0,uL.Ng)(),r=(0,uR.usePermissionsState)(),n=!(0,uR.canMemberOrg)((null==a?void 0:a.id)??null,r),i=(0,r9.Dv)(n?U9:wQ),{canCreateTeam:l}=(0,gv.G3)(a,null==(t=e.workspace)?void 0:t.id);return ev.createElement(U6,{orgTeams:i,workspace:e.workspace,canCreateTeam:l,onlyJoinedTeams:e.onlyJoinedTeams})}let Ve=e=>{switch(e){case Ex.i.HOME:return(0,eq.t)("org_view.overview");case Ex.i.YOUR_TEAMS:return(0,eq.t)("org_view.your_teams");case Ex.i.PLUGINS:return(0,eq.t)("org_view.plugins");case Ex.i.WIDGETS:return(0,eq.t)("org_view.widgets");default:return null}};function Vt(e){let t=(0,eb.I0)(),a=(0,uL.Ng)(),r=e=>{t(od.fv({view:"org",orgId:(null==a?void 0:a.id)??"",orgViewTab:e}))},n=Object.keys(Ex.i).reduce((t,a)=>{let n=Ve(Ex.i[a]);return null!=n&&t.push(ev.createElement(EB.y,{tab:Ex.i[a],onClick:r,isSelected:e.selectedTab===Ex.i[a],tabName:n,key:a})),t},[]),i=ev.createElement(EB.v,{tabs:n});return ev.createElement(ol.nY,{leftSide:i,rightSide:[]})}let Va=class extends ev.Component{componentDidMount(){this.props.dispatch(ne.hL())}renderEmpty(){return ev.createElement("div",{className:Uz},ev.createElement(eq.Tx,{id:"org_view.private_widgets_will_appear_here"}))}getPrivateWidgets(){if(!this.props.orgEntity)return[];let e=(0,n8.hi)((0,n8.pJ)(Object.values(this.props.publishedWidgets)),this.props.orgEntity.id);return Object.keys(e).map(t=>e[t])}render(){let e=this.getPrivateWidgets();return this.props.orgEntity&&0!==e.length?ev.createElement("div",{className:U$},ev.createElement("div",{className:UH},e.map((e,t)=>ev.createElement(cJ.$B,{key:`widget-${e.id}`,widget:e,viewContext:Va.displayName,trackingProperties:{widget:e.id,position:t}})),ev.createElement(ad.Ur,{numResources:e.length}))):this.renderEmpty()}};Va.displayName="OrgWidgetsView";let Vr=(0,eb.$j)(e=>({orgEntity:(0,nt.bX)(e),publishedWidgets:e.publishedWidgets}))(Va);var Vn=a(442152),Vi=a(391320);function Vl(e,t){let a=Object.keys(e),r=Object.keys(t),n=a.filter(a=>!r.includes(a)||e[a]!==t[a]);return JSON.stringify(Object.fromEntries(n.map(t=>[t,e[t]])))}function Vs(e){var t;let a,r,n;let{workspace:i,teamCount:l,isSelected:s,onSelect:o}=e,c=(0,eb.v9)(e=>e.currentUserOrgId),[d,m]=ev.useState(!1),u=(0,Vn.tm)(),_=(null==(t=i.colorConfig)?void 0:t.colors)??[],p=e.isMainWorkspace,g=p?_[0]:void 0,E=i.description??void 0;g&&(g=(0,oU.vh)(i.id,g,u()));let h=(0,eb.I0)(),f=()=>{h(od.Hg({clickedResourceType:"workspace",resourceIdOrKey:i.id})),h(od.fv({view:"workspace",subView:ES.ep.DIRECTORY,workspaceId:i.id,selectedTab:ES.rE.TEAMS}))},v=ev.useCallback((e,t,a)=>{if(i){let r={workspace:{id:i.id,name:i.name??"",imgUrl:i.imgUrl},entrypoint:"workspace_tile",sectionId:a,favoriteId:t};e?h(hd.lk(r)):h(hd.r_(r))}},[h,i]);g&&((0,oU.Vg)(g)?(a="org_page_view--workspaceTileTitleColorForDarkBackground--sjSkw",r="org_page_view--secondaryTextColorOnDarkBackground--vzWNx",n="org_page_view--favoriteStarContainerForDarkBackground--SG7r9 workspace_page_header--favoriteStarContainerForDarkBackground--KXzd9"):(a="org_page_view--workspaceTileTitleColorForLightBackground--EOOIZ",r="org_page_view--secondaryTextColorOnLightBackground--OxWVz",n="org_page_view--favoriteStarContainerForLightBackground--LfU2S workspace_page_header--favoriteStarContainerForLightBackground--GXMcy"));let b=ev.createElement(ds.zf,{entity:i,size:40}),y=(0,dV.Wg)(i.memberCount),w=ev.createElement("div",{className:tQ()(ek.cx.flex.flexRow.itemsCenter.$,r)},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"org_view.license_group.member_count",memberCount:(null==y?void 0:y.data)??"0"}),ev.createElement("span",null,"\xa0\xb7\xa0"),ev.createElement(eq.Tx,{id:"org_view.license_group.team_count",teamCount:l}))),T=ev.createElement(h_.M,{setFavorite:v,favoriteType:ao.IK.WORKSPACE,resourceId:i.id,size:h_.v.MEDIUM,containerStyle:tQ()("org_page_view--favoriteStarContainer--p8-GC button_styles--button--Ix6rT",n),noHoverState:!0,orgId:c,parentBackgroundColor:g}),x=(0,eT.BZ)().workspace_privacy_view&&i.orgAccess===ao.Zn.SECRET?ev.createElement("div",{className:ek.cx.ml4.$,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,eq.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ev.createElement(t3.JO,{icon:"lock-16"})):null;return ev.createElement(U2.R,{backgroundColor:g,description:E,descriptionClassName:r,name:ev.createElement("span",{className:a},i.name),titleSubtitleRight:x,headerLeft:b,footerLeft:w,headerRight:T,onClick:e=>{1===e.detail?o():2===e.detail&&f()},canView:!0,onMouseOver:()=>{m(!0)},onMouseOut:()=>{m(!1)},isCardActive:d||s,isSelected:s})}function Vo(e){let{unassignedTeams:t,isSelected:a,onSelect:r}=e,[n,i]=ev.useState(!1),l=(0,eb.I0)(),s=()=>{l(od.Hg({clickedResourceType:"workspace"})),l(od.fv({view:"workspace",subView:ES.ep.DIRECTORY,workspaceId:null,selectedTab:ES.rE.TEAMS}))},o=ev.createElement(eq.Tx,{id:"org_view.license_group.unassigned_tile.name"}),c=ev.createElement(ds.uv,{teams:t,size:40,isHovered:n}),d=ev.createElement("span",null,"\xa0"),m=ev.createElement(eq.Tx,{id:"org_view.license_group.unassigned_tile.description",teamCount:t.length});return ev.createElement(U2.R,{name:o,headerLeft:c,headerRight:d,footerLeft:m,onClick:e=>{1===e.detail?r():2===e.detail&&s()},canView:!0,onMouseOver:()=>{i(!0)},onMouseOut:()=>{i(!1)},isCardActive:n||a,isSelected:a})}function Vc(){var e,t,a,r;let[n,i]=ev.useState(null),l=(0,eb.I0)(),s=(0,uR.usePermissionsState)(),o=(0,eb.v9)(e=>e.currentUserOrgId),c=(0,eb.v9)(e=>e.loadingState),d=(0,uL.Ng)(),m=(0,gv.L3)(o),{canCreateTeam:u}=(0,gv.G3)(d,void 0),_=(0,dV.mU)(dH.WorkspacesDirectoryView,{orgId:o}),p="loaded"!==_.status,g=(null==(t=null==(e=_.data)?void 0:e.org)?void 0:t.workspaces)??[],E=p?[]:[...g],h=(0,dV.mU)(dH.OrgTeamSummariesView,{orgId:o}),f="loaded"!==h.status,v=(null==(r=null==(a=h.data)?void 0:a.org)?void 0:r.teamsWithSummary)??[],b=v.map(e=>e.team),y=(0,eT.BZ)().org_workspaces_view_livegraph;ev.useEffect(()=>{(0,dn.l3)(c,(0,bE.pv)(o??""))||l(CG.U2({}))},[l,c,o]);let w=(0,r9.Dv)(wJ),T="loaded"!==w.status,{workspaceTeamCountsLegacy:x,unassignedTeamsLegacy:N}=ev.useMemo(()=>{let e=(w.data||[]).filter(e=>(0,xX.Q5)(e,s,o)),t=(0,bE.yl)(e),a=e.filter(e=>null===e.workspace_id||void 0===e.workspace_id);return{workspaceTeamCountsLegacy:t,unassignedTeamsLegacy:a}},[s,o,w]),{workspaceTeamCountsLiveGraph:C,unassignedTeamsLiveGraph:S}=ev.useMemo(()=>{let e=(0,bE.yl)(b.map(e=>({workspace_id:e.workspaceId}))),t=b.filter(e=>null==e.workspaceId);return{workspaceTeamCountsLiveGraph:e,unassignedTeamsLiveGraph:t}},[b]),k=y?C:x,I=y?S:N,L=(0,eT.BZ)().org_view_livegraph_comparator&&!f&&!T;ev.useEffect(()=>{L&&function({workspaceTeamCountsLiveGraph:e,workspaceTeamCountsLegacy:t,orgId:a,teamsWithSummary:r,orgTeams:n}){try{if((0,Vi.qt)(e,t))(0,eK.L9)("org_workspace_team_count_mismatch",{orgId:a});else{let i=r.map(e=>e.id).sort(),l=n.map(e=>e.id).sort(),s=i.filter(e=>!l.includes(e)),o=l.filter(e=>!i.includes(e)),c=Vl(e,t),d=Vl(t,e);(0,eK.L9)("org_workspace_team_count_mismatch",{orgId:a,liveGraphWorkspaceTeamCounts:c,legacyWorkspaceTeamCounts:d,liveGraphOnlyIds:s,legacyOnlyIds:o})}}catch(e){console.error(e)}}({workspaceTeamCountsLiveGraph:C,workspaceTeamCountsLegacy:x,orgId:o,teamsWithSummary:b,orgTeams:w.data})},[L]),(0,nx.aV)(E,"name");let R=E.find(e=>e.id===m.data),A=E.map(e=>{if(e.id!==(null==R?void 0:R.id))return ev.createElement(Vs,{key:e.id,workspace:e,teamCount:k[e.id]??0,isSelected:(null==n?void 0:n.type)==="workspace"&&n.workspaceId===e.id,onSelect:()=>{i({type:"workspace",workspaceId:e.id})}})});if(I.length>0&&A.push(ev.createElement(Vo,{key:"unassigned",unassignedTeams:I,isSelected:(null==n?void 0:n.type)==="unassigned-teams",onSelect:()=>{i({type:"unassigned-teams"})}})),y?p||f:p||T)return ev.createElement(UY,{isLoading:!0});let O=R&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:ek.cx.pl32.$},ev.createElement(oc.x,{color:"secondary",fontSize:11},ev.createElement(eq.Tx,{id:"org_view.your_workspace"}))),ev.createElement(UY,{emptyView:ev.createElement(ev.Fragment,null),tileSize:Uq.Medium},ev.createElement(Vs,{key:R.id,workspace:R,teamCount:k[R.id]??0,isMainWorkspace:!0,isSelected:(null==n?void 0:n.type)==="workspace"&&n.workspaceId===R.id,onSelect:()=>{i({type:"workspace",workspaceId:R.id})}})));return ev.createElement(ev.Fragment,null,O,R&&ev.createElement("div",{className:ek.cx.pl32.$},ev.createElement(oc.x,{color:"secondary",fontSize:11},ev.createElement(eq.Tx,{id:"org_view.other_workspaces"}))),ev.createElement(UY,{emptyView:ev.createElement(UX,{onCreateTeam:u?()=>{l(ig.K4({type:vS.d3,data:{}}))}:void 0}),tileSize:Uq.Medium},A))}let Vd=(e,t)=>({canMemberOrg:(0,uR.canMemberOrg)(e.currentUserOrgId,(0,uR.getPermissionsState)(e)),org:e.orgById[t],isEnterpriseOrgDirectoryEnabled:(0,oC.Hd)(e),currentOrgUser:e.user&&e.currentUserOrgId?e.orgUsersByOrgId.orgUsers[e.currentUserOrgId][e.user.id]:null});function Vm(e){let{canMemberOrg:t,org:a,isEnterpriseOrgDirectoryEnabled:r,currentOrgUser:n}=(0,Uk.c)(t=>Vd(t,e.orgId)),i=(0,eb.I0)();ev.useEffect(()=>{t&&(i(wZ.U2({includeMemberCount:!0,includeTopMembers:!1,includeProjectCount:!0})),i(C3.v5({orgId:e.orgId})))},[t,e.orgId,i]);let l=null;switch(e.selectedTab){case Ex.i.WIDGETS:l=ev.createElement(Vr,null);break;case Ex.i.PLUGINS:l=ev.createElement(UK,null);break;case Ex.i.YOUR_TEAMS:l=ev.createElement(U7,{onlyJoinedTeams:!0});break;case Ex.i.HOME:case Ex.i.FONTS:case Ex.i.LIBRARIES:l=r?ev.createElement(Vc,null):ev.createElement(U7,null)}let s=n&&n.permission===ao.Gu.GUEST,o=null;o=s?ev.createElement(UG,{org:a}):r?ev.createElement(UV,{org:a}):ev.createElement(UW,{org:a});let c=ev.createElement(Vt,{selectedTab:e.selectedTab});return ev.createElement(da.S,{banner:ev.createElement(UL,null),viewbar:c,content:l,metaContent:o})}var Vu=a(760527);let V_=a(565735);function Vp(){return ey.YO||!(0,eT.BZ)().desktop_get_app_navbar?null:ev.createElement(Ub.J,{action:{kind:Uv.G.CUSTOM,key:Uv.y.GET_DESKTOP_APP,element:ev.createElement("button",{onClick:()=>{ew.default.redirect(`/download/desktop/${eN.ZP.mac?"mac":"win"}`,"_blank")},"data-onboarding-key":"get_desktop_app",className:Vu.JB},ev.createElement(eD.n,{className:Vu.qv,svg:V_}),ev.createElement(eq.Tx,{id:"banner.desktop_download_button"}))}})}function Vg(e,t,a){let r=(0,_B.JX)(),n=(0,eb.I0)(),i=(0,lR.dO)();return l=>{n(u9.ae({state:r,editorType:e,team:void 0,from:t,openNewFileIn:(0,ly.v8)(l)?_n.JD.NEW_TAB:_n.JD.SAME_TAB,callback:e=>{(0,eH.T6)({userId:i,fileKey:e},a)}}))}}var VE=a(346150);let Vh=a(704062);function Vf(e){let t=Vg(ao.gg.DESIGN,e.from,"toolbar_design_created");return ev.createElement(Ub.J,{action:{kind:Uv.G.ICON_TEXT_BUTTON,key:Uv.y.NEW_FILE,displayText:(0,eq.t)("file_browser.tool_bar.new_design_file"),onClick:t,icon:Vh,styleClass:VE.bT,svgStyleClass:VE.j3,dataTestId:"new-design-file-button"}})}var Vv=a(35794);let Vb=a(704062);function Vy(e){let t=Vg(ao.gg.WHITEBOARD,e.from,"toolbar_figjam_created");return ev.createElement(Ub.J,{action:{kind:Uv.G.ICON_TEXT_BUTTON,key:Uv.y.NEW_WHITEBOARD_FILE,displayText:(0,eq.t)("file_browser.tool_bar.new_figjam_board"),onClick:t,icon:Vb,styleClass:VE.bI,svgStyleClass:VE.j3,dataTestId:"new-whiteboard-file-button"}})}function Vw(e){let t;let a=(0,dV.mU)(dH.MoveDraftsTeamData,{orgId:null});return"loaded"!==a.status?null:(t=a.data.currentUser.teamEditRoles.map(e=>e.team).filter(e=>!!(e&&e.projects&&!e.deletedAt&&e.projects.length>0))).length?ev.createElement(e3.Ui,{name:e.dropdownType===Vv.AD.DESIGN?"New File Creation Dropdown Design":"New File Creation Dropdown FigJam",properties:{userId:a.data.currentUser.id,numberOfEditableProjects:t.length,fileCreationDefaultsDropdownType:e.dropdownType}},ev.createElement(Vv.L9,{buttonText:e.dropdownType===Vv.AD.DESIGN?(0,eq.t)("file_browser.tool_bar.new_design_file"):(0,eq.t)("file_browser.tool_bar.new_figjam_board"),dataTestId:e.dataTestId,teamsWithEditableProjects:t,dropdownType:e.dropdownType,hideOnMobile:!0})):e.dropdownType===Vv.AD.DESIGN?ev.createElement(Vf,{key:"newDesignAction",from:_n.L7.FILE_BROWSER_TOPBAR_RECENTS}):ev.createElement(Vy,{key:"newFigjamAction",from:_n.L7.FILE_BROWSER_TOPBAR_RECENTS})}function VT(e){return Vg("slides",e.from,"toolbar_slides_created"),null}function Vx(){let e=(0,eb.I0)(),t=(0,lR.XU)();return ev.createElement(Ub.J,{action:{kind:Uv.G.BUTTON,key:Uv.y.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(od.fv({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,eq.t)("internal_profile.view_community_profile"),styleClass:ek.cx.colorText.$}})}a(675162),a(704062);var VN=a(439252),VC=a(65961),VS=a(925705),Vk=a(656514),VI=a(931635),VL=a(801455),VR=a(303598);let VA=e=>ev.createElement("span",{className:"unsubscribe_confirmation_modal--boldText--dNK-D"},e),VO=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=(0,lR.xJ)();return a?ev.createElement(VI.G,{tintedModalBackground:!0,headerText:(0,eq.t)("interstitial.unsubscribe_success_header")},ev.createElement("div",{className:VR.wz},ev.createElement(eq.Tx,{id:"interstitial.unsubscribe_success_subheader_with_address",emailName:VA((()=>{switch(e.policyType){case"FileCommentActivity":return(0,eq.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,eq.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,eq.t)("interstitial.feed_weekly_digest");default:(0,eL.vE)(e.policyType)}})()),emailAddress:VA(a.email)})),ev.createElement(eA.OK,{onClick:()=>{t(ig.eI())},className:"unsubscribe_confirmation_modal--button--j6qqT"},ev.createElement(eq.Tx,{id:"interstitial.done"})),ev.createElement("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--vmHlZ interstitial_modal--secondaryText--IC9Gu",onClick:()=>{t((0,ig.K4)({type:VL.p,data:{tab:VL.m.NOTIFICATIONS}})),t(ig.bi())}},ev.createElement(eq.Tx,{id:"interstitial.open_notifications_settings"}))):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");var VD=a(508964);let VF=e=>{let t=e.canRead,a=e.canRead&&!e.isFavorited,r=e.canRead&&e.isFavorited;return{canRead:t,canFavorite:a,canUnfavorite:r}},VM=e=>{let t=(0,ev.useMemo)(()=>e.map(e=>({prototypeId:e})),[e]),a=(0,dV.YW)(dH.PrototypeTilePermissions,t,{enabled:t.length>0}),r=!0,n=null,i={};return a.forEach(e=>{var t;if("loaded"!==e.result.status&&(r=!1),"errors"===e.result.status){n=e.result.errors;return}let a=null==(t=e.result.data)?void 0:t.prototype;if(!a)return;let l=e.args.prototypeId;i[l]=VF(a)}),{isLoaded:r,error:n,permsByPrototypeId:i}};var VP=a(334001);function VB(e){let t=e.tiles,{fileTilesByFileKey:a,repoTilesByRepoId:r,prototypeTilesByPrototypeId:n}=ev.useMemo(()=>{let e={},a={},r={};return t.forEach(t=>{var n,i,l;if(t)switch(t.type){case EA.YU.FILE:let s=null==(n=t.file)?void 0:n.key;s&&(e[s]=t);break;case EA.YU.REPO:let o=null==(i=t.repo)?void 0:i.id;o&&(a[o]=t);break;case EA.YU.PROTOTYPE:let c=null==(l=t.prototype)?void 0:l.id;c&&(r[c]=t)}}),{fileTilesByFileKey:e,prototypeTilesByPrototypeId:r,repoTilesByRepoId:a}},[t]),{fileKeys:i,repoIds:l,prototypeIds:s}=ev.useMemo(()=>({fileKeys:Object.keys(a),prototypeIds:Object.keys(n),repoIds:Object.keys(r)}),[a,n,r]),{isLoaded:o,permsByFileKey:c}=(0,VD.$g)(i),{isLoaded:d,permsByPrototypeId:m}=VM(s),{isLoaded:u,permsByRepoId:_}=(0,VP.ZO)(l);return i.forEach(e=>{let t=a[e];t.filePerms=c[e]}),s.forEach(e=>{let t=n[e];t.prototypePerms=m[e]}),l.forEach(e=>{let t=r[e];t.repoPerms=_[e]}),ev.createElement(hC,{tileActions:e.tileActions,sortFilterOptions:e.sortFilterOptions,newFileTile:e.newFileTile,emptyStateText:e.emptyStateText,hideSorter:e.hideSorter,isFolder:e.isFolder,sharedWithYouFilters:e.sharedWithYouFilters,tiles:t,permsByFileKey:c,permsByRepoId:_,permsByPrototypeId:m,useLGPerms:!0,areLGPermsLoaded:o&&d&&u})}class VU extends ev.Component{constructor(e){super(e),this.accountModalTabViewToTab=e=>{switch(e){case di.l$.ACCOUNT:return VL.m.ACCOUNT;case di.l$.COMMUNITY:return VL.m.COMMUNITY;case di.l$.NOTIFICATIONS:return VL.m.NOTIFICATIONS}},this.manageNotifications=()=>{this.props.dispatch((0,ig.K4)({type:VL.p,data:{tab:this.accountModalTabViewToTab(di.l$.NOTIFICATIONS)}})),this.props.dispatch(r7.R.dequeue({}))},this.tileActions={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0},this.state={trackedScroll:!1}}componentDidMount(){let e=(0,uP.BA)("upgrade_modal_type"),t=(0,_K.xm)(e||"");if(null!==t){(0,uP.Zo)("upgrade_modal_type");let e=this.props.currentOrgUser;e&&(0,_q.t5)(e,t)&&this.props.dispatch((0,ig.K4)({type:RC.W,data:{orgId:this.props.currentUserOrgId,orgUser:e,entryPoint:t===_K.xi.DEV_MODE?Vk.s.DowngradeEmail:"recents",licenseType:t,trackForDowngradeNotificationExperiment:!0}}))}this.loadModalsIfNeeded(void 0)}componentDidUpdate(e,t,a){this.loadModalsIfNeeded(e)}loadModalsIfNeeded(e){if(this.props.accountModalTab&&this.props.accountModalTab!==(null==e?void 0:e.accountModalTab))this.props.dispatch((0,ig.K4)({type:VL.p,data:{tab:this.accountModalTabViewToTab(this.props.accountModalTab)}})),this.props.dispatch(od.fv({view:"recentFiles"}));else if(this.props.universalPublishingModal&&this.props.universalPublishingModal!==(null==e?void 0:e.universalPublishingModal))this.props.dispatch((0,ig.K4)({type:o5.W,data:{source:e4.M4.RECENT_FILES_DIRECT_LINK}})),this.props.dispatch(od.fv({view:"recentFiles"}));else if(this.props.emailPolicyToUnsubscribeFrom&&this.props.emailPolicyToUnsubscribeFrom!==(null==e?void 0:e.emailPolicyToUnsubscribeFrom)){let e=this.props.emailPolicyToUnsubscribeFrom;rI.ZP.put("/api/user_communication_preference/single_policy",{channel_type:"email",policy_type:e,policy_setting:"none"}).then(()=>{this.props.dispatch((0,ig.K4)({type:VO,data:{policyType:e}}))}).catch(e=>{this.manageNotifications()}),this.props.dispatch(od.fv({view:"recentFiles"}))}}render(){let{sortFilterOptions:e,tiles:t}=this.props,a=eN.ZP.mobile||eN.ZP.tablet?(0,eq.t)("file_browser.tool_bar.recently_viewed_empty_state"):"",r="loaded"===t.status;return ev.createElement(hI.h,{loadingElementId:"loading-content-pane",loaded:r,loadingElementClassName:ek.cx.pr32.$},ev.createElement(VB,{tiles:t.data,tileActions:this.tileActions,sortFilterOptions:e,newFileTile:!0,emptyStateText:a,hideSorter:!0}),ev.createElement(ED.ap,null))}}VU.displayName="RecentFilesPageView";let VV=(0,eb.$j)(()=>{let e=(0,ER.ws)(e=>e.transform(e=>e.map(EA.dX))),t=(0,ER.ws)((e,t)=>e.transform(e=>e.map(EA.Rc))),a=(0,ER.ws)((e,t)=>e.map(e=>(0,EA.mA)(e,t))),r=(0,ER.ws)(e=>Object.values(e).map(EA.jp)),n=(0,ER.ws)(e=>({tileSortFilterConfig:e.recentsAndSharing.recents,sortKeys:[EO.BO.NAME,EO.BO.CREATED_AT,EO.BO.ACCESSED_AT]})),i=(0,ER.ws)(VS.IE.merge);return(l,s)=>{let o=e(s.recentFiles),c=t(VS.IE.fromMemoized(s.recentPrototypes),(0,uR.getPermissionsStateMemoized)(l));return{tiles:i([o,c],a(l.recentRepos,l.selectedBranchKeyByRepoId),r(s.offlineFiles)),sortFilterOptions:n(l.tileSortFilterStateByView),dropdownShown:l.dropdownShown,...(0,EX.gL)(l),hasBanner:fh(l,ao._g.FOLDER,null,null),trackScroll:()=>(0,eH.iP)("Recents Page Scrolled",l)}}})(VU);function VW(e){let t=(0,eb.v9)(e=>e.currentUserOrgId),a=(0,eT.BZ)().livegraph_recent_files_full_read?VN.w4:VN.AA,r=a(t||null,VC.Plq.CAN_VIEW_PROTOTYPE,!0),n=(0,VN.w4)(t||null,VC.Plq.CAN_VIEW_PROTOTYPE,!!((0,eT.BZ)().recent_files_lg||(0,eT.BZ)().livegraph_recent_files_full_read)),[i,l]=ev.useState(!1);if("loaded"===r.status&&"loaded"===n.status&&!i){l(!0);try{let e=n.data.filter(e=>null===e.file_repo_id&&e.parent_org_id===(t||null)),a=new Set(["hub_file","realtime_token","thumbnail_url","thumbnail_url_override","checkpoint_token","is_trashed","track_tags.is_templated","track_tags.default_key","track_tags.migrated_from_drafts_folder_id","track_tags.source.source"]),i=new Set(["accessed_at","created_at","last_published_at","touched_at","updated_at"]),l=(0,hL.o1)(r.data,e,a,"key",i);(0,eK.L9)("Recent Files: Sinatra LG diffs",{orgId:t,differences:JSON.stringify(l)})}catch(e){(0,eK.L9)("Recent Files: Sinatra LG diffs",{orgId:t,error:JSON.stringify(e)})}}let s=(0,VN.Y8)(t||null,VC.Plq.CAN_VIEW_PROTOTYPE),o=(0,lR.dO)(),c=(0,_B.JX)(),d=(0,EJ.V_)(),m=(0,u6.SZ)();return ev.createElement(VV,{recentFiles:r,recentPrototypes:s,accountModalTab:e.accountModalTab,universalPublishingModal:e.universalPublishingModal,emailPolicyToUnsubscribeFrom:e.emailPolicyToUnsubscribeFrom,userId:o,newFileState:c,currentOrgUser:d,offlineFiles:m})}let VG=new class{constructor(){this.SharerFilterOptionsSchemaValidator=(0,ry.PP)(),this.PlanFilterOptionsSchemaValidator=(0,ry.PP)()}getSharerFilterOptions(e){return this.SharerFilterOptionsSchemaValidator.validate(async({xr:t})=>{let a=await t.get(`/api/shared_with_you/sharer_filter_options?resource_type[]=${e.resource_type}`);return a})}getPlanFilterOptions(e){return this.PlanFilterOptionsSchemaValidator.validate(async({xr:t})=>{let a=await t.get(`/api/shared_with_you/plan_filter_options?resource_type[]=${e.resource_type}`);return a})}};function Vj(){return{"":{label:(0,eq.t)("shared_with_you.filters.all_organizations")}}}let VH=()=>{var e;let t=(0,lR.dO)(),a=(0,eb.v9)(e=>e.authedUsers),r=(t?null==(e=a.byId[t])?void 0:e.plans:[])??[],n=r.map(e=>({label:e.name,plan_id:e.plan_id,plan_type:e.is_org?"org":"team"}));return n.reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...Vj()})},V$=rv.t1.Query({fetch:async e=>{let t=await VG.getPlanFilterOptions({resource_type:e}),a={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(a[e.plan_id]=t)}),{...Vj(),...a}}}),Vz=e=>{let t=e.join("&resource_type[]="),[a]=(0,rv.aM)(V$(t));return a.data||Vj()},VK={"":"Anyone"},VZ=e=>{let[t,a]=(0,ev.useState)(VK),r=e.join("&resource_type[]=");return(0,ev.useEffect)(()=>{VG.getSharerFilterOptions({resource_type:r}).then(({data:e})=>{let t=e.meta.shared_by_filters.reduce((e,{user_id:t,label:a})=>({...e,[t]:a}),{...VK});a(t)})},[r]),t},Vq=(e,t)=>`${t}:${e}`,VY=e=>{let t=(0,eb.I0)(),a=(0,dV.mU)(dH.SharedWithYouResources,{resourceTypes:e.resourceTypes,firstPageSize:30,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null}),r=(0,ev.useCallback)(e=>{switch(e.type){case"fetchNextPage":"loaded"===a.status&&a.data.sharedWithYouResources.hasNextPage()&&a.data.sharedWithYouResources.loadNext(30);break;case"subscribe":case"unsubscribe":return;default:throw Error(`Unsupported action ${e.type}`)}},[a]),n="loaded"===a.status&&a.data.sharedWithYouResources.isLoadingNextPage,i=(0,ev.useMemo)(()=>"loaded"!==a.status?{}:a.data.sharedWithYouResources.reduce((e,a)=>{if(a.sharedWithYouFile){let r=function(e){if(!e||!e.file)return null;let{file:t,...a}=e,r=(0,hA.MB)({...t,...a,edit_url:`${window.location.origin}/file/${t.key}/${(0,dg.W0)(t.name||"")}`,client_meta:t.checkpointClientMeta}),n=(0,hA.MB)({type:EA.YU.FILE,file:r});return n.filePerms=(0,VD.CB)(t),{file:r,tile:n}}(a.sharedWithYouFile);if(!r)return e;e[Vq(a.id,"file")]={resourceKey:Vq(a.id,"file"),tile:r.tile,actions:{},subscribed:!0},(0,eT.BZ)().shared_with_you_push_to_redux&&t(EK.gz({file:r.file}))}else if(a.sharedWithYouFolder){let{folder:t,...r}=a.sharedWithYouFolder;if(null==t)return e;let n=(0,hA.MB)({...t,...r}),i=(0,hA.MB)({type:EA.YU.PROJECT,folder:n}),l=Vq(a.id,"folder");e[l]={resourceKey:l,tile:i,actions:{},subscribed:!0}}else if(a.sharedWithYouRepo){let r=function(e){var t;let{repo:a,...r}=e;if(null===a)return null;let{branches:n,...i}=a,l=(null==(t=null==n?void 0:n.filter(e=>null!=e))?void 0:t.map(e=>(0,hA.MB)({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${(0,dg.W0)(e.name||"")}`:"",client_meta:e.checkpointClientMeta})))??[],s=(0,hA.MB)({...i,...r}),o=(0,hA.MB)({type:EA.YU.REPO,repo:s,branches:l,selectedBranchKey:""});return o.repoPerms=(0,VP.au)(a),{repo:s,branches:l,tile:o}}(a.sharedWithYouRepo);if(!r)return e;let n=Vq(a.id,"file_repo");e[n]={resourceKey:n,tile:r.tile,actions:{},subscribed:!0},(0,eT.BZ)().shared_with_you_push_to_redux&&(t(E6.qV({repos:[r.repo]})),t(EK.qV({files:r.branches})))}else if(a.sharedWithYouPrototype){let t=function(e){let{prototype:t,...a}=e;if(null==t)return null;let r=(0,hA.MB)({...t,...a}),n=(0,hA.MB)({type:EA.YU.PROTOTYPE,prototype:r});return n.prototypePerms=VF(t),n}(a.sharedWithYouPrototype);if(!t)return e;let r=Vq(a.id,"prototype");e[r]={resourceKey:r,tile:t,actions:{},subscribed:!0}}return e},{}),[t,a]),l={data:i,errors:a.errors,status:a.status,isFetchingNextPage:n};return[l,r]};function VJ(){var e,t;let a=(0,o8.A6)(),r=(0,eb.v9)(e=>e.tileSortFilterStateByView),n="recentsAndSharing"===a.view?r.recentsAndSharing.sharedFiles:r.sharedWithYou,i=VZ(["file","file_repo","prototype"]),l=Vz(["file","file_repo","prototype"]),s={tileSortFilterConfig:n,sortKeys:[EO.BO.SHARED_AT]},o=e=>{switch(e){case EO.$Q.DESIGN:return"design";case EO.$Q.FIGJAM:return"whiteboard";case EO.$Q.PROTOTYPE:return"prototype";default:return null}},c=ev.useMemo(()=>{var e,t;return{resourceTypes:["file","file_repo","prototype"],sharedBy:n.filters.sharedBy??"",planId:(null==(e=n.filters.plan)?void 0:e.planId)??"",planType:(null==(t=n.filters.plan)?void 0:t.planType)??"",fileType:o(n.filters.fileType)??"",sortOrder:n.sort.dir===EO.qP.ASC?"asc":"desc",sortKey:(0,EO.go)(n.sort.key)??"shared_at"}},[n.filters.sharedBy,null==(e=n.filters.plan)?void 0:e.planId,null==(t=n.filters.plan)?void 0:t.planType,n.filters.fileType,n.sort.dir,n.sort.key]),[d,m]=VY(c),u=(0,ev.useMemo)(()=>d.data??{},[d.data]),_=(0,ev.useMemo)(()=>Object.values(u).map(e=>{let t=e.tile;return(t.type===EA.YU.FILE||t.type===EA.YU.REPO)&&(t.renameCallbacks={onBeginRename:()=>{t.type===EA.YU.FILE?t.file.appData={isRenaming:!0}:t.type===EA.YU.REPO&&(t.repo.appData={isRenaming:!0})},onStopRename:e=>{t.type===EA.YU.FILE?(t.file.appData={isRenaming:!1},t.file.name=e??t.file.name):t.type===EA.YU.REPO&&(t.repo.appData={isRenaming:!1},t.repo.name=e??t.repo.name)}}),t}),[u]),{trackPerformanceEvent:p}=(0,hV.z)("swy_files_pagination_performance","livegraph");(0,ev.useEffect)(()=>{p("fetch_end")},[p,_.length]),(0,ev.useEffect)(()=>{d.status===hO.ERRORS&&p("fetch_error",{errors:JSON.stringify(d.errors??{})})},[p,d.status,d.errors]),(0,ev.useEffect)(()=>(p("fetch_start"),()=>{p("fetch_cancel")}),[p]);let g=(0,ev.useCallback)(()=>{d.isFetchingNextPage||(p("fetch_next"),m({type:"fetchNextPage"}))},[d.isFetchingNextPage,m,p]),E=(0,ev.useCallback)((e,t)=>{var a,r,n,i;let l=Object.values(u).find(e=>e.tile===t);e.isIntersecting?null==(r=null==(a=null==l?void 0:l.actions)?void 0:a.subscribe)||r.call(a):null==(i=null==(n=null==l?void 0:l.actions)?void 0:n.unsubscribe)||i.call(n)},[u]),h=hW(_,E,{rootMargin:"100% 0px 100% 0px"}),f={},v={};return _.forEach(e=>{switch(e.type){case EA.YU.FILE:e.file&&e.filePerms&&(f[e.file.key]=e.filePerms);break;case EA.YU.REPO:e.repo&&e.repoPerms&&(v[e.repo.id]=e.repoPerms)}}),ev.createElement(hI.h,{loadingElementId:"loading-content-pane",delay:250,loaded:d.status===hO.LOADED,loadingElementClassName:ek.cx.pr32.$},ev.createElement(hG,{onShouldFetchNextPage:g},ev.createElement(hC,{tiles:_,tileActions:{showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!0,moveFile:!0},getTileRef:e=>h.get(e)??null,chunkSize:_.length,sortFilterOptions:s,newFileTile:!1,emptyStateText:d.isFetchingNextPage?"":(0,eq.t)("shared_with_you.no_items"),sharedWithYouFilters:{sharer:i,plan:l,fileType:!0},hideSorter:!0,useLGPerms:!0,permsByFileKey:f,permsByRepoId:v,areLGPermsLoaded:!0,currentPlanFilter:n.filters.plan,currentSharedByFilter:n.filters.sharedBy})))}var VQ=a(226770),VX=a(516413),V0=a(561619),V1=a(41295);let V2="folder_list_view--emptyState--Brz7t tiles_view--emptyState--uQFY5 text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd",V3=a(653270),V4="project-card";function V8(e){let t=(0,eb.v9)(e=>e.dropdownShown),a=(0,eb.v9)(e=>e.currentUserOrgId),r=(0,vG.f)(),n=(0,eb.v9)(e=>e.user),i=(0,_t.Mn)(),l=e.folderList.map(t=>{let a=(0,oC._H)(i),r=i.user&&i.roles.byFolderId[t.id]?i.roles.byFolderId[t.id][i.user.id]:void 0;return{...t,canView:(0,uR.canViewResource)(ao._g.FOLDER,t.id,i),hideSubtitle:!!(a&&!(0,uR.canMemberOrg)(a.id,i)),currentUserHasViewRole:!!e.isCurrentUserInTeam||!!r&&r.level>=uq.V.VIEWER}}),s=()=>e.viewMode===EO.H6.LIST,o=(t,a)=>{var n;let{hideSubtitle:i,...l}=t,s=!i&&e.showTeamNameOrAuthor,o=t.currentUserHasViewRole||r;return ev.createElement(VX.o,{key:t.id,showTeamNameOrAuthor:s,folder:l,folderRef:null==(n=e.getFolderRef)?void 0:n.call(e,t),hideSubscribe:!o,dataOnboardingKey:a,isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter})},c=0===l.length,d=(()=>{if(r)return vs.W3.getContextSelectedFolder(t)})();return c?ev.createElement(ev.Fragment,null,e.onCreateNewFolder&&!(0,uR.isOrgUserExternallyRestricted)(n,a)?ev.createElement("div",{className:V2},e.canEditTeamContents?ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"folder_list_view--emptyTitle--fQupS tiles_view--emptyTitle--3l1KM"},ev.createElement(eq.Tx,{id:"team_view.folder_empty_view.no_projects_yet"})),ev.createElement(eq.Tx,{id:"team_view.folder_empty_view.projects_help_you_organize"}),ev.createElement(eA.VM,{className:"folder_list_view--emptyButton--44Hb8 tiles_view--emptyButton--LWIYf",onClick:e.onCreateNewFolder},ev.createElement(eD.n,{svg:V3,className:"folder_list_view--newProjectIcon--zoo-C tiles_view--newFileIcon--tOc0Z"}),ev.createElement(eq.Tx,{id:"team_view.folder_empty_view.new_project"}))):ev.createElement(eq.Tx,{id:"team_view.folder_empty_view.this_team_does_not_have_any_projects_yet"})):null!=e.emptyStateText?ev.createElement("div",{className:V2},e.emptyStateText):ev.createElement(eq.Tx,{id:"team_view.folder_empty_view.no_projects"})):ev.createElement(ev.Fragment,null,(()=>{let t=l.length>=2?1:1===l.length?0:void 0,a=s()+l.map(e=>e.id).join(",");return s()?ev.createElement(V0.o,{folderList:l,onChangeSortOptions:e.onChangeSortOptions,dataOnboardingKey:V4,dataOnboardingKeyIndex:t}):ev.createElement(Ez.b,{chunkSize:e.chunkSize??30,className:s()?"folder_list_view--foldersContainerList--3Y72T":"folder_list_view--foldersContainerGrid--2kYoN",listKey:a},ev.createElement(UY,{containerClassName:"folder_list_view--tileGrid--EB92i",tileSize:Uq.Medium,emptyView:ev.createElement(ev.Fragment,null)},l.map((e,a)=>a===t?o(e,V4):o(e,""))))})(),d&&ev.createElement(yh.T,{folder:d}))}let V5=[bh.nZ.NAME,bh.nZ.TEAM,bh.nZ.OWNER,bh.nZ.LAST_MODIFIED],V9=[bh.nZ.SHARED_AT],V6=[bh.nZ.NAME,bh.nZ.TEAM,bh.nZ.OWNER,bh.nZ.LAST_MODIFIED,bh.nZ.SHARED_AT],V7=[bh.nZ.NAME,bh.nZ.LAST_MODIFIED],We={[bh.nZ.NAME]:EO.qP.ASC,[bh.nZ.TEAM]:EO.qP.ASC,[bh.nZ.OWNER]:EO.qP.ASC,[bh.nZ.LAST_MODIFIED]:EO.qP.DESC,[bh.nZ.SHARED_AT]:EO.qP.DESC},Wt={[EO.H6.GRID]:{[bh.nZ.NAME]:ev.createElement(eq.Tx,{id:"tile.sort_filter.sort_alphabetical"}),[bh.nZ.TEAM]:ev.createElement(eq.Tx,{id:"tile.sort_filter.owner"}),[bh.nZ.OWNER]:ev.createElement(eq.Tx,{id:"tile.sort_filter.team"}),[bh.nZ.LAST_MODIFIED]:ev.createElement(eq.Tx,{id:"tile.sort_filter.sort_last_modified"}),[bh.nZ.SHARED_AT]:ev.createElement(eq.Tx,{id:"tile.sort_filter.date_shared"}),[bh.nZ.CREATED_AT]:ev.createElement(eq.Tx,{id:"tile.sort_filter.sort_date_created"})},[EO.H6.LIST]:{[bh.nZ.NAME]:ev.createElement(eq.Tx,{id:"tile.sort_filter.sort_alphabetical"}),[bh.nZ.TEAM]:ev.createElement(eq.Tx,{id:"tile.sort_filter.owner"}),[bh.nZ.OWNER]:ev.createElement(eq.Tx,{id:"tile.sort_filter.team"}),[bh.nZ.LAST_MODIFIED]:ev.createElement(eq.Tx,{id:"tile.sort_filter.sort_last_modified"}),[bh.nZ.SHARED_AT]:ev.createElement(eq.Tx,{id:"tile.sort_filter.date_shared"}),[bh.nZ.CREATED_AT]:ev.createElement(eq.Tx,{id:"tile.sort_filter.sort_date_created"})}},Wa={viewMode:EO.H6.GRID,sortMode:{sortKey:bh.nZ.LAST_MODIFIED,sortDesc:!0}},Wr={...Wa,sortMode:{sortKey:bh.nZ.SHARED_AT,sortDesc:!0}},Wn={name:mQ.s.byProperty("name",mQ.s.LEXICOGRAPHICALLY),lastModified:mQ.s.byProperty("folderLastUpdated"),team:mQ.s.byProperty("folderTeamName",mQ.s.LEXICOGRAPHICALLY),owner:mQ.s.byProperty("folderOwnerName",mQ.s.LEXICOGRAPHICALLY),sharedAt:mQ.s.byProperty("folderSharedAt"),createdAt:mQ.s.byProperty("created_at")};class Wi extends ev.PureComponent{constructor(){super(...arguments),this.getSortableFolders=e=>e.map(e=>({...e,...(0,V1.$)(this.props,e)})),this.sortedList=(e,t)=>{if("recentsAndSharing"===this.props.selectedView.view)return this.props.folderList;let a=Wn[e];if(a){let e=t?mQ.s.reverse(a):a,r=this.getSortableFolders(this.props.folderList);return r.sort(e),r}return this.props.folderList}}renderSharedWithYouViewBar(){let{dispatch:e,selectedView:t,sortFilterOptions:a,sharedWithYouFilters:r,onChangeViewModeOption:n}=this.props;if("sharedWithYou"!==t.view)return null;if(null==a)return(0,eL.q8)(!0,`sortFilterOptions prop is ${a}`),null;let i=ev.createElement(ol.xS,{options:a,selectedView:t,dispatch:e}),l=ev.createElement("div",{className:ek.cx.flex.alignCenter.$},ev.createElement(ol.vs,{initialViewMode:this.props.viewBarOptions.viewMode,onViewModeChange:n})),s=ev.createElement("div",{className:ek.cx.flex.$},i,l),o=ev.createElement(ol.$B,{options:a,selectedView:t,dispatch:e,sharedWithYouFilters:r});return ev.createElement(ol.Uc,{leftSide:o,rightSide:s})}render(){let{folderList:e,...t}=this.props,a=this.sortedList(this.props.viewBarOptions.sortMode.sortKey,this.props.viewBarOptions.sortMode.sortDesc),r=this.props.isSharerInfoIncluded?V9:V5,n=this.props.showTeamNameOrAuthor?r:V7,i=this.props.isSharerInfoIncluded?"folder_list_row--sharedWithYouFolderColumnHeader--Yfg3i folder_list_row--columns--ne1H1":"folder_list_row--allFolderColumnHeader--m43Ah folder_list_row--columns--ne1H1",l=this.props.showTeamNameOrAuthor?i:"folder_list_row--basicFolderColumnHeader--ImQDR folder_list_row--columns--ne1H1",s="sharedWithYou"===this.props.selectedView.view,o="recentsAndSharing"===this.props.selectedView.view,c=!s&&!o;return ev.createElement("div",{className:"folder_list_view--tabContentContainer--4KN7J"},s?this.renderSharedWithYouViewBar():null,c?ev.createElement(ol.Nb,{sortKeys:n,listSortKeys:n,initialSortOrders:We,mobileListSortKeys:n,tabletListSortKeys:n,sortKeyDescriptions:Wt,listHeaderClassName:`folder_list_view--listViewHeader--tbt89 text--fontPos13--xW8hS text--_fontBase--QdLsd ${l}`,options:this.props.viewBarOptions,onChangeSortOptions:this.props.onChangeSortOptions,onChangeViewModeOption:this.props.onChangeViewModeOption,displayColumns:s?V6:n,hideViewModeToggle:s||o}):null,ev.createElement(V8,{folderList:a,getFolderRef:this.props.getFolderRef,chunkSize:this.props.chunkSize,viewMode:this.props.viewBarOptions.viewMode,...t}))}}let Wl=(0,eb.$j)((e,t)=>{let a=t.isSharerInfoIncluded?V9:V5,r=t.showTeamNameOrAuthor?a:V7,n=t.isSharerInfoIncluded?Wr:Wa;return{teams:e.teams,roles:e.roles,fileByKey:e.fileByKey,fileKeysByFolderId:e.fileKeysByFolderId,viewBarOptions:{viewMode:(0,VQ.Xv)(t.viewId,e.viewBarViewModeOptionByView,n.viewMode),sortMode:(0,VQ.bN)(t.viewId,e,r,n.sortMode)}}},(e,t)=>({dispatch:e,onChangeSortOptions:a=>{e(od.vU({viewId:t.viewId,sortMode:{sortKey:a.sortKey,sortDesc:a.sortDesc}}))},onChangeViewModeOption:a=>{e(od.zu({viewId:t.viewId,viewMode:a}))}}))(Wi),Ws=()=>({[EO.Ox.ALL]:(0,eq.t)("shared_with_you.filters.org_deleted_drafts.all"),[EO.Ox.SHARED]:(0,eq.t)("shared_with_you.filters.org_deleted_drafts.shared"),[EO.Ox.ORG_DELETED_DRAFTS]:(0,eq.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")});function Wo(){var e,t;let a=(0,o8.A6)(),r=(0,eb.v9)(e=>e.tileSortFilterStateByView),n="recentsAndSharing"===a.view?r.recentsAndSharing.sharedProjects:r.sharedWithYou,i=VZ(["folder"]),l=Vz(["folder"]),s=Ws(),o={tileSortFilterConfig:n,sortKeys:[EO.BO.SHARED_AT]},c=(0,ev.useMemo)(()=>{var e,t;return{resourceTypes:["folder"],sharedBy:n.filters.sharedBy??"",planId:(null==(e=n.filters.plan)?void 0:e.planId)??"",planType:(null==(t=n.filters.plan)?void 0:t.planType)??"",orgDeletedDrafts:n.filters.orgDeletedDrafts??"",sortOrder:n.sort.dir===EO.qP.ASC?"asc":"desc",sortKey:(0,EO.go)(n.sort.key)??"shared_at"}},[n.filters.sharedBy,null==(e=n.filters.plan)?void 0:e.planId,null==(t=n.filters.plan)?void 0:t.planType,n.filters.orgDeletedDrafts,n.sort.dir,n.sort.key]),[d,m]=VY(c),u=(0,ev.useMemo)(()=>d.data??{},[d.data]),_=(0,ev.useMemo)(()=>Object.values(u).map(e=>e.tile).filter(e=>e.type===EA.YU.PROJECT).map(e=>e.folder),[u]),p=(0,ev.useMemo)(()=>_.map(e=>e.id),[_]),{trackPerformanceEvent:g}=(0,hV.z)("swy_projects_pagination_performance","livegraph");(0,ev.useEffect)(()=>{g("fetch_end")},[g,p.length]),(0,ev.useEffect)(()=>{d.status===hO.ERRORS&&g("fetch_error",{errors:JSON.stringify(d.errors??{})})},[g,d.status,d.errors]),(0,ev.useEffect)(()=>(g("fetch_start"),()=>{g("fetch_cancel")}),[g]);let E=(0,ev.useCallback)(()=>{d.isFetchingNextPage||(g("fetch_next"),m({type:"fetchNextPage"}))},[d.isFetchingNextPage,m,g]),h=(0,ev.useCallback)((e,t)=>{var a,r,n,i;let l=Object.values(u).find(e=>e.tile.type===EA.YU.PROJECT&&e.tile.folder.id===t);e.isIntersecting?null==(r=null==(a=null==l?void 0:l.actions)?void 0:a.subscribe)||r.call(a):null==(i=null==(n=null==l?void 0:l.actions)?void 0:n.unsubscribe)||i.call(n)},[u]),f=hW(p,h,{rootMargin:"100% 0px 100% 0px"});return ev.createElement(hI.h,{loadingElementId:"loading-content-pane",delay:250,loaded:d.status===hO.LOADED,loadingElementClassName:ek.cx.pr32.$},ev.createElement(hG,{onShouldFetchNextPage:E},ev.createElement(Wl,{viewId:"shared-with-you-projects",folderList:_,getFolderRef:e=>f.get(e.id)??null,chunkSize:_.length,showTeamNameOrAuthor:!1,isCurrentUserInTeam:!1,isSharerInfoIncluded:!0,sharedWithYouFilters:{sharer:i,plan:l,orgDeletedDrafts:s},sortFilterOptions:o,selectedView:a,emptyStateText:d.isFetchingNextPage?"":(0,eq.t)("shared_with_you.no_items"),useLGPerms:!0,currentPlanFilter:n.filters.plan})))}var Wc=a(354288),Wd=a(887751),Wm=a(618833),Wu=a(247949),W_=a(420141),Wp=a(747464),Wg=a(40162),WE=a(600771);let Wh=a(809552);function Wf(e){let t=(0,eb.I0)(),a=(0,_B.JX)(e.folderId),[r,n]=(0,ev.useState)(""),i=(0,r9.Dv)(Wu.NL).status===Wg.L.LOADING,l=(0,ev.useMemo)(()=>(0,Ct.D$)(2),[]),s=(n,i)=>{(0,Wc.D)(),t(u9.ae({state:a,editorType:ao.gg.WHITEBOARD,team:e.team,from:e.newFileFrom,openNewFileIn:(0,ly.v8)(n)?_n.JD.NEW_TAB:_n.JD.SAME_TAB,figjamAiNewFileData:{prompt:i?`${i.title} ${i.subtitle}`:r,useCaseCategory:null==i?void 0:i.useCaseCategory,subtitle:null==i?void 0:i.subtitle}}))};return ev.createElement(e3.Ui,{name:r2.V4.AI_PROMPT_BUILDER_TEMPLATE_SHELF},ev.createElement("div",{className:tQ()(ek.cx.m32.b1.colorBorder.colorBgSecondary.bRadius6.flex.flexColumn.itemsCenter.$,WE.y3)},ev.createElement("div",{className:ek.cx.flex.itemsCenter.pt12.px16.borderBox.wFull.$},ev.createElement("div",{className:ek.cx.flex1.$}),ev.createElement("div",{className:ek.cx.flex.itemsCenter.justifyBetween.gap16.$,style:ie.sx.add({flexBasis:"1048px"}).$},ev.createElement("div",{className:ek.cx.flex.itemsCenter.$},ev.createElement("div",{className:ek.cx.flexShrink0.$},ev.createElement(Wm.u4,null)),ev.createElement("div",{className:ek.cx.font18.fontSemiBold.lhNormal.mx8.$},ev.createElement(eq.Tx,{id:"whiteboard.ai_onboarding.file_browser.title"})),ev.createElement(W_.V,{location:"FILE_BROWSER_BAR",overrideText:(0,eq.t)("whiteboard.ai_onboarding.file_browser.beta")})),ev.createElement(e3.KT,{className:tQ()(ek.cx.font13.colorTextTertiary.bgTransparent.flexShrink0.$,WE.se),onClick:()=>{(0,Wd.jz)(t,{templateInsertionLocation:dC.TC.NEW_FILE,triggeredFrom:"aiFileBrowserBar"})},innerText:"start with template"},ev.createElement(eq.Tx,{id:"whiteboard.ai_onboarding.file_browser.template_cta"}))),ev.createElement("div",{className:tQ()(ek.cx.flex1.flex.justifyEnd.ml8.$,WE.CM)},ev.createElement(n6.PZ,{onClick:()=>t(m1.v({dismissed_figjam_ai_file_browser_bar:!0})),innerText:"close"}))),ev.createElement("div",{className:ek.cx.pt12.pb32.px32.borderBox.wFull.$,style:ie.sx.add({maxWidth:"1112px"}).$},ev.createElement("div",{className:ek.cx.flex.itemsCenter.colorBg.bRadius6.b1.colorBorder.$},ev.createElement("input",{className:tQ()(ek.cx.flex1.px16.py12.h32.bgTransparent.font13.lh24.$,WE.qH),placeholder:(0,eq.t)("whiteboard.ai_onboarding.file_browser.placeholder"),value:r,onChange:e=>n(e.target.value),disabled:i,onKeyDown:e=>{r.length>0&&(0,ly.As)(e)&&"Enter"===e.key&&(e.preventDefault(),s())}}),ev.createElement("div",{className:tQ()(ek.cx.mr12.$,WE.HE)},ev.createElement(oM.z,{variant:"primary",disabled:0===r.length||i,onClick:e=>s(e)},ev.createElement("div",{className:ek.cx.flex.itemsCenter.gap8.$},ev.createElement(eD.n,{svg:Wh,className:WE.pD}),ev.createElement(eq.Tx,{id:"whiteboard.ai_onboarding.file_browser.cta"}))))),ev.createElement("div",{className:tQ()(ek.cx.mt8.grid.columnGap8.overflowHidden.$,WE.LZ)},l.map(e=>ev.createElement("div",{key:e.title+e.subtitle,className:ek.cx.overflowHidden.$},ev.createElement(Wp.c,{onClick:t=>s(t,e),suggestion:e})))))))}var Wv=a(247694),Wb=a(72815),Wy=a(388398),Ww=a(453268),WT=a(433834);function Wx({header:e,onClose:t,rightTextCta:a,tilesContent:r}){return ev.createElement("div",{className:"recommendation_banner--container--jBT-5"},ev.createElement("div",{className:"recommendation_banner--headerContainer--jXVDL"},ev.createElement("div",{className:"recommendation_banner--header--kRx-1 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e),ev.createElement("div",{className:"recommendation_banner--headerRight--mLXdu"},ev.createElement("div",{className:"recommendation_banner--rightTextCta--f1Kay text--fontPos11--2LvXf text--_fontBase--QdLsd"},a),ev.createElement(n6.PZ,{className:"recommendation_banner--closeButton--sXqw1",onClick:t}))),ev.createElement("div",{className:"recommendation_banner--tilesContainer--Ls9Wd tiles_view--tilesGrid--sFT-k tiles_view--tiles--81NRr"},r.map((e,t)=>ev.createElement("div",{key:t,className:"recommendation_banner--tile--i7A92"},e))))}let WN=[{featureType:"unlimited_files_and_projects",getTileTitle:()=>(0,eq.t)("team_view.pro_trials.feature_awareness_banner.consumption_limit"),imgSrc:"https://static.figma.com/uploads/7b0a8059eef8715404092dd314a2259303f727ed",gifSrc:"https://static.figma.com/uploads/519c3e21c17f32b5f0180b52d1e0f9ba6b1e6a93",href:"https://help.figma.com/hc/articles/360038006494"},{featureType:Ww._Z.COMPONENT_PUBLISHING,getTileTitle:()=>(0,eq.t)("team_view.pro_trials.feature_awareness_banner.component_libraries"),imgSrc:"https://static.figma.com/uploads/597204c016801ba12cab10e9c048b1c6d5807a46",gifSrc:"https://static.figma.com/uploads/948d9b9b25fe5c298216981f3b67871986136b72",href:"https://help.figma.com/hc/articles/360041051154-Guide-to-libraries-in-Figma"},{featureType:Ww._Z.PASSWORD_PROTECTION,getTileTitle:()=>(0,eq.t)("team_view.pro_trials.feature_awareness_banner.password_protection"),imgSrc:"https://static.figma.com/uploads/bd1e60801b4b2b5e3d8f85d570d909f8e6aecd46",gifSrc:"https://static.figma.com/uploads/c736fefeffa56ad1fef0e503f3a806a34376a24e",href:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files"},{featureType:Ww._Z.OPEN_SESSIONS,getTileTitle:()=>(0,eq.t)("team_view.pro_trials.feature_awareness_banner.collaboration"),imgSrc:"https://static.figma.com/uploads/d718a8c9af11f5689629e016beb629c0a1aded39",gifSrc:"https://static.figma.com/uploads/389ab0b9dcb7f7c2ce3b597b4b7aa8d12a762d79",href:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session"},{featureType:"voting",getTileTitle:()=>(0,eq.t)("team_view.pro_trials.feature_awareness_banner.voting"),imgSrc:"https://static.figma.com/uploads/07061babefc345310003bf470a357f7c1a4f039d",gifSrc:"https://static.figma.com/uploads/15206fd8262e4243eb5b6a466c4227a6f8e700e6",href:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam"},{featureType:Ww._Z.AUDIO,getTileTitle:()=>(0,eq.t)("team_view.pro_trials.feature_awareness_banner.audio"),imgSrc:"https://static.figma.com/uploads/d44e0e27103010a5a793e2481a49b37baf284fe9",gifSrc:"https://static.figma.com/uploads/9320e75867473c558394562fe255795e975bac3e",href:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team"}];function WC({teamId:e}){let t=(0,Wb.zy)(e),a=(0,eb.I0)(),r=!!(0,Wy.f)({flag:"pro_trials_feature_awareness_banner_dismissed",teamId:e});return!h7.pl.canSeeProTrialUx(t)||r?null:ev.createElement(e3.Ui,{name:"Pro trials feature awareness banner",properties:h7.pl.getTrackingProperties()},ev.createElement("div",{className:"pro_feature_awareness_banner--container--jp639"},ev.createElement(Wx,{header:ev.createElement(eq.Tx,{id:"team_view.pro_trials.feature_awareness_banner.title"}),rightTextCta:ev.createElement(eA.Cr,{className:"pro_feature_awareness_banner--learnMoreLink--27-dv text--fontPos11--2LvXf text--_fontBase--QdLsd",trusted:!0,href:"https://www.figma.com/professional/",target:"_blank"},ev.createElement(eq.Tx,{id:"team_view.pro_trials.feature_awareness_banner.learn_more"})),onClose:()=>{a(h6.v_({all_team_flags:[{team_id:e,flags:{pro_trials_feature_awareness_banner_dismissed:!0}}]}))},tilesContent:WN.map(({getTileTitle:e,imgSrc:t,gifSrc:a,href:r,featureType:n},i)=>ev.createElement(WS,{key:i,getTileTitle:e,imgSrc:t,gifSrc:a,href:r,featureType:n}))})))}function WS({getTileTitle:e,imgSrc:t,gifSrc:a,href:r,featureType:n}){let[i,l]=(0,ev.useState)(!1);return ev.createElement("div",{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},ev.createElement(WT.iT,{image:ev.createElement("div",{className:"pro_feature_awareness_banner--imageContainer--3l2NY mini_community_cards--mini_cardImageContainer--nIMPD base_community_cards--base_cardImageContainer--jpAKE base_community_cards--_hasBorder--kFIag"},ev.createElement("div",{className:"pro_feature_awareness_banner--imageAspectRatio--9rL5w base_community_cards--cardImageAspectRatio--Ta4KJ"}),ev.createElement("div",{className:"pro_feature_awareness_banner--imageWrapper--2iT-Q base_community_cards--cardImageWrapper--zeVK5"},ev.createElement(eA.Cr,{trusted:!0,target:"_blank",href:r,trackingProperties:{featureType:n}},ev.createElement(ad.Pk,{image:i?a:t,isSet:!0,isWhiteboard:!1,hubFileId:void 0,alt:e(),includeChromiumDownscalingFix:!0})))),bottomRow:ev.createElement("div",{className:"pro_feature_awareness_banner--tileTitle--xy6nb text--fontPos13--xW8hS text--_fontBase--QdLsd"},e())}))}var Wk=a(814754),WI=a(564380),WL=a(754738),WR=a(484810),WA=a(948150);let WO="templates_bar--seeMoreIcon--z8QbG",WD="templates_bar--seeMoreTitle--zCP8Q text--fontPos13--xW8hS text--_fontBase--QdLsd";function WF(e){let t=(0,eb.I0)(),a=(0,lR.xJ)(),r=(0,WR.Q4)(a),n=(0,WR.NN)(!1,r),i=(0,dn.nR)(n),l=(0,dn.Dm)(n),s=WR.$g.has(r)?r:e4.$M.ALL;ev.useEffect(()=>{if(!i&&!l)return null!==s?t(cj.aJ({shelfType:e4.sq.FILE_BROWSER_TEMPLATES_BAR,filterLabel:s})):t(cj.R({shelfType:e4.sq.FILE_BROWSER_TEMPLATES_BAR}))},[i,l,t,r,s]);let o=(0,eb.v9)(e=>e.communityHub.shelves[e4.sq.FILE_BROWSER_TEMPLATES_BAR]||[]),c=ev.useMemo(()=>{let e=new Map;return o.forEach(t=>{e.set(t.id,t.shelf_content.map(e=>e))}),e},[o]),d=ev.useMemo(()=>{let e=[];return o.forEach(t=>{t.shelf_content.length>0&&e.push({tabKey:t.id,tabTitle:t.title})}),e},[o]);return e.isShowing&&0!==d.length?ev.createElement(e3.Ui,{name:"topbar_templates_shown"},ev.createElement("div",{className:"templates_bar--container--4CkSW"},ev.createElement(WM,{tabNameToTemplatesMap:c,folderId:e.folderId,onClose:e.onClose,tabList:d,newFileFrom:e.newFileFrom,normJobPrefix:r}))):null}function WM(e){let[t,a]=ev.useState(e.tabList[0]),r=(0,lR.xJ)(),n=(0,WR.Ii)(r),[i,l]=ev.useState(null),s=e.tabNameToTemplatesMap.get(t.tabKey),{sizeRef:o,numTemplates:c,templateWidth:d,templateHeight:m}=function(e){let t=(0,ev.useRef)(null),[a,r]=(0,ev.useState)(0),n=a-48;(0,ev.useLayoutEffect)(()=>{var e;r((null==(e=null==t?void 0:t.current)?void 0:e.offsetWidth)??0)},[r,t]),(0,Wk.y)(t,e=>{r(e.width)});let i=(0,ev.useMemo)(()=>{if(!n)return 0;let t=n/174;return Math.min(Math.floor(t)-1,e)},[n,e]),l=i&&n?Math.floor(n/(i+1))-24:0;return{sizeRef:t,numTemplates:i,templateWidth:l,templateHeight:l?Math.floor(125*l/150):0}}((null==s?void 0:s.length)??0);return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"templates_bar--headerContainer--gyRwu"},ev.createElement("div",{className:"templates_bar--headerLeft--Tn2Qa"},ev.createElement(WU,null),ev.createElement(WV,{normJobPrefix:e.normJobPrefix})),ev.createElement(WG,{tabs:e.tabList,activeTab:t,setActiveTab:a}),ev.createElement("div",{className:"templates_bar--headerRight--A1wCT"},ev.createElement(n6.PZ,{className:"templates_bar--closeButton--L8Jev templates_bar--headerIcon--mb0fo",onClick:e.onClose}))),ev.createElement("div",{className:"templates_bar--body--Ll31S",ref:o},ev.createElement("div",{className:"templates_bar--tilesContainer--3nB55"},null==s?void 0:s.slice(0,c??0).map((a,r)=>ev.createElement("div",{key:a.id,style:{width:d,height:m,marginRight:24}},ev.createElement(WW,{hubFile:a,rank:r,folderId:e.folderId,overrideThumbnailUrl:(0,WR.Kt)(a.id,n),tab:t,duplicatingHubId:i,setDuplicatingHubId:l,newFileFrom:e.newFileFrom})))),ev.createElement(WB,{activeTab:t,width:d,height:m})))}let WP=a(494010);function WB(e){var t;let a=(0,eb.I0)(),r=(t=e.activeTab.tabTitle,ev.useMemo(()=>{switch(t){case"Brainstorm":let e="https://static.figma.com/uploads/1b49485e3b8b3a7e8a6f8099d37025abf445eaa9";return{color:"#FFBDF2",bgColor:"#FFF5FD",src:e,srcSet:`https://static.figma.com/uploads/17a263251c06e92c17ebcf534106f46de670f126, ${e} 2x`};case"All":let a="https://static.figma.com/uploads/f48b345384c95e6becd8f0afd653da77516f3754";return{color:"#80CAFF",bgColor:"#D5EAFA",src:a,srcSet:`https://static.figma.com/uploads/4fb27f103e1c26fd5018968f50d4de3ffc525981, ${a} 2x`};case"Diagram":let r="https://static.figma.com/uploads/fb96122b14ed3ae9c4f99858e53f198e4519881d";return{color:"#FFD966",bgColor:"#FFECB4",src:r,srcSet:`https://static.figma.com/uploads/b7d203490b07b0cc0996a32539727dd689542562, ${r} 2x`};case"Meetings":let n="https://static.figma.com/uploads/5bd4f8be4b68b3406a4efc955452d597843fe395";return{color:"#FF8311",bgColor:"#F9CA9F",src:n,srcSet:`https://static.figma.com/uploads/7919f8b041bc650fc00a468edb5639ca277fce09, ${n} 2x`};case"Planning":let i="https://static.figma.com/uploads/a5b7b70525c9fd5b075019212a36a4c85f296f0c";return{color:"#DA9DFF",bgColor:"#EBCAFF",src:i,srcSet:`https://static.figma.com/uploads/5df93072bc6c4eff89a96011b823515116dd80f2, ${i} 2x`};default:return null}},[t]));return r?ev.createElement("div",{className:"templates_bar--seeMoreContainer--RSV72"},ev.createElement("button",{className:"templates_bar--seeMore--ZTqIJ",style:{backgroundColor:r.bgColor,width:e.width,height:e.height},onClick:()=>{(0,eH.T6)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_see_more_clicked"),(0,Wd.jz)(a,{templateInsertionLocation:dC.TC.NEW_FILE,triggeredFrom:"templatesShelfSeeMore",initiallySelectedCategoryTitle:e.activeTab.tabTitle})}},ev.createElement("div",{className:tQ()({"templates_bar--seeMoreImageWrapper--O7D4Y":!0,"templates_bar--seeMoreImageDiagrammingWrapper--1NuRi":"Diagram"===e.activeTab.tabTitle})},ev.createElement("img",{className:"templates_bar--seeMoreImage--Awtac",srcSet:r.srcSet,src:r.src,alt:`See all ${e.activeTab.tabTitle} templates`})),ev.createElement("div",{className:"templates_bar--seeMoreSwoopWrapper--RYmj8",style:{width:e.width,height:e.height}},ev.createElement("svg",{className:"templates_bar--seeMoreSwoop--Jf9z-",viewBox:"0 0 180 116",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M180 44.5161C165.063 48.0094 149.5 49.856 133.51 49.856C82.5172 49.856 35.8722 31.0768 0 0V116H180V44.5161Z",fill:r.color}))),ev.createElement("div",{"data-preferred-theme":"light",className:"templates_bar--seeMoreContent--W-RMv"},"All"===e.activeTab.tabTitle?ev.createElement("div",{className:WD},ev.createElement(eq.Tx,{id:"file_browser.templates_shelf.see_all"}),ev.createElement(eD.n,{className:WO,svg:WP})):ev.createElement(ev.Fragment,null,ev.createElement("div",{className:WD},e.activeTab.tabTitle),ev.createElement("div",{className:"templates_bar--seeMorePrompt--LBBME text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"file_browser.templates_shelf.see_more"}),ev.createElement(eD.n,{className:WO,svg:WP})))))):null}function WU(){return ev.createElement("svg",{className:"templates_bar--headerIconLeft--H66tS",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ev.createElement("path",{d:"M0.997498 3.32344C0.997498 2.22161 1.89071 1.3284 2.99254 1.3284H12.9678C14.0696 1.3284 14.9628 2.22161 14.9628 3.32344V13.2987C14.9628 14.4005 14.0696 15.2937 12.9678 15.2937H2.99254C1.89071 15.2937 0.997498 14.4005 0.997498 13.2987V3.32344Z",fill:"#9747FF"}),ev.createElement("mask",{id:"path-2-inside-1_1042_9371",fill:"white"},ev.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.99255 4.32095H12.9678V12.3011H2.99255V4.32095ZM3.99007 5.31847H11.9702V7.31355H3.99007V5.31847ZM11.9702 8.31107H6.98264V11.3036H11.9702V8.31107ZM5.98512 11.3036H3.99007V8.31107H5.98512V11.3036Z"})),ev.createElement("path",{d:"M3.99007 5.31847V4.32095H2.99255V5.31847H3.99007ZM11.9702 5.31847H12.9678V4.32095H11.9702V5.31847ZM11.9702 7.31355V8.31107H12.9678V7.31355H11.9702ZM3.99007 7.31355H2.99255V8.31107H3.99007V7.31355ZM2.99255 4.32095V3.32343H1.99503V4.32095H2.99255ZM12.9678 4.32095H13.9653V3.32343H12.9678V4.32095ZM12.9678 12.3011V13.2986H13.9653V12.3011H12.9678ZM2.99255 12.3011H1.99503V13.2986H2.99255V12.3011ZM11.9702 8.31107H12.9678V7.31355H11.9702V8.31107ZM6.98264 8.31107V7.31355H5.98512V8.31107H6.98264ZM6.98264 11.3036H5.98512V12.3011H6.98264V11.3036ZM11.9702 11.3036V12.3011H12.9678V11.3036H11.9702ZM5.98512 11.3036V12.3011H6.98264V11.3036H5.98512ZM3.99007 11.3036H2.99255V12.3011H3.99007V11.3036ZM3.99007 8.31107V7.31355H2.99255V8.31107H3.99007ZM5.98512 8.31107H6.98264V7.31355H5.98512V8.31107ZM3.99007 6.316H11.9702V4.32095H3.99007V6.316ZM10.9727 5.31847V7.31355H12.9678V5.31847H10.9727ZM4.9876 7.31355V5.31847H2.99255V7.31355H4.9876ZM11.9702 7.31355H6.98264V9.30859H11.9702V7.31355ZM5.98512 8.31107V11.3036H7.98016V8.31107H5.98512ZM6.98264 12.3011H11.9702V10.3061H6.98264V12.3011ZM12.9678 11.3036V8.31107H10.9727V11.3036H12.9678ZM5.98512 10.3061H3.99007V12.3011H5.98512V10.3061ZM4.9876 11.3036V8.31107H2.99255V11.3036H4.9876ZM3.99007 9.30859H5.98512V7.31355H3.99007V9.30859ZM4.9876 8.31107V11.3036H6.98264V8.31107H4.9876ZM11.9702 6.31603H3.99007V8.31107H11.9702V6.31603ZM3.99007 12.3011V4.32095H1.99503V12.3011H3.99007ZM2.99255 5.31847H12.9678V3.32343H2.99255V5.31847ZM11.9702 4.32095V12.3011H13.9653V4.32095H11.9702ZM12.9678 11.3036H2.99255V13.2986H12.9678V11.3036Z",fill:"white",mask:"url(#path-2-inside-1_1042_9371)"}))}function WV(e){let[t,a]=(0,WR.um)(e.normJobPrefix);return ev.createElement("div",{className:"templates_bar--headerTitle--m5Vbg text--fontPos13--xW8hS text--_fontBase--QdLsd"},t??ev.createElement(eq.Tx,{id:"file_browser.templates_shelf.title"}))}function WW(e){let t=(0,eb.I0)(),a=e.hubFile,r=a.id,n=null!==e.duplicatingHubId,i=e.duplicatingHubId===r,l=a&&(0,dC.D3)(e.hubFile),s=n=>{n.stopPropagation(),e.setDuplicatingHubId(r),t(rX.fN({hubFileId:r,hubFileName:(null==l?void 0:l.name)||"this file",openInNewTab:!1,folderId:e.folderId,source:_n.L7.FILE_BROWSER_TEMPLATES_BAR,callback:t=>{e.setDuplicatingHubId(null),(0,eH.T6)({fileKey:t,rank:e.rank,templateId:r,productType:a.viewer_mode===ao.Zs.WHITEBOARD?"figjam":"design"},"topbar_template_selected"),(0,WL.v)("resource_inserted",{fileKey:t,resourceId:r,resourceName:l.name,resourceType:"template",templateType:WA.W.HubFile,triggeredFrom:e.newFileFrom,category:e.tab.tabTitle,templateCategory:e.tab.tabKey})}}))};return a?ev.createElement(WT.iT,{containerStyle:"templates_bar--templatesTileContainer--hTKQ-",onClick:n?void 0:s,image:ev.createElement(WT.fb,{backgroundColor:(0,as.YI)(a.client_meta),removeBorder:!0,className:"templates_bar--templatesTileImage--bDNev",customRatioClassName:"templates_bar--imageRatio--Dr7uR"},ev.createElement(WT.$.Cover,null,ev.createElement("button",{className:"templates_bar--hoverOverlay--QIEvX browse_templates_modal--hoverOverlay--sFj3y",onClick:s,disabled:n})),ev.createElement(WT.$.Center,null,ev.createElement(_E.DF,{onClick:s,className:"templates_bar--useTemplateButton--CWxra",disabled:n,tabIndex:-1},i?ev.createElement(ax.TK,{size:"medium"}):ev.createElement(eq.Tx,{id:"file_browser.new_file_creation_topbar.use_templates"}))),ev.createElement(ad.Pk,{image:e.overrideThumbnailUrl||a.thumbnail_url||void 0,isSet:!!e.overrideThumbnailUrl||!!a.thumbnail_is_set,isWhiteboard:a.viewer_mode===ao.Zs.WHITEBOARD,hubFileId:a.id,alt:(0,dC.D3)(a).name,imageClassName:"templates_bar--thumbnailImage--DWIMN",resizedThumbnailUrls:a.resized_thumbnail_urls})),bottomRow:ev.createElement(WT.VM.NameMetadata,{name:l.name,className:"templates_bar--tilesBottomRowContainer--SSuN1",textClassName:"templates_bar--tileBottomRowNameOnly--UNxtD text--fontPos13--xW8hS text--_fontBase--QdLsd"}),bottomRowStyle:"templates_bar--bottomRowStyle--ozdyD"}):null}function WG(e){let t=(0,eb.I0)();return ev.createElement("div",{className:"templates_bar--tabs--17Jyk text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(WI.sq,{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("file_browser.templates_shelf.search_tooltip"),"aria-label":(0,eq.t)("file_browser.templates_shelf.search_tooltip"),className:"templates_bar--searchButton--WVmXI templates_bar--headerIcon--mb0fo",onClick:()=>{(0,eH.T6)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_search_clicked"),(0,Wd.jz)(t,{templateInsertionLocation:dC.TC.NEW_FILE,triggeredFrom:"templatesShelfSearch"})}},ev.createElement(t3.JO,{icon:"search-32"})),e.tabs.map(t=>ev.createElement(Wj,{key:t.tabKey,tab:t,isActive:t.tabKey===e.activeTab.tabKey,setActiveTab:e.setActiveTab})))}function Wj(e){return ev.createElement(WI.sq,{className:tQ()({"templates_bar--tab--qvVIz":!0,"templates_bar--activeTab--N8Kqo":e.isActive}),onClick:()=>{(0,eH.T6)({triggeredFrom:"file-browser",category:e.tab.tabTitle},"template_shelf_category_toggled"),e.setActiveTab(e.tab)}},e.tab.tabTitle)}let WH=(0,o_.n_)("dismissed_figjam_ai_file_browser_bar");function W$(e){let{getConfig:t}=(0,eC.it)("exp_fb_shelf_ai_vs_template"),a=e.team&&(0,xI.IQ)(e.team.id,e.team.org_id),r=(0,dV.mU)(dH.NewFileCreationBar,{projectId:e.folderId||"0"}),n=ev.useMemo(()=>{if(r&&"loaded"===r.status&&r.data)return(0,dV.Wg)(r.data.project)},[r]),i=(0,_t.Hw)(e.folderId||null,ao.gg.WHITEBOARD),l=(0,_t.Hw)(e.folderId||null,ao.gg.DESIGN),s=a&&n?(0,dV.Wg)(n.canCreateFigJamFileV2)&&(0,dV.Wg)(n.canEdit):i,o=a&&n?(0,dV.Wg)(n.canCreateDesignFileV2)&&(0,dV.Wg)(n.canEdit):l,c=(0,lR.dO)(),d=e.team&&h7.pl.getProTrialStatus(e.team)===ft.Y.IN_TRIAL,{recommendedTemplatesIsOpen:m,toggleRecommendedTemplates:u}=e,_=ev.useCallback(()=>{u(),(0,eH.T6)({userId:c,opening:!m},"topbar_recommended_templates_toggled")},[m,c,u]),p=(0,Wv.RK)(),g=(0,r9.Dv)(WH),E=(0,Ct.bc)()&&(0,eT.BZ)().figjam_ai_onboarding&&p&&!d&&s,h=!d&&!e.disableRecommendedTemplates&&s,f="loaded"===g.status&&!g.data;return!eN.ZP.mobile&&(o||s)?ev.createElement(ev.Fragment,null,(()=>{let{newFileFrom:a,folderId:r,team:n,recommendedTemplatesIsOpen:i}=e;return E&&h&&(0,nm.$D)()?t().getValue("is_variant",!1)?ev.createElement(WF,{isShowing:i,onClose:_,folderId:r,newFileFrom:a}):f&&ev.createElement(Wf,{newFileFrom:a,folderId:r,team:n}):E&&f?ev.createElement(Wf,{newFileFrom:a,folderId:r,team:n}):h&&f?ev.createElement(WF,{isShowing:e.recommendedTemplatesIsOpen,onClose:_,folderId:e.folderId,newFileFrom:e.newFileFrom}):void 0})(),d&&ev.createElement(WC,{teamId:e.team.id})):null}function Wz(){let e=(0,eb.I0)(),t=(0,eb.v9)(({orgById:e})=>e),a=(0,eb.v9)(({currentUserOrgId:e})=>e),r=(0,oC.TS)({orgById:t,currentUserOrgId:a}),n=(0,eb.v9)(e=>e.userFlags),i=!!n.hide_recommended_templates_in_recents;return ev.createElement(W$,{newFileFrom:_n.L7.FILE_BROWSER_TOPBAR_RECENTS,disableRecommendedTemplates:r,recommendedTemplatesIsOpen:!i,toggleRecommendedTemplates:()=>e(m1.v({hide_recommended_templates_in_recents:!i}))})}W$.displayName="NewFileCreationTopbar";let WK="seen_shared_files_onboarding",WZ=(0,o_.n_)("seen_account_profile_switcher_onboarding"),Wq=(0,o_.n_)(WK);function WY(){let e=(0,r9.Dv)(WZ),t=(0,r9.Dv)(Wq),a=(0,so.I)({id:sd.G.SharedFilesInRecentsPointer,priority:su.b4.SECONDARY_MODAL},[t,e]);return(0,eZ.O)(()=>{a.show({canShow:(e,t)=>t&&!e})}),ev.createElement(Tn.ZZ,{targetKey:og.Tj,isShowing:a.isShowing,title:ev.createElement(eq.Tx,{id:"rcs.shared_with_you.shared_files_title"}),description:ev.createElement(eq.Tx,{id:"rcs.shared_with_you.shared_files_description",recents:ev.createElement("span",{className:ek.cx.fontBold.$},ev.createElement(eq.Tx,{id:"rcs.shared_with_you.recents"}))}),primaryCta:{type:"button",label:ev.createElement(eq.Tx,{id:"rcs.got_it"}),onClick:a.complete,ctaTrackingDescriptor:cC.y.DONE},width:350,onClose:a.complete,trackingContextName:"File Browser Shared Files in Recents Overlay",userFlagOnShow:WK})}let WJ=e=>{switch(e){case EN.D.RECENTLY_VIEWED:return(0,eq.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case EN.D.SHARED_PROJECTS:return(0,eq.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case EN.D.SHARED_FILES:return(0,eq.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,eL.vE)(e)}};function WQ(e){var t,a,r,n,i,l;let s=(0,lR.dO)(),o=(0,eb.v9)(e=>e.orgUsersByOrgId.orgUsers),c=ev.useMemo(()=>null!==s&&Object.values(o).some(e=>{var t;return(null==(t=e[s])?void 0:t.permission)===ao.Gu.ADMIN}),[s,o]),d=e.options.tileSortFilterConfig.filters.sharedBy,m=e.options.tileSortFilterConfig.filters.plan;return ev.createElement("div",{className:"recents_and_sharing_viewbar--dropdownCollectionContainer--qs-wj"},ev.createElement(ev.Fragment,null,(null==(t=e.filters)?void 0:t.sharer)&&Object.keys(null==(a=e.filters)?void 0:a.sharer).length>1&&ev.createElement(ev.Fragment,null,d&&ev.createElement(ol.dV,{userId:d}),ev.createElement(ol.UC,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})),(null==(r=e.filters)?void 0:r.plan)&&Object.keys(null==(n=e.filters)?void 0:n.plan).length>1&&ev.createElement(ev.Fragment,null,(null==m?void 0:m.planId)&&ev.createElement(ol.Uo,{planOption:e.filters.plan[m.planId]}),ev.createElement(ol.ny,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})),(null==(i=e.filters)?void 0:i.fileType)&&ev.createElement(ev.Fragment,null,ev.createElement(ol.kP,{config:e.options.tileSortFilterConfig,tab:e.tab})),(null==(l=e.filters)?void 0:l.orgDeletedDrafts)&&c&&ev.createElement(ev.Fragment,null,ev.createElement(ol.is,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.orgDeletedDrafts,tab:e.tab}))))}function WX(e){let t=e.selectedTab,a=(0,eb.I0)(),r=(0,o8.A6)(),n=(0,eb.v9)(e=>e.tileSortFilterStateByView),i=t===EN.D.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],l=VZ(i),s=VH(),o=Vz(i),c=Ws(),d={sharer:t!==EN.D.RECENTLY_VIEWED?l:void 0,plan:t===EN.D.RECENTLY_VIEWED?s:o,fileType:t!==EN.D.SHARED_PROJECTS,orgDeletedDrafts:t===EN.D.SHARED_PROJECTS?c:void 0},m=ev.useMemo(()=>{let e;switch(t){case EN.D.RECENTLY_VIEWED:e=n.recentsAndSharing.recents;break;case EN.D.SHARED_FILES:e=n.recentsAndSharing.sharedFiles;break;case EN.D.SHARED_PROJECTS:e=n.recentsAndSharing.sharedProjects;break;default:(0,eL.vE)(t)}return{tileSortFilterConfig:e,sortKeys:EN.X[t]}},[t,n]),u=e=>{e===EN.D.SHARED_FILES?(0,eK.L9)("file_browser_shared_files"):e===EN.D.SHARED_PROJECTS&&(0,eK.L9)("file_browser_shared_projects"),a(od.fv({view:"recentsAndSharing",tab:e}))},_=e=>{(0,eK.L9)("file view toggle",{viewType:e===EO.H6.GRID?"grid":"list"}),Object.keys(EN.D).map(t=>{a(od.lh({selectedView:r,config:{...m.tileSortFilterConfig,viewMode:e},tab:EN.D[t]}))},a(od.zu({viewId:"shared-with-you-projects",viewMode:e})))},p=ev.createElement("div",{className:ek.cx.flex.alignCenter.$},ev.createElement(ol.vs,{initialViewMode:m.tileSortFilterConfig.viewMode,onViewModeChange:_})),g=ev.createElement(ol.VP,{options:m,selectedView:r,dispatch:a,tab:t}),E=ev.createElement("div",{className:ek.cx.flex.$,key:"sortWithViewOptions"},g,p),h=ev.createElement(WQ,{options:m,filters:d,tab:t,key:"recentsAndSharingTileFilters"}),f=ev.createElement(ol.ov,{dropdownKey:"recents-and-sharing-sort-filter-mobile-dropdown",sortFilterOptions:m,filters:d,onViewModeChange:_,tab:t}),v=Object.keys(EN.D).map(t=>{let a="SHARED_FILES"===t?og.Tj:"";return ev.createElement(EB.y,{tab:EN.D[t],onClick:u,isSelected:e.selectedTab===EN.D[t],tabName:WJ(EN.D[t]),key:t,dataOnboardingKey:a})});return ev.createElement(ev.Fragment,null,ev.createElement(sb.V,null,ev.createElement(WY,null)),ev.createElement(ol.nY,{leftSide:ev.createElement(EB.v,{tabs:v}),rightSide:[h,E],rightSideMobile:f}))}function W0(e){(0,cS.Qt)(e.userId);let t=fy({}),a=ev.createElement(WX,{selectedTab:e.selectedTab});return ev.createElement(da.S,{banner:t?ev.createElement(fb,{folderId:null}):void 0,viewbar:a,viewBarSticky:!0,toolbar:ev.createElement(Wz,null),content:function(e){switch(e){case EN.D.SHARED_FILES:return ev.createElement(VJ,null);case EN.D.SHARED_PROJECTS:return ev.createElement(Wo,null);case EN.D.RECENTLY_VIEWED:return ev.createElement(VW,null)}}(e.selectedTab)})}var W1=a(237353);let W2=(0,NQ.Bw)();function W3(e){let t=(0,eb.I0)(),a=[ev.createElement(W2,{tab:W1.q.FILES,key:"files",selectedTab:e.selectedTab,onClick:()=>{t(od.fv({view:"sharedWithYou",tab:W1.q.FILES}))},mobileNavTabTitle:(0,eq.t)("shared_with_you.toolbar.files")},ev.createElement(eq.Tx,{id:"shared_with_you.toolbar.files"})),ev.createElement(W2,{tab:W1.q.PROJECTS,key:"projects",selectedTab:e.selectedTab,onClick:()=>{t(od.fv({view:"sharedWithYou",tab:W1.q.PROJECTS}))},mobileNavTabTitle:(0,eq.t)("shared_with_you.toolbar.projects")},ev.createElement(eq.Tx,{id:"shared_with_you.toolbar.projects"}))];return ev.createElement(NJ.b,{hideToolBarOnDesktop:!1,resetTileSelectionOnMouseDown:!0,tabs:a})}function W4(e){return ev.createElement(da.S,{toolbar:ev.createElement(W3,{selectedTab:e.tab}),content:function(e){switch(e){case"files":return ev.createElement(VJ,null);case"projects":return ev.createElement(Wo,null)}}(e.tab)})}var W8=a(937194),W5=a(644735),W9=a(306361),W6=a(716215);let W7=new class{markFeedVisited(e){return rI.ZP.post(`/api/feed_visited/${e.currentOrgId}`)}};var Ge=a(407108),Gt=a(422876);let Ga=a(236123),Gr=a(862675),Gn=(0,r9.cn)(!1),Gi=(0,r9.cn)(null),Gl=(0,r9.cn)(-1);function Gs(e){let t=(0,eb.I0)(),a=(0,uL.$0)(),r=(0,r9.Dv)(Gl),n=(0,r9.Dv)(Gi),i=ev.useCallback(()=>{a&&n&&t(W9.Wr({hashtag:e.hashtag,orgId:a,tagId:n}))},[t,e.hashtag,a,n]),l=ev.useCallback(()=>{a&&null!==r&&-1!==r&&t(W9.to({hashtag:e.hashtag,orgId:a,feedTagFollowerId:r}))},[t,e.hashtag,a,r]);return -1===r?null:ev.createElement("div",{className:"feed_hashtag_header--feedHashtagActions--t26jk"},ev.createElement(aC.hU,{svg:Gr,className:"feed_hashtag_header--copyLinkButton--s1tIq","data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("fig_feed.copy_link"),onClick:()=>t(mH.dK({view:"teamFeed",hashtag:e.hashtag}))}),r?ev.createElement(eA.PL,{onClick:l,className:"feed_hashtag_header--unfollowButton--RFnTK"},ev.createElement(Gt.x,null),(0,eq.t)("fig_feed.following")):ev.createElement(eA.DF,{onClick:i},(0,eq.t)("fig_feed.follow_tag")))}function Go(e){let t=(0,r9.Dv)(Gn),[a,r]=ev.useState(!1);return(ev.useEffect(()=>{t&&r(!0)},[t]),a)?ev.createElement("div",{className:t?"feed_hashtag_header--fadeInOnMount--b0kCN":"feed_hashtag_header--fadeOut--sngWf"},ev.createElement(Gs,{hashtag:e.hashtag})):null}function Gc(e){let t=(0,eb.I0)();return ev.createElement("div",{className:"feed_hashtag_header--hashtagHeader--VvN3B"},ev.createElement(aC.hU,{svg:Ga,className:"feed_hashtag_header--backButton--z3D6s","data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("general.back"),onClick:()=>t(od.fv({view:"teamFeed"}))}),ev.createElement("div",{className:"feed_hashtag_header--hashtagText---D1YO"},e.hashtag),ev.createElement("div",{className:"feed_hashtag_header--hashtagHeaderActions--22mxV"},ev.createElement(Gs,{hashtag:e.hashtag})))}var Gd=a(213887),Gm=a(183631),Gu=a(642045),G_=a(965591),Gp=a(635723),Gg=a(255301),GE=a(4818),Gh=a(346451),Gf=a(883027),Gv=a(345805),Gb=a(412310),Gy=a(722317),Gw=a(815179),GT=a(561824);let Gx="feed_tile--commentPillText--lj-SZ",GN="feed_tile--feedPostHoverContainerSelectable--gOm0c",GC=a(380651),GS=e=>{let t=ev.useRef(null),a=ev.useRef(e);a.current=e;let r=ev.useMemo(()=>new ResizeObserver(()=>{a.current(t.current)}),[]);ev.useEffect(()=>()=>{r.disconnect()},[r]);let n=ev.useCallback(e=>{null!==t.current&&r.unobserve(t.current),t.current=e,null!==t.current&&r.observe(t.current)},[r]);return{refSetter:n}};function Gk(e){var t,a;let r=(0,eb.I0)(),n=ev.useRef(null),[i,l]=(0,G_.X)(),[s,o]=(0,G_.X)(),{requestToOpenPostByFeedIdx:c}=e,d=ev.useCallback((t,a)=>{null==t||t.stopPropagation();let n=e.itemIdx+1;(0,eK.L9)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:n}),r((0,ig.K4)({type:Gm.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:c,autofocusCommentInput:null==a?void 0:a.autofocusCommentInput,selectedContentIdx:null==a?void 0:a.selectedContentIdx,onSetSelectedContentIdx:null==a?void 0:a.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,r,e.feedIdx,c]),m=ev.useCallback(()=>{r((0,ig.K4)({type:W8.gE,data:{preloadedFeedPost:e.post,entryPoint:W8.rY.FEED}}))},[r,e.post]),{refSetter:u}=GS(e.virtualRowItem.measureRef),_={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},p=(null==(t=e.feedListRef.current)?void 0:t.getBoundingClientRect().left)??0,g=(null==(a=n.current)?void 0:a.getBoundingClientRect().left)??0,E=ev.createElement("div",{className:"feed_tile--caughtUpContainer--P1D4d"},ev.createElement("div",{className:"feed_tile--caughtUpTitle--UgTKk"},(0,eq.t)("fig_feed.youre_all_caught_up")),ev.createElement("div",{className:"feed_tile--caughtUpSubtitle--5v1x3"},(0,eq.t)("fig_feed.come_back_later_for_more_posts")));return ev.createElement("div",{className:"feed_tile--postContainer--EQcVX",ref:e=>{u(e),e&&(n.current=e,i(e))},style:_},ev.createElement("div",{className:"feed_tile--hoverExtension--d2IRU",ref:s}),ev.createElement("div",{className:"feed_tile--tileContainer--iTA7h"},ev.createElement(GI,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:d,onEditClick:m,horizontalMargin:Math.max(0,g-p),isHovered:l||o}),e.mostRecentUnviewed&&E))}function GI(e){let t=(0,eb.I0)(),a=parseInt(e.feedPost.numComments,10),r=(0,Gg.Qi)(e.feedPost.descriptionMeta),n=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],i=ev.createElement("div",{className:"feed_tile--commentPill--vOPcl feed_reactions_section--reactionPill--ElDKS reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0},a>0?ev.createElement(ev.Fragment,null,ev.createElement(R7,{users:n,totalNum:n.length,numAvatarsToDisplay:4}),ev.createElement("div",{className:Gx},ev.createElement(eq.Tx,{id:"fig_feed.num_comments",numComments:a}))):ev.createElement("div",{className:Gx},ev.createElement(eq.Tx,{id:"fig_feed.add_comment"}))),[l,s]=ev.useState(!1),o=ev.useRef(null);ev.useEffect(()=>{let e=o.current;e&&s(e.scrollHeight>e.offsetHeight)},[]);let c=(0,Ge.a$)(e.feedPost),d=ev.useMemo(()=>{var e,t;return r.length>0&&(r[0].t=null==(e=r[0].t)?void 0:e.trimStart(),r[r.length-1].t=null==(t=r[r.length-1].t)?void 0:t.trimEnd()),r},[r]),m=ev.useCallback(e=>{t(od.fv({view:"teamFeed",hashtag:e}))},[t]),u=(0,eb.v9)(GE.Q),_=ev.useCallback((e=[],t)=>{if(!e)return[ev.createElement(ev.Fragment,null)];let a=e.map((e,a)=>{var r,n;let i=(e.user_annotated?e.user_annotated.handle:e.t)||"",l=(0,Gp.A)(i),s=null;if(e.user_annotated&&l)s=ev.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},ev.createElement(Gv.DL,{href:`/files${u}/user/${e.user_id}`,userId:e.user_annotated.id,handle:l,imgUrl:e.user_annotated.img_url}));else if(e.link&&l)s=ev.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},ev.createElement(Gv.nW,{text:l,hyperlink:e.link}));else if(e.is_hashtag&&l)s=ev.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},ev.createElement(Gv.B0,{text:l,highlightHashtag:(0,eT.BZ)().xr_debounce_tags,onHashtagClick:m}));else{let e=(0,Gu.mB)((null==l?void 0:l.replace(/\n\s*\n/g,"\n").split("\n").join(" "))||"");s=ev.createElement("span",null,e)}return ev.createElement(ev.Fragment,{key:`${t}-${a}`},s,(null==(r=e.children)?void 0:r.length)&&(null==(n=e.styles)?void 0:n.length)&&e.children.map((r,n)=>ev.createElement(ev.Fragment,{key:`${t}-${a}-${n}`}," ",e.styles.includes("ol")?`${n+1}. `:"\u2022 ",_(r.children,`${t}-${a}-${n}`)," ")))});return a},[u,m]),p=ev.useMemo(()=>_(d,e.feedPost.id),[d,_,e.feedPost.id]),{onTileMouseDown:g}=e,E=ev.useMemo(()=>ev.createElement("div",{className:"feed_tile--postDescriptionContainer--IscWt",onMouseDown:g,role:"button",tabIndex:0},ev.createElement("div",{className:"feed_tile--postTitle--lf1Zf"},e.feedPost.title),ev.createElement("div",{className:"feed_tile--postDescription--Dm-jK","data-testid":"feed-post-description",ref:o},ev.createElement("div",{className:tQ()("feed_tile--postDescriptionMessage--nkK5t comment_message--commentMessage--kZCzD","feed_tile--collapsed--dnula",l&&"feed_tile--hasShowMore--iCUtV")},p),l&&ev.createElement("div",{onMouseDown:e=>{e.stopPropagation(),g()},className:"feed_tile--viewMore--aG2rJ",role:"button",tabIndex:0},ev.createElement("div",{className:"feed_tile--viewMoreEllipsis--MJfX9"},"..."),ev.createElement("div",{className:"feed_tile--viewMoreText--VF0f7"},(0,eq.t)("fig_feed.see_more"))))),[l,o,e.feedPost,g,p]),h=(0,Gh._y)(e.feedPost.publicUuid,Gh.Iq.TILE),f=(0,mj.L)(),v=e.isHovered||(null==f?void 0:f.type)===(0,GT.KE)(GT.$9.USER,e.feedPost.publicUuid,Gh.iz.TILE);return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"feed_tile--topRowUGC--48sFq"},ev.createElement("div",{className:"feed_tile--avatarFloat--Dr8et"},ev.createElement(Gy.m,{user:e.feedPost.creator,size:oo.DZ.LARGE,noHandle:!0})),ev.createElement(Gy.X,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,containerInfo:c,noAvatar:!0}),ev.createElement("div",{className:ek.cx.flex.flexRow.$},ev.createElement(GT.Le,{hideTarget:!v,feedPost:e.feedPost,source:Gh.iz.TILE,onEditClick:e.onEditClick}),v&&ev.createElement(aC.hU,{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("fig_feed.copy_link_to_post"),onClick:h},ev.createElement(t3.JO,{icon:"hyperlink-32"})))),E,ev.createElement(GL,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),ev.createElement("div",{className:"feed_tile--bottomRow--yk2Xu"},ev.createElement(Gw.BO,{type:Gw.rY.FULL,source:Gw.e5.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[i]})))}function GL(e){let t=ev.useRef(null),a=e.feedPost.content.map(e=>JSON.parse(e)),[r,n]=ev.useState(!1),[i,l]=ev.useState(!1),[s,o]=ev.useState(0);ev.useEffect(()=>{0!==s&&Gf.L.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[s,e.feedPost.publicUuid]);let c=(0,Gw.VT)({type:"post",id:e.feedPost.publicUuid},Gw.e5.TILE_CONTENT),d=a.length>1,m=tQ()(d?"feed_tile--feedPostHoverContainerWithThumbnails--kdz2S feed_tile--feedPostHoverContainer--cvm94":"feed_tile--feedPostHoverContainer--cvm94",!(r||i||c)&&"feed_tile--hidden--3RbMq"),u={selectedContentIdx:s,onSetSelectedContentIdx:o},{fileData:_,fileIcon:p,fileLoaded:g,openFile:E}=(0,Gh.nz)(e.feedPost.publicUuid,a,e.feedPost.fileKey);return ev.createElement("div",{ref:e=>{e&&(t.current=e)},className:tQ()("feed_tile--fullHeightContentSection--taAoR feed_tile--contentSection--1uvc-",d&&"feed_tile--fullHeightContentSection_WithThumbnails--PNZHC")},ev.createElement(Gb.$2,{contentItems:a,staticContent:!0,selectedContentIdx:s,setSelectedContentIdx:o,pageBackgroundColor:e.backgroundColor||void 0,onSelectedTileMouseDown:t=>e.onTileMouseDown(t,u),feedPostUuid:e.feedPost.publicUuid,feedPostIdx:e.feedIdx,source:Gh.iz.TILE,onContentHover:e=>n(e)}),g&&ev.createElement("button",{className:tQ()(m,GN,"feed_tile--hoverTopLeft--cZKoC"),onClick:E,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},ev.createElement(hl.aA,{type:p,size:hl.Sj.SMALL}),ev.createElement("div",null,_.name)),ev.createElement("button",{className:tQ()(m,GN,"feed_tile--hoverTopRight--Td3wv"),onMouseDown:t=>e.onTileMouseDown(t,u),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},ev.createElement(eD.n,{svg:GC})))}let GR=(0,r9.cn)(!0),GA=(0,r9.cn)(!1);function GO(e){var t,a;let r=(0,eb.I0)(),n=ev.useRef(null),i=(0,lR.xJ)(),l=(0,eb.v9)(e=>e.teamFeedRefreshNonce),{setHasLoaded:s}=e,[o,c]=ev.useState(null),d=(0,o8.A6)(),m="teamFeed"===d.view&&void 0===d.hashtag,u="user"===d.view;ev.useEffect(()=>{m&&(W7.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{c(e.data.meta?new Date(e.data.meta):null)}),r(m1.v({has_visited_feed:!0})))},[e.currentOrgId,l,r,m]);let _=!!(e.selectedContainer&&e.selectedContainer.id&&e.selectedContainer.type),p=(0,dV.mU)(dH.PaginatedFigFeed,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:(null==(t=e.selectedUser)?void 0:t.id)??null,container_type:_?(0,Ge.kt)(e.selectedContainer.type):null,container_id:_?e.selectedContainer.id:null,hashtag:(0,eT.BZ)().xr_debounce_tags?e.hashtag:null}),refreshNonce:l}),g=(0,lb.D)(l);g&&g!==l&&n.current&&(n.current.scrollTop=0),ev.useEffect(()=>{"errors"===p.status&&r(r7.R.enqueue({message:(0,eq.t)("general.an_error_occurred"),error:!0}))},[r,p.status]);let E=ev.useMemo(()=>"loaded"===p.status?{isLoadingNextPage:p.data.feedPosts.isLoadingNextPage,hasNextPage:p.data.feedPosts.hasNextPage,loadNext:p.data.feedPosts.loadNext}:null,[p]),h=ev.useMemo(()=>"loaded"===p.status?{...p,data:p.data.feedPosts.filter(t=>!!t.feedPost&&(e.selectedTabKey!==W6.QP.ForYou||t.forYou))}:p,[p,e.selectedTabKey]),f=(0,r9.b9)(Gi),v=(0,r9.b9)(Gl);ev.useEffect(()=>{if("loaded"===p.status&&p.data.feedPosts.length>0&&e.followedTags){let t=p.data.feedPosts[0].currentTagFilterId;if(f(t),t){let a=e.followedTags.find(e=>e.feedTag.id===t);v((null==a?void 0:a.id)??null)}else v(-1)}},[f,v,p,e.followedTags]);let b="loaded"===h.status&&"loaded"===p.status;ev.useEffect(()=>{null==s||s(b)},[b,s]);let y=ev.useCallback(()=>512,[]),w=h.data?h.data.length:0,T=(0,W5.o)({size:w,parentRef:n,estimateSize:y,overscan:15,paddingStart:0}),x=ev.useRef(0);ev.useEffect(()=>{var e;x.current=(null==(e=h.data)?void 0:e.length)??0},[b,null==(a=h.data)?void 0:a.length]),ev.useEffect(()=>{var t,a,r;b&&(0,eK.L9)("Team Feed Posts Rendered",{tab:e.selectedTabKey,selectedContainerId:null==(t=e.selectedContainer)?void 0:t.id,selectedContainerType:null==(a=e.selectedContainer)?void 0:a.type,selectedUserId:null==(r=e.selectedUser)?void 0:r.id,numPosts:x.current,view:d.view},{forwardToDatadog:!0})},[e.selectedTabKey,e.selectedContainer,e.selectedUser,x,b,d.view]);let[N,C]=ev.useState(!1),[S,k]=ev.useState(null),I=(0,r9.b9)(GA),L=(0,r9.b9)(Gn),R=ev.useCallback((e,t)=>{e>0&&!N&&((0,eK.L9)("Team Feed User Scrolled Down"),C(!0));let a=w/50,r=e+t.trackHeight,n=t.scrollHeight;1-(n-r)/(n/a)>=.5&&E&&!E.isLoadingNextPage&&E.hasNextPage()&&E.loadNext(50),k(t)},[N,E,w]);ev.useEffect(()=>{if(!S)return;let{scrollTop:e}=S;e>=72?(I(!0),L(!0)):(I(!1),L(!1))},[S,I,L]);let A=ev.useMemo(()=>{let e={};return h.data&&h.data.forEach((t,a)=>{e[t.publicUuid]=a}),e},[h]),[O,D]=ev.useState(void 0),F=ev.useCallback(e=>{D(e)},[]);ev.useEffect(()=>{if(void 0===O||(D(void 0),O<0)||(O>=.5*w&&E&&E.loadNext(50),O>=w))return;let e=h.data[O];r(ig.cU({type:Gm.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:O,requestToOpenPostByFeedIdx:F}}))},[O,r,h,F,E,w]);let M=ev.useMemo(()=>{var e;if(!o||!h.data)return null;let t=0,a=h.data.length-1,r=-1,n=0;for(;t<=a;){let e=Math.floor((t+a)/2);if(new Date(h.data[e].createdAt)>o?(r=e,t=e+1):a=e-1,(n+=1)>50)break}for(;r>=0&&i&&(null==(e=h.data[r].feedPost)?void 0:e.creator.id)===i.id;)r-=1;return r},[o,h.data,i]),P=b&&h.data&&0===h.data.length&&e.selectedTabKey===W6.QP.All&&(e.selectedUser||e.selectedContainer);return ev.createElement(cr.l,{scrollContainerRef:n,className:"feed_list_view--scrollContainer--PgfuV main_feed_view--scrollContainer--Abx-y",innerClassName:tQ()("feed_list_view--scrollContainerInner--F-NC5",u&&"feed_list_view--scrollContainerInnerProfile--PxQHJ"),onScroll:R},ev.createElement("div",{className:"feed_list_view--feedListContainer--ddNUX"},e.scrollHeaders,P?ev.createElement("div",{className:"feed_list_view--noPostsFound--XMO-1"},ev.createElement("div",{className:ek.cx.fontMedium.$},ev.createElement(eq.Tx,{id:"fig_feed.no_posts_found_title"})),ev.createElement("div",{className:ek.cx.colorTextSecondary.$},ev.createElement(eq.Tx,{id:"fig_feed.no_posts_found_description"}))):ev.createElement("div",{style:{margin:"0 8px",height:`${T.totalSize}px`,position:"relative"}},T.virtualItems.map(e=>{let t=e.index;if(!h.data||!h.data[t].feedPost)return null;let a=h.data[t].feedPost;return ev.createElement(Gk,{post:a,key:e.key,virtualRowItem:e,feedListRef:n,itemIdx:t,feedIdx:A[a.publicUuid],requestToOpenPostByFeedIdx:F,mostRecentUnviewed:m&&A[a.publicUuid]===M})}))))}function GD(e){let t=(0,eb.I0)(),[a,r]=(0,r9.KO)(GR),[n,i]=ev.useState(!1),l=(0,eb.v9)(e=>e.teamFeedRefreshNonce);ev.useEffect(()=>{t(W9.sO({orgId:e.currentOrgId,bellActive:!1}))},[t,l,e.currentOrgId]);let s=ev.useMemo(()=>[{key:W6.QP.ForYou,label:(0,eq.t)("fig_feed.tab.for_you")},{key:W6.QP.All,label:(0,eq.t)("fig_feed.tab.all")}],[]),[o,c]=ev.useState(null),[d,m]=ev.useState(null),{setSelectedTabKey:u}=e,_=ev.useCallback(e=>{e===W6.QP.ForYou&&(m(null),c(null)),u(e),t(od.fv({view:"teamFeed",feedTab:e}))},[t,u]),p=(0,eT.BZ)().xr_debounce_tags&&e.hashtag,g=ev.createElement(ev.Fragment,null,!p&&ev.createElement(W8.wu,{entryPoint:W8.og.FEED_HEADER,onSubmitSuccess:e.onNewPostSubmitSuccess,disabled:!n,minimized:a,setMinimized:r,uploadInfo:e.uploadInfo}),!p&&ev.createElement(Gd.f8,{orgId:e.currentOrgId,tabs:s,selectedTabKey:e.selectedTabKey,setSelectedTabKey:_,selectedContainer:o,setSelectedContainer:c,selectedUser:d,setSelectedUser:m}),p&&ev.createElement(Gc,{hashtag:e.hashtag}));return ev.createElement(GO,{...e,scrollHeaders:g,setHasLoaded:i,selectedContainer:o,selectedUser:d})}let GF=a(704062),GM=a(880137);function GP(){let e=(0,r9.Dv)(W8.$r),t=(0,r9.Dv)(GA),a=(0,r9.b9)(GR),[r,n]=ev.useState(!1);return(ev.useEffect(()=>{t&&n(!0)},[t]),r)?ev.createElement(_E.DF,{className:tQ()("create_feed_post_button--container--ZlOeB",t?"create_feed_post_button--fadeInOnMount--kiEbZ":"create_feed_post_button--fadeOut--J9KQq"),onMouseDown:()=>a(!1)},ev.createElement(eD.n,{svg:GF,className:"create_feed_post_button--plusIcon--SqrSs"}),(0,eq.t)("fig_feed.new_post"),e&&ev.createElement(eD.n,{svg:GM})):null}var GB=a(958189);let GU=a(958966),GV=a(752741);function GW(){let e=(0,eb.I0)(),t=(0,eb.v9)(e=>e.userFlags),[a,r]=ev.useState(!1),n=!t.has_dismissed_feed_beta_banner&&!a,i=ev.useCallback(()=>{r(!0),e(m1.v({has_dismissed_feed_beta_banner:!0}))},[e]);return n?ev.createElement("div",{className:"feed_beta_banner--banner--IWEjT"},ev.createElement("div",{className:"feed_beta_banner--left--3Rc0c"},ev.createElement("div",{className:"feed_beta_banner--iconAndTitle--IhSf8"},ev.createElement(eD.n,{svg:GU,className:"feed_beta_banner--infoIcon--Sr-Sk"}),ev.createElement("div",{className:"feed_beta_banner--title--5tsBQ"},(0,eq.t)("fig_feed.welcome_text.welcome_to_feed"))),ev.createElement("div",null,(0,eq.t)("fig_feed.welcome_text.as_you_play_around"))),ev.createElement(n6.PZ,{svg:GV,onClick:i,className:"feed_beta_banner--closeButton--aCtPu"})):null}function GG(e){let t=(0,eb.I0)(),a=ev.useMemo(()=>e.followedTags.sort((e,t)=>parseInt(t.feedTag.numUsages)-parseInt(e.feedTag.numUsages)),[e.followedTags]),r=ev.useCallback(e=>{t(od.fv({view:"teamFeed",hashtag:e}))},[t]);return ev.createElement("div",{className:"feed_hashtag_sidebar--container--yZRpb"},ev.createElement("div",{className:"feed_hashtag_sidebar--header--KYZRp"},(0,eq.t)("fig_feed.tags_you_follow")),a.map(e=>ev.createElement("div",{className:"feed_hashtag_sidebar--hashtagRow--sHWLm",key:e.id},ev.createElement(Gv.B0,{text:e.feedTag.text,highlightHashtag:!0,onHashtagClick:r}),ev.createElement("div",{className:"feed_hashtag_sidebar--hashtagRowSub--BmMEP"},ev.createElement("div",{className:"feed_hashtag_sidebar--hashtagRowSubNumUsages--qsSyy"},(0,eq.t)("fig_feed.num_posts",{numPosts:parseInt(e.feedTag.numUsages)})),"\xb7",ev.createElement(n2.Lt,{date:e.feedTag.lastUsedAt})))))}let Gj="new_post_indicator--icon--mvyez",GH=a(115975),G$=a(328630);function Gz(e){return ev.createElement("div",{className:"new_post_indicator--notification--fJb9r text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},ev.createElement("div",{className:"new_post_indicator--leftSide--2x8XJ",onClick:e.onRefresh,role:"button",tabIndex:0},ev.createElement(eD.n,{svg:GH,className:Gj}),ev.createElement(eq.Tx,{id:"fig_feed.new_posts"})),ev.createElement("div",{className:"new_post_indicator--dismiss--qj2Fv",onClick:e.onDismiss,role:"button",tabIndex:0},ev.createElement(eD.n,{svg:G$,className:Gj})))}function GK(e){let t=(0,eb.I0)();ev.useEffect(()=>((0,eK.L9)("Team Feed Posts List View Visited"),t(W9.sO({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,eK.L9)("Team Feed List View Closed")}),[t,e.currentOrgId]);let a=ev.useCallback(()=>t(W9.cV()),[t]),r=ev.useCallback(e=>{e||a()},[a]),[n,i]=ev.useState(e.feedTab??W6.QP.ForYou),l=ev.useCallback(()=>{a(),i(W6.QP.All)},[a]),s=(0,eb.v9)(t=>t.teamFeedBellStates[e.currentOrgId]),[o,c]=ev.useState(!1),d=(0,lb.D)(s);ev.useEffect(()=>{s&&!1===d?c(!0):d&&!1===s&&c(!1)},[s,d,t]),ev.useEffect(()=>{e.initialPostUuidToShow&&t((0,ig.K4)({type:Gm.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]);let[m,u]=ev.useState(!1),[_,p]=ev.useState(null),[g,E]=(0,r9.KO)(GR),h=ev.useCallback(e=>{g&&(p(e.files),u(!1))},[g]),f=(0,o8.A6)(),v=(0,dV.mU)(dH.FeedTagFollowsByUser,{},{enabled:(0,eT.BZ)().xr_debounce_tags}),b=ev.useMemo(()=>{if("loaded"===v.status)return v.data.currentUser.feedTagFollowers},[v]),y=(0,eT.BZ)().xr_debounce_tags&&"teamFeed"===f.view&&void 0===f.hashtag&&b&&b.length>0;return ev.createElement(ev.Fragment,null,ev.createElement(eS.h,{isDragTarget:()=>!0,onTargetDragEnter:()=>u(!0),onTargetDragLeave:()=>u(!1),onTargetDrop:h,className:"main_feed_view--contentLayout--90UY5"},o&&ev.createElement(Gz,{onRefresh:l,onDismiss:()=>c(!1)}),(0,eT.BZ)().xr_debounce_beta_badging&&ev.createElement(GW,null),ev.createElement(GD,{currentOrgId:e.currentOrgId,onNewPostSubmitSuccess:r,uploadInfo:_??void 0,selectedTabKey:n,setSelectedTabKey:i,hashtag:e.hashtag,followedTags:b??void 0}),g&&m&&ev.createElement("div",{className:"main_feed_view--dragOverlay--QQSL8"}),ev.createElement(cr.l,null,y&&ev.createElement(GG,{followedTags:b}))),ev.createElement(ED.ap,null))}function GZ(e){let t=(0,eb.v9)(e=>e.currentUserOrgId),a=(0,Gh.qf)(),r=ev.useRef(new GB.B7);return(ev.useEffect(()=>{r.current.start()},[]),a&&t)?ev.createElement(GK,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:r.current,feedTab:e.feedTab,hashtag:e.hashtag}):null}var Gq=a(112298);function GY(e){let t=(e=>{switch(e){case di.Hy.PROJECT:return(0,eq.t)("file_browser.project");case di.Hy.TEAM:return(0,eq.t)("file_browser.team");case di.Hy.WORKSPACE:return(0,eq.t)("file_browser.workspace");case di.Hy.LICENSE_GROUP:return(0,eq.t)("file_browser.billing_group");default:return(0,eq.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case di.Hy.PROJECT:return(0,eq.t)("file_browser.project_capitalized");case di.Hy.TEAM:return(0,eq.t)("file_browser.team_capitalized");case di.Hy.WORKSPACE:return(0,eq.t)("file_browser.workspace_capitalized");case di.Hy.LICENSE_GROUP:return(0,eq.t)("file_browser.billing_group_capitalized");default:return(0,eq.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),r=ev.createElement("div",{className:"unavailable_view--unavailableViewContainer--SfM5K"},ev.createElement("div",{className:"unavailable_view--header--9-dY9 text--fontPos18--rYXJb text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"file_browser.unavailable_view_resource_not_found",capitalizedResourceNoun:a})),ev.createElement("div",{className:"unavailable_view--detailText--wB39x text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"file_browser.unavailable_view_text",resourceNoun:t})),ev.createElement(Gq.FX,null));return ev.createElement(da.S,{content:r})}let GJ={ctrlKey:"metaKey"},GQ=(e,t={})=>{let a=(0,eb.I0)(),r=(0,eb.v9)(e=>e),n=ev.useMemo(()=>({metaKey:e=>{let t=(0,g9.hM)(r,e);a(od.YQ({url:t}))},...t}),[t,a,r]);return ev.useCallback((t,r)=>{let i=e(r),l=Object.keys(n),s=l.find(e=>t[e]);if(s){let e=eN.ZP.mac?s:GJ[s]||s,a=n[e];if(a){t.preventDefault(),a(i);return}}a(od.fv(i))},[n,a,e])};var GX=a(271981),G0=a(701408),G1=a(823691),G2=a(519782),G3=a(228646);let G4="org_user_meta_content--teamsHeader--pWfKo org_user_meta_content--sectionHeader--ukacB text--fontPos13--xW8hS text--_fontBase--QdLsd";function G8(e){let t=(0,eb.I0)(),a=(0,lR.xJ)(),r=(0,G1.m)(e.user),n=(0,eb.v9)(t=>t.currentUserOrgId===e.orgId),i=()=>{t((0,ig.K4)({type:G3.a}))};return ev.createElement("div",{className:"org_user_meta_content--container--pgkvt"},ev.createElement(dr.u,{isLoading:e.isLoading},()=>{var t,l,s;return e.isLoading?ev.createElement("div",null):ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"org_user_meta_content--userData--bc-ey"},ev.createElement(oo.Yt,{user:e.user,size:oo.DZ.LARGE}),ev.createElement("div",{className:"org_user_meta_content--userName--sh6JB text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.title),(null==(t=e.user.profile)?void 0:t.job_title)&&ev.createElement("div",{className:"org_user_meta_content--jobTitle--psim4 text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(os.Ct,{color:os.JV.INVERT,text:(0,Fu.Cw)(null==(l=e.user.profile)?void 0:l.job_title)}),e.userId===(null==a?void 0:a.id)&&ev.createElement("span",{className:"org_user_meta_content--blueLink--QP8wm blue_link--blueLink--9rlnd",role:"button",tabIndex:0,onClick:i},ev.createElement(eq.Tx,{id:"internal_profile.change_job_title"}))),e.user.email&&ev.createElement("div",{className:"org_user_meta_content--email--EBrcv text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.user.email),ev.createElement(db,{value:e.description??"",placeholder:(0,eq.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:dv,readOnly:e.isReadOnly,className:"org_user_meta_content--description--d6GIh text--fontPos13--xW8hS text--_fontBase--QdLsd"})),r&&(null==(s=e.user)?void 0:s.id)===(null==a?void 0:a.id)&&ev.createElement(je,{user:e.user}),n&&ev.createElement("div",{className:"org_user_meta_content--teamsData--orNgl"},ev.createElement("div",{className:G4},ev.createElement(eq.Tx,{id:"internal_profile.teams"})),ev.createElement(jt,{userId:e.userId,orgId:e.orgId}),ev.createElement("div",{className:G4},ev.createElement(eq.Tx,{id:"internal_profile.recent_projects"})),ev.createElement(G6,{files:e.recents,isYourProfile:!e.isReadOnly})))}))}let G5=(0,eb.$j)((e,t)=>t.user?{isReadOnly:!e.user||e.user.id!==t.userId,isLoading:!1,description:t.user.description||null,title:t.user.name||t.user.handle||null}:{isReadOnly:!e.user||e.user.id!==t.userId,isLoading:!0,description:null,title:null},(e,t)=>({submitDescription:a=>{let r=G0.gz({user:{id:t.userId,description:a},userInitiated:!0});e(r)}}))(G8),G9=(0,eb.$j)((e,t)=>{let a=t.orgUser,r=!t.user||!a||!t.org,n=t.orgId?(a||{}).description:t.user.description;return{orgUser:a,org:t.org,isReadOnly:!e.user||e.user.id!==t.userId,isLoading:r,description:n||null,title:t.user&&t.org?(0,eq.t)("internal_profile.title",{userName:t.user.handle,orgName:t.org.name}):null}},(e,t)=>({submitDescription:a=>{t.orgId&&t.orgUser&&e(C3.gz({orgUser:{id:t.orgUser.id,org_id:t.orgId,description:a},userInitiated:!0}))}}))(G8);function G6(e){let t=(0,eb.v9)(e=>e),a=GQ(e=>({view:"folder",folderId:e})),r=ev.useMemo(()=>{if(e.files.status!==_d.Q.SUCCESS)return[];let a=[],r=[];if(!e.files)return a;let n=new Set;for(let i of e.files.value){if(n.has(i.folder_id)||(n.add(i.folder_id),""===i.folder_name||null==i.folder_name))continue;let e={id:i.folder_id,name:i.folder_name,teamName:i.team_name,hasAccess:(0,uR.canViewFolder_DEPRECATED)(i.folder_id,t)};if(e.hasAccess?a.push(e):r.push(e),a.length+r.length>=5)break}return a.concat(r)},[e.files,t]);return ev.createElement(dr.u,{state:e.files},()=>ev.createElement("div",null,0===r.length&&ev.createElement("div",{className:"org_user_meta_content--projectEmptyState--IbIBj text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isYourProfile?(0,eq.t)("internal_profile.your_recent_projects_will_appear_here"):(0,eq.t)("internal_profile.their_recent_projects_will_appear_here")),r.map(e=>ev.createElement("div",{key:e.id,onClick:e.hasAccess?t=>a(t,e.id):void 0,className:e.hasAccess?"org_user_meta_content--project---8Hf0 org_user_meta_content--projectBase--TuABJ text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":"org_user_meta_content--dimProject--W-qx7 org_user_meta_content--dim--ebFTp org_user_meta_content--projectBase--TuABJ text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},ev.createElement("span",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":e.hasAccess?void 0:(0,eq.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName})},e.name)))))}function G7(e){return ev.createElement("div",{className:"org_user_meta_content--userProfileNotification--2Pst6"},ev.createElement("div",{className:"org_user_meta_content--userProfileNotificationTitle--Ui3fK text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.title),ev.createElement("div",{className:"org_user_meta_content--userProfileNotificationText--W6AG- text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.text),ev.createElement("div",{className:"org_user_meta_content--userProfileNotificationAction--SOHUb"},e.action))}function je(e){let{profile:t}=e.user,a=(0,eb.I0)(),[r,n]=ev.useState(!1),i=r=>{n(!0),setTimeout(()=>{a(G0.gz({user:{id:e.user.id,job_title:r,profile:{...t,job_title:r}},userInitiated:!0}))},600),(0,eH.T6)({trackingContext:r2.V4.FILE_BROWSER,context:"job_title",text:"Set Job Title",jobTitle:r})};return ev.createElement(ev.Fragment,null,(null==t?void 0:t.images)?null:ev.createElement(G7,{title:(0,eq.t)("internal_profile.profile_image_nudge.title"),text:(0,eq.t)("internal_profile.profile_image_nudge.text"),action:ev.createElement(eA.rU,{trusted:!0,className:"org_user_meta_content--userProfileNotificationActionLink--REOcA",onClick:()=>{a((0,G2.X)({entity:e.user,entityType:bA.py.CURRENT_USER,shape:"CIRCLE"})),(0,eH.T6)({trackingContext:r2.V4.FILE_BROWSER,context:"job_title",text:"Update Photo"})}},ev.createElement(eq.Tx,{id:"internal_profile.profile_image_nudge.action"}))}),(null==t?void 0:t.job_title)?null:ev.createElement(G7,{title:(0,eq.t)("internal_profile.job_title_nudge.title"),text:(0,eq.t)("internal_profile.job_title_nudge.text"),action:r?ev.createElement(ax.TK,null):ev.createElement(ev.Fragment,null,Fu.Nt.map(e=>ev.createElement(os.Ct,{key:e,color:os.JV.INVERT,subtle:!0,text:(0,Fu.Cw)(e),className:"org_user_meta_content--userProfileNotificationBadge--kgYsv",onClick:()=>i(e)})))}))}let jt=(0,eb.$j)((e,t)=>({permissionState:e}))(function(e){let[t,a]=ev.useState(null);ev.useEffect(()=>{fL.W.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{a(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let r=GQ(e=>({view:"team",teamId:e.id})),n=(t||[]).sort((t,a)=>{let r=(0,uR.canViewTeam)(t.id,e.permissionState),n=(0,uR.canViewTeam)(a.id,e.permissionState);return r&&!n?-1:!r&&n?1:0});return ev.createElement(dr.u,{isLoading:!t},()=>ev.createElement("div",null,n.map(t=>{let a=(0,uR.canViewTeam)(t.id,e.permissionState);return ev.createElement(ds.Zq,{key:t.id,entity:t,size:12,hideFallbackInitial:!0,onClick:a?r:void 0,className:`org_user_meta_content--teamListItem--v7nwo text--fontPos13--xW8hS text--_fontBase--QdLsd ${a?"":"org_user_meta_content--dim--ebFTp"}`,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":a?void 0:(0,eq.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4})}),t&&0===t.length&&ev.createElement(eq.Tx,{id:"internal_profile.no_teams_in_common"})))}),ja=class extends ev.PureComponent{render(){let e=(0,n8.pJ)(this.props.publishedPlugins),t=(0,n8.V5)((0,n8.GE)(e,this.props.userId),this.props.org),a=Object.keys(t).map(e=>t[e]),r=(0,nx.ih)(a);return 0===r.length?null:ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"user_org_resources--sectionHeader--FlyJy internal_user_profile_page_view--sectionHeader--wtWNa text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"file_browser.settings.plugins_published",orgName:this.props.org.name})),ev.createElement("div",{className:"user_org_resources--container--XBt6w profile_resources_grid--_resourcesGridTemplateColumns--19JO6"},r.map(e=>ev.createElement(ad.J9,{pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,isPublic:!!e.roles.is_public,viewContext:ja.displayName})),ev.createElement(ad.Ur,{numResources:r.length})))}};function jr(e){let{org:t}=e;return ev.createElement(dr.u,{state:e.plugins},a=>ev.createElement(ja,{...e,org:t,publishedPlugins:a}))}ja.displayName="UserOrgResources";let jn=a(936403);function ji(e){let{org:t}=e,a=(0,eb.v9)(a=>{let r=t&&t.id&&a.orgUsersByOrgId.orgUsers[t.id]||{};return r[e.user.id]});return t?ev.createElement(G9,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:a}):ev.createElement(G5,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let jl=e=>{let t=e.user.id,a=(0,eb.I0)(),r=(0,eb.v9)(e=>e.selectedView),n=e.orgUser&&e.orgUser.org_id,i=(0,eb.v9)(e=>e.currentUserOrgId),l=void 0===n?i:n,s=(0,eb.v9)(e=>l&&e.orgById[l]||null),o=(0,eT.BZ)().xr_debounce_threshold&&s,c="user"===r.view?r.userViewTab:void 0;ev.useEffect(()=>{a((0,ig.h0)({type:GX.I}))},[a,c]);let d=(0,eb.v9)(e=>e.userFlags);ev.useEffect(()=>{d.seen_profile||a(m1.v({seen_profile:!0}))},[a,d.seen_profile]);let m=(0,eb.v9)(e=>e.tileSortFilterStateByView.user),u=ev.useMemo(()=>({srcTileSortFilterConfig:{filters:{creator:EO.FN.ANY,fileType:EO.$Q.ANY},sort:{key:EO.BO.ACCESSED_AT,dir:EO.qP.DESC}},tileSortFilterConfig:m,sortKeys:[EO.BO.NAME,EO.BO.CREATED_AT,EO.BO.ACCESSED_AT]}),[m]),_=ev.useMemo(()=>{let e=new URLSearchParams;return l&&e.append("org_id",l),`/api/user/${t}/recents${""===e.toString()?"":"?"}${e.toString()}`},[t,l]),[p,g]=ev.useState([]),[E,h]=ev.useState(!0),[f,v]=ev.useState(null),[b,y]=ev.useState(0),w=ev.useCallback(e=>{v(e),a(r7.R.enqueue({message:(0,eq.t)("internal_profile.an_error_occurred"),error:!0}))},[a]),{fetchNext:T,hasMore:x}=(0,dp.K6)(_,w,55),N=ev.useCallback(async()=>{if(!x)return;let e=async()=>{try{let e=await T();if(!Array.isArray(e))return;g(t=>[...t,...e])}catch(e){w(e)}};await e()},[T,w,x]);ev.useEffect(()=>{let e=async()=>{p.length<55&&b<3&&(await N(),y(e=>e+1),h(!1))};e()},[b]);let C=ev.useMemo(()=>{let e=p.filter(e=>{switch(m.filters.fileType){case EO.$Q.ANY:return!0;case EO.$Q.DESIGN:return"design"===e.editor_type;case EO.$Q.FIGJAM:return"whiteboard"===e.editor_type;case EO.$Q.PROTOTYPE:return!1}});return e},[p,m]),S=ev.useMemo(()=>f?{status:_d.Q.FAILURE,error:f}:E?{status:_d.Q.LOADING}:{status:_d.Q.SUCCESS,value:C},[E,f,C]),k=(0,OY.q)(()=>s&&s.community_profile_id?a(dN.ge({profileId:s.community_profile_id})):Promise.resolve([]),[a,s]),I=e=>{a(od.fv({view:"user",userId:t,userViewTab:e}))},L=c===Nx.l.INTERNAL_PROFILE?[ev.createElement("div",{key:"sort-filter",className:"internal_user_profile_page_view--hideFilterRightPadding--xhqRO"},ev.createElement(ol.GM,{options:u,hideSortMenu:!0,selectedView:r,dispatch:a}))]:[],R=ev.createElement(ol.nY,{leftSide:o?ev.createElement(EB.v,{tabs:[ev.createElement(EB.y,{key:Nx.l.INTERNAL_PROFILE,tab:Nx.l.INTERNAL_PROFILE,isSelected:c===Nx.l.INTERNAL_PROFILE,onClick:()=>I(Nx.l.INTERNAL_PROFILE),tabName:(0,eq.t)("internal_profile.file_contributions")}),ev.createElement(EB.y,{key:Nx.l.INTERNAL_PROFILE_POSTS,tab:Nx.l.INTERNAL_PROFILE_POSTS,isSelected:c===Nx.l.INTERNAL_PROFILE_POSTS,onClick:()=>I(Nx.l.INTERNAL_PROFILE_POSTS),tabName:(0,eq.t)("internal_profile.posts")})]}):L,rightSide:o?L:[]});return(0,e3.bC)(ev.createElement(da.S,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--vtgjx",containerClass:"internal_user_profile_page_view--pageContainerInner--2wHIo",content:ev.createElement("div",{className:"internal_user_profile_page_view--content--VaPM-"},ev.createElement("div",{className:"internal_user_profile_page_view--viewbar--Xnlyi"},R),c===Nx.l.INTERNAL_PROFILE&&ev.createElement(ev.Fragment,null,s&&ev.createElement(jr,{plugins:k,userId:e.user.id,org:s}),!o&&ev.createElement("div",{className:"internal_user_profile_page_view--sectionHeader--wtWNa text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"internal_profile.file_contributions"})),ev.createElement(jo,{files:S,fetchNext:N})),c===Nx.l.INTERNAL_PROFILE_POSTS&&s&&ev.createElement(GO,{currentOrgId:s.id,selectedUser:e.user})),metaContent:ev.createElement(ji,{user:e.user,recents:S,org:s,orgUser:e.orgUser})}),r2.V4.USER_DETAILS,{view:"org_user",userId:t})};function js(e){return ev.createElement(jl,{key:e.user.id,user:e.user,orgUser:e.orgUser})}let jo=(0,eb.$j)((e,t)=>({permissionState:e}))(function(e){let{fetchNext:t}=e,a=GQ(e=>({view:"fullscreen",fileKey:e.key,editorType:e.editorType||"design"})),r=ev.useCallback((e,a)=>{e+a.trackHeight>=a.scrollHeight&&t()},[t]);return ev.createElement(dr.u,{className:"internal_user_profile_page_view--loading--Z6KIE",state:e.files},t=>ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"internal_user_profile_page_view--fileListHeader--nN9yE internal_user_profile_page_view--grid--2kLiL text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"internal_profile.file_name"})),ev.createElement("div",null),ev.createElement("div",{className:"internal_user_profile_page_view--projectHeader--6fnlB"},ev.createElement(eq.Tx,{id:"internal_profile.project"})),ev.createElement("div",{className:"internal_user_profile_page_view--activityHeader--Iw7TC"},ev.createElement(eq.Tx,{id:"internal_profile.last_activity"}))),ev.createElement(cr.l,{onScroll:r,className:"internal_user_profile_page_view--scrollContainer--WZUyt",innerClassName:"internal_user_profile_page_view--scrollContainerInner--YyCpD"},t.map(t=>{let r=(0,uR.canViewFile)(t.key,e.permissionState),n=r?r=>{e.dispatch(od.ku({fileKey:t.key,entrypoint:"internal user profile page view"})),a(r,{key:t.key,editorType:t.editor_type})}:void 0;return ev.createElement("a",{onClick:n,href:(0,_r.qF)(t),key:t.key,className:"internal_user_profile_page_view--recentFile--XUSFM internal_user_profile_page_view--grid--2kLiL text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(fK.pL,{listView:!0,file:{touched_at:null,updated_at:null,...t}}),ev.createElement("div",{className:"internal_user_profile_page_view--filename--dPz4X ellipsis--ellipsis--Tjyfa"},null!==t.source_file_name&&ev.createElement(ev.Fragment,null,t.source_file_name,ev.createElement(eD.n,{svg:jn,className:"internal_user_profile_page_view--branchIcon--Kr8Fu"})),t.name),ev.createElement("div",{className:"internal_user_profile_page_view--projectName--UiqlR ellipsis--ellipsis--Tjyfa"},t.folder_name),ev.createElement("div",{className:"internal_user_profile_page_view--activity--olr1C"},ev.createElement(n2.Lt,{date:new Date(1e3*t.timestamp)})))}))))}),jc=(e,t,a)=>a?Promise.resolve([]):fL.W.getTeams({userId:t}).then(e=>e.data.meta).catch(e=>{throw e}),jd=(e,t,a)=>{let r=e&&e.id===a;return r?Promise.resolve(e):fL.W.getUser({userId:a}).then(e=>e.data.meta).catch(e=>{throw t(dl.l.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e})},jm=(e,t,a)=>a?e(C3.__({orgId:a,userId:t})):Promise.resolve(null),ju={[Nx.l.INTERNAL_PROFILE]:{Component:js},[Nx.l.INTERNAL_PROFILE_POSTS]:{Component:js},[Nx.l.PLUGINS]:{Component:ev.Fragment}};function j_(e){return ev.createElement(e.component,{...e.context})}function jp(e){let t=(0,eb.I0)(),a=(0,lR.xJ)(),r=e.orgId,n=(0,eb.v9)(e=>e.currentUserOrgId),i=void 0===r?n:r,l=(0,OY.q)(()=>{let r=jd(a,t,e.userId),n=jm(t,e.userId,i),l=jc(t,e.userId,i);return Promise.all([r,l,n]).then(([a,r,n])=>((0,hu.x6)(a.handle),{userId:e.userId,user:a,teams:r,orgUser:n,profileHandle:a.community_profile_handle||null,on404Redirect:r.length>0||n?()=>{t(od.fv({view:"user",userId:e.userId,orgId:i,userViewTab:Nx.l.INTERNAL_PROFILE}))}:()=>{ew.default.redirect("/404")}}))},[t,a,i,e.userId]),{tab:s}=e;if(!s)return null;let{Component:o}=ju[s];return ev.createElement(dr.u,{className:"user_page_view--loadingContainer--hUdnN",state:l,failure:void 0},t=>ev.createElement(j_,{component:o,tab:s,userId:e.userId,context:t}))}function jg(e){let t=(0,eb.I0)(),a=(0,uL.Ng)(),r=a=>{t(od.fv({view:"workspace",subView:ES.ep.ADMIN,selectedTab:a,workspaceId:e.workspaceId}))},n=[];if(ES.u5.forEach(t=>{n.push(ev.createElement(Rr,{tab:t,selectedTab:e.selectedTab,key:t,onClick:r,mobileNavTabTitle:LA(t),getDisplayName:LA}))}),(0,oC.d$)(a)&&(0,oC.OR)(a)){let t=ES.fW.LIBRARIES;n.push(ev.createElement(Rr,{tab:t,selectedTab:e.selectedTab,key:t,onClick:r,mobileNavTabTitle:LA(t),getDisplayName:LA}))}if((0,oC.Z0)(a)){let t=ES.fW.SETTINGS;n.push(ev.createElement(Rr,{tab:t,selectedTab:e.selectedTab,key:t,onClick:r,mobileNavTabTitle:LA(t),getDisplayName:LA}))}return ev.createElement(Rd,{navTabs:n})}function jE(){let e=(0,eb.I0)(),t=(0,eb.v9)(({orgById:e,currentUserOrgId:t})=>e[t]),a=(0,eb.v9)(({dropdownShown:e})=>e),r=(0,eb.v9)(({teamRoleRequests:e})=>e),n=(0,eb.v9)(({user:e})=>e),i=(0,eb.v9)(({selectedView:e})=>e),{selectedTab:l,workspaceId:s,membersTabViewingUnassigned:o}=i,c=o?wO.F:s,d=(0,r9.Dv)(w1(s)),[m]=(0,w3.dA)({currentOrgId:t.id,excludeDrafts:!0},{enabled:(0,oC.d$)(t)&&(0,oC.OR)(t)}),u=m.data||null,_=Date.now(),[p,g]=ev.useState(""),E=ev.createElement("div",{className:Rv},ev.createElement(T$.Z,{title:LA(l)}),ev.createElement(ax.jz,null)),h=!1,f=null;switch(l){case ES.fW.MEMBERS:let v={...Te.bu,...i.orgAdminMembersTabFilters,workspaceFilter:c},b=i.orgAdminMembersTabSort||Te.SR;f=ev.createElement(LR,{invoices:void 0,org:t,dropdownShown:a,membersTabViewingUnassigned:o,filters:v,sort:b,figjamBillableSeats:null,designBillableSeats:null,devModeBillableSeats:null,startTime:_,searchQuery:p,setSearchQuery:g,isLoading:!1});break;case ES.fW.TEAMS:h="loaded"!==d.status,f=FF(t.id)?ev.createElement(B4,{org:t,dropdownShown:a,dispatch:e,teamRoleRequests:r,user:n,selectedWorkspaceId:c}):ev.createElement(C0,{org:t,teams:d.data||[],dropdownShown:a,dispatch:e,teamRoleRequests:r,user:n,selectedWorkspaceId:c});break;case ES.fW.LIBRARIES:if(!(0,oC.d$)(t)||!(0,oC.OR)(t))break;if(!u){h=!0,E=ev.createElement(xy.rn,{selectedViewAndTab:{view:fe.yA.WORKSPACE},isLoading:!0});break}f=ev.createElement(xC,{org:t,workspaceId:s,libraryStats:u});break;case ES.fW.SETTINGS:if(!(0,oC.Z0)(t))break;f=ev.createElement(L7,{workspaceId:s})}return ev.createElement(da.S,{containerClass:Rb,scrollableContainerClass:Ry,toolbar:ev.createElement(jg,{selectedTab:l,workspaceId:s}),content:h?E:f})}function jh(){var e;let t=(0,eb.I0)(),a=(0,eb.v9)(({orgById:e,currentUserOrgId:t})=>e[t]),r=(0,eb.v9)(({loadingState:e})=>e),n=(0,eb.v9)(({selectedView:e})=>e),{selectedTab:i,workspaceId:l}=n,s=(0,gv.d3)(a.id),o="loading"===s.status,c=!!(null==(e=s.data)?void 0:e.find(e=>e.id===l)),d=(0,w6.US)(),m=(0,w6.$4)(a.id),u=d&&!(0,dn.B4)(r,(0,w6.lV)(a.id));ev.useEffect(()=>{t(w4.U2({forceRefetch:!1}))},[t,a.id]);let _=ev.useMemo(()=>!(0,oC.uH)(a.id)||m.some(e=>e.id===l),[m,a.id,l]),p=ev.useMemo(()=>u||_,[u,_]);ev.useEffect(()=>{_&&t(od.fv({...n,view:"licenseGroup",subView:ET.gp.ADMIN,selectedTab:(0,Ri.j)(i,a.id),licenseGroupId:l}))},[t,i,n,_,l,a]);let g=ev.useMemo(()=>!o&&!c,[c,o]),E=ev.useMemo(()=>o||g,[o,g]);return(ev.useEffect(()=>{!p&&g&&t(od.fv({view:"resourceUnavailable",resourceType:di.Hy.WORKSPACE}))},[t,p,g]),p||E)?null:ev.createElement(jE,null)}var jf=a(811252);function jv(e){let{tabs:t}=e;return ev.createElement(jf.O,{fadeEdges:!0},ev.createElement("div",{className:"scrollable_tool_bar--container--b2FsN"},t))}function jb({avatar:e,title:t,rightSideActions:a,rightSideOfTitleAction:r,pageHeaderIcon:n,belowHeaderItem:i,textColor:l,badge:s}){let o=(0,eb.I0)();return ev.createElement(ev.Fragment,null,ev.createElement(wA.R,{tabs:null,hideToolBarOnMobile:!0,dispatch:o}),ev.createElement("div",{className:tQ()(ek.cx.mt12.mx32.mb20.$,"page_header--mx16Mobile--r7CHg")},ev.createElement("div",{className:ek.cx.flex.mt20.itemsCenter.justifyBetween.$},ev.createElement("div",{className:ek.cx.flex.itemsCenter.h40.minW0.$},e,ev.createElement("div",{className:ek.cx.wFull.overflowHidden.$,style:ie.sx.if(e&&!n,ie.sx.ml16).$},ev.createElement("span",{className:ek.cx.flex.itemsCenter.$},n,ev.createElement(oc.x,{color:l,fontSize:24,truncate:"line-clamp",lineClamp:2},t," "),ev.createElement("div",{className:ek.cx.ml8.$},s),r&&r.element))),ev.createElement("div",{className:ek.cx.flex.ml16.gap8.$},null==a?void 0:a.map(e=>ev.createElement(Ub.J,{action:e,key:e.key}))))),i)}function jy(e){return ev.createElement(_E.PL,{className:"button_custom--buttonSecondaryDisabled--oUMkT","data-tooltip-type":aN.fR.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,onMouseEnter:e.onMouseEnter},e.text)}function jw({backgroundColor:e}){let t=(0,y_.N6)(eH.LY),a=(0,eb.v9)(e=>e.selectedView.view),r=(0,eq.t)("license_group_view.toolbar.new_team_button"),n=()=>{t(eH.A2,{placement:a})};return e?ev.createElement("button",{className:tQ()("button_custom--buttonBase--MTE74 button--buttonBase---72nl",(0,oU.Vg)(e)?"button_custom--buttonColorsForDarkBackground--OLrRc":"button_custom--buttonColorsForLightBackground--AO6qT","button_custom--buttonHugContents--ttiFm"),"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,onMouseEnter:n,disabled:!0},ev.createElement(oc.x,{fontSize:11,fontWeight:"medium",truncate:!0},r)):ev.createElement(jy,{text:r,tooltipText:(0,eq.t)("license_group_view.toolbar.create_team_disabled"),onMouseEnter:n})}let jT=a(43185);function jx(e){let t=(0,eb.I0)(),a=ev.useRef(null),r=(0,eb.v9)(({dropdownShown:e})=>e),n=e.dropdownKey&&e.dropdownOptions,i=n&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,l=(0,e3.gx)();return ev.createElement("button",{ref:a,onClick:()=>{a.current&&t(od.SP({type:e.dropdownKey,data:{targetRect:a.current.getBoundingClientRect()}}))},onMouseDown:oN.UW,className:ek.cx.bgNone.ml8.$,"aria-label":e.buttonAriaLabel},ev.createElement(eD.n,{svg:jT,className:tQ()("page_header_dropdown--dropdownIcon--NtXOX",e.dropdownColorClassName?e.dropdownColorClassName:"page_header_dropdown--dropdownIconColor--DrMxC")}),i&&ev.createElement(mz.z,{parentRect:r.data.targetRect,minWidth:224,rootAndSubmenuMaxWidth:224,items:e.dropdownOptions,dispatch:t,onSelectItem:e=>{e.callback&&e.callback("",null,t),e.trackingProperties&&(0,eH.T6)({...l.properties,trackingContext:l.name,...e.trackingProperties})},showPoint:!0}))}var jN=a(899063),jC=a(177303),jS=a(458169),jk=a(414413),jI=a(861235),jL=((et=jL||{}).SOLID="solid",et.NO_FILL="no_fill",et);function jR({selectedFillOption:e,onSelectFillOption:t}){let a={solid:(0,eq.t)("workspace_view.toolbar.solid"),no_fill:(0,eq.t)("workspace_view.toolbar.no_fill")};return ev.createElement(gb.j.DropdownSelector,{className:ek.cx.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return ev.createElement(jk.zx,{className:ek.cx.ml4.mr4.$,role:"combobox",onClick:t,caret:"down"},ev.createElement("span",{className:ek.cx.minW32.mr8.$},a[e]))},dropdownOptionsClassName:"workspace_color_toolbar--dropdownOptions--Eqmye",options:["solid","no_fill"].map((e,r)=>ev.createElement(gb.j.Option,{className:ek.cx.colorTextMenuSecondary.$,key:r,id:e,onClick:()=>{t(e)}},a[e])),optionsBelowSelector:!0,noBorder:!0})}let jA=rv.t1.Mutation(async e=>{await BI.r.updateColor(e)});function jO({workspace:e,onClose:t}){var a;let r=(0,eb.I0)(),n=(0,rv.Db)(jA),i=(0,oU.CH)(),l=ev.useRef(null),[s,o]=ev.useState(!1),c=(0,fS.Fg)(),d=(null==(a=null==e?void 0:e.colorConfig)?void 0:a.colors)??[],m=(0,oU.Uh)(d[0]),[u,_]=ev.useState(m?"solid":"no_fill"),[p,g]=(0,r9.KO)(jI.m);return ev.useEffect(()=>(g(m),()=>{g(void 0)}),[]),ev.useEffect(()=>{if(!s){let e=e=>{"Escape"===e.key&&t()},a=e=>{l.current&&!l.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",a)}}},[s,t]),ev.createElement("div",{className:"workspace_color_toolbar--workspaceColorToolbar--qqqyF",ref:l},ev.createElement(jR,{selectedFillOption:u,onSelectFillOption:e=>{if(_(e),"solid"===e){let e=(0,oU.fj)(c);g(m??e)}else g("unset")}}),(0,oU.wD)(p)&&ev.createElement(ev.Fragment,null,ev.createElement(jk.Z0,null),ev.createElement(jC.HG,{buttonClassName:ek.cx.ml2.mr2.$,options:i,value:{option:p},onColorChange:e=>{g(e.option)},paletteType:"base",numColumns:9,optionSize:"medium",buttonSize:"xsmall",shouldDisableDataTooltip:!0,dropperDisabled:!0,positionX:()=>0,positionY:(e,t)=>(0,jS.Mb)(e,t,4),shouldCustomColorPopoverCloseOnEscape:!0,setIsColorPopoverOpen:o,hasNonWhiteboardColors:!0})),ev.createElement(jk.Z0,null),ev.createElement(jk.zx,{className:ek.cx.ml4.mr2.$,onClick:t},ev.createElement("span",{className:ek.cx.mr1.colorTextToolbarSecondary.$},(0,eq.t)("workspace_view.color.toolbar.cancel"))),ev.createElement(jk.zx,{className:ek.cx.mr8.$,onClick:()=>{n({workspaceId:e.id,colors:(0,oU.wD)(p)?[(0,jN.colorToHex)(p)]:[],onfulfilled:()=>r(r7.R.enqueue({message:(0,eq.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,eq.t)("workspace_view.toolbar.workspace_color_update_error");r(dl.l.error(e)),console.error(e)}}),t()}},ev.createElement("span",{className:"workspace_color_toolbar--saveText--EpfyL"},(0,eq.t)("workspace_view.color.toolbar.save"))))}let jD=(0,it.Y3)(function(e){let t=(0,eb.I0)(),a=(0,eq.t)("license_group_view.admins_modal.admins_for_workspace");return ev.createElement(ib.ge,{title:a,fixedTop:!0,onClose:()=>{t(ig.hV())}},ev.createElement("div",{className:"workspace_page--adminModal--nYSiS"},ev.createElement(UO,{members:e.workspace.admins.filter(e=>{var t;return null==(t=e.baseOrgUser)?void 0:t.user}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl}})||[],membersToShow:e.workspace.admins.length,canLeave:!1,removeHeader:!0,customAvatarRowStyle:"workspace_page--memberPopup--cGpZn text--fontPos13--xW8hS text--_fontBase--QdLsd"})))},"WORKSPACE_ADMINS_MODAL",it.Et.YES),jF=rv.t1.Mutation(async e=>{await BI.r.updateDescription(e)}),jM=(0,it.Y3)(function({workspace:e}){let t=(0,eb.I0)(),a=(0,rv.Db)(jF);return ev.createElement(N0.q,{title:(0,eq.t)("workspace_view.description_modal.title"),subtitle:ev.createElement("div",{className:ek.cx.mb16.$},ev.createElement(oc.x,{color:"secondary"},ev.createElement(eq.Tx,{id:"workspace_view.description_modal.subtitle",allWorkspacesText:ev.createElement("span",{className:ek.cx.fontSemiBold.$},(0,eq.t)("sidebar.browse.all_workspaces"))}))),initialName:e.description??"",placeholder:(0,eq.t)("workspace_view.description.placeholder"),submitText:(0,eq.t)("workspace_view.description.save"),onRename:r=>a({workspaceId:e.id,description:r}).then(()=>t(r7.R.enqueue({message:(0,eq.t)("workspace_view.description_update_updated")})),()=>{let e=(0,eq.t)("workspace_view.description_update_error");t(dl.l.error(e)),console.error(e)})})},"UpdateWorkspaceDescriptionModal");var jP=((ea=jP||{}).MEMBERS="MEMBERS",ea.ADMINS="ADMINS",ea);function jB(e){let t=(0,NQ.Bw)(),a=new Map([["MEMBERS",(0,eq.t)("workspace_view.members_modal.members")],["ADMINS",(0,eq.t)("workspace_view.members_modal.admins")]]),r=[];return a.forEach((a,n)=>{r.push(ev.createElement(t,{tab:n,mobileNavTabTitle:a,selectedTab:e.selectedTab,key:n,onClick:()=>e.setTab(n)},a))}),ev.createElement("div",{className:"workspace_members_modal--tabsContainer--wgUpd"},r)}function jU(e){return ev.createElement("div",{className:"workspace_members_modal--searchContainer--S1bTj modal--searchContainer--EA8ib"},ev.createElement(nN.E1,{className:"workspace_members_modal--searchBar--Zyf2W",focusOnMount:!0,query:e.query,clearSearch:()=>{e.onChange("")},onChange:e.onChange,hideXIcon:!0,hasTransparentBackground:!0,iconClassName:"workspace_members_modal--searchIcon--nY8Tt",placeholder:(0,eq.t)("workspace_view.members_modal.search_placeholder")}))}function jV(e){return ev.createElement("div",{className:"workspace_members_modal--emptyContainer--bp7DJ"},ev.createElement("div",{className:"workspace_members_modal--emptyState--jjXCZ text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.content))}let jW=(0,it.Y3)(function(e){var t,a,r,n;let i=(0,eb.I0)(),l=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),s=((null==(t=e.workspace)?void 0:t.members)||[]).slice().sort(l),o=((null==(a=e.workspace)?void 0:a.admins)||[]).slice().sort(l),c={};s.forEach(e=>{e.baseOrgUser&&(c[e.baseOrgUser.user.id]=e.permission)});let[d,m]=(0,ev.useState)("MEMBERS"),[u,_]=(0,ev.useState)(s),[p,g]=(0,ev.useState)(""),E=ev.createElement(jB,{dispatch:i,selectedTab:d,setTab:e=>{g(""),m(e);let t="MEMBERS"===e?s:o;_(t)}}),h=u.filter(e=>{var t,a;let r=null==(t=e.baseOrgUser)?void 0:t.user,n=p.toLocaleLowerCase();return!!(null==(a=null==r?void 0:r.email)?void 0:a.toLocaleLowerCase().includes(n))||!!(null==r?void 0:r.handle.toLocaleLowerCase().includes(n))}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[],f=ev.createElement(jU,{query:p,onChange:e=>g(e)}),v=ev.createElement(jV,{content:ev.createElement(eq.Tx,{id:"workspace_view.members_modal.no_members",workspaceName:null==(r=e.workspace)?void 0:r.name})}),b=ev.createElement(jV,{content:ev.createElement(eq.Tx,{id:"workspace_view.members_modal.no_admins",workspaceName:null==(n=e.workspace)?void 0:n.name})}),y=ev.createElement(jV,{content:ev.createElement(eq.Tx,{id:"workspace_view.members_modal.no_results",query:p})}),w=ev.createElement(cr.l,{className:"workspace_members_modal--outerContainer--JHmoo",innerClassName:"workspace_members_modal--membersContainer--f-7ds"},ev.createElement(UO,{members:h,showAdminBadge:e=>"ADMINS"!==d&&c[e.id]===ao.F9.ADMIN,membersToShow:h.length,canLeave:!1,removeHeader:!0,customAvatarRowStyle:"workspace_members_modal--memberPopup--d9LZV workspace_page--memberPopup--cGpZn text--fontPos13--xW8hS text--_fontBase--QdLsd admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",shouldIncludeUserEmailAddress:!0,onMemberClick:(e,t)=>{i(od.fv({view:"user",userId:t.id,userViewTab:Nx.l.INTERNAL_PROFILE})),i(ig.hV())}})),T=w;return"MEMBERS"===d?0===s.length?T=v:0===h.length&&(T=y):"ADMINS"===d&&0===o.length&&(T=b),ev.createElement(ib.ge,{title:E,headerSize:"large",fixedTop:!0,onClose:()=>{i(ig.hV())}},ev.createElement("div",{className:"workspace_members_modal--modalContainer---ik7x"},ev.createElement(tD.j,{direction:"vertical",height:"fill-parent",width:"fill-parent",spacing:0},"MEMBERS"===d&&s.length>0&&f," ",T)))},"WORKSPACE_MEMBERS_MODAL",it.Et.YES),jG=a(940093);function jj(e){var t;let{workspace:a,org:r}=e,n=(0,eb.I0)(),i=(0,eb.v9)(e=>e.currentUserOrgId),l=(0,eb.v9)(e=>e.avatarEditorState),s=(0,o8.A6)(),o=(null==a?void 0:a.canAdmin)??!1,[c,d]=ev.useState(!1),{canCreateTeam:m,cannotCreateTeamReason:u}=(0,gv.G3)(r,null==a?void 0:a.id),_=(0,vG.f)(),p=window.innerWidth<=(0,cx.z)(cL.Jbu),g=a?null==(t=a.mirroringLicenseGroup)?void 0:t.id:bO.u,E=a?a.id:wO.F,h=(0,oU.Le)(a),f=(0,oU.Zc)(a),v=(null==a?void 0:a.members)||[],b=()=>{if(i){let e=(0,oC.uH)(i);n(ig.K4({type:vS.d3,data:{licenseGroupId:e?void 0:g,workspaceId:e?E:void 0}}))}else n(od.Nf({previousView:s}))},y=ev.useCallback((e,t,r)=>{if(a){let i={workspace:{id:a.id,name:a.name??"",imgUrl:a.imgUrl},entrypoint:"workspace_page_view",sectionId:r,favoriteId:t};e?n(hd.lk(i)):n(hd.r_(i))}},[n,a]),w=()=>{n(ig.K4({type:jW,data:{workspace:e.workspace,tab:jP.MEMBERS}}))},T={kind:Uv.G.ICON_TEXT_BUTTON,key:Uv.y.VIEW_MEMBERS,displayText:v.length.toString(),onClick:e=>w(),icon:jG,svgStyleClass:tQ()(f?(0,oU.Vg)(f)?"workspace_page_header--iconTextButtonSvgForDarkBackground--ylvur workspace_page_header--iconTextButtonSvg--UbYwz":"workspace_page_header--iconTextButtonSvgForLightBackground--c-YLF workspace_page_header--iconTextButtonSvg--UbYwz":"workspace_page_header--iconTextButtonSvg--UbYwz"),styleClass:tQ()(f?(0,oU.Vg)(f)?"workspace_page_header--membersButtonForDarkBackground--Tcczc workspace_page_header--favoriteStarContainerForDarkBackground--KXzd9":"workspace_page_header--membersButtonForLightBackground--HhXA4 workspace_page_header--favoriteStarContainerForLightBackground--GXMcy":void 0),isLoading:e.isWorkspaceMembersLoading},x=ev.useMemo(()=>ev.createElement(h_.M,{setFavorite:y,favoriteType:ao.IK.WORKSPACE,resourceId:E,isFavoriteHeaderStar:!0,orgId:i,parentBackgroundColor:f}),[E,y,i,f]),N=function(){let e=(0,eb.I0)(),t=(0,uL.$0)(),a=(0,lR.dO)(),r=!(0,eT.BZ)().workspace_members_list;return n=>{let i=n.workspace.admins.some(e=>{var t;return(null==(t=e.baseOrgUser)?void 0:t.user.id)===a}),l=[];return(0,oC.uH)(t)&&i&&l.push({displayText:(0,eq.t)("workspace_view.toolbar.admin_settings"),callback:()=>{e(od.fv({view:"workspace",subView:ES.ep.ADMIN,workspaceId:n.workspace.id,selectedTab:ES.u5[0]}))}}),r&&l.push({displayText:(0,eq.t)("license_group_view.toolbar.view_admins"),callback:()=>{e(od.kp()),e(ig.K4({type:jD,data:{workspace:n.workspace}}))}}),l.length>0&&l.push({displayText:"",separator:!0}),l.push({displayText:(0,eq.t)("file_browser.copy_link"),callback:()=>{let t=(0,bE.i7)(n.workspace.id,n.org.id);e(mH.fB({url:t}))}}),n.workspace.canAdmin&&(l.push({displayText:(0,eq.t)("license_group_view.toolbar.change_icon"),callback:()=>{e((0,G2.X)({entity:n.workspace,entityType:bA.py.WORKSPACE,shape:"SQUARE"}))}}),l.push({displayText:(0,eq.t)("workspace_view.toolbar.change_color"),callback:n.onWorkspaceChangeColorClick}),l.push({displayText:(0,eq.t)("workspace_view.description.title"),callback:()=>{e(ig.K4({type:jM,data:{workspace:n.workspace}}))}})),l}}(),C=a&&r?N({workspace:a,org:r,onWorkspaceChangeColorClick:()=>d(!0)}):m&&p?[{displayText:(0,eq.t)("org_view.new_team"),callback:b}]:void 0,S=[];if(u===gv.mt.TEAM_CREATION_CONTROL?S.push({kind:Uv.G.CUSTOM,key:Uv.y.NEW_TEAM,element:ev.createElement(jw,{backgroundColor:f})}):m&&S.push({kind:Uv.G.CUSTOM,key:Uv.y.NEW_TEAM,element:ev.createElement(UN,{onClick:b,variant:h?"inverted-inverse":"inverse",text:(0,eq.t)("license_group_view.toolbar.new_team_button")})}),e.showMembersButton&&S.push(T),_&&a&&S.push({kind:Uv.G.CUSTOM_BUTTON,key:Uv.y.FAVORITE,element:x,styleClass:tQ()(f?(0,oU.Vg)(f)?"workspace_page_header--favoriteStarContainerForDarkBackground--KXzd9":"workspace_page_header--favoriteStarContainerForLightBackground--GXMcy":void 0)}),!a)return ev.createElement(jb,{title:(0,eq.t)("license_group_view.meta.unassigned_title",{orgName:r.name}),rightSideActions:S});let k=C?{kind:Uv.G.CUSTOM,key:Uv.y.DROPDOWN,element:ev.createElement(jx,{buttonAriaLabel:(0,eq.t)("org_view.page_header_dropdown_label"),dropdownKey:`workspace-context-${a.id}`,dropdownOptions:C,dropdownColorClassName:f?(0,oU.Vg)(f)?"workspace_page_header--dropdownColorsForDarkBackground--heOfu":"workspace_page_header--dropdownColorsForLightBackground--RUg--":void 0})}:void 0;return ev.createElement(jb,{avatar:o?ev.createElement(bD.U6,{avatarEditorState:l,entityType:bA.py.WORKSPACE,entity:a,dispatch:n,size:40}):ev.createElement(ds.zf,{entity:a,size:40}),title:f&&(0,oU.Vg)(f)?ev.createElement("span",{className:"workspace_page_header--titleColorForDarkBackground--KfdSY"},a.name):a.name,badge:(0,eT.BZ)().workspace_privacy_view&&a.orgAccess===ao.Zn.SECRET?ev.createElement("div",{"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,eq.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ev.createElement(t3.JO,{icon:"lock-16"})):void 0,rightSideActions:S,rightSideOfTitleAction:k,belowHeaderItem:c?ev.createElement(jO,{workspace:a,onClose:()=>d(!1)}):void 0,textColor:h?"oninverse":void 0})}function jH(e){var t;let a=(0,eb.I0)(),r=null==(t=e.workspace)?void 0:t.members,n=ev.useMemo(()=>r||[],[r]),i=ev.useMemo(()=>n.slice(0).sort(()=>Math.random()-.5),[n]),l={};return n.forEach(e=>{e.baseOrgUser&&(l[e.baseOrgUser.user.id]=e.permission)}),ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"workspace_page_meta_content--sidebarDivider--Zah0S"}),ev.createElement("div",{className:"workspace_page_meta_content--workspaceMembersContainer--DBlXQ"},ev.createElement("div",{className:"workspace_page_meta_content--membersHeader--E0gIh text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,eq.t)("workspace_view.sidebar.members")),ev.createElement(UO,{removeHeader:!0,members:i.map(e=>{var t;return null==(t=e.baseOrgUser)?void 0:t.user}).filter(e=>!!e),onMemberClick:(e,t)=>{a(od.fv({view:"user",userId:t.id,userViewTab:Nx.l.INTERNAL_PROFILE}))},canLeave:!1,showAdminBadge:e=>l[e.id]===ao.F9.ADMIN,customOverflowRow:ev.createElement(ev.Fragment,null,ev.createElement("button",{className:"workspace_page_meta_content--seeAllMembers--k12xq text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{a(ig.K4({type:jW,data:{workspace:e.workspace,tab:jP.MEMBERS}}))}},(0,eq.t)("workspace_view.sidebar.see_all_members")))})))}let j$=(0,NQ.Bw)();function jz(){var e,t,a,r;let n=(0,o8.A6)(),i=(0,uL.Ng)(),l=(0,dV.mU)(dH.WorkspacesDirectoryView,{orgId:i.id}),s="loaded"!==l.status,o=(null==(t=null==(e=l.data)?void 0:e.org)?void 0:t.workspaces)??[],c=s?[]:[...o],d=null;n.workspaceId&&(d=c.find(e=>{var t;return e.id===n.workspaceId||(null==(t=e.mirroringLicenseGroup)?void 0:t.id)===n.workspaceId}));let m=(0,eq.t)("view_selectors.file_browser.other_teams");d&&(m=d.name),(0,hu.x6)(m);let u=(0,oU.Zc)(d),_=!!(0,eT.BZ)().workspace_members_list&&!!n.workspaceId,p=(0,dV.mU)(dH.WorkspacePageMembersView,{workspaceId:n.workspaceId??""},{enabled:_}),g="loaded"===p.status,E="loading"===p.status,h=(null==(r=null==(a=p.data)?void 0:a.workspace)?void 0:r.members)??[],f=d?{...d,members:h}:void 0,v=(null==d?void 0:d.admins)??[],b=_&&g&&h.length>0,y=_&&(E||h.length>0||v.length>0),w=(0,eT.BZ)().workspace_members_list_analytics&&_&&"loading"!==p.status;return(ev.useEffect(()=>{var e,t;if(w)try{(0,eK.L9)("workspace_members_list_load",{orgId:i.id,workspaceId:n.workspaceId,status:p.status,memberCount:((null==(t=null==(e=p.data)?void 0:e.workspace)?void 0:t.members)??[]).length,errors:JSON.stringify(p.errors)})}catch(e){console.error(e)}},[w,i.id,n.workspaceId,p]),s&&n.workspaceId)?ev.createElement(ax.jz,null):(0,eT.BZ)().workspace_privacy_view&&d&&!(null==d?void 0:d.canView)?ev.createElement(GY,{resourceType:di.Hy.WORKSPACE}):ev.createElement(da.p,{header:ev.createElement(jj,{workspace:f,org:i,isWorkspaceMembersLoading:E,showMembersButton:y}),headerColor:u,content:ev.createElement("div",{className:"workspace_page--gridPadding--KPOyN"},ev.createElement(U7,{workspace:d})),toolbar:ev.createElement(jv,{tabs:[ev.createElement(j$,{tab:"Teams",selectedTab:"Teams",key:"Teams",mobileNavTabTitle:(0,eq.t)("file_browser.teams")},(0,eq.t)("file_browser.teams"))]}),noFileBrowserToolbar:!0,shouldHideDivider:!0,metaContent:b?ev.createElement(jH,{workspace:f}):void 0})}var jK=a(675185),jZ=a(622003),jq=a(718160);let jY="has_seen_jamboard_importer_callout",jJ=(0,o_.n_)(jY),jQ=(0,o_.n_)("signed_up_from_figjam_jamboard");function jX(){let e=(0,eb.I0)(),t=(0,r9.Dv)(jJ),a=(0,r9.Dv)(jQ),r=(0,r9.Dv)(ou.JT),n=(0,r9.Dv)(ou.fI),i=(0,r9.Dv)(jZ.je),l=(0,pa.o3)({enabled:!!(0,eT.BZ)().figjam_jamboard_offer}),s=(0,pa.Ou)(null==l?void 0:l.promoExpirationDate),{show:o,isShowing:c,complete:d}=(0,so.I)({id:sd.G.FigJamJamboardImporterCallout,priority:su.b4.HIGH_PRIORITY_MODAL},[t,a,r,n]),m=(0,jK.d)(o);return ev.useEffect(()=>{m.current({canShow:(e,t,a,r)=>{let n=new Date().getTime()-a.getTime()>1728e5;return!e&&n&&!t&&!r&&i&&!!l&&l.ineligibilityReason!==pa.ib.NO_IMPORTED_JAMBOARD_FILES&&!!s}})},[m,l,s,i]),ev.createElement(Tn.ZZ,{isShowing:c,trackingContextName:"Jamboard Importer Button Callout",targetKey:RN.V,userFlagOnShow:jY,onTargetLost:d,onClose:d,primaryCta:{label:ev.createElement(eq.Tx,{id:"rcs.jamboard.importer_callout.primary_cta"}),type:"button",onClick:()=>{d(),e((0,ig.K4)({type:wh.wZ}))},ctaTrackingDescriptor:cC.y.GET_STARTED},secondaryCta:{label:ev.createElement(eq.Tx,{id:"rcs.jamboard.importer_callout.secondary_cta"}),type:"button",onClick:d,ctaTrackingDescriptor:cC.y.NOT_NOW},title:ev.createElement(eq.Tx,{id:"rcs.jamboard.importer_callout.title"}),media:ev.createElement(jq.S,{src:"https://static.figma.com/uploads/0d827f2ef59eca7e23348ab3935984c306b2ed8d",alt:"",aspectRatio:300/146}),description:ev.createElement(eq.Tx,{id:"rcs.jamboard.importer_callout.desc"}),disableHighlight:!0})}var j0=a(1085),j1=a(401321),j2=a(509175),j3=a(227377);let j4="seen_pro_onboarding_unlimited_files_overlay",j8=(0,o_.n_)(j4);function j5({teamId:e,canCreateFigjamBoard:t}){var a;let r=(0,r9.Dv)(j8),n=(0,r9.Dv)(j0.q),i=(0,eb.v9)(e=>e.userTeamFlags),l=null==(a=i[e])?void 0:a[j3.m1],{show:s,isShowing:o,complete:c}=(0,so.I)({id:sd.G.ProOnboardingUnlimitedFilesOverlay,priority:su.b4.DEFAULT_MODAL,experiment:{check:nm.kt,predicate:e=>e,postCheck:e=>!e}},[r,n]);return((0,eZ.O)(()=>{l&&s({canShow:(t,a)=>a.some(t=>t.id===e)})}),o)?ev.createElement(dP.R,{isShowing:o,userFlagOnShow:j4},ev.createElement(e3.Ui,{name:j1.R.getTooltipTrackingContext("Unlimited Files"),properties:j1.R.getTrackingProperties(e)},ev.createElement(j2.DC,{dismissModal:c,canCreateFigjamBoard:t}))):null}var j9=a(335863);class j6 extends ev.PureComponent{constructor(e){super(e),this.disallowAnchorHrefTask=new j9.S,this.onClick=e=>{this.state.useAnchorHref?(this.props.isSelected&&this.props.selectPinnedFile(this.props.file.file,e),this.props.openFile(this.props.file.file,e,this.props.index)):(this.props.selectPinnedFile(this.props.file.file,e),this.disallowAnchorHrefTask.reset(),this.disallowAnchorHrefTask.scheduleOnce(()=>{this.setState({useAnchorHref:!1})},500),this.setState({useAnchorHref:!0}),e.preventDefault(),e.stopPropagation())},this.onContextMenu=e=>{this.props.onFileContextMenu(this.props.file.file,e,this.props.index)},this.state={useAnchorHref:!1}}componentWillUnmount(){this.disallowAnchorHrefTask.reset()}render(){let e=this.props.file.file,t=this.state.useAnchorHref?(0,bp.z4)({file:this.props.file.file}):void 0;return t&&(t=(0,av.xq)(t,this.props.user),t=(0,av.me)(t,this.props.currentOrgId,this.props.currentTeamId,this.props.selectedView)),ev.createElement("a",{className:tQ()(ha.WO,{[ha.vU]:this.props.isSelected}),href:t,rel:"noopener",onClick:this.onClick,onContextMenu:this.onContextMenu},ev.createElement("div",{className:ha.D4},ev.createElement(fK.pL,{file:{key:e.key,editor_type:e.editorType,client_meta:(0,eT.BZ)().thumbnail_lg_client_meta?e.checkpointClientMeta||null:e.clientMeta,thumbnail_url:e.thumbnailUrl,thumbnail_url_override:e.thumbnailUrlOverride,thumbnail_guid:e.thumbnailGuid,has_file_link_password:e.hasFileLinkPassword,link_access:e.linkAccess,touched_at:null,updated_at:null},fillContainer:!0})),ev.createElement("div",{className:ha.sc},ev.createElement("div",{className:ha.xM},ev.createElement(oc.x,{fontSize:13,fontWeight:"medium",truncate:!0},e.name)),ev.createElement("div",{className:ha.Qy},this.props.file.pinnedByUser?ev.createElement(oc.x,{i18nId:"tile.file_tile.pinned_by_user",i18nParams:{name:this.props.file.pinnedByUser.name},fontSize:11,fontWeight:"regular",truncate:!0}):ev.createElement(oc.x,{i18nId:"tile.file_tile.pinned_just_now",fontSize:11,fontWeight:"regular",truncate:!0}))))}}j6.displayName="PinnedFileTile";class j7 extends ev.Component{constructor(){super(...arguments),this.TILE_ACTIONS_DROPDOWN="tile-actions-dropdown",this.containerRef=ev.createRef(),this.innerContainerRef=ev.createRef(),this.fileTilesRef=ev.createRef(),this.onFileContextMenu=(e,t,a)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};this.showDropdown({type:EA.YU.PINNED_FILE,file:e},t,r,a)},this.dispatchShowDropdown=(e,t,a,r)=>{this.props.dispatch(od.SP({type:this.TILE_ACTIONS_DROPDOWN,data:{tile:e,targetRect:t,index:a,enableRestore:r}}))},this.selectPinnedFile=(e,t)=>{if(this.props.dropdownShown){this.props.dispatch(od.kp());return}if(eN.ZP.mobile||eN.ZP.tablet){ew.default.redirect((0,bp.z4)({file:e}));return}t.stopPropagation();let a=this.props.tileSelect&&this.props.tileSelect[E4.m.PINNED_FILES]&&this.props.tileSelect[E4.m.PINNED_FILES][e.key];if(t.ctrlKey||t.metaKey||t.shiftKey)a?this.props.dispatch(EY.Fm({tileKeys:[e.key]})):this.props.dispatch(EY.pz({type:E4.m.PINNED_FILES,tiles:[{type:EA.YU.PINNED_FILE,file:e}]}));else{if(a)return;this.props.dispatch(EY.LA()),this.props.dispatch(EY.pz({type:E4.m.PINNED_FILES,tiles:[{type:EA.YU.PINNED_FILE,file:e}]}))}},this.openFile=(e,t)=>{var a,r,n;ey.YO&&(0,eK.L9)("Open File Click",{fileKey:e.key,uiSelectedView:JSON.stringify(this.props.selectedView)}),this.props.dispatch(od.ku({fileKey:e.key,entrypoint:"pinned files"}));let i=eN.ZP.mac?t.metaKey:t.ctrlKey,l=null;if(i&&t.shiftKey?l=ey.ih.FOCAL_TAB:i?l=ey.ih.BACKGROUND_TAB:t.shiftKey&&(l=ey.ih.NEW_WINDOW),null!=l){this.props.dispatch(od.kp()),ey.YO&&(t.preventDefault(),t.stopPropagation(),ey.YO.openFile({fileKey:e.key,title:e.name||"Untitled",editorType:e.editorType,target:l,isTeamTemplate:e.isTeamTemplate,userId:null==(a=this.props.user)?void 0:a.id}));return}t.preventDefault(),t.stopPropagation(),this.props.dispatch(Eq.qB({planId:this.props.currentOrgId||E8.y}));let s=this.props.selectedView,o=s&&("recentsAndSharing"===s.view||"folder"===s.view)?s:void 0,c=(0,eT.BZ)().ps_benchmark;(0,av.km)(this.props.currentOrgId,null==(r=this.props.fileByKey[e.key])?void 0:r.parent_org_id,this.props.currentTeamId,null==(n=this.props.fileByKey[e.key])?void 0:n.team_id)?(0,av.wD)(e.key,this.props.user,this.props.currentOrgId,c?this.props.currentTeamId:null,this.props.selectedView):this.props.dispatch(od.fv({view:"fullscreen",fileKey:e.key,editorType:e.editorType??"design",prevSelectedView:o}))},this.resetTileSelection=e=>{let t=e.target===this.containerRef.current||e.target===this.innerContainerRef.current||e.target===this.fileTilesRef.current||e.target===this.sortFilterContainer||this.importPrompt&&this.importPrompt.contains(e.target);t&&(this.props.dispatch(od.kp()),this.props.dispatch(EY.LA()))}}showDropdown(e,t,a,r){let n=t.shiftKey&&t.altKey;if(e.type===EA.YU.PINNED_FILE&&this.props.tileSelect&&this.props.tileSelect[E4.m.PINNED_FILES]){if(this.props.tileSelect[E4.m.PINNED_FILES][e.file.key]){this.dispatchShowDropdown(e,a,r,n);return}if(t.shiftKey||t.metaKey||t.ctrlKey){this.props.dispatch(EY.pz({type:E4.m.PINNED_FILES,tiles:[e]})),this.dispatchShowDropdown(e,a,r,n);return}}t.shiftKey||t.metaKey||t.ctrlKey||this.props.dispatch(EY.LA()),this.props.dispatch(EY.pz({type:E4.m.PINNED_FILES,tiles:[e]})),this.dispatchShowDropdown(e,a,r,n)}renderDropdown(){var e;let t=this.props.dropdownShown,a=!1,r=null;return t&&t.type===this.TILE_ACTIONS_DROPDOWN&&t.data&&t.data.tile&&t.data.tile.type===EA.YU.PINNED_FILE&&(a=!0,r=null==(e=null==t?void 0:t.data)?void 0:e.tile),ev.createElement(hh.b,{...this.props,tile:r,openTile:e=>{(null==r?void 0:r.file)&&this.openFile(r.file,e)},dropdownVisible:a})}render(){let e=this.props.tileSelect[E4.m.PINNED_FILES],t=hv.nC+` ${ha.gm}`;if(eN.ZP.mobile&&eN.ZP.safari&&this.containerRef.current){let e=this.containerRef.current.className;window.addEventListener("load",()=>{this.containerRef.current&&(this.containerRef.current.className=""),setTimeout(()=>{this.containerRef.current&&(this.containerRef.current.className=e)},500)})}return ev.createElement("div",{className:hv.cx,onMouseDown:this.resetTileSelection,ref:this.containerRef},ev.createElement("div",{className:t,ref:this.innerContainerRef},ev.createElement("div",{ref:this.fileTilesRef,key:"grid",className:tQ()(hv._D,hv.uv)},this.props.files.map((t,a)=>{let r=!!(e&&e[t.file.key]);return ev.createElement(j6,{file:t,openFile:this.openFile,index:a,onFileContextMenu:this.onFileContextMenu,isSelected:r,selectPinnedFile:this.selectPinnedFile,key:`file-${t.file.key}`,currentOrgId:this.props.currentOrgId,currentTeamId:this.props.currentTeamId,selectedView:this.props.selectedView,user:this.props.user})}))),this.renderDropdown())}}j7.displayName="PinnedFileTiles";let He=(0,eb.$j)(e=>({dropdownShown:e.dropdownShown,selectedView:e.selectedView,tileSelect:e.tileSelect,fileByKey:e.fileByKey,currentOrgId:e.currentUserOrgId,currentTeamId:e.currentTeamId,user:e.user}))(j7);function Ht(e){return ev.createElement("div",{className:tQ()("starter_team_overview_item--container--OjHlT",{"starter_team_overview_item--containerDisabled--Flvi2":e.disabled,"starter_team_overview_item--containerDefault--k-D7W":!e.disabled})},ev.createElement(eD.n,{className:"starter_team_overview_item--icon--Y9kRi",svg:e.icon}),ev.createElement("p",{className:"starter_team_overview_item--text--R7Ltk"},e.text))}let Ha=a(622928),Hr=a(783778);function Hn(e){var t,a,r,n;let i=(0,dV.mU)(dH.TeamFileCountsByTeamId,{teamId:e.teamId});if("loaded"!==i.status)return null;let l=(null==(a=null==(t=i.data.team)?void 0:t.teamFileCounts)?void 0:a.designFileCount)??0,s=(null==(n=null==(r=i.data.team)?void 0:r.teamFileCounts)?void 0:n.whiteboardFileCount)??0;return ev.createElement(ev.Fragment,null,ev.createElement(Ht,{icon:Hr,text:(0,eq.t)("team_view.starter_team.num_of_figma_files_user",{numFigmaFilesUsed:l,maxFreeFiles:gB.Hf})}),ev.createElement(Ht,{icon:Ha,text:(0,eq.t)("team_view.starter_team.num_of_figjam_files_user",{numFigjamFilesUsed:s,maxFreeFiles:gB.Hf})}))}function Hi(e){return ev.createElement("div",{className:"starter_team_overview--container--H-8ly text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"StarterTeamOverview"},ev.createElement("div",{className:"starter_team_overview--header--lkefz text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"file_browser.folder.starter_team_overview"})),ev.createElement("div",{className:"starter_team_overview--detailsWithFigjam--hwrQo"},ev.createElement(Hn,{teamId:e.team.id})))}function Hl({team:e}){let t=(0,eb.I0)(),a=(0,nm.Uh)(),r=ev.createElement(eA.pJ,{key:"upgrade_button",className:tQ()(ek.cx.flex.itemsCenter.justifyCenter.mt8.$,"starter_team_project_upsell_footer--primaryCtaButton--jVvJP basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"),innerText:(0,eq.t)("file_browser.starter_team.view_plans"),onClick:()=>{t((0,ig.K4)({type:_8.nY,data:{teamId:e.id,upsellSource:g0.V.STARTER_TEAM_PROJECT_FOOTER}}))},trackingProperties:{trackingDescriptor:cC.y.VIEW_PLANS,showSingleEditorCopyChangeVariantUi:a}},ev.createElement(eq.Tx,{id:"file_browser.starter_team.view_plans"})),n=a?ev.createElement(oc.x,{fontSize:13,i18nId:"file_browser.starter_folder.folder_upgrade_info_single_editor"}):ev.createElement(oc.x,{fontSize:13,i18nId:"file_browser.starter_folder.folder_upgrade_info"});return ev.createElement("div",{className:tQ()(ek.cx.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_project_upsell_footer--borderStyle--0uh0u"),"data-testid":"StarterTeamProjectUpsellFooter"},ev.createElement("div",{className:tQ()(ek.cx.flex.flexColumn.itemsCenter.lh24.$,"starter_team_project_upsell_footer--contentWrapper--rw96h")},ev.createElement(oc.x,{fontWeight:"semi-bold",fontSize:18,i18nId:"file_browser.starter_folder.ready_for_an_upgrade"}),ev.createElement("div",{className:ek.cx.alignCenter.mt8.$},n),ev.createElement(Hn,{teamId:e.id}),r))}let Hs="upgrade_section--sidebarDivider--E8pmR",Ho="upgrade_section--teamProUpgrade--o-k6g text--fontPos11--2LvXf text--_fontBase--QdLsd",Hc="upgrade_section--upsellDescription--71x2h text--fontPos13--xW8hS text--_fontBase--QdLsd";class Hd extends ev.Component{constructor(){super(...arguments),this.canSeeProUpsell=()=>this.props.isTeamStarter&&this.props.canUserUpgradeTeamToPro,this.canSeeSingleTeamOrgUpsell=()=>this.props.canUserUpgradeTeamToOrg&&this.props.orgUpsellEligibility===vb.SINGLE_TEAM,this.canSeeMultiTeamOrgUpsell=()=>this.props.canUserUpgradeTeamToOrg&&this.props.orgUpsellEligibility===vb.MULTIPLE_TEAMS,this.getOrgUpgradePrompt=()=>this.canSeeSingleTeamOrgUpsell()?(0,eq.t)("team_view.upgrade.org_upgrade"):this.canSeeMultiTeamOrgUpsell()?(0,eq.t)("team_view.upgrade.multi_team_org_upgrade"):void 0,this.getTrackingContextName=()=>this.canSeeSingleTeamOrgUpsell()?g0.V.SINGLE_TEAM_EVERGREEN_ORG_UPGRADE_SECTION:this.canSeeMultiTeamOrgUpsell()?g0.V.MULTI_TEAM_EVERGREEN_ORG_UPGRADE_SECTION:this.props.canSeeProTrialUx?g0.V.PRO_TRIAL_UPSELL_MODAL:g0.V.UPGRADE_SECTION}render(){let e=this.canSeeSingleTeamOrgUpsell()||this.canSeeMultiTeamOrgUpsell();return this.canSeeProUpsell()||e||this.props.canSeeProTrialUx?e?ev.createElement(e3.Ui,{name:this.getTrackingContextName(),properties:{buttonColor:hi.t.BLUE}},ev.createElement("div",{className:Hs}),ev.createElement("p",{className:Hc},this.getOrgUpgradePrompt()),ev.createElement("div",{className:Ho},ev.createElement(eA.RS,{onClick:this.props.launchOrgUpgrade,trackingProperties:{teamId:this.props.teamId,trackingDescriptor:cC.y.UPGRADE,upsellSource:this.getTrackingContextName()}},ev.createElement(eq.Tx,{id:"team_view.upgrade.upgrade"})))):this.props.canSeeProTrialUx?ev.createElement(e3.Ui,{name:this.getTrackingContextName(),properties:h7.pl.getTrackingProperties()},ev.createElement("div",{className:Hs}),ev.createElement("p",{className:"upgrade_section--upsellTitle--hMYNt text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement(oc.x,{i18nId:"team_view.upgrade.pro_trials.title",fontSize:13,fontWeight:"medium"})),ev.createElement("p",{className:Hc},ev.createElement(oc.x,{i18nId:"team_view.upgrade.pro_trials.description",fontSize:13})),ev.createElement("div",{className:Ho},ev.createElement(eA.RS,{onClick:this.props.showPlanComparisonModal(this.getTrackingContextName()),trackingProperties:{teamId:this.props.teamId,trackingDescriptor:cC.y.UPGRADE_TO_PROFESSIONAL}},ev.createElement(eq.Tx,{id:"team_view.upgrade.pro_trials.upgrade_to_professional_cta"})))):ev.createElement(e3.Ui,{name:this.getTrackingContextName()},ev.createElement("div",{className:Hs}),ev.createElement("p",{className:Hc},ev.createElement(eA.Z6,{onClick:this.props.showPlanComparisonModal(this.getTrackingContextName()),trackingProperties:{trackingDescriptor:cC.y.UPGRADE_YOUR_TEAM},trusted:!0},ev.createElement(eq.Tx,{id:"team_view.upgrade.upgrade_your_team"})),ev.createElement(eq.Tx,{id:"team_view.upgrade.for_unlimited_files_projects_and_customizable_team_libraries"}))):null}}Hd.displayName="UpgradeSection";let Hm=(0,eb.$j)((e,t)=>{var a;let r=e.teams[t.teamId],n=r&&!r.org_id&&!r.subscription&&(0,uR.canEditTeam)(r.id,e);return{canUserUpgradeTeamToPro:n,orgUpsellEligibility:vN(e,e),isTeamStarter:r&&!(0,gB.e3)(r),canUserUpgradeTeamToOrg:vw(e,r),userIsInAnOrg:(0,_q.bg)(e),userId:(null==(a=e.user)?void 0:a.id)||null,userFlags:e.userFlags}},null,(e,t,a)=>{let{orgUpsellEligibility:r}=e,{dispatch:n}=t;return{showPlanComparisonModal:e=>()=>{n((0,ig.K4)({type:_8.nY,data:{teamId:a.teamId,upsellSource:e}}))},launchOrgUpgrade:()=>{r===vb.SINGLE_TEAM&&n((0,ig.K4)({type:wn,data:{dispatch:n,hasSeenOrgDisclaimerBanner:wi.A in e.userFlags,upsellSource:g0.V.ORG_UPGRADE_SECTION}})),r===vb.MULTIPLE_TEAMS&&n((0,ig.K4)({type:y5,data:{upsellSource:g0.V.ORG_UPGRADE_SECTION}}))},...e,...a}})(Hd);function Hu(e){let t=(0,Wb.zy)(e.teamId),a=h7.pl.canSeeProTrialUx(t);return ev.createElement(Hm,{teamId:e.teamId,canSeeProTrialUx:a})}function H_(e){var t,a;let{selectedView:r,userFlags:n,userTeamFlags:i,userEduVerified:l,loadedFolders:s,isFreeUser:o,userAnalyticsData:c,...d}=(0,Uk.c)(e=>{var t;return{selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!(null==(t=e.user)?void 0:t.student_validated_at),loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,uR.getPermissionsState)(e)}}),m=(0,eb.I0)(),u=(0,dV.mU)(dH.EduOffboardingData,{}),{teamId:_,selectedTab:p}=e,g=d.teams[_],E=!!(null==g?void 0:g.org_id),h=!!(null==g?void 0:g.subscription),f=_&&(0,uR.canAdminTeam)(_,d);(0,ev.useEffect)(()=>{(0,eT.BZ)().requires_action_3ds_banner&&_&&!E&&h&&f&&m(gF.H2({teamId:_}))},[m,_,E,h,f]);let v=(0,eb.v9)(e=>{var t;return null==(t=e.teamBilling)?void 0:t.summary}),b=fE(ao._g.TEAM,g,_,{selectedView:r,userFlags:n,userTeamFlags:i,selectedTab:p,loadedFolders:s,isFreeUser:o,userAnalyticsData:c,eduPeriodEnd:null==(a=null==(t=u.data)?void 0:t.currentUser)?void 0:a.eduPeriodEnd,billingSummary:v,...d},m);if(!b)return ev.createElement("div",null);let y=ff({resourceType:ao._g.TEAM,teamId:_},b),w=b.severity===hj.WARN?hH:"",T=b.bannerClassName||"",x=`${h0} ${w} ${T}`;return ev.createElement("div",{className:x},ev.createElement(h5,{...b,tracking:y}))}var Hp=a(820767);class Hg extends ev.PureComponent{constructor(){super(...arguments),this.state={contributors:null},this.viewUser=(e,t)=>{this.props.dispatch(od.fv({view:"user",userId:t.id,userViewTab:Nx.l.INTERNAL_PROFILE}))}}componentDidMount(){Hp.v.getContributors({folderId:this.props.folderId}).then(e=>{this.setState({contributors:e.data.meta})}).catch(e=>{console.warn("Unable to load project contributors")})}render(){let e=this.viewUser;return ev.createElement("div",{className:"contributors--contributors--q3Ycv text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement("div",{className:"contributors--contributorsHeader--74xhE"},ev.createElement(eq.Tx,{id:"file_browser.folder.recent_contributors"})),ev.createElement(dr.u,{className:"contributors--loading--TWuwa",isLoading:!this.state.contributors},()=>ev.createElement("div",null,this.state.contributors&&this.state.contributors.filter(e=>e.user).map(t=>ev.createElement(ds.oJ,{key:t.user.id,className:"contributors--contributorAvatar--3GcQw",entity:t.user,size:24,showIsMe:t.user.id===this.props.currentUserId,onClick:e})),this.state.contributors&&0===this.state.contributors.length&&ev.createElement("div",{className:"contributors--contributorEmpty--A202a text--fontPos11--2LvXf text--_fontBase--QdLsd"},ev.createElement(eq.Tx,{id:"file_browser.folder.people_who_have_edited_this_project_will_appear_here"})))))}}let HE=(0,eb.$j)((e,t)=>{let a=e.folders[t.folderId],r=a&&a.team_id?e.teams[a.team_id]:null,n=r&&r.org_id?e.orgById[r.org_id]:null;return{folderOrg:n,currentUserId:e.user?e.user.id:null}})(Hg);var Hh=a(712137);let Hf=a(704062);function Hv(e){let t=(0,eb.I0)(),a=ev.useRef(null),r=(0,eb.v9)(({dropdownShown:e})=>e),n=e.dropdownKey,i=n&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,l=EG.findDOMNode(a.current),s=[];return e.canCreateDesignFile&&s.push(ev.createElement(gb.j.Option,{key:"new-design-file",children:ev.createElement(ev.Fragment,null,ev.createElement(hl.aA,{className:ek.cx.pr6.$,size:hl.Sj.SMALL,type:hl.I1.DESIGN}),ev.createElement(eq.Tx,{id:"file_browser.tool_bar.new_design_file"})),onClick:e.onNewDesignFileClick})),e.canCreateWhiteBoardFile&&s.push(ev.createElement(gb.j.Option,{key:"new-figjam-board",children:ev.createElement(ev.Fragment,null,ev.createElement(hl.aA,{className:ek.cx.pr6.$,size:hl.Sj.SMALL,type:hl.I1.WHITEBOARD}),ev.createElement(eq.Tx,{id:"file_browser.tool_bar.new_figjam_board"})),onClick:e.onNewWhiteBoardClick})),ev.createElement("button",{className:tQ()(ek.cx.flex.itemsCenter.$,"new_file_toolbar_dropdown--newFileDropdown--DAbbz"),ref:a,onClick:a=>{e.dropdownKey&&l&&t(od.SP({type:e.dropdownKey,data:{targetRect:null==l?void 0:l.getBoundingClientRect()}}))}},ev.createElement(eD.n,{svg:Hf,className:tQ()(ek.cx.pr6.$,"new_file_toolbar_dropdown--svg--s55-I")}),ev.createElement(eq.Tx,{id:"file_browser.tool_bar.new"}),i&&ev.createElement(AI.AQ,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},s))}let Hb=(0,it.Y3)(function({folder:e}){let t=(0,eb.I0)();return ev.createElement(N0.q,{initialName:e.name,placeholder:(0,eq.t)("resource_rename_modal.project.placeholder"),submitText:(0,eq.t)("resource_rename_modal.project.submit"),onRename:a=>t((0,hR.p0)({folderId:e.id,folderName:a}))})},"FolderRenameModal"),Hy=a(267837),Hw=a(428179);function HT(e){var t,a,r,n;let i=(0,eb.I0)(),l=ev.useRef(null),s=(0,eb.v9)(({dropdownShown:e})=>e),o=(0,eb.v9)(t=>(0,EF.TC)(e.folder.id,t))??null,c=(0,eb.v9)(e=>e.favorites.collapsedCustomSections),d=(0,vG.f)(),m=(0,g6.E)({currentOrgId:o,currentTeamId:null}),u=ev.useMemo(()=>{if("loaded"===m.status){let t=(0,fk.W7)(m.data,e.folder.id);return t}},[m,e.folder.id]);if("loaded"!==m.status)return ev.createElement("div",{className:ek.cx.flex.itemsCenter.colorIcon.$},ev.createElement(eD.n,{svg:Hy}));let _=(0,fk.Mi)(m.data,o),p=e.dropdownKey,g=p&&s&&s.type===e.dropdownKey&&s.data&&s.data.targetRect,E=l.current&&(null==(t=null==s?void 0:s.data)?void 0:t.targetRef)===l.current&&(null==s?void 0:s.type)===bF.C8,h=l.current,f=[];return e.folder.canCreateDesignFile&&f.push(ev.createElement(gb.j.Option,{key:"import",children:ev.createElement(eq.Tx,{id:"file_browser.folder.import"}),onClick:e.onImportClick})),e.folder.canView&&f.push(ev.createElement(gb.j.Option,{key:"share",children:ev.createElement(eq.Tx,{id:"file_browser.folder.share"}),onClick:e.onShareClick})),e.setFavorite&&(d?f.push(ev.createElement(gb.j.Option,{key:"add-to-favorites-section",children:ev.createElement("div",{className:ek.cx.flex.justifyBetween.itemsCenter.w150.$},ev.createElement(eq.Tx,{id:"favorited_resources.add_to_sidebar"}),ev.createElement(eD.n,{svg:Hw})),onClick:t=>{t.stopPropagation(),l.current&&i(od.SP({type:bF.C8,data:{targetRect:h.getBoundingClientRect(),targetRef:h,resourceId:e.folder.id}}))}})):f.push(ev.createElement(gb.j.Option,{key:"shaadd-to-favorites-section",children:e.folder.is_subscribed?ev.createElement(eq.Tx,{id:"sidebar.remove_from_favorites"}):ev.createElement(eq.Tx,{id:"sidebar.add_to_favorites"}),onClick:t=>{t.stopPropagation(),i(vn.FH({folderId:e.folder.id,folderName:e.folder.path,teamId:e.folder.team_id,isSubscribed:!e.folder.is_subscribed}))}}))),ev.createElement("button",{className:ek.cx.flex.itemsCenter.colorIcon.$,ref:l,onClick:t=>{e.dropdownKey&&h&&i(od.SP({type:e.dropdownKey,data:{targetRect:null==h?void 0:h.getBoundingClientRect()}}))}},ev.createElement(eD.n,{svg:Hy}),g&&ev.createElement(AI.AQ,{targetRect:s.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},f),E&&ev.createElement(bF.c3,{updateFavorite:(t,a)=>{(!_||t)&&(e.setFavorite&&e.setFavorite(t,null==u?void 0:u.resource.id,a),t&&a&&(c.delete(a),i(hd.l6({collapsedCustomSections:c})),bl.Ox({type:"topLevel",id:"custom",orgId:o,sectionId:a},!0)))},resourceId:e.folder.id,resourceType:ao.IK.FOLDER,isFavorited:void 0!==u,currentSectionId:(null==u?void 0:u.resource.sidebarSectionId)??void 0,sections:m.data.currentUser.userSidebarSections??[],customSectionOrdering:(null==(n=null==(r=null==(a=m.data.currentUser)?void 0:a.baseOrgUser)?void 0:r.fileBrowserPreferences)?void 0:n.orderedSidebarSections)??[],showPoint:!0}))}var Hx=a(525597);let HN=a(704062);function HC({folder:e,user:t,dispatch:a,team:r,shouldShowRenameModal:n,onClaimClick:i,lgFolder:l}){var s;let[o,c]=ev.useState(void 0),d=()=>{e.name&&C&&(a(vn.ZW()),a(ig.K4({type:Hb,data:{folder:e}})))},m=()=>{xL.j.getFolderTransfer({folderId:e.id}).then(({data:e})=>{c(e.meta)},e=>{c(void 0)})};(0,eZ.O)(()=>{m()}),(0,eZ.O)(()=>{n&&d()});let u=(0,_B.JX)(e.id),_=(0,uR.usePermissionsState)(),p=(0,eb.v9)(e=>e.currentUserOrgId),g=(0,eb.v9)(e=>e.teamRoleRequests),E=(0,xI.IQ)((null==r?void 0:r.id)||null,(null==r?void 0:r.org_id)||null),h=ev.useMemo(()=>{var e;return!E&&(null==(e=_.user)?void 0:e.id)!=null&&null!=r&&(0,uR.canViewTeam)(r.id,_)&&!(0,uR.hasMinRole)((0,uR.getRolesForUserAndTeam)(r.id,_),uq.V.VIEWER)},[_,r,E]),f=ev.useMemo(()=>{var e;return E?!!(null==(e=null==l?void 0:l.team)?void 0:e.canAdmin):!!r&&(0,uR.canAdminTeam)(r.id,_)},[_,r,E,l]),v=ev.useMemo(()=>E?f:h&&f,[h,f,E]),b=()=>{rI.ZP.del(`/api/asset_transfer/${null==o?void 0:o.id}`).then(()=>{c(void 0),a(r7.R.enqueue({message:"Transfer revoked."}))},e=>{a(r7.R.enqueue({message:"Something went wrong - check your connection and try again",error:!0}))})},y=()=>{a(ig.K4({type:bv.I,data:{folderId:e.id}}))},w=ev.useMemo(()=>{let t=!E&&!h&&!f&&e&&null!==p&&!(0,uR.canEditFolder)(e.id,_)&&!e.is_invite_only&&!e.is_view_only,a=E&&!f&&e&&null!==p&&!(null==l?void 0:l.canEdit)&&!(null==l?void 0:l.canRead);return t||a},[h,f,e,p,_,E,l]),T=ev.useMemo(()=>E&&l&&"loaded"===l.canCreateFigJamFileV2.status?l.canCreateFigJamFileV2.data&&l.canEdit:e.canCreateWhiteboardFile,[e,l,E]),x=ev.useMemo(()=>E&&l&&"loaded"===l.canCreateDesignFileV2.status?l.canCreateDesignFileV2.data&&l.canEdit:e.canCreateDesignFile,[e,l,E]),N=ev.useMemo(()=>E&&l?l.canRead:e.canView,[e,l,E]),C=ev.useMemo(()=>E&&l?l.canEdit:e.canEdit,[e,l,E]),S=ev.useMemo(()=>{if(w&&g&&r&&g[r.id]&&g[r.id].status===Hh.n.PENDING)return g[r.id].id},[w,g,r]);ev.useEffect(()=>{w&&p&&a((0,gf.fO)())},[w,a,p]);let k=(0,hu.GG)(null==(s=e.team)?void 0:s.org_id,e.team_id),I=(0,vG.f)(),L=r?(0,wZ.FI)(a,r.id):()=>{},R=r?(0,wZ.FI)(a,r.id,uq.V.ADMIN):()=>{},A=(0,yh.l)(),O=(e,n)=>{let i=null==t?void 0:t.id;return t=>{a(u9.ae({state:u,editorType:e,team:r,from:_n.L7.FILE_BROWSER_TOPBAR_FOLDER,openNewFileIn:(0,ly.v8)(t)?_n.JD.NEW_TAB:_n.JD.SAME_TAB,callback:e=>{(0,eH.T6)({userId:i,fileKey:e},n)}}))}},D=O(ao.gg.DESIGN,"toolbar_design_created"),F=O(ao.gg.WHITEBOARD,"toolbar_figjam_created"),M=(t,r,n)=>{if(e){let i={folder:e,entrypoint:"folder_page_view",sectionId:n,favoriteId:r};t?a(hd.Dz(i)):a(hd.fC(i))}},P=()=>{a(od.B4(e.id)),a((0,Rx.v)({showImportModal:(0,eT.BZ)().figjam_3p_file_importer}))},B=!!(0,EF.Wc)(e,_).data;return ev.createElement(jb,{title:e.name,rightSideActions:(()=>{let n=[],l=(0,eT.BZ)().ps_benchmark&&(0,uR.isOrgUserExternallyRestricted)(t,p);B&&n.push({kind:Uv.G.BUTTON,key:Uv.y.CLAIM,displayText:(0,eq.t)("file_browser.folder.join_as_owner"),onClick:i});let s={"data-onboarding-key":"folder-page-view-new-board-cta",dataTestId:"new-whiteboard-file-button",kind:Uv.G.ICON_TEXT_BUTTON,key:Uv.y.NEW_WHITEBOARD_FILE,displayText:(0,eq.t)("file_browser.tool_bar.new_figjam_board"),onClick:F,icon:HN,styleClass:VE.bI,svgStyleClass:VE.j3},o={"data-onboarding-key":"folder-page-view-new-file-cta",dataTestId:"new-design-file-button",kind:Uv.G.ICON_TEXT_BUTTON,key:Uv.y.NEW_FILE,displayText:(0,eq.t)("file_browser.tool_bar.new_design_file"),onClick:D,icon:HN,styleClass:VE.bT,svgStyleClass:VE.j3};if(e.isEditingLocked||l||(x&&n.push(o),T&&n.push(s)),x&&!l&&n.push({kind:Uv.G.BUTTON,key:Uv.y.IMPORT,displayText:(0,eq.t)("file_browser.folder.import"),onClick:P,"data-onboarding-key":RN.V}),h)v?n.push({kind:Uv.G.BUTTON,key:Uv.y.JOIN_TEAM,displayText:(0,eq.t)("file_browser.team.join_team"),onClick:R}):n.push({kind:Uv.G.BUTTON,key:Uv.y.JOIN_TEAM,displayText:(0,eq.t)("file_browser.team.join_team"),onClick:L});else if(N){let e={kind:Uv.G.BUTTON,key:Uv.y.SHARE,displayText:(0,eq.t)("file_browser.folder.share"),onClick:y};n.push(e)}w&&n.push({kind:Uv.G.BUTTON,key:Uv.y.REQUEST_TO_EDIT,displayText:void 0!==S?(0,eq.t)("file_browser.team.cancel_request"):(0,eq.t)("file_browser.team.request_to_edit"),onClick:()=>{S?a(x1.pn({requestId:S})):r&&a(ig.K4({type:x2.M_,data:{team:r,requesterCurrentLevel:uq.V.VIEWER,source:"FolderPageView"}}))}});let c=I?ev.createElement(h_.M,{setFavorite:M,favoriteType:ao.IK.FOLDER,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:p,teamId:(null==r?void 0:r.id)??null}):ev.createElement(Hx.e,{folder:e});if((!(0,eT.BZ)().ps_benchmark||k)&&n.push({kind:Uv.G.CUSTOM_BUTTON,key:Uv.y.FAVORITE,element:c}),!e.isEditingLocked&&(x||T)){let e=ev.createElement(Hv,{dropdownKey:"new-file-dropdown",canCreateDesignFile:x,canCreateWhiteBoardFile:T,onNewDesignFileClick:D,onNewWhiteBoardClick:F});n.push({kind:Uv.G.CUSTOM_BUTTON,key:Uv.y.NEW_FILE_DROPDOWN,styleClass:ek.cx.colorBgInverse.$,showOnMobile:!0,hideOnDesktop:!0,element:e})}let d=ev.createElement(HT,{dropdownKey:"project-overflow-dropdown",folder:e,onImportClick:P,onShareClick:y,setFavorite:k?M:null});return n.push({kind:Uv.G.CUSTOM_BUTTON,key:Uv.y.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:d}),n})(),rightSideOfTitleAction:(()=>{let t=A({folder:{...(0,_n.__)(e,e.canEdit),isSubscribed:e.is_subscribed,description:e.description},onRenameClick:d,onRevokeTransfer:b,shouldShowJoinButton:h,getPendingInfo:m,pendingTransfer:o});return N&&t.length>0?{kind:Uv.G.CUSTOM,key:Uv.y.DROPDOWN,element:ev.createElement(jx,{buttonAriaLabel:(0,eq.t)("file_browser.folder.page_header_dropdown_label"),dropdownKey:`folder-${e.id}`,dropdownOptions:t})}:void 0})()})}let HS="folder_page_view--sidebarDivider--IaP8x upgrade_section--sidebarDivider--E8pmR";function Hk(e){var t;let{folderId:a,selectedTab:r}=e,n=(0,eb.v9)(e=>e.loadedFolders),i=(0,eb.v9)(e=>e.folders[a]),l=(0,eb.v9)(e=>i&&i.team_id?e.teams[i.team_id]:void 0),s=(0,eb.I0)(),o=(0,dV.mU)(dH.FolderCanView,{id:a});ev.useLayoutEffect(()=>{var e;"loaded"!==o.status||(null==(e=o.data.project)?void 0:e.hasPermission)||s(od.fv({view:"recentFiles"}))},[s,o]);let c=(0,lR.dO)(),d=(0,dV.mU)(dH.FolderPageView,{projectId:a}),m=(0,xI.IQ)((null==l?void 0:l.id)||null,(null==l?void 0:l.org_id)||null);return(ev.useEffect(()=>{i&&!i.is_invite_only&&i.team_id&&!l&&s(uK.U2({teamId:i.team_id})),s((0,hR.G3)({folderId:a,loadedFolders:n}))},[s,a,n,i,l]),!i||m&&"loaded"!==d.status)?ev.createElement("div",{className:"folder_page_view--loading--clD4x"},ev.createElement(ax.TK,null)):ev.createElement(HR,{folderId:a,userId:c,shouldShowRenameModal:e.shouldShowRenameModal||!1,team:l,teamOrgAccess:null==l?void 0:l.org_access,selectedTab:r,lgFolder:(null==(t=d.data)?void 0:t.project)||null})}function HI(e){let t=(0,eb.I0)(),a=(0,dV.mU)(dH.PinnedFiles,{folderId:e.folderId}),r=ev.useMemo(()=>{var e;return"loaded"===a.status?((null==(e=a.data.project)?void 0:e.pinnedFiles)||[]).filter(e=>!!e.file):[]},[a]);ev.useEffect(()=>{t(vn.YA({folderId:e.folderId,fileKeys:r.map(e=>e.file.key)}))},[r,t,e.folderId]);let n=ev.useCallback(()=>{t(EY.LA())},[t]);return 0!==r.length?ev.createElement(ev.Fragment,null,ev.createElement("div",{className:"folder_page_view--pinnedHeader--dJxEr",onMouseDown:n},ev.createElement(oc.x,{i18nId:"file_browser.folder.pinned",fontSize:13,color:"secondary"})),ev.createElement(He,{files:r,tileActions:e.tileActions,repos:e.repos})):null}let HL={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToTop:!0},HR=(0,eb.$j)(()=>{let e=(0,ER.ws)(EF.NP),t=(0,ER.ws)(EF.zT);return(a,{folderId:r})=>{var n;let i=null==(n=a.folders[r])?void 0:n.team_id,l=(0,oC._H)(a),s=(0,uR.getPermissionsStateMemoized)(a),o=e(r,a.folders,a.fileByKey,a.fileKeysByFolderId,a.fileKeysByRepoId,a.repos,a.repoIdsByFolderId,s);return{folder:o,sortFilterOptions:t(r,a.tileSortFilterStateByView),loadedFolders:a.loadedFolders,optedOutOfRemoteWorkTemplates:(0,oC.TS)(a),hasBanner:!!o.team&&fh(a,ao._g.TEAM,o.team,i),recommendedTemplatesIsHidden:!!a.userFlags.hide_recommended_templates_in_projects,isGuest:!!(l&&!(0,uR.canMemberOrg)(l.id,a)),selectedBranchKeyByRepoId:a.selectedBranchKeyByRepoId,...(0,EX.gL)(a)}}})(function(e){var t,a;let r=()=>{e.dispatch(m1.v({hide_recommended_templates_in_projects:!e.recommendedTemplatesIsHidden}))},n=(0,xI.IQ)((null==(t=e.team)?void 0:t.id)||null,(null==(a=e.team)?void 0:a.org_id)||null),i=e.lgFolder,l=n&&i?i.canCreateFigJamFileV2&&"loaded"===i.canCreateFigJamFileV2.status&&i.canCreateFigJamFileV2.data&&i.canEdit:e.folder.canCreateWhiteboardFile,s=n&&i?"loaded"===i.canCreateDesignFileV2.status&&i.canCreateDesignFileV2.data&&i.canEdit:e.folder.canCreateDesignFile,o=n&&i?i.canEdit:e.folder.canEdit,c=n&&i?i.canRead:e.folder.canView,d=()=>!e.hasBanner&&!e.recommendedTemplatesIsHidden,m=()=>{e.dispatch(vn.QS({folderId:e.folder.id}))},u=(0,uR.usePermissionsState)(),_=(0,EF.Wc)(e.folder,u),p=t=>{e.dispatch(vn.YW({folderId:e.folder.id,description:t.trim()}))},{id:g,canEdit:E}=e.folder,h={view:"project",folderId:g,canEdit:E,userSpace:e.currentUserOrgId?r2.FQ.ORG:r2.FQ.PERSONAL},f=[Ew.t.SETTINGS].includes(e.selectedTab),v=e.folder.team&&!(0,gB.e3)(e.folder.team);return(0,e3.bC)(ev.createElement(da.p,{containerClass:tQ()({"folder_page_view--xOverflowFileBrowserContainer--4aBZ5":f}),contentContainerClass:tQ()({"folder_page_view--xOverflowFileBrowserContentContainer--wiRfj":f}),content:ev.createElement(ev.Fragment,null,(()=>{let{repos:t,filesByRepoId:a,isEditingLocked:n,files:i}=e.folder,o=(s||l)&&!n,c=o?"":(0,eq.t)("file_browser.folder.no_files_yet"),u="loaded"===e.loadedFolders[e.folder.id];if(!u||"loaded"!==_.status)return null;let p=i.map(e=>({type:EA.YU.FILE,file:e})),g=t.filter(e=>!e.trashed_at).map(t=>({type:EA.YU.REPO,repo:t,branches:a[t.id],selectedBranchKey:e.selectedBranchKeyByRepoId[t.id]||""})),E=[...p,...g],h=ev.createElement(ev.Fragment,null,ev.createElement(W$,{team:e.folder.team||void 0,newFileFrom:_n.L7.FILE_BROWSER_TOPBAR_FOLDER,disableRecommendedTemplates:e.optedOutOfRemoteWorkTemplates,folderId:e.folder.id,recommendedTemplatesIsOpen:d(),toggleRecommendedTemplates:r,isInProjectsView:!0}),ev.createElement(HI,{folderId:e.folderId,repos:t,tileActions:HL}),ev.createElement(VB,{newFileTile:o,tiles:E,tileActions:HL,sortFilterOptions:e.sortFilterOptions,emptyStateText:c,isFolder:!0})),f=ev.createElement(hx,{emptyStateText:(0,eq.t)("file_browser.folder.join_this_project_to_view_files"),onClaimClick:m});return _.data?f:h})(),ev.createElement(ED.ap,null)),metaContent:eN.ZP.mobile||!v||(0,eT.BZ)().fbg_starter_project_redesign?void 0:(()=>{let t=e.folder,a=o&&!t.isEditingLocked,r=e.folder.team&&!(0,gB.e3)(e.folder.team),n=e.folder.team;return ev.createElement("div",{className:"folder_page_view--metaColumn--im-Ju"},(a||t.description)&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:HS}),ev.createElement("div",{className:"folder_page_view--folderDescription--FNP0x text--fontPos13--xW8hS text--_fontBase--QdLsd"},ev.createElement("h3",{className:ek.cx.font13.fontMedium.$},ev.createElement(eq.Tx,{id:"file_browser.about"})),ev.createElement(db,{value:t.description||"",placeholder:(0,eq.t)("file_browser.folder.add_a_description"),formatter:dv,submit:p,readOnly:!a}))),e.folder.team_id&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:HS})),c&&!eN.ZP.mobile?ev.createElement(HE,{key:t.id,folderId:t.id}):null,n&&r&&ev.createElement(Hi,{team:n}),e.folder.team_id&&ev.createElement(Hu,{teamId:e.folder.team_id}))})(),banner:e.folder.team&&e.hasBanner?ev.createElement(H_,{teamId:e.folder.team.id}):void 0,header:ev.createElement(ev.Fragment,null,ev.createElement(HC,{dispatch:e.dispatch,user:e.user,folder:e.folder,team:e.team,currentOrgId:e.currentUserOrgId,onClaimClick:m,shouldShowRenameModal:e.shouldShowRenameModal,lgFolder:e.lgFolder}),e.folder.canCreateDesignFile&&e.folder.team&&ev.createElement(j5,{teamId:e.folder.team.id,canCreateFigjamBoard:e.folder.canCreateWhiteboardFile})),footer:e.folder.team&&(0,uR.canEditTeam)(e.folder.team.id,e)&&v&&(0,eT.BZ)().fbg_starter_project_redesign?ev.createElement(Hl,{team:e.folder.team}):ev.createElement(ev.Fragment,null)}),r2.V4.FILE_BROWSER,h)});var HA=a(28786);function HO({team:e}){return ev.createElement(Fw,{supportedLicenses:[_K.xi.DESIGN,_K.xi.WHITEBOARD],planType:Fm.YH.TEAM,planId:e.id})}function HD({team:e,shouldShowDevModeSuggestedUpgradesModal:t}){let a=(0,eb.I0)(),r=(0,eb.v9)(e=>e.avatarEditorState),n=(0,eT.BZ)().billing_dev_mode_customer_ui,i=(0,Fm.PY)({planType:Fm.YH.TEAM,planId:e.id}),[l,s]=(0,r9.KO)(Fd.P),[o,c]=ev.useState(n&&i);ev.useEffect(()=>{c(n&&i);let t=[Fm.YH.TEAM,e.id].toString(),a={...l};a[t]=!!(n&&i),s(a)},[n,i,e.id]);let d=()=>{c(!1);let t=[Fm.YH.TEAM,e.id].toString(),a={...l};a[t]=!1,s(a)},m=()=>{a(ig.K4({type:Fg,data:{planId:e.id,planType:Fm.YH.TEAM,onNoUpgrades:d}}))};return(0,eZ.O)(()=>{n&&(0,eT.BZ)().dev_mode_suggested_upgrades&&t&&e.pro_team&&m()}),ev.createElement("div",{style:ie.sx.add({width:"780px",marginLeft:"auto",marginRight:"auto"}).$},ev.createElement("div",{style:ie.sx.flex.flexRow.gap24.justifyStart.add({marginTop:"40px",marginBottom:"40px"}).$},ev.createElement(bD.Fu,{dispatch:a,entityType:bA.py.TEAM,entity:e,size:80,avatarEditorState:r}),ev.createElement("div",{className:ek.cx.flex.flexColumn.justifyCenter.itemsStart.$},ev.createElement(oc.x,{fontWeight:"regular",fontSize:24},e.name),e.community_profile_handle&&ev.createElement(e3.UE,{className:tQ()(ek.cx.lh24.font13.cursorPointer.$,"admin_dashboard_tab--communityHandle--nK5Zd"),onClick:()=>{a(od.fv({view:"communityHub",subView:"handle",handle:e.community_profile_handle}))}},"@",e.community_profile_handle))),e.pro_team&&ev.createElement(tD.j,{spacing:16,direction:"vertical"},o&&ev.createElement(e3.Ui,{name:r2.V4.DEV_MODE_SUGGESTED_UPGRADES_ACTION_CARD,properties:{adminRequestsDashboard:!0,teamId:e.id}},ev.createElement(Fc,{onClick:m,title:(0,eq.t)("admin_dashboard.suggested.tile.title",{dateObject:Fm.Gy}),text:(0,eq.t)("admin_dashboard.suggested.tile.body.dm_opted_in"),color:Fo.YELLOW,dataTestId:"dev-mode-suggested-upgrades-team"})),ev.createElement("div",{className:ek.cx.mb16.$},ev.createElement(HO,{team:e}))))}function HF(e){return ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"change_annual_plan_modal.number_of_editors.seat_rename",productType:(0,gU.s)((0,_K.wq)(e.editorType))}),ev.createElement(eA.Sc,{"data-testid":"change-annual-plan-row-input",type:"number",name:e.editorType,step:1,min:1,max:gB.tY,value:e.tempNumEditors,onChange:t=>{let a=t.target.value;e.setTempEditorsValue(parseInt(a))}}))}let HM="team-admin-change-annual-plan";function HP(e){let t=(0,pa.Fq)(uD.tv.ANNUAL);return ev.createElement(HB,{...e,showJamboardOfferBanner:t})}(0,it.QR)(HM,e=>ev.createElement(HP,{...e,promotionCodeId:e.modalShown.data.promotionCodeId,selectedView:e.selectedView}));class HB extends ev.PureComponent{constructor(e){super(e),this.team=()=>this.props.teams[this.props.selectedView.teamId],this.confirmSeats=(e,t,a)=>{this.props.dispatch(u$.NS({teamId:this.team().id,annualQuantity:e,annualWhiteboardQuantity:t,promotionCodeId:a??void 0}))},this.onSubmit=()=>{var e,t,a;isNaN(this.state.tempDesignEditors)||isNaN(this.state.tempWhiteboardEditors)||this.state.tempDesignEditors<0||this.state.tempWhiteboardEditors<0||0===this.state.tempDesignEditors&&0===this.state.tempWhiteboardEditors?this.props.dispatch(dl.l.error((0,eq.t)("change_annual_plan_modal.invalid_seats_error"))):this.state.tempDesignEditors+this.state.tempWhiteboardEditors>gB.tY?(this.props.dispatch(dl.l.error(ev.createElement("div",null,ev.createElement(eq.Tx,{id:"change_annual_plan_modal.contact_support_to_purchase_more_seats_error",maxAnnualSubscriptions:gB.tY,contactSupportLink:ev.createElement("a",{href:"mailto:support@figma.com"},(0,eq.t)("change_annual_plan_modal.contact_support_link"))})))),this.setState({tempDesignEditors:(null==(e=this.annualSub())?void 0:e.design_quantity)||(null==(t=this.annualSub())?void 0:t.quantity)||0,tempWhiteboardEditors:(null==(a=this.annualSub())?void 0:a.whiteboard_quantity)||0})):this.state.tempWhiteboardEditors+this.state.tempDesignEditors>100?this.props.dispatch(ig.K4({type:gZ,data:{numAnnualEditors:this.state.tempDesignEditors+this.state.tempWhiteboardEditors,onConfirm:this.confirmSeats.bind(this,this.state.tempDesignEditors,this.state.tempWhiteboardEditors,this.state.promotionCodeId)}})):this.props.dispatch(u$.NS({teamId:this.team().id,annualQuantity:this.state.tempDesignEditors,annualWhiteboardQuantity:this.state.tempWhiteboardEditors,promotionCodeId:this.state.promotionCodeId??void 0}))},this.annualSub=()=>{try{let e=this.props.teamBilling.summary;if(null==e?void 0:e.annual_subscription)return(null==e?void 0:e.annual_subscription)||void 0;return}catch(e){return}},this.cancelPlan=()=>{this.props.dispatch(ig.K4({type:HU}))},this.hide=()=>{this.props.dispatch(ig.hV())},this.renderInstructions=()=>{let e=this.props.teamBilling.summary.currency,t=new mw.Lr(e),a=t.getPrices();return ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"change_annual_plan_modal.instructions.seat_rename",monthlyEditorCost:t.formatMoney(a.monthlyFigma,{showCents:!1}),editorProduct:(0,gU.s)(_K.xi.DESIGN),monthlyFigjamCost:t.formatMoney(a.monthlyFigjam,{showCents:!1}),figJamProduct:(0,gU.s)(_K.xi.WHITEBOARD)}))};let t=this.annualSub(),a=(null==t?void 0:t.whiteboard_quantity)||0;this.state={tempDesignEditors:(null==t?void 0:t.design_quantity)||(null==t?void 0:t.quantity)||0,tempWhiteboardEditors:a,promotionCodeId:e.promotionCodeId}}render(){var e,t;let a=this.annualSub(),r=!!(null==a?void 0:a.trial_end)&&!!(0,gB.jh)(a.trial_end),n=a?(0,eq.t)("change_annual_plan_modal.plan_start_date",{startDate:new Date(a.current_period_end)}):(0,eq.t)("change_annual_plan_modal.unknown_start_date"),i=r?(0,eq.t)("change_annual_plan_modal.confirmation_header_plan_starting",{startDate:n}):(0,eq.t)("change_annual_plan_modal.confirmation_header_plan_started",{startDate:n});return ev.createElement(e3.Ui,{name:"Change Annual Plan Modal",properties:{teamId:this.team().id,userId:null==(e=this.props.user)?void 0:e.id}},ev.createElement(ir.cV,{confirmationTitle:i,confirmText:(0,eq.t)("change_annual_plan_modal.confirm_text"),onConfirm:this.onSubmit,onCancel:this.hide,dontClose:!0,disableConfirm:this.props.payment.submitPutAnnualQuantityPending,trackedConfirmationProperties:{teamId:this.team().id,userId:null==(t=this.props.user)?void 0:t.id,monthly_quantity_design:this.state.tempDesignEditors,monthly_quantity_figjam:this.state.tempWhiteboardEditors},...this.props},ev.createElement("br",null),ev.createElement(eq.Tx,{id:"change_annual_plan_modal.change_annual_plan_grace_period.seat_rename"}),ev.createElement("br",null),ev.createElement("br",null),this.renderInstructions(),ev.createElement("br",null),ev.createElement("br",null),ev.createElement(HF,{editorType:ao.gg.DESIGN,tempNumEditors:this.state.tempDesignEditors,setTempEditorsValue:e=>this.setState({tempDesignEditors:e}),dispatch:this.props.dispatch}),ev.createElement(ev.Fragment,null,ev.createElement("br",null),ev.createElement("br",null),ev.createElement(HF,{editorType:ao.gg.WHITEBOARD,tempNumEditors:this.state.tempWhiteboardEditors,setTempEditorsValue:e=>this.setState({tempWhiteboardEditors:e}),dispatch:this.props.dispatch})),ev.createElement("br",null),ev.createElement("br",null),this.props.showJamboardOfferBanner&&ev.createElement("div",{className:ek.cx.pb16.$},ev.createElement(pg,{numOfferSeatsRemaining:(0,pa.X3)(isNaN(this.state.tempWhiteboardEditors)?0:this.state.tempWhiteboardEditors)})),ev.createElement("a",{className:"change_annual_plan_modal--link--X4F62 blue_link--blueLink--9rlnd",onClick:this.cancelPlan},r?(0,eq.t)("change_annual_plan_modal.remove_annual_plan"):(0,eq.t)("change_annual_plan_modal.dont_renew_annual_plan"))))}}HB.displayName="ChangeAnnualPlanModal";let HU="team-admin-cancel-annual-plan";(0,it.QR)(HU,e=>ev.createElement(HV,{...e,selectedView:e.selectedView}));class HV extends ev.PureComponent{constructor(){super(...arguments),this.team=()=>this.props.teams[this.props.selectedView.teamId],this.onSubmit=()=>{let e=this.team().id;this.props.dispatch(u$.NS({teamId:e,annualQuantity:0,annualWhiteboardQuantity:0}))},this.onCancel=()=>{this.props.dispatch(ig.K4({type:HM,data:{}}))}}render(){let e=this.props.teamBilling.summary.currency,t=new mw.Lr(e),a=t.getPrices();return ev.createElement(ir.cV,{confirmationTitle:(0,eq.t)("change_annual_plan_modal.cancel_annual_plan_header"),confirmText:(0,eq.t)("change_annual_plan_modal.confirm_cancel_annual_plan"),cancelText:(0,eq.t)("change_annual_plan_modal.nevermind"),onConfirm:this.onSubmit,onCancel:this.onCancel,dontClose:!0,disableConfirm:this.props.payment.submitPutAnnualQuantityPending,...this.props},ev.createElement("br",null),ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"change_annual_plan_modal.cancel_annual_plan_text.seat_rename",monthlyEditorCost:t.formatMoney(a.monthlyFigma),monthlyFigJamEditorCost:t.formatMoney(a.monthlyFigjam)})),ev.createElement("br",null),ev.createElement("br",null),ev.createElement(eq.Tx,{id:"change_annual_plan_modal.cancel_annual_plan_subtext"}))}}HV.displayName="ConfirmCancelAnnualPlanModal";let HW="cost_breakdown--row--0ykUQ",HG="cost_breakdown--primary--DX3HO",Hj="cost_breakdown--secondary--BRXvV",HH="cost_breakdown--currency--hNdBB";function H$(e){let t=new mw.Lr(e.currency),a=t.formatMoney(e.whiteboardCostAnnual),r=t.formatMoney(e.whiteboardCostMonthly),n=t.getPrices(),i=(0,eq.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsMonthly}),l=(0,eq.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsAnnual}),s=(0,eq.t)("org_admin_settings.cost_breakdown.12_months");return ev.createElement(ev.Fragment,null,e.whiteboardSeatsAnnual>0&&ev.createElement("div",{className:HW},ev.createElement("div",{className:HG},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.whiteboard_seats_annual_annual_fig_jam_editor_seats.seat_rename",whiteboardSeatsAnnual:e.whiteboardSeatsAnnual})),ev.createElement("span",{className:HH},a)),ev.createElement("div",{className:Hj},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_triple",cost:t.formatMoney(n.annualFigjam),seats:l,numMonths:s}))),e.whiteboardSeatsMonthly>0&&ev.createElement("div",{className:HW},ev.createElement("div",{className:HG},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.whiteboard_seats_monthly_monthly_fig_jam_editor_seats.seat_rename",whiteboardSeatsMonthly:e.whiteboardSeatsMonthly})),ev.createElement("span",{className:HH},r)),ev.createElement("div",{className:Hj},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_double",cost:t.formatMoney(n.monthlyFigjam),seats:i}))))}function Hz(e){let t=e.currency,a=new mw.Lr(t),r=a.getPrices(),n=e.nDesignEditorsMonthly,i=e.nDesignEditorsAnnual,l=e.nWhiteboardEditorsMonthly,s=e.nWhiteboardEditorsAnnual,o=e.nFigjamEditors,c=e.whiteboardCotermUpgrades,d=(null==c?void 0:c.amount)||0,m=a.formatMoney(d),u=e.designCotermUpgrades,_=12*r.annualFigma*e.nDesignEditorsAnnual,p=r.monthlyFigma*e.nDesignEditorsMonthly,g=_+p,E=a.formatMoney(_),h=a.formatMoney(p),f=(null==u?void 0:u.amount)||0,v=a.formatMoney(f),b=12*r.annualFigjam*s,y=r.monthlyFigjam*l,w=b+y,T=a.formatMoney(g+w+f+d),x=(0,eq.t)("org_admin_settings.cost_breakdown.seats",{seats:n}),N=(0,eq.t)("org_admin_settings.cost_breakdown.seats",{seats:i}),C=(0,eq.t)("org_admin_settings.cost_breakdown.12_months");return ev.createElement("div",{className:"cost_breakdown--container--XzO4k"},i>0&&ev.createElement("div",{className:HW},ev.createElement("div",{className:HG},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.design_seats_annual_annual_design_editor_seats.seat_rename",designSeatsAnnual:i})),ev.createElement("span",{className:HH},E)),ev.createElement("div",{className:Hj},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_triple",cost:a.formatMoney(r.annualFigma),seats:N,numMonths:C}))),n>0&&ev.createElement("div",{className:HW},ev.createElement("div",{className:HG},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.design_seats_monthly_monthly_design_editor_seats.seat_rename",designSeatsMonthly:n})),ev.createElement("span",{className:HH},h)),ev.createElement("div",{className:Hj},ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_double",cost:a.formatMoney(r.monthlyFigma),seats:x}))),ev.createElement(H$,{whiteboardSeatsMonthly:l,whiteboardSeatsAnnual:s,whiteboardCostMonthly:y,whiteboardCostAnnual:b,figjamSeats:o,currency:t}),u&&u.quantity>0&&u.amount>0&&ev.createElement("div",{className:HW},ev.createElement("div",{className:HG},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.design_seats_monthly_cotermed_design_editor_seats.seat_rename",seatsCotermed:u.quantity})),ev.createElement("span",{className:HH},v))),c&&c.quantity>0&&c.amount>0&&ev.createElement("div",{className:HW},ev.createElement("div",{className:HG},ev.createElement("span",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.whiteboard_seats_monthly_cotermed_whiteboard_editor_seats.seat_rename",seatsCotermed:c.quantity})),ev.createElement("span",{className:HH},m))),ev.createElement("div",{className:"cost_breakdown--divider--xV4yx"}),ev.createElement("div",{className:"cost_breakdown--total--BrmSb"},ev.createElement("div",null,ev.createElement(eq.Tx,{id:"org_admin_settings.cost_breakdown.total"})),ev.createElement("div",{className:HH},T)))}let HK=(0,it.Y3)(function(e){let t=(0,eb.I0)();return ev.createElement(ib.ge,{onClose:()=>t(ig.hV()),isCloseHidden:!1,title:e.title,minWidth:341,maxWidth:341},ev.createElement(Hz,{currency:e.currency,nDesignEditorsAnnual:e.nDesignEditorsAnnual,nDesignEditorsMonthly:e.nDesignEditorsMonthly,nFigjamEditors:e.nFigjamEditors,nWhiteboardEditorsAnnual:e.nWhiteboardEditorsAnnual,nWhiteboardEditorsMonthly:e.nWhiteboardEditorsMonthly,designCotermUpgrades:e.designCotermUpgrades,whiteboardCotermUpgrades:e.whiteboardCotermUpgrades}))},"ProCostBreakdown"),HZ="billing_overview--metadataRow--tWPPS billing_details_figjam--metadataRow--H1vpp",Hq="billing_overview--cell--13cKY billing_details_figjam--cell--HFItG",HY="billing_overview--container--278v6 billing_details_figjam--container--WyQin",HJ="billing_overview--header--iS3z3 billing_details_figjam--header---1eWo",HQ="billing_overview--primaryData--rgiI0 billing_details_figjam--primaryData--EMIYm",HX="billing_overview--secondaryData--f8laa billing_details_figjam--secondaryData--WdsSw",H0="billing_overview--link--ucvsf billing_details_figjam--link--D3k8I billing_tab--link--Lzuhx blue_link--blueLink--9rlnd";function H1(e){let{billing:t,dispatch:a,team:r}=e,n=t.summary.annual_subscription,i=t.summary.monthly_subscription;return(null==n?void 0:n.canceled_at)||(null==i?void 0:i.canceled_at)?ev.createElement(H3,{billing:t,dispatch:a,team:r}):ev.createElement(H2,{billing:t,dispatch:a,team:r})}function H2(e){let{billing:t,dispatch:a}=e,r=t.summary.monthly_subscription,n=t.summary.annual_subscription,i=(null==n?void 0:n.design_quantity)||(null==n?void 0:n.quantity)||0,l=(null==r?void 0:r.design_quantity)||(null==r?void 0:r.quantity)||0,s=(null==n?void 0:n.whiteboard_quantity)||0,o=(null==r?void 0:r.whiteboard_quantity)||0,c=null==r?void 0:r.design_coterm_upgrades,d=null==r?void 0:r.whiteboard_coterm_upgrades,m=(0,pa.I1)(uD.tv.ANNUAL),u=H7((null==r?void 0:r.estimated_amount_due)||0,(null==n?void 0:n.estimated_amount_due)||0,null==r?void 0:r.current_period_end,null==n?void 0:n.current_period_end);if(!u)return ev.createElement(ev.Fragment,null);let{nextInvoiceAt:_,invoiceTotal:p,areInvoicesCombined:g}=u,E=(0,gk.Z)(new Date),h=n&&E.isAfter((0,gk.Z)(n.current_period_end).add(-30,"days")),f=!!(null==n?void 0:n.trial_end)&&(0,gB.jh)(n.trial_end),v=!!(null==r?void 0:r.trial_end)&&(0,gB.jh)(r.trial_end),b=g0.V.BILLING_OVERVIEW,y=g||!r?i:0,w=g||!r?s:0,T=o+s;return ev.createElement("div",{className:HY},ev.createElement("div",{className:HZ},ev.createElement(H8,{nextInvoiceAt:$e(_)}),ev.createElement(H9,{annualSeats:i,monthlySeats:l,monthlySeatsHeaderText:ev.createElement(eq.Tx,{id:"team_view.billing.monthly_design_editor_seats.seat_rename"}),totalSeatsHeaderText:ev.createElement(eq.Tx,{id:"team_view.billing.total_design_editor_seats.seat_rename"})}),ev.createElement(H9,{annualSeats:s,monthlySeats:o,monthlySeatsHeaderText:ev.createElement(eq.Tx,{id:"team_view.billing.monthly_fig_jam_editor_seats.seat_rename"}),totalSeatsHeaderText:ev.createElement(eq.Tx,{id:"team_view.billing.total_fig_jam_editor_seats.seat_rename"})}),ev.createElement(H5,{currency:t.summary.currency,invoiceTotal:p,isCurrent:!0,isPlural:g,annualDesignSeats:y,monthlyDesignSeats:l,annualWhiteboardSeats:w,monthlyWhiteboardSeats:o,figjamSeats:t.summary.whiteboard_quantity||0,designCotermUpgrades:c,whiteboardCotermUpgrades:d})),ev.createElement("div",{className:HZ},ev.createElement("div",{className:Hq},n&&!f&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:HJ},ev.createElement(eq.Tx,{id:"team_view.billing.professional_plan_annual_renewal"})),ev.createElement("div",{className:HX},$e(n.current_period_end))),n&&f&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:HJ},ev.createElement(eq.Tx,{id:"team_view.billing.professional_plan_annual_subscription_start"})),ev.createElement("div",{className:HX},$e(f))),r&&!v&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:HJ},ev.createElement(eq.Tx,{id:"team_view.billing.professional_plan_monthly_renewal"})),ev.createElement("div",{className:HX},$e(r.current_period_end))),r&&v&&ev.createElement(ev.Fragment,null,ev.createElement("div",{className:HJ},ev.createElement(eq.Tx,{id:"team_view.billing.professional_plan_monthly_subscription_start"})),ev.createElement("div",{className:HX},$e(v))),ev.createElement(eA.Cr,{className:H0,onClick:()=>{a(od.fv({view:"orgSelfServe",upsellSource:b}))},trackingProperties:{trackingDescriptor:cC.y.UPGRADE_TO_ORGANIZATION,upsellSource:g0.V.BILLING_OVERVIEW},trusted:!0},ev.createElement(eq.Tx,{id:"team_view.billing.upgrade_plan_to_organization"})),h&&ev.createElement(eA.Cr,{className:H0,onClick:()=>{a((0,ig.K4)({type:HM,data:{promotionCodeId:m}}))},trusted:!0},ev.createElement(eq.Tx,{id:"team_view.billing.change_annual_plan"}))),ev.createElement("div",{className:Hq},ev.createElement("div",{className:HJ},ev.createElement(eq.Tx,{id:"team_view.billing.total_editor_seats_today.seat_rename"})),ev.createElement("div",{className:HX},ev.createElement(eq.Tx,{id:"team_view.billing.monthly_design_seats_breakdown",designSeats:l+i,figjamSeats:T})))))}function H3(e){let{billing:t,dispatch:a,team:r}=e,n=t.summary.last_monthly_invoice,i=t.summary.last_annual_invoice,l=t.summary.monthly_subscription,s=t.summary.annual_subscription,o=(null==s?void 0:s.design_quantity)||(null==s?void 0:s.quantity)||0,c=(null==l?void 0:l.design_quantity)||(null==l?void 0:l.quantity)||0,d=(null==s?void 0:s.whiteboard_quantity)||0,m=(null==l?void 0:l.whiteboard_quantity)||0,u=(null==i?void 0:i.total)===0,_=(null==n?void 0:n.design_quantity)||0,p=(null==i?void 0:i.design_quantity)||0,g=(null==n?void 0:n.whiteboard_quantity)||0,E=(null==i?void 0:i.whiteboard_quantity)||0,h=H7((null==n?void 0:n.total)||0,(null==i?void 0:i.total)||0,null==n?void 0:n.date,null==i?void 0:i.date);if(!h)return ev.createElement(ev.Fragment,null);let{invoiceTotal:f,areInvoicesCombined:v}=h,b=!!((null==l?void 0:l.canceled_at)||(null==s?void 0:s.canceled_at)),y=!v&&l||u?0:p,w=!v&&l||u?0:E;return ev.createElement("div",{className:HY},ev.createElement("div",{className:HZ},ev.createElement(H8,{nextInvoiceAt:(0,eq.t)("team_view.billing.canceled")}),ev.createElement(H5,{currency:t.summary.currency,invoiceTotal:f,isCurrent:!1,isPlural:v,monthlyDesignSeats:_,annualDesignSeats:y,figjamSeats:t.summary.whiteboard_quantity||0,monthlyWhiteboardSeats:g,annualWhiteboardSeats:w}),ev.createElement(H9,{annualSeats:y,monthlySeats:_,monthlySeatsHeaderText:ev.createElement(eq.Tx,{id:"team_view.billing.monthly_design_editor_seats.seat_rename"}),totalSeatsHeaderText:ev.createElement(eq.Tx,{id:"team_view.billing.total_design_editor_seats.seat_rename"})}),ev.createElement(H9,{annualSeats:w,monthlySeats:g,monthlySeatsHeaderText:ev.createElement(eq.Tx,{id:"team_view.billing.monthly_fig_jam_editor_seats.seat_rename"}),totalSeatsHeaderText:ev.createElement(eq.Tx,{id:"team_view.billing.total_fig_jam_editor_seats.seat_rename"})})),ev.createElement("div",{className:HZ},ev.createElement("div",{className:Hq},(null==l?void 0:l.canceled_at)&&ev.createElement(H4,{sub:l,expiringDesignSeatCount:c,expiringWhiteboardSeatCount:m,billingPeriod:"monthly"}),(null==s?void 0:s.canceled_at)&&ev.createElement(H4,{sub:s,expiringDesignSeatCount:o,expiringWhiteboardSeatCount:d,billingPeriod:"annual"}),ev.createElement(eA.Cr,{className:H0,onClick:()=>(0,gF.nM)({team:r,dispatch:a,cancelling:b,monthlySub:l,annualSub:s}),trusted:!0},ev.createElement(eq.Tx,{id:"team_view.billing.reactivate_professional_plan"}))),t.summary.billing_contact&&ev.createElement(H6,{billingContact:t.summary.billing_contact,team:r,dispatch:a})))}function H4(e){return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:HJ},ev.createElement(eq.Tx,{id:"team_view.billing.professional_plan_billing_period_cancellation",billingPeriod:e.billingPeriod})),ev.createElement("div",{className:HX},ev.createElement(eq.Tx,{id:"team_view.add_to_favorites.billing.lost_access",canceledAt:$e(e.sub.canceled_at),listOfEditorsLosingAccess:(0,dg.WH)([(0,eq.t)("team_view.add_to_favorites.billing.figma_design_editors.seat_rename",{designSeats:e.expiringDesignSeatCount}),(0,eq.t)("team_view.add_to_favorites.billing.figjam_editors.seat_rename",{figjamSeats:e.expiringWhiteboardSeatCount})]),currentPeriodEnd:$e(e.sub.current_period_end)})))}function H8(e){return ev.createElement("div",{className:Hq},ev.createElement("span",{className:HJ},ev.createElement(eq.Tx,{id:"team_view.billing.next_invoice_issue_date"})),ev.createElement("div",{className:HQ}," ",e.nextInvoiceAt))}function H5(e){let t=(0,eb.I0)(),a=new mw.Lr(e.currency);return ev.createElement("div",{className:Hq},ev.createElement("span",{className:HJ},e.isCurrent?ev.createElement(eq.Tx,{id:"team_view.billing.invoices_total",numInvoices:e.isPlural?2:1}):ev.createElement(eq.Tx,{id:"team_view.billing.last_invoices_total",numInvoices:e.isPlural?2:1})),ev.createElement("div",{className:HQ},a.formatMoney(e.invoiceTotal)),e.invoiceTotal>0&&ev.createElement("span",{className:"billing_overview--costBreakdownLink--ZI0zu billing_details_figjam--link--D3k8I billing_tab--link--Lzuhx blue_link--blueLink--9rlnd",onClick:()=>t((0,ig.K4)({type:HK,data:{title:"Cost Breakdown",currency:e.currency,nDesignEditorsAnnual:e.annualDesignSeats,nDesignEditorsMonthly:e.monthlyDesignSeats,nFigjamEditors:e.figjamSeats,nWhiteboardEditorsAnnual:e.annualWhiteboardSeats,nWhiteboardEditorsMonthly:e.monthlyWhiteboardSeats,designCotermUpgrades:e.designCotermUpgrades,whiteboardCotermUpgrades:e.whiteboardCotermUpgrades}}))},ev.createElement(eq.Tx,{id:"team_view.billing.see_cost_breakdown"})))}function H9(e){let{monthlySeats:t,annualSeats:a,monthlySeatsHeaderText:r,totalSeatsHeaderText:n}=e;if(!a||0===a)return ev.createElement("div",{className:Hq},ev.createElement("span",{className:HJ},r),ev.createElement("div",{className:HQ},t));let i=a+t;return ev.createElement("div",{className:Hq},ev.createElement("span",{className:HJ},n),ev.createElement("div",{className:HQ},i),ev.createElement("div",{className:"billing_overview--totalSeatsNextInvoiceBadges--zqa8h"},ev.createElement(os.Ct,{color:os.JV.DEFAULT,text:(0,eq.t)("team_view.billing.annual_seats_annual",{annualSeats:a})}),ev.createElement(os.Ct,{color:os.JV.DEFAULT,text:(0,eq.t)("team_view.billing.monthly_seats_monthly",{monthlySeats:t})})))}function H6(e){let{billingContact:t,team:a,dispatch:r}=e,n=async e=>await gF.h_({email:e,dispatch:r,teamId:a.id});return ev.createElement("div",{className:Hq},ev.createElement("div",{className:HJ},ev.createElement(eq.Tx,{id:"team_view.billing.invoices_sent_to"})),ev.createElement("div",{className:HX},t),ev.createElement("div",{className:H0,onClick:()=>r((0,ig.K4)({type:Ps,data:{currentContacts:t,onSubmit:n,isOrg:!1}}))},ev.createElement(eq.Tx,{id:"team_view.billing.change_contact"})))}let H7=(e,t,a,r)=>{try{let n=a&&(0,gk.Z)(a),i=r&&(0,gk.Z)(r),l=r&&a&&n?n.diff(i,"days"):null;if((l||0===l)&&l>=-1&&l<=1)return{invoiceTotal:e+t,nextInvoiceAt:a,areInvoicesCombined:!0};if(a)return{invoiceTotal:e,nextInvoiceAt:a,areInvoicesCombined:!1};if(r)return{invoiceTotal:t,nextInvoiceAt:r,areInvoicesCombined:!1};throw Error(`Invalid invoices. Month: ${a}. Annual: ${r}`)}catch(e){console.error(e)}return{invoiceTotal:0,nextInvoiceAt:"",areInvoicesCombined:!1}},$e=e=>(0,gk.Z)(e).format("MMM D, YYYY"),$t="invoices_table--colDate--Sk3B4",$a="invoices_table--colDescription--5KljD",$r="invoices_table--colSeats--1HeZP invoices_table--_rightAligned--hkW1n",$n="invoices_table--colStatus--beKIQ";function $i(e){return ev.createElement(ev.Fragment,null,ev.createElement($l,null),e.invoices.map((e,t)=>"open"!==e.status&&"paid"!==e.status?null:ev.createElement($s,{key:t,invoice:e})))}function $l(){return ev.createElement(pw.SC,{header:!0,useAdminTableStyles:!0,leftPadding:!0},ev.createElement("div",{className:$t},ev.createElement(eq.Tx,{id:"team_view.invoices_table.date"})),ev.createElement("div",{className:$a},ev.createElement(eq.Tx,{id:"team_view.invoices_table.description"})),ev.createElement("div",{className:$r},ev.createElement(eq.Tx,{id:"team_view.invoices_table.design_editor_seats.seat_rename"})),ev.createElement("div",{className:$r},ev.createElement(eq.Tx,{id:"team_view.invoices_table.fig_jam_editor_seats.seat_rename"})),ev.createElement("div",{className:$r},ev.createElement(eq.Tx,{id:"team_view.invoices_table.invoice_total"})),ev.createElement("div",{className:$n},ev.createElement(eq.Tx,{id:"team_view.invoices_table.status"})))}function $s(e){let{invoice:t}=e,a=new mw.Lr(t.currency);return ev.createElement(pw.SC,{useAdminTableStyles:!0,className:"invoices_table--row--yOZS4",leftPadding:!0},ev.createElement("div",{className:$t},ev.createElement("div",null,(0,gk.Z)(t.date).format("MMM D, YYYY"))),ev.createElement("div",{className:$a},"Professional team (annual)"===t.product_name?ev.createElement(eq.Tx,{id:"team_view.invoices.annual_team"}):"Professional team (monthly)"===t.product_name?ev.createElement(eq.Tx,{id:"team_view.invoices.monthly_team"}):ev.createElement(ev.Fragment,null,t.product_name)),ev.createElement("div",{className:$r},t.design_quantity),ev.createElement("div",{className:$r},t.whiteboard_quantity),ev.createElement("div",{className:"invoices_table--colCharges--fpaYJ invoices_table--_rightAligned--hkW1n"},ev.createElement("span",null,a.formatMoney(t.total,{showCents:!0}))),ev.createElement("div",{className:$n},ev.createElement("div",null,(()=>{var e;if((null==(e=t.payment_intent)?void 0:e.status)==="processing")return ev.createElement(eq.Tx,{id:"team_view.invoices.status.processing"});switch(t.status){case"draft":return ev.createElement(eq.Tx,{id:"team_view.invoices.status.draft"});case"open":return ev.createElement(eq.Tx,{id:"team_view.invoices.status.open"});case"paid":return ev.createElement(eq.Tx,{id:"team_view.invoices.status.paid"});case"uncollectible":return ev.createElement(eq.Tx,{id:"team_view.invoices.status.uncollectible"});case"void":return ev.createElement(eq.Tx,{id:"team_view.invoices.status.void"});default:return ev.createElement(ev.Fragment,null,t.status)}})()),ev.createElement("a",{className:"invoices_table--link--Torly blue_link--blueLink--9rlnd",href:t.invoice_pdf,target:"_blank",rel:"noopener"},ev.createElement(eq.Tx,{id:"team_view.invoices_table.view_invoice"}))))}let $o=(0,e3.x1)(function(e){let{team:t,billing:a,dispatch:r}=e;return ev.createElement("div",{className:"billing_table--container--8G27I admin_settings_page--container--qnrCG"},ev.createElement(H1,{team:t,dispatch:r,billing:a}),ev.createElement("div",{className:"billing_table--tableTitle--DABdG billing_table_figjam--tableTitle--rftSv billing_table_figjam--header--5D9kz billing_tab--header--L83W3"},ev.createElement(eq.Tx,{id:"team_view.invoices"})),ev.createElement("div",{className:"billing_table--divider--ZHGoW invoices_table--divider--tw9ff"}),ev.createElement($i,{invoices:a.invoices}))},"Pro Team Billing Table");var $c=((er=$c||{})[er.SEARCH=0]="SEARCH",er[er.FILTER=1]="FILTER",er);let $d=new TH.Or([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"email",weight:1}]});var $m=((en=$m||{}).MORE_SEVEN_DAYS="more_than_seven_days",en.MORE_THIRTY_DAYS="more_than_thirty_days",en.MORE_THREE_MONTHS="more_than_three_months",en);let $u=[uq.V.OWNER,uq.V.ADMIN,uq.V.EDITOR,uq.V.VIEWER,uq.V.NONE],$_={lastActiveFilter:null,permissionFilter:null,designPaidStatusFilter:null,figjamPaidStatusFilter:null,paidMemberNoRolesFilter:!1};var $p=a(7633),$g=a(966515),$E=a(460122),$h=a(237544);let $f="members_table--columnMargin--mthAK",$v="members_table--permissionsColumn--SX3bD members_table--column--rYYlR admin_settings_page--membersColumn--0Pn0k table--column--974RA",$b="members_table--avatarWithHandle--gfVub admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",$y="members_table--link--OYFlj admin_settings_page--link---XC61 blue_link--blueLink--9rlnd",$w="members_table--secondaryUpgradeDateText--Dy1RO",$T="members_table--infoIcon--KTGck admin_settings_page--infoIcon--atMRe",$x="members_table--warningIcon--qIXJA",$N="members_table--dropdownColumn--zJZSF multi_select_list--dropdownColumn--n-MKQ table--column--974RA",$C=a(174341);function $S(e){var t,a;let r;let n=(0,eb.I0)(),i=(0,$h.WW)(),{member:l,dropdownShown:s,team:o,paidStatusType:c}=e;r=c===gM._N.WHITEBOARD?(null==(t=null==l?void 0:l.team_user)?void 0:t.whiteboard_paid_status)||gM.Eg.STARTER:(null==(a=null==l?void 0:l.team_user)?void 0:a.design_paid_status)||gM.Eg.STARTER;let d=[gM.Eg.FULL,gM.Eg.STARTER,gM.Eg.RESTRICTED].filter(e=>!r||r===gM.Eg.STARTER||e!==gM.Eg.STARTER),m=e=>{let t={[gM.Eg.FULL]:(0,eq.t)("paid_status.editor.seat_rename"),[gM.Eg.STARTER]:(0,eq.t)("paid_status.viewer"),[gM.Eg.RESTRICTED]:(0,eq.t)("paid_status.viewer_restricted")};return t[e]},u=d.map(e=>{let t=m(e);return{type:"option",key:e,text:t,selectedLabel:t}});return ev.createElement("div",{className:$N},ev.createElement("div",{className:c},ev.createElement(x$.Q,{dispatch:n,disabled:e.member.ecc_upgrading_locked,dropdownShown:s,value:r,options:u,onChange:e=>{let t=l.team_user;if(!t){if(!l.id)return;return i({team:o,teamUsers:[],usersWithNoTeamUserIds:[l.id],members:[{...l}],paidStatus:e,paidStatusType:c})}return i({team:o,teamUsers:[t],members:[{...l}],paidStatus:e,paidStatusType:c})},id:`TEAM-USER-${c.toUpperCase()}-PAID-STATUS---${l.email}`})),e.member.ecc_upgrading_locked&&ev.createElement(eD.n,{className:$T,svg:$C,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("external_collaboration_restricted.members.tooltip.seat_rename"),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220}))}var $k=a(204174),$I=a(627147);let $L=(0,it.Y3)(function(e){var t,a,r,n,i,l,s,o;let{team:c}=e,{id:d,name:m}=c,u=e.members.length,_=e.members.filter(e=>e.id).map(e=>e.id).join();return ev.createElement(e3.Ui,{name:"Team Remove Members Modal",properties:{memberCount:u,memberIds:_,teamId:d}},ev.createElement(ib.sv,{destructive:!0,title:(0,eq.t)("team_view.remove_members_modal.title",{member_count:u,member_identity:(null==(t=e.members[0])?void 0:t.name)||(null==(a=e.members[0])?void 0:a.email)}),confirmText:(0,eq.t)("team_view.remove_members_modal.confirmation"),onConfirm:e.onConfirm},ev.createElement("p",null,(0,cS.f0)(c)?(0,eq.t)("team_view.remove_members_modal.has_pro_downgrade_friction_copy",{user_name_or_email:(null==(r=e.members[0])?void 0:r.name)||(null==(n=e.members[0])?void 0:n.email),member_count:u}):e.includesPendingTeamRole?(0,eq.t)("team_view.remove_members_modal.pending_role_removal_copy",{member_count:u,user_name_or_email:(null==(i=e.members[0])?void 0:i.name)||(null==(l=e.members[0])?void 0:l.email),team_name:m}):(0,eq.t)("team_view.remove_members_modal.confirmed_role_removal_copy",{member_count:u,user_name_or_email:(null==(s=e.members[0])?void 0:s.name)||(null==(o=e.members[0])?void 0:o.email),team_name:m})),1===e.members.length&&(0,cS.f0)(c)&&ev.createElement($I.lF,{memberBeingDowngraded:e.members[0],teamId:d})))},"ConfirmMembersRemoveModal"),$R="member_modal--emptyModalState--RKDTV",$A="member_modal--columnProduct--1KKGD table--column--974RA",$O="member_modal--columnFile--VBZr4 table--column--974RA",$D="member_modal--emptyCell--FIvsi",$F="member_modal--columnLastEdit--csJUP table--column--974RA";function $M(e){return ev.createElement("div",{key:`last-${e.editor_type}-activity-${e.userId}`,className:"member_modal--tableRow--Gmt31"},ev.createElement("div",{className:$A},ev.createElement("span",null,(0,gU.s)((0,_K.wq)(e.editor_type)))),(()=>{if(!e.editActivity)return ev.createElement("div",{className:$O},ev.createElement("span",{className:$D},"\u2013"));if(e.editActivity.can_view)return ev.createElement("div",{className:$O},ev.createElement(eA.rU,{className:"member_modal--columnFileAccessible--VqmzO member_modal--columnFile--VBZr4 table--column--974RA",onClick:()=>{e.editActivity&&e.editActivity.file_key&&(e.dispatch(od.fv({view:"fullscreen",fileKey:e.editActivity.file_key,editorType:e.editor_type})),e.dispatch(ig.hV()))},trusted:!0},e.editActivity.file_name));{let t=`file_tooltip_inaccessible_${e.editor_type}`;return ev.createElement("div",{className:$O,"data-tooltip-proxy-element-id":t},ev.createElement("div",{id:t,className:"member_modal--inaccessibleFile--tdjvU","data-tooltip-type":aN.fR.TEXT,"data-tooltip":(0,eq.t)("team_view.pro_member_modal.file_inaccessible_tooltip_warning")},e.editActivity.file_name))}})(),ev.createElement("div",{className:$F},e.editActivity?ev.createElement(n2.Lt,{capitalize:!0,date:e.actionAt}):ev.createElement("span",{className:$D},"\u2013")))}let $P=(0,eb.$j)(e=>({viewingUserId:e.user.id}))(function(e){var t,a;let r=(0,eb.I0)(),[n,i]=ev.useState({}),[l,s]=ev.useState(!1);ev.useEffect(()=>{s(!0),gI.j.getUsersLastActive({teamId:e.team.id,teamMemberId:e.teamMember.id}).then(e=>{i(e.data.meta)}).catch(e=>{var t;r(dl.l.error((null==(t=e.data)?void 0:t.message)||(0,eq.t)("team_view.pro_member_modal.error_on_activity_retrieval_fallback_message"))),console.error("Unable to load latest edits",e)}).finally(()=>s(!1))},[r,e.team.id,e.teamMember.id]);let o=e.teamMember.name;(0,eL.q8)(!!o,"Expected a user object with a name");let c=o?(0,eq.t)("team_view.pro_member_modal.title_with_username",{username:o}):(0,eq.t)("team_view.pro_member_modal.title_without_username");return ev.createElement(e3.Ui,{name:"Pro Member Modal",properties:{viewingUserId:e.viewingUserId}},ev.createElement(ib.ge,{maxWidth:442,minWidth:442,onClose:()=>{r(ig.hV())},title:c},ev.createElement("div",{className:"member_modal--modalBody--a-RJQ"},l?ev.createElement("div",{className:$R},ev.createElement(ax.TK,null)):e.lastDesignActivity||e.lastWhiteboardActivity?ev.createElement("div",{className:"member_modal--lastEditTable--uGRpf"},ev.createElement("div",{className:"member_modal--headerRow--J0YZS"},ev.createElement("div",{className:$A},(0,eq.t)("team_view.pro_member_modal.edit_table_product_header")),ev.createElement("div",{className:$O},(0,eq.t)("team_view.pro_member_modal.edit_table_file_header")),ev.createElement("div",{className:$F},(0,eq.t)("team_view.pro_member_modal.edit_table_last_active_header"))),ev.createElement($M,{userId:e.teamMember.id||"team-member-no-user",editor_type:ao.gg.DESIGN,actionAt:(null==(t=e.lastDesignActivity)?void 0:t.action_at)||"\u2013",editActivity:n.design_file,dispatch:r}),ev.createElement($M,{userId:e.teamMember.id||"team-member-no-user",editor_type:ao.gg.WHITEBOARD,editActivity:n.whiteboard_file,actionAt:(null==(a=e.lastWhiteboardActivity)?void 0:a.action_at)||"\u2013",dispatch:r})):ev.createElement("div",{className:$R},(0,eq.t)("team_view.pro_member_modal.no_activity_found")))))});$P.displayName="ProMemberModal";let $B=(0,it.Y3)($P,"ProMemberModal");function $U(e){return ev.createElement("span",{className:e.className||""},"\u2013")}let $V=a(239722),$W=a(681283),$G=a(267837),$j=a(174341);class $H extends ev.PureComponent{constructor(){super(...arguments),this.MEMBERS_SELECTED_NOUN="user",this.FILTER_LAST_ACTIVE_DROPDOWN="FILTER_LAST_ACTIVE_DROPDOWN",this.FILTER_DESIGN_ROLE_DROPDOWN="FILTER_DESIGN_ROLE_DROPDOWN",this.FILTER_DESIGN_PAID_STATUS="FILTER_DESIGN_PAID_STATUS",this.FILTER_FIGJAM_PAID_STATUS="FILTER_FIGJAM_PAID_STATUS",this.NUM_BATCH_ACTIONS_LIMIT=20,this.BATCH_CHANGE_ROLE_DROPDOWN="BATCH_CHANGE_ROLE_DROPDOWN",this.onCopyEmailsToClipboard=e=>{this.props.dispatch(mH.s4({emailList:e}))},this.onViewUser=(e,t)=>{e.stopPropagation(),this.props.dispatch(od.fv({view:"user",userId:t,userViewTab:Nx.l.INTERNAL_PROFILE}))},this.batchRemoveMembers=e=>{let t=[],a=[];e.forEach(e=>{var r;e.id&&(null==(r=e.team_role)||!r.pending)&&e.email&&(t.push(e.email),a.push(e.id))}),this.props.dispatch(uK.Dh({teamId:this.props.team.id,userIds:a,emails:t}))},this.onRemoveMemberOrChangeMemberPermission=e=>{let{member:t,newLevel:a}=e,r=t.team_role,n=()=>{let e=null==r?void 0:r.pending;if(t.id&&a===uq.V.NONE&&!e){this.batchRemoveMembers([t]);return}r&&this.props.dispatch((0,NT.xI)({role:r,level:a}))};r&&a===uq.V.OWNER?this.props.dispatch(ig.K4({type:NN.z,data:{resourceType:r.resource_type,resourceName:this.props.team.name,newOwnerName:r.user.handle,onConfirmTransfer:()=>{n()}}})):r&&a===uq.V.VIEWER&&!r.pending?this.props.dispatch($p.is({team:this.props.team,memberEmails:[t.email]})):n()},this.onInviteMemberToTeam=e=>{this.props.dispatch(ig.K4({type:_8.nB,data:{teamId:this.props.team.id,notifyOnSuccess:!0,prepopulateEmail:e.email}}))},this.onLeaveTeam=e=>{this.onRemoveMemberOrChangeMemberPermission({member:e,newLevel:uq.V.NONE})},this.onRemoveUsersFromTeam=e=>{let t=e.find(e=>{var t;return null==(t=null==e?void 0:e.team_role)?void 0:t.pending});this.props.dispatch(ig.K4({type:$L,data:{members:e,team:this.props.team,onConfirm:()=>{this.batchRemoveMembers(e),e.forEach(e=>{var t;(null==(t=e.team_role)?void 0:t.pending)&&this.onRemoveMemberOrChangeMemberPermission({member:e,newLevel:uq.V.NONE})});let t=1===e.length?e[0].name||e[0].email:(0,eq.t)("team_view.upgrade.members_length_users",{memberLength:e.length});this.props.dispatch(r7.R.enqueue({type:"team-users-removed",message:(0,eq.t)("team_view.upgrade.members_removed_text_removed_from_this_props_team_name",{membersRemovedText:t,teamName:this.props.team.name})}))},includesPendingTeamRole:!!t}}))},this.onResendInvite=e=>{e.team_role&&this.props.dispatch((0,uZ.c_)({role:e.team_role}))},this.getMemberKey=e=>e.member.email,this.tableColumns=()=>{let e=this.props.team,t=[{name:(0,Eb.gc)($g.U.NAME),className:"members_table--avatarColumn--3mCoh members_table--column--rYYlR admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>e.member.name||e.member.email,cellComponent:this.renderNameCell},{name:(0,Eb.gc)($g.U.ACTIVE_AT),className:"members_table--lastActiveColumn---MIcJ members_table--column--rYYlR admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>e.member.last_active||0,sortNumerically:!0,sortReversed:!0,cellComponent:this.renderLastActiveCell},{name:(0,Eb.gc)($g.U.PERMISSIONS),className:$v,getSortValue:e=>{var t;return(null==(t=e.member.team_role)?void 0:t.level)||0},sortNumerically:!0,sortReversed:!0,cellComponent:this.renderPermissionsCell,headerClassName:$f},...this.insertIf(e.canAdmin&&(0,gB.gX)(e),{name:(0,Eb.gc)($g.U.DESIGN_PAID_STATUS),className:$v,onboardingKey:"onboarding-figjam-pro-billing-team-admin-role",getSortValue:e=>{let t=e.member.team_user;return(null==t?void 0:t.design_paid_status)?gM.j[t.design_paid_status]:gM.j[gM.Eg.STARTER]},sortNumerically:!0,sortReversed:!0,getSecondarySortValue:t=>{var a;let r=null==(a=t.member.design_editor_upgrade)?void 0:a.created_at;return e.canAdmin&&r?(0,gk.Z)(r).unix():0},sortSecondaryReversed:!0,cellComponent:this.renderPaidStatusCell.bind(this,gM._N.DESIGN),headerClassName:$f}),...this.insertIf(e.canAdmin&&(0,gB.gX)(e),{name:(0,Eb.gc)($g.U.FIGJAM_PAID_STATUS),className:$v,getSortValue:e=>{let t=e.member.team_user;return(null==t?void 0:t.whiteboard_paid_status)?gM.j[t.whiteboard_paid_status]:gM.j[gM.Eg.STARTER]},sortNumerically:!0,sortReversed:!0,getSecondarySortValue:t=>{var a;let r=null==(a=t.member.whiteboard_editor_upgrade)?void 0:a.created_at;return e.canAdmin&&r?(0,gk.Z)(r).unix():0},sortSecondaryReversed:!0,cellComponent:this.renderPaidStatusCell.bind(this,gM._N.WHITEBOARD),headerClassName:$f,headerExtraContent:null}),{name:"",className:"members_table--menuColumn--j-tXo admin_settings_page--iconColumn--qxUMs",cellComponent:this.renderMenuCell}];return t},this.tableItems=()=>{let e=this.props.filteredMembers.map(e=>{let t=this.props.currentMemberId===e.id;return{member:e,dispatch:this.props.dispatch,isCurrentMember:t,dropdownShown:this.props.dropdownShown,onRemoveMemberOrChangeMemberPermission:this.onRemoveMemberOrChangeMemberPermission}});return e},this.permissionsTooltip=(e,t,a,r)=>{var n,i;let l=e.team_user,s=this.paidViewerTooltipMessage(e);if(s)return ev.createElement(eD.n,{className:$T,svg:$j,"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":aN._7.TEAM_VIEWER_WITH_DESCENDED_ROLES,"data-tooltip-descended-role-text":s,"data-tooltip-descended-role-email":e.email,"data-tooltip-descended-role-user-id":e.id,"data-tooltip-member-table-team-id":this.props.team.id,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":400,"data-tooltip-interactive":!0});let o=(0,uR.isTeamUserRestricted)(l,ao.gg.DESIGN),c=(0,uR.isTeamUserRestricted)(l,ao.gg.WHITEBOARD),d=(null==(n=e.team_role)?void 0:n.level)!==uq.V.VIEWER,m=(0,eT.BZ)().edu_onboarding_grace_period&&!e.edu_edit_access_allowed&&!(null==(i=e.team_role)?void 0:i.pending)&&d&&r;if(m)return ev.createElement(eD.n,{className:$x,svg:$W,"data-tooltip-timeout-delay":50,"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":aN._7.RESTRICTED_EDU_USER,"data-tooltip-offset-y":10,"data-tooltip-max-width":250,"data-tooltip-title":(0,eq.t)("team_view.upgrade.can_only_view",{teamMember:e.name}),"data-tooltip-text":(0,eq.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply")});if(t||!((o||c)&&d))return null;let u=a?aN._7.PERMISSIONS_MODAL_RESTRICTED_USER_PRO_SELF:aN._7.PERMISSIONS_MODAL_RESTRICTED_USER_PRO_OTHER,_=(0,NC.Lh)(!!o,!!c);return ev.createElement(eD.n,{className:$x,svg:$W,"data-tooltip-type":aN.fR.SPECIAL,"data-tooltip":u,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0,"data-tooltip-restricted-text":_})},this.getEffectiveFileCounts=e=>{let t=e.team_user,a=e.edit_roles,r=(null==a?void 0:a.whiteboard_files.length)||0,n=(null==a?void 0:a.design_files.length)||0,i=e.view_roles,l=(null==i?void 0:i.file_count)||0,s=(0,uR.isTeamUserRestricted)(t,ao.gg.DESIGN),o=(0,uR.isTeamUserRestricted)(t,ao.gg.WHITEBOARD),c=r,d=n,m=l;return s&&(d=0,m+=n),o&&(c=0,m+=r),{editableWhiteboardFileCount:c,editableDesignFileCount:d,viewableFileCount:m}},this.editorDescription=e=>{let{editableWhiteboardFileCount:t,editableDesignFileCount:a,viewableFileCount:r}=this.getEffectiveFileCounts(e),n=e.edit_roles,i=(null==n?void 0:n.folders.length)||0,l=e.view_roles,s=(null==l?void 0:l.folder_count)||0,o=e.team_user,c=(0,uR.isTeamUserFull)(o,ao.gg.DESIGN),d=(0,uR.isTeamUserFull)(o,ao.gg.WHITEBOARD);if(!c&&!d)return i>0?(0,eq.t)("team_view.upgrade.can_manage_folder_edit_roles_count_get_plural_or_singular_folder_edit_roles_count_project",{numberFolderEditRoles:i}):s>0?(0,eq.t)("team_view.upgrade.can_view_files_in_folder_view_roles_count_get_plural_or_singular_folder_edit_roles_count_project",{folderViewRolesCount:s}):r>0?(0,eq.t)("team_view.upgrade.can_view_viewable_file_count_get_plural_or_singular_viewable_file_count_file",{viewableFileCount:r}):void 0;if(i>0)return(0,eq.t)("team_view.upgrade.can_edit_files_in_folder_edit_roles_count_get_plural_or_singular_folder_edit_roles_count_project",{folderEditRolesCount:i});let m=t+a;return m>0?(0,eq.t)("team_view.upgrade.can_edit_editable_file_count_get_plural_or_singular_editable_file_count_file",{editableFileCount:m}):s>0?(0,eq.t)("team_view.upgrade.can_view_files_in_folder_view_roles_count_get_plural_or_singular_folder_view_roles_count_project",{folderViewRolesCount:s}):r>0?(0,eq.t)("team_view.upgrade.can_view_viewable_file_count_get_plural_or_singular_viewable_file_count_file",{viewableFileCount:r}):void 0},this.insertIf=(e,t)=>e?[t]:[],this.getMemberMenuItems=e=>{var t,a;let r=!e.member.team_role,n=(null==(t=e.member.team_role)?void 0:t.pending)||!1,i=(0,Eb.Wr)(e.member),l=(null==(a=e.member.team_role)?void 0:a.level)===uq.V.OWNER,{canAdmin:s,canEdit:o}=this.props.team,c=e.member.canEditRole,d=e.member.canRemoveUser,m=(e,t)=>e?[t]:[],u=[...m(s&&i,{text:(0,eq.t)("team_view.settings.see_edit_access"),callback:()=>{this.showEditAccessModal(e.member)}}),{text:(0,eq.t)("team_view.settings.copy_email"),callback:()=>{this.onCopyEmailsToClipboard([e.member.email])}},...m(r&&o&&!n,{text:(0,eq.t)("team_view.settings.invite_to_team"),callback:()=>{this.onInviteMemberToTeam(e.member)}})],_=[...m(n&&c,{text:(0,eq.t)("team_view.settings.resend_invite"),callback:()=>{this.onResendInvite(e.member)}}),...m(!e.isCurrentMember&&d,{text:(0,eq.t)("team_view.settings.remove"),callback:()=>{this.onRemoveUsersFromTeam([e.member])}}),...m(e.isCurrentMember&&!l,{text:(0,eq.t)("team_view.settings.leave_team"),callback:()=>{this.onLeaveTeam(e.member)}})];return _.length>0?(u.push({isDivider:!0}),u.concat(_)):u},this.renderNameCell=e=>{var t;let{member:a,isCurrentMember:r}=e,n=a.id?{id:a.id,img_url:a.img_url,name:a.name,email:a.email}:{email:a.email,name:void 0};if(null==(t=a.team_role)?void 0:t.pending){let e={color:os.JV.DEFAULT,subtle:!0,text:(0,eq.t)("team_view.settings.pending")};return ev.createElement(ds.oJ,{entity:n,size:24,showIsMe:!1,hideFallbackInitial:!1,defaultFallbackAvatarSvg:$V,fallbackSvg:$V,className:$b,onClick:e=>{e.stopPropagation(),this.onCopyEmailsToClipboard([a.email])},overrideHandle:n.email,defaultText:"-",badge:e})}{let t=a.id?e=>{this.onViewUser(e,a.id)}:void 0;return ev.createElement(xA,{onLabelClick:t,className:$b,dispatch:e.dispatch,entity:n,showIsMe:r,showTooltip:!0,size:24})}},this.renderLastActiveCell=e=>{let{member:t}=e;return(t.last_design_active||t.last_whiteboard_active)&&t.last_active?ev.createElement(eA.rU,{className:$y,onClick:e=>{e.stopPropagation(),this.props.dispatch(ig.K4({type:$B,data:{teamMember:t,team:this.props.team,lastDesignActivity:t.last_design_active,lastWhiteboardActivity:t.last_whiteboard_active}}))},trusted:!0},ev.createElement(n2.Lt,{capitalize:!0,date:new Date(1e3*t.last_active)})):t.last_active?ev.createElement(n2.Lt,{capitalize:!0,date:new Date(1e3*t.last_active)}):ev.createElement($U,null)},this.showEditAccessModal=e=>{this.props.dispatch(ig.K4({type:$k.e,data:{memberEmail:e.email,teamId:this.props.team.id}}))},this.renderDescendedPermissions=e=>{var t,a,r,n,i,l,s,o,c,d;let m=this.editorDescription(e),u=(0,Eb.Wr)(e);return ev.createElement("div",{className:$f},u&&ev.createElement(eA.Cr,{onClick:t=>{t.stopPropagation(),this.showEditAccessModal(e)},className:$y,trackingProperties:{linkSource:"View Edit Roles Link",fileCount:((null==(a=null==(t=e.edit_roles)?void 0:t.design_files)?void 0:a.length)??0)+((null==(n=null==(r=e.edit_roles)?void 0:r.whiteboard_files)?void 0:n.length)??0),designFileCount:(null==(l=null==(i=e.edit_roles)?void 0:i.design_files)?void 0:l.length)??0,whiteboardFileCount:(null==(o=null==(s=e.edit_roles)?void 0:s.whiteboard_files)?void 0:o.length)??0,folderCount:(null==(d=null==(c=e.edit_roles)?void 0:c.folders)?void 0:d.length)??0},trusted:!0},m),!u&&ev.createElement(ev.Fragment,null,m),ev.createElement("div",{className:"members_table--secondaryText--foDdy"},ev.createElement(eq.Tx,{id:"team_view.team_members_table.no_team_permissions_for_user"})))},this.accountTypeSelection=e=>{switch(e){case gM.Eg.FULL:return(0,eq.t)("team_view.team_members_table.menu_paid_status_filter_selection_editor.seat_rename");case gM.Eg.STARTER:return(0,eq.t)("team_view.team_members_table.menu_paid_status_filter_selection_viewer");case gM.Eg.RESTRICTED:return(0,eq.t)("general.viewer_restricted")}},this.renderEmptyContent=()=>{let e=()=>{this.props.onFilter($_)},t=ev.createElement(eq.Tx,{id:"team_view.team_members_table.default_empty_state"}),a=ev.createElement(eq.Tx,{id:"team_view.team_members_table.member_filter_empty_state",reset_link:ev.createElement("a",{className:$y,onClick:()=>e()},(0,eq.t)("team_view.team_members_table.member_filter_empty_reset_link"))}),r=ev.createElement(eq.Tx,{id:"team_view.team_members_table.search_empty_state"}),n=Object.values(this.props.filters).some(e=>!!e);return n&&this.props.searchQuery?this.props.lastFilterAction===$c.SEARCH?r:a:n?a:this.props.searchQuery?r:t},this.renderStickyContent=()=>ev.createElement("div",{className:"members_table--menuBar--a7RWM multi_select_list--menuBar--8xNGR"},ev.createElement("div",{className:CN.FB},ev.createElement("div",{className:ek.cx.pr8.$},ev.createElement(nN.Pl,{onChange:this.props.onSearch,focusOnMount:!1,query:this.props.searchQuery,clearSearch:()=>{this.props.onSearch("")},placeholder:(0,eq.t)("team_view.search_bar.search_members_with_ellipsis")})),ev.createElement(xK.MF,{label:(0,Eb.gc)($g.U.ACTIVE_AT),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_LAST_ACTIVE_DROPDOWN,selectedValue:this.props.filters.lastActiveFilter,values:[$m.MORE_SEVEN_DAYS,$m.MORE_THIRTY_DAYS,$m.MORE_THREE_MONTHS],getCount:e=>this.props.filterCounts.lastActive[e],getDisplayText:e=>(function(e){switch(e){case"more_than_seven_days":return(0,eq.t)("team_view.team_members_table.filters.last_active..more_than_7_days_ago");case"more_than_thirty_days":return(0,eq.t)("team_view.team_members_table.filters.last_active..more_than_30_days_ago");case"more_than_three_months":return(0,eq.t)("team_view.team_members_table.filters.last_active..more_than_3_months_ago");default:(0,eL.vE)(e)}})(e),updateFilter:e=>this.props.onFilter({lastActiveFilter:e})}),ev.createElement(xK.MF,{label:(0,Eb.gc)($g.U.PERMISSIONS),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_DESIGN_ROLE_DROPDOWN,values:$u,selectedValue:this.props.filters.permissionFilter,getCount:e=>this.props.filterCounts.permission[e],getDisplayText:e=>(function(e){switch(e){case uq.V.OWNER:return(0,eq.t)("team_view.team_members_table.filters.permissions.owner");case uq.V.ADMIN:return(0,eq.t)("team_view.team_members_table.filters.permissions.admin");case uq.V.EDITOR:return(0,eq.t)("team_view.team_members_table.filters.permissions.can_edit");case uq.V.VIEWER:return(0,eq.t)("team_view.team_members_table.filters.permissions.can_view");case uq.V.NONE:return(0,eq.t)("team_view.team_members_table.filters.permissions.no_team_permissions");default:(0,eL.vE)(e)}})(e),updateFilter:e=>this.props.onFilter({permissionFilter:e})}),this.props.team.canAdmin&&this.props.team.pro_team&&ev.createElement(xK.MF,{label:(0,Eb.gc)($g.U.DESIGN_PAID_STATUS),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_DESIGN_PAID_STATUS,values:[gM.Eg.FULL,gM.Eg.STARTER,gM.Eg.RESTRICTED],selectedValue:this.props.filters.designPaidStatusFilter,getCount:e=>this.props.filterCounts.designPaidStatus[e],getDisplayText:e=>this.accountTypeSelection(e),updateFilter:e=>this.props.onFilter({designPaidStatusFilter:e})}),this.props.team.canAdmin&&this.props.team.pro_team&&ev.createElement(xK.MF,{label:(0,Eb.gc)($g.U.FIGJAM_PAID_STATUS),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_FIGJAM_PAID_STATUS,values:[gM.Eg.FULL,gM.Eg.STARTER,gM.Eg.RESTRICTED],selectedValue:this.props.filters.figjamPaidStatusFilter,getCount:e=>this.props.filterCounts.figjamPaidStatus[e],getDisplayText:e=>this.accountTypeSelection(e),updateFilter:e=>this.props.onFilter({figjamPaidStatusFilter:e})}),this.props.filters.paidMemberNoRolesFilter&&ev.createElement(os.Ct,{className:"members_table--filterBadge--KRwSN",color:os.JV.DEFAULT,onClose:()=>this.props.onFilter({paidMemberNoRolesFilter:!1}),size:os.OD.LARGE,text:"Users with no roles"}))),this.renderBulkActions=e=>{var t,a;let r=e.map(e=>e.member);if(0===r.length)return ev.createElement(ev.Fragment,null);let n=r.map(e=>e.email),i=r.every(e=>e.canRemoveUser),l=r.every(e=>(0,Eb.Wr)(e)),s=r.some(e=>{var t;return null==(t=e.team_role)?void 0:t.pending}),o=e.filter(e=>e.member.ecc_upgrading_locked).length>0,c=r.length>this.NUM_BATCH_ACTIONS_LIMIT,d=!!e.find(e=>e.isCurrentMember),{canAdmin:m}=this.props.team,u=r.filter(e=>e.id).map(e=>e.id),_={userCount:u.length},p=u.join();return ev.createElement(ev.Fragment,null,this.props.team.pro_team&&m&&!s&&!o&&ev.createElement(xK.ud,{className:"members_table--batchActionsDropdownSelector--AYHB7",dispatch:this.props.dispatch,showingDropdown:(null==(t=this.props.dropdownShown)?void 0:t.type)===this.BATCH_CHANGE_ROLE_DROPDOWN,type:this.BATCH_CHANGE_ROLE_DROPDOWN,isMultilevelDropdown:!0},(null==(a=this.props.dropdownShown)?void 0:a.type)===this.BATCH_CHANGE_ROLE_DROPDOWN&&this.renderBatchRoleDropdown(r),ev.createElement(eq.Tx,{id:"team_view.settings.change_role.seat_rename"})),m&&l&&!s&&1===r.length&&ev.createElement(xK.j2,{label:(0,eq.t)("team_view.settings.see_edit_access"),onClick:()=>{let e=r[0];this.showEditAccessModal(e)}}),ev.createElement(xK.j2,{trackingProperties:{..._,copiedUserIds:p},label:(0,eq.t)("team_view.settings.copy_get_plural_or_singular_selected_members_length_email",{numEmails:r.length}),onClick:()=>{this.onCopyEmailsToClipboard(n)}}),i&&!d&&ev.createElement(xK.j2,{label:(0,eq.t)("team_view.settings.remove"),trackingProperties:{..._,removedUserIds:p},onClick:()=>{let e=r.map(e=>e);this.onRemoveUsersFromTeam(e)},disabled:c,...c?{tooltip:(0,eq.t)("team_view.settings.you_can_only_remove_limit_users_at_a_time",{batchLimit:this.NUM_BATCH_ACTIONS_LIMIT})}:{}}))},this.renderPermissionsCell=e=>{var t;let{member:a}=e;if(!a.team_role)return this.renderDescendedPermissions(a);if(a.team_role){let r;r=this.props.teamIsOrphaned&&this.props.canAdminOrgTeam?uq.V.OWNER:e.isCurrentMember?uq.V.NONE:a.canEditRole?a.canMakeOwner&&!a.team_role.pending?uq.V.OWNER:a.canMakeAdmin?uq.V.ADMIN:uq.V.EDITOR:uq.V.NONE;let{canRead:n,canEdit:i,canAdmin:l}=this.props.team,s=this.permissionsTooltip(a,l,(null==(t=a.team_role)?void 0:t.user_id)===this.props.currentMemberId,this.props.team.student_team);if(r===uq.V.NONE)return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:$f}),ev.createElement("span",null,(0,uR.levelNameCapitalized)(a.team_role.level)),s);let o=this.getPermissionsLevels(r),c=o.filter(e=>e.hasOwnProperty("key")).map(e=>e.key).join();return ev.createElement(ev.Fragment,null,ev.createElement("div",{className:$N},ev.createElement("div",{className:"members_table--permissionSelector--5OjK6"},ev.createElement(x$.Q,{dispatch:this.props.dispatch,dropdownShown:e.dropdownShown,value:a.team_role.level,options:o,onChange:t=>e.onRemoveMemberOrChangeMemberPermission({member:a,newLevel:t}),id:`TEAM-PERMISSIONS-DROPDOWN-${e.member.email}`,disabled:n&&!i,trackingProperties:{options:c,userIdForPermissions:a.id,linkSource:"Permissions Selector"}}))),s)}(0,eL.vE)(a)},this.renderUpgradeDate=(e,t)=>{let a=e.name||e.email,r=(0,$E.I)(t,a),n=(0,gk.Z)(t.created_at).format("MMM DD, YYYY");return r?ev.createElement("div",{className:$w,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":r,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},n):ev.createElement("div",{className:$w},n)},this.renderPaidStatusCell=(e,t)=>{var a;if((null==(a=t.member.team_role)?void 0:a.pending)&&(0,uR.teamUserCanUpgradeToFull)(t.member.team_user,ao.gg.DESIGN)&&(0,uR.teamUserCanUpgradeToFull)(t.member.team_user,ao.gg.WHITEBOARD))return ev.createElement($U,{className:"members_table--emptyRoleCell--hRubJ"});let r=t.member.team_user,n=t.member.design_editor_upgrade,i=(null==r?void 0:r.design_paid_status)===gM.Eg.FULL;return e===gM._N.WHITEBOARD&&(n=t.member.whiteboard_editor_upgrade,i=(null==r?void 0:r.whiteboard_paid_status)===gM.Eg.FULL),ev.createElement("div",null,ev.createElement($S,{member:t.member,dropdownShown:t.dropdownShown,team:this.props.team,paidStatusType:e}),this.props.team.canAdmin&&!!(null==n?void 0:n.created_at)&&i&&this.renderUpgradeDate(t.member,n))},this.renderMenuCell=e=>{var t;let a=`MENU_DROPDOWN-${this.getMemberKey(e)}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a,n=this.getMemberMenuItems(e),i=n.filter(e=>!e.isDivider).map(e=>e.text).join();return ev.createElement(xK.ud,{className:CN.SH,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},ev.createElement(eD.n,{svg:$G,className:"members_table--menuIcon--S7ryg admin_settings_page--menuIcon--dMpHa"}),r&&ev.createElement(e3.Ui,{name:"Member Dropdown Menu",properties:{userIdForDropdown:e.member.id,optionsShown:i,teamId:this.props.team.id}},ev.createElement(gb.j.DropdownWithScrim,{dispatch:e.dispatch,className:"members_table--dropdown--MTtPA admin_settings_page--dropdown--BuB9-",style:e.dropdownShown.data.position},n.map(e=>e.isDivider?ev.createElement(gb.j.Separator,{key:"MEMBERS-MENU-SEPARATOR"}):ev.createElement(gb.j.OptionTracked,{innerText:e.text,onClick:e.callback,key:`MEMBERS-MENU-ITEM${e.text}`},e.text)))))}}paidViewerTooltipMessage(e){let t=e.team_role;if((null==t?void 0:t.level)===uq.V.VIEWER&&!t.pending)return this.editorDescription(e)}getPermissionsLevels(e){let t=[];return Object.values(uq.V).reverse().forEach(a=>{if(a>=uq.V.VIEWER&&a<=e){let e=(0,uR.levelNameCapitalized)(a);t.push({type:"option",key:a,text:e,selectedLabel:e})}}),t}getTeamUsersAndUsersWithNoTeamUserIdsFromMembers(e){let t=e.map(e=>e.team_user).filter(e=>!!e),a=e.filter(e=>!e.team_user&&!!e.id).map(e=>e.id);return[t,a]}showPaidStatusUpdateModal(e,t,a){let[r,n]=this.getTeamUsersAndUsersWithNoTeamUserIdsFromMembers(a);this.props.dispatch(_m.Z$({team:this.props.team,teamUsers:r,usersWithNoTeamUserIds:n,members:a.map(e=>({id:e.id,email:e.email,firstName:e.name,design_editor_upgrade:e.design_editor_upgrade,whiteboard_editor_upgrade:e.whiteboard_editor_upgrade})),paidStatusType:e,paidStatus:t}))}getTeamUserPaidStatusDisplayText(e){let t={[gM.Eg.FULL]:(0,eq.t)("paid_status.editor.seat_rename"),[gM.Eg.STARTER]:(0,eq.t)("paid_status.viewer"),[gM.Eg.RESTRICTED]:(0,eq.t)("paid_status.viewer_restricted")};return t[e]}areAllValuesTheSame(e,t){return!(e.size>1)&&Array.from(e)[0]===t}renderBatchRoleDropdown(e){let t=new Set,a=new Set;e.forEach(e=>{var r,n;t.add((null==(r=null==e?void 0:e.team_user)?void 0:r.design_paid_status)||gM.Eg.STARTER),a.add((null==(n=null==e?void 0:e.team_user)?void 0:n.whiteboard_paid_status)||gM.Eg.STARTER)});let r={[gM._N.DESIGN]:{[gM.Eg.STARTER]:this.areAllValuesTheSame(t,gM.Eg.STARTER)},[gM._N.WHITEBOARD]:{[gM.Eg.STARTER]:this.areAllValuesTheSame(a,gM.Eg.STARTER)}},n=[],i=[];return n.push({displayText:this.getTeamUserPaidStatusDisplayText(gM.Eg.FULL),callback:this.showPaidStatusUpdateModal.bind(this,gM._N.DESIGN,gM.Eg.FULL,e)}),i.push({displayText:this.getTeamUserPaidStatusDisplayText(gM.Eg.FULL),callback:this.showPaidStatusUpdateModal.bind(this,gM._N.WHITEBOARD,gM.Eg.FULL,e)}),r[gM._N.DESIGN][gM.Eg.STARTER]&&n.push({displayText:this.getTeamUserPaidStatusDisplayText(gM.Eg.STARTER)}),r[gM._N.WHITEBOARD][gM.Eg.STARTER]&&i.push({displayText:this.getTeamUserPaidStatusDisplayText(gM.Eg.STARTER)}),n.push({displayText:this.getTeamUserPaidStatusDisplayText(gM.Eg.RESTRICTED),callback:this.showPaidStatusUpdateModal.bind(this,gM._N.DESIGN,gM.Eg.RESTRICTED,e)}),i.push({displayText:this.getTeamUserPaidStatusDisplayText(gM.Eg.RESTRICTED),callback:this.showPaidStatusUpdateModal.bind(this,gM._N.WHITEBOARD,gM.Eg.RESTRICTED,e)}),ev.createElement(ev.Fragment,null,ev.createElement(mz.z,{showPoint:!1,items:[{displayText:"Design",children:n},{displayText:"FigJam",children:i}],onSelectItem:e=>{e.callback&&e.callback("",null,this.props.dispatch)},parentRect:this.props.dropdownShown.data.targetRect,dispatch:this.props.dispatch}))}render(){return ev.createElement("div",{className:"members_table--container--gbdiv admin_settings_page--membersContainer--T59Nq"},ev.createElement($z,{initialSortState:{columnName:(0,Eb.gc)($g.U.NAME),isReversed:!1},items:this.tableItems(),columns:this.tableColumns(),render:(e,t,a)=>ev.createElement(fz.Ch,{items:a,columns:this.tableColumns(),getItemKey:this.getMemberKey,emptyContent:ev.createElement(tD.j,{height:200,verticalAlignItems:"center",horizontalAlignItems:"center"},this.renderEmptyContent()),stickyContent:this.renderStickyContent(),itemTypeContext:{itemType:this.MEMBERS_SELECTED_NOUN,getSelectedCountString:e=>(0,eq.t)("multi_select_list.selected_count_user",{numSelected:e})},actionBar:this.renderBulkActions,onScroll:()=>this.props.dispatch(od.kp()),minContentWidth:(0,cx.z)(cL.Vi7),sortState:e,onSetSortState:t})}))}}$H.displayName="TeamMembersTable";let $$=(0,e3.x1)($H,"Pro Team Members Table");function $z({initialSortState:e,items:t,columns:a,render:r}){let[n,i,l]=(0,fC.g)(e,t,a);return r(n,i,l)}function $K(e){let[t,a]=ev.useState($_),[r,n]=ev.useState(""),[i,l]=ev.useState($c.FILTER),s=(0,gk.Z)().subtract(3,"days"),o=(0,gk.Z)().subtract(30,"days"),c=(0,gk.Z)().subtract(3,"months"),d=Object.values(e.membersList);r&&($d.set(Object.values(e.membersList)),d=$d.search(r)),d=d.filter(e=>{var a,r,n,i,l;if(t.paidMemberNoRolesFilter&&!(0,Eb.dv)(e))return!1;if(t.permissionFilter){if(t.permissionFilter===uq.V.NONE){if(!((null==(a=e.team_role)?void 0:a.level)===uq.V.NONE||(null==(r=e.team_role)?void 0:r.level)===void 0))return!1}else if((null==(n=e.team_role)?void 0:n.level)!==t.permissionFilter)return!1}if(t.lastActiveFilter){let a=e.last_active?(0,gk.Z)(1e3*e.last_active):0;if(t.lastActiveFilter===$m.MORE_SEVEN_DAYS&&a>s||t.lastActiveFilter===$m.MORE_THIRTY_DAYS&&a>o||t.lastActiveFilter===$m.MORE_THREE_MONTHS&&a>c)return!1}if(t.designPaidStatusFilter){let a=(null==(i=e.team_user)?void 0:i.design_paid_status)||gM.Eg.STARTER;if(t.designPaidStatusFilter!==a)return!1}if(t.figjamPaidStatusFilter){let a=(null==(l=e.team_user)?void 0:l.whiteboard_paid_status)||gM.Eg.STARTER;if(t.figjamPaidStatusFilter!==a)return!1}return!0});let m={permission:{[uq.V.OWNER]:0,[uq.V.ADMIN]:0,[uq.V.EDITOR]:0,[uq.V.VIEWER]:0,[uq.V.NONE]:0},lastActive:{[$m.MORE_SEVEN_DAYS]:0,[$m.MORE_THIRTY_DAYS]:0,[$m.MORE_THREE_MONTHS]:0},designPaidStatus:{[gM.Eg.FULL]:0,[gM.Eg.RESTRICTED]:0,[gM.Eg.STARTER]:0},figjamPaidStatus:{[gM.Eg.FULL]:0,[gM.Eg.RESTRICTED]:0,[gM.Eg.STARTER]:0}};return Object.values(d).forEach(e=>{var t,a,r,n;if(null==(t=e.team_role)?void 0:t.level){if($u.includes(null==(a=e.team_role)?void 0:a.level)){let t=e.team_role.level;m.permission[t]+=1}}else m.permission[uq.V.NONE]+=1;let i=e.last_active?(0,gk.Z)(1e3*e.last_active):0;i<c&&(m.lastActive[$m.MORE_THREE_MONTHS]+=1),i<o&&(m.lastActive[$m.MORE_THIRTY_DAYS]+=1),i<s&&(m.lastActive[$m.MORE_SEVEN_DAYS]+=1);let l=(null==(r=e.team_user)?void 0:r.design_paid_status)||gM.Eg.STARTER;m.designPaidStatus[l]+=1;let d=(null==(n=e.team_user)?void 0:n.whiteboard_paid_status)||gM.Eg.STARTER;m.figjamPaidStatus[d]+=1}),ev.createElement($$,{dispatch:e.dispatch,currentMemberId:e.currentMemberId,team:e.team,dropdownShown:e.dropdownShown,canAdminOrgTeam:e.canAdminOrgTeam,teamIsOrphaned:(Object.values(e.membersList).forEach(e=>{var t,a;if((null==(t=e.team_role)?void 0:t.level)===uq.V.OWNER||(null==(a=e.team_role)?void 0:a.level)===uq.V.ADMIN)return!1}),!0),filters:t,filteredMembers:d,allMembers:Object.values(e.membersList),filterCounts:m,onFilter:e=>{a({...t,...e}),l($c.FILTER)},searchQuery:r,onSearch:e=>{n(e),l($c.SEARCH)},lastFilterAction:i})}a(820311);var $Z=a(110283);let $q="add_annual_seats_modal--billingRow--okBAc",$Y="add_annual_seats_modal--leftContent--zhvno",$J="add_annual_seats_modal--rightContent--CxbtG",$Q="settings_table--link--tTkYU",$X="settings_table--boldText--5T4Mj settings_table--modalText--icYGS",$0=(0,it.Y3)(function(e){let[t,a]=(0,ev.useState)(e.monthlySub.design_quantity),[r,n]=(0,ev.useState)(e.monthlySub.whiteboard_quantity||0),i=(0,eb.I0)(),{annualSub:l,monthlySub:s,teamId:o,userId:c,currency:d}=e,m=new mw.Lr(d),u=m.getPrices(),_=(0,gk.Z)(s.current_period_end),p=(0,gB.OE)(s.current_period_end,l.current_period_end),g=(0,pa.Fq)(uD.tv.ANNUAL),E=(0,pa.X3)(r),h=(0,pa.dd)({numWhiteboardEditors:r,billingPeriod:uD.tv.ANNUAL}),f=(0,pa.WI)({numWhiteboardEditors:r,billingPeriod:uD.tv.ANNUAL}),v=(0,pa.I1)(uD.tv.ANNUAL),b=g&&f<=0&&h>0,y=f>0,w=0===r,T=y||w||!g,x=()=>{a(t+1)},N=()=>{a(t-1)},C=()=>{n(r+1)},S=()=>{n(r-1)},k=()=>t>s.design_quantity?t-s.design_quantity:0,I=()=>r>(s.whiteboard_quantity||0)?r-(s.whiteboard_quantity||0):0;return ev.createElement(e3.Ui,{name:"Add Annual Seats Modal",properties:{userId:c,teamId:o}},ev.createElement(ib.sv,{title:(0,eq.t)("team_view.add_annual_seats_modal.add_seats_title"),confirmText:(0,eq.t)("team_view.add_annual_seats_modal.add_annual_seats"),disabled:!t&&!r,onConfirm:()=>{i(u$.NS({teamId:o,annualQuantity:t+l.design_quantity,annualWhiteboardQuantity:r+(l.whiteboard_quantity||0),promotionCodeId:v??void 0}))},trackedConfirmationProperties:{teamId:o,userId:c,monthly_quantity_design:s.design_quantity,monthly_quantity_figjam:s.whiteboard_quantity||0},minWidth:498,maxWidth:498},ev.createElement("div",{className:"settings_table--modalText--icYGS"},ev.createElement(eq.Tx,{id:"team_view.add_annual_seats_modal.add_seats_explanation"}),ev.createElement("div",{className:"add_annual_seats_modal--billingSummaryContainer--FH3Zy"},ev.createElement("div",{className:$q},ev.createElement("div",{className:$Y},ev.createElement(pl,{editorType:_K.dc,incrementSeats:()=>x(),decrementSeats:()=>N(),numEditors:t,minSeatsCount:0,headerText:(0,eq.t)("team_view.add_annual_seats_modal.num_monthly_editor_seats.seat_rename",{designQuantity:t,productName:(0,gU.s)(_K.xi.DESIGN)}),headerSubText:(0,eq.t)("team_view.add_annual_seats_modal.billing_breakdown",{cost:m.formatMoney(u.annualFigma),remainingMonthsText:(0,eq.t)("team_view.add_annual_seats_modal.billing_breakdown.remaining_months",{numMonths:p}),seatsText:(0,eq.t)("team_view.add_annual_seats_modal.billing_breakdown.seats",{seats:t})}),clarificationText:k()?(0,eq.t)("team_view.add_annual_seats_modal.unused_seats_will_be_added",{productName:(0,gU.s)(_K.xi.DESIGN),unusedSeats:k()}):void 0,updateAdditionalSeatsText:ps(a),shouldShowJamboardOffer:!1})),ev.createElement("div",{className:$J},ev.createElement("div",null,m.formatMoney(t*p*u.annualFigma)))),ev.createElement("div",{className:$q},ev.createElement("div",{className:$Y},ev.createElement(pl,{editorType:_K.Jk,incrementSeats:()=>C(),decrementSeats:()=>S(),numEditors:r,minSeatsCount:0,headerText:(0,eq.t)("team_view.add_annual_seats_modal.num_monthly_editor_seats.seat_rename",{designQuantity:r,productName:(0,gU.s)(_K.xi.WHITEBOARD)}),headerFreeSubText:h>0?(0,eq.t)("team_view.add_annual_seats_modal.billing_breakdown",{cost:m.formatMoney(0),remainingMonthsText:(0,eq.t)("team_view.add_annual_seats_modal.billing_breakdown.remaining_months",{numMonths:p}),seatsText:(0,eq.t)("team_view.add_annual_seats_modal.billing_breakdown.seats",{seats:h})}):void 0,headerSubText:T?(0,eq.t)("team_view.add_annual_seats_modal.billing_breakdown",{cost:m.formatMoney(u.annualFigjam),remainingMonthsText:(0,eq.t)("team_view.add_annual_seats_modal.billing_breakdown.remaining_months",{numMonths:p}),seatsText:(0,eq.t)("team_view.add_annual_seats_modal.billing_breakdown.seats",{seats:f})}):void 0,clarificationText:I()?(0,eq.t)("team_view.add_annual_seats_modal.unused_seats_will_be_added",{productName:(0,gU.s)(_K.xi.WHITEBOARD),unusedSeats:I()}):void 0,updateAdditionalSeatsText:ps(n),shouldShowJamboardOffer:!1})),ev.createElement("div",{className:$J},b?ev.createElement(os.Ct,{color:os.JV.FIGJAM,text:ev.createElement(eq.Tx,{id:"pro_cart.jamboard_offer.offer_badge.n_months_free",numMonths:p})}):ev.createElement("div",null,m.formatMoney(f*p*u.annualFigjam)))),g&&ev.createElement("div",{className:$q},ev.createElement(pg,{numOfferSeatsRemaining:E}))),ev.createElement("div",{className:"add_annual_seats_modal--totalRow--BsF8O add_annual_seats_modal--billingRow--okBAc"},ev.createElement("div",{className:$Y},ev.createElement(eq.Tx,{id:"team_view.add_annual_seats_modal.total_charge_description",chargeDate:_.toDate()})),ev.createElement("div",{className:$J},ev.createElement("div",null,m.formatMoney(t*p*u.annualFigma+f*p*u.annualFigjam)))))))},"AddAnnualSeatsModal");a(516877);var $1=a(181602);function $2(e){return e?(0,gk.Z)(e).format("MMMM D, YYYY"):""}function $3(e){let t=(0,eb.I0)(),a=e.billing.summary.annual_subscription,r=e.billing.summary.monthly_subscription;return(0,eZ.O)(()=>{e.billing.summary.show_vat_gst&&Mm(Mu.O,()=>{(0,gF.Kn)({team:e.team,dispatch:t})})}),ev.createElement(ev.Fragment,null,ev.createElement(e3.Ui,{name:"Team Admin Console Settings Table",properties:{teamId:e.team.id}},ev.createElement("div",{className:"settings_section--adminConsoleSettingsWrapper--4YZ3T settings_section--settingsWrapper--ymG5e text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,eT.BZ)().pro_team_business_names&&e.team.pro_team&&ev.createElement(LF,{title:(0,eq.t)("settings_table.team_profile"),settings:$8({team:e.team,teamName:e.team.name,legalName:e.team.legal_name??"",dispatch:t})}),ev.createElement(LF,{title:(0,eq.t)("settings_table.plan"),settings:$4({annualSub:a,dispatch:t,monthlySub:r,team:e.team,userId:e.userId,showVatGst:e.billing.summary.show_vat_gst,currency:e.billing.summary.currency})}),e.team.pro_team&&ev.createElement(LF,{title:(0,eq.t)("settings_table.billing"),description:$5(r,a),settings:$9({annualSub:a,dispatch:t,monthlySub:r,team:e.team,billingContact:e.billing.summary.billing_contact})}),ev.createElement(LF,{title:(0,eq.t)("settings_tab.section_header.login_and_provisioning"),settings:$6({dispatch:t,team:e.team}),nullForEmptySettings:!0}))))}a(753224);let $4=({monthlySub:e,annualSub:t,dispatch:a,team:r,userId:n,currency:i,showVatGst:l})=>{let s=r.id,o=[],c=(0,gB.iH)(r),d=(0,pa.I1)(uD.tv.ANNUAL);if(!e&&!t){let e=ev.createElement("span",null,ev.createElement(eq.Tx,{id:"settings_table.upgrade_to_the_professional_plan_or_to_an_organization_and_get_access_to_shared_team_libraries_advanced_security_features_and_more",more:ev.createElement("a",{className:$Q,href:"/pricing",onClick:e=>{e.stopPropagation()},target:"_blank"},ev.createElement(eq.Tx,{id:"settings_table.more"}))}));if(c){let t=new Date(r.grace_period_end);e=ev.createElement("span",null,ev.createElement(eq.Tx,{id:"settings_table.to_keep_using_paid_features_like_unlimited_team_figma_files_projects_and_team_libraries_after_your_free_professional_plan_expires_on_date_purchase_the_professional_plan_for_your_team",date:t}))}return o.push(ev.createElement(LB,{label:c?(0,eq.t)("settings_table.purchase_professional_plan"):(0,eq.t)("settings_table.upgrade_your_plan"),onClick:()=>{c?zr(a,s):zn(a,s,g0.V.BILLING_SETTINGS)},description:e})),o}if(o.push(ev.createElement(LB,{label:(0,eq.t)("settings_table.upgrade_your_plan"),description:ev.createElement("span",null,ev.createElement(eq.Tx,{id:"settings_table.consolidate_your_teams_access_shared_libraries_enable_advanced_security_features_and_more",more:ev.createElement("a",{className:$Q,href:"/organization",target:"_blank",onClick:e=>e.stopPropagation()},ev.createElement(eq.Tx,{id:"settings_table.more"}))})),onClick:()=>{ew.default.redirect("/purchase-organization","_blank")}})),(null==e?void 0:e.canceled_at)||(null==t?void 0:t.canceled_at)||!e)return o.push(ev.createElement(LB,{label:(0,eq.t)("settings_table.reactivate_plan"),description:(0,eq.t)("settings_table.reactivate_your_subscription_of_professional"),onClick:()=>{(0,gF.nM)({team:r,dispatch:a,cancelling:!0,monthlySub:e,annualSub:t,currency:i})}})),o;let m=(0,gk.Z)(),u=t&&m.isAfter((0,gk.Z)(t.current_period_end).add(-30,"days")),_=t&&!u;t?u?o.push(ev.createElement(LB,{label:(0,eq.t)("settings_table.change_annual_plan"),description:(0,eq.t)("settings_table.you_can_change_the_number_of_seats_on_your_annual_plan_before_it_renews"),onClick:()=>{ze(a,d)}})):_&&o.push(ev.createElement(LB,{label:(0,eq.t)("team_view.settings_table.add_annual_seats"),description:(0,eq.t)("team_view.settings_table.add_annual_seats_description"),onClick:()=>{zt(a,r.id,n,e,t,i)}})):o.push(ev.createElement(LB,{label:(0,eq.t)("settings_table.add_annual_seats"),description:(0,eq.t)("settings_table.you_can_simplify_your_billing_by_converting_your_monthly_seats_to_annual"),onClick:()=>{$7(a,r.id)}}));let p=(null==t?void 0:t.current_period_end)||(null==e?void 0:e.current_period_end),g=$2(p),E=()=>a((0,ig.K4)({type:$Z.R,data:{teamId:s,billingEndDate:g||void 0}}));return o.push(ev.createElement(LB,{label:(0,eq.t)("settings_table.cancel_plan"),description:(0,eq.t)("settings_table.cancel_your_subscription_of_professional"),onClick:()=>{(0,nm.KU)()?a((0,ig.K4)({type:$1.B,data:{teamId:s,onContinue:E}})):E()}})),o.push(ev.createElement(LB,{label:(0,eq.t)("settings_table.change_payment_method"),description:(0,eq.t)("settings_table.change_and_update_the_payment_method_on_file"),onClick:()=>(0,gF.nM)({team:r,dispatch:a,cancelling:!1,monthlySub:e,annualSub:t,currency:i})})),l&&o.push(ev.createElement(LB,{label:(0,eq.t)("settings_table.vat_gst"),description:(0,eq.t)("settings_table.change_vat_gst_id"),onClick:()=>(0,gF.Kn)({team:r,dispatch:a})})),o},$8=({team:e,teamName:t,legalName:a,dispatch:r})=>{let n=[];return n.push(ev.createElement(LB,{label:(0,eq.t)("settings_table.names"),description:(0,eq.t)("settings_table.change_names"),onClick:()=>(0,gF.K3)({team:e,updatedDisplayName:t,updatedLegalName:a,dispatch:r})})),n},$5=(e,t)=>{let a=null!=e&&null!=e.current_period_end&&null==e.canceled_at,r=null!=t&&null!=t.current_period_end&&null==t.canceled_at,n=null!=e&&e.canceled_at,i=null!=t&&t.canceled_at,l=null;if(r&&a){let a=null==e?void 0:e.current_period_end,r=$2(a),n=null==t?void 0:t.current_period_end,i=$2(n);l=ev.createElement(eq.Tx,{id:"team_view.settings_table.multiple_subscription_renewal",monthly_billing_date:ev.createElement("span",{className:$X},ev.createElement(eq.Tx,{id:"team_view.settings_table.billing_date",billing_date:r})),annual_billing_date:ev.createElement("span",{className:$X},ev.createElement(eq.Tx,{id:"team_view.settings_table.billing_date",billing_date:i}))})}else if(r){let e=$2(t.current_period_end);l=ev.createElement(eq.Tx,{id:"team_view.settings_table.single_subscription_renewal_annual",billing_date:ev.createElement("span",{className:$X},ev.createElement(eq.Tx,{id:"team_view.settings_table.billing_date",billing_date:e}))})}else if(a){let t=$2(e.current_period_end);l=ev.createElement(eq.Tx,{id:"team_view.settings_table.single_subscription_renewal_monthly",billing_date:ev.createElement("span",{className:$X},ev.createElement(eq.Tx,{id:"team_view.settings_table.billing_date",billing_date:t}))})}else if(i&&n)l=ev.createElement(eq.Tx,{id:"team_view.settings_table.renewal_information_canceled_team_annual_and_monthly"});else if(i)l=ev.createElement(eq.Tx,{id:"team_view.settings_table.renewal_information_canceled_team_annual"});else if(n)l=ev.createElement(eq.Tx,{id:"team_view.settings_table.renewal_information_canceled_team_monthly"});else if(null!=e||null!=t)return(0,ae.YD)("billing","Ambiguous pro team renewal status",{monthly_period_end:null==e?void 0:e.current_period_end,monthly_canceled_at:null==e?void 0:e.canceled_at,annual_period_end:null==t?void 0:t.current_period_end,annual_canceled_at:null==t?void 0:t.canceled_at}),ev.createElement(ev.Fragment,null);return ev.createElement("div",{className:"settings_table--sectionDescription--kpNff"},ev.createElement("span",null,l))},$9=({monthlySub:e,annualSub:t,dispatch:a,team:r,billingContact:n})=>{let i=[];return i.push(ev.createElement(LB,{label:(0,eq.t)("team_view.settings_table.new_editor_notifications.seat_rename"),description:(0,eq.t)("team_view.settings_table.new_editor_notifications_description.seat_rename"),onClick:()=>{a((0,ig.K4)({type:Pp,data:{planType:Mg.TEAM,planId:r.id}}))}})),i.push(ev.createElement(LB,{label:(0,eq.t)("settings_table.billing_contacts"),description:(0,eq.t)("settings_table.billing_contacts_description"),onClick:()=>{za(a,r,n||"")}})),i},$6=({team:e,dispatch:t})=>{let a=[];return e.pro_team&&a.push(ev.createElement(LB,{label:(0,eq.t)("settings_tab.default_role_label.seat_rename"),description:ev.createElement(eq.Tx,{id:"settings_table.default_role_entrypoint_description.seat_rename",plan_type:(0,eq.t)("settings_table.team")}),onClick:()=>{t((0,ig.K4)({type:Pt,data:{planType:Mg.TEAM,planId:e.id}}))}})),a},$7=(e,t)=>{e(od.fv({view:"addAnnualPlan",teamId:t}))},ze=(e,t)=>{e((0,ig.K4)({type:HM,data:{promotionCodeId:t}}))},zt=(e,t,a,r,n,i)=>{e((0,ig.K4)({type:$0,data:{currency:i,teamId:t,monthlySub:r,annualSub:n,userId:a}}))},za=(e,t,a)=>{let r=async a=>await gF.h_({email:a,dispatch:e,teamId:t.id});e((0,ig.K4)({type:Ps,data:{currentContacts:a,onSubmit:r,isOrg:!1}}))},zr=(e,t)=>{e(u$.F2({teamId:t,openInNewTab:!1,selectedView:{view:"team",teamId:t}}))},zn=(e,t,a)=>{e((0,ig.K4)({type:_8.nY,data:{teamId:t,upsellSource:a,openCheckoutInNewTab:!0}}))};var zi=a(875990);function zl({selectedTab:e,teamId:t}){let a=(0,eb.I0)();return ev.createElement("div",{className:ek.cx.mt24.mb24.$},ev.createElement(tD.j,null,ev.createElement(oc.x,{fontSize:20},(0,Eb.Gu)(e)),ev.createElement(tD.m,null),e===gP.m.MEMBERS&&(0,xI.IQ)(t,null)&&ev.createElement(zi.J,{icon:"plus-32",variant:"secondary",onClick:()=>{a((0,ig.K4)({type:_8.nB,data:{teamId:t,notifyOnSuccess:!0,initialView:0}}))},trackingProperties:{action:"Add members to team"}},ev.createElement(oc.x,{i18nId:"team_admin.members_tab.invite_users"}))))}let zs=(0,NQ.Bw)();function zo(e){let t=(0,eb.I0)(),a=(0,eb.v9)(e=>e.loadingState),r=uK.NK.loadingKeyForPayload({teamId:e.teamId}),n=(0,dn.OZ)(a,r),i=ev.useCallback(a=>{a===gP.m.MEMBERS&&n&&t(HA.IV({key:r})),a===gP.m.BILLING&&t(gF.eO({teamId:e.teamId,shouldForceFetch:!0})),a===gP.m.SETTINGS&&t(gF.H2({teamId:e.teamId})),t(od.fv({view:"teamAdminConsole",teamId:e.teamId,teamAdminConsoleViewTab:a}))},[t,n,r,e.teamId]),l=Object.values(gP.m).filter(t=>t===gP.m.DASHBOARD?(0,nm.hU)(e.isProTeam):t!==gP.m.BILLING||e.isProTeam),s=l.map(t=>ev.createElement(zs,{tab:t,selectedTab:e.selectedTab,key:t,onClick:i,mobileNavTabTitle:(0,Eb.Gu)(t)},(0,Eb.Gu)(t))),o=ev.createElement("button",{className:tQ()(ek.cx.flex.mr32.bRadius4.pt4.pb4.pr8.pl8.maxW150.$,"team_admin_console_view--teamNameHeaderHoverState--UPIlM"),onClick:()=>{t(od.fv({view:"team",teamId:e.teamId,teamViewTab:gP.x.HOME}))}},ev.createElement(oc.x,{truncate:!0},e.teamName));return ev.createElement(NJ.b,{hideToolBarOnDesktop:!1,tabs:s,left:o})}var zc=a(584516);let zd="professional_badge_onboarding_key",zm="seen_professional_badge_overlay";function zu({teamId:e}){var t,a;let r=(0,eb.v9)(e=>e.userTeamFlags),n=null==(t=r[e])?void 0:t[zm],i=null==(a=r[e])?void 0:a[j3.m1],l=(0,so.I)({id:sd.G.ProfessionalBadgeOverlay,priority:su.b4.DEFAULT_MODAL,queueOnBlock:!0}),s=(0,eb.I0)();return((0,ev.useEffect)(()=>{i&&!n&&l.show()},[l,i,n]),l.isShowing)?ev.createElement(Tn.ZZ,{isShowing:l.isShowing,title:ev.createElement(eq.Tx,{id:"pro_onboarding.see_whats_included"}),description:ev.createElement(eq.Tx,{id:"pro_onboarding.review_your_teams_plan_and_all_its_features_by_clicking_on_your_professional_badge"}),targetKey:zd,onClose:()=>{s(h6.v_({all_team_flags:[{team_id:e,flags:{[zm]:!0}}]})),l.complete()},trackingContextName:r2.V4.PROFESSIONAL_BADGE_TOOLTIP,trackingProperties:j1.R.getTrackingProperties(e),emphasized:!0,shouldCenterArrow:o9.Ht.FALLBACK,clickOutsideToHide:!0}):null}var z_=a(23640);let zp=a(174341);function zg(){return ev.createElement("div",{className:ek.cx.flex.p12.colorBgSelected.bRadius6.$},ev.createElement("div",{className:ek.cx.mr12.colorIcon.itemSelfCenter.$},ev.createElement(eD.n,{svg:zp})),ev.createElement(eq.Tx,{id:"sidebar.meta.this_team_is_for_education_users_only"}),"\xa0",ev.createElement(eA.Z6,{target:"_blank",trusted:!0,href:"/education/"},ev.createElement(eq.Tx,{id:"org_home_view_meta.learn_more"})))}function zE({team:e}){let t=(0,eb.I0)(),a=(0,eb.v9)(t=>(0,uR.canEditTeam)(e.id,t)),[{data:r}]=(0,ez.aM)((0,hR.RM)({teamId:e.id})),n=(r||[]).filter(e=>""!==e.name).length,i=!e.subscription&&!e.org_id&&a&&n>=gB.kl;if(!i)return null;let l=(0,nm.mA)(),s=ev.createElement(eA.Z6,{onClick:()=>{t((0,ig.K4)({type:_8.nY,data:{teamId:e.id,upsellSource:g0.V.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:cC.y.UPGRADE_TO_A_PAID_PLAN,showSingleEditorCopyChangeVariantUi:l},"data-testid":"starterTeamUpsellFooterUpgradeLink"},ev.createElement(eq.Tx,{id:"file_browser.starter_team.upgrade_link"})),o=l?ev.createElement(eq.Tx,{id:"file_browser.starter_team.project_limit_info_single_editor",upgradeLink:s}):ev.createElement(eq.Tx,{id:"file_browser.starter_team.project_limit_info",upgradeLink:s});return ev.createElement("div",{className:tQ()(ek.cx.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--fpLhD"),"data-testid":"starterTeamUpsellFooter"},ev.createElement("div",{className:tQ()(ek.cx.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper--kHuX2")},ev.createElement("strong",null,n===gB.kl?ev.createElement(eq.Tx,{id:"file_browser.starter_team.project_limit_warning",maxProjects:gB.kl}):ev.createElement(eq.Tx,{id:"file_browser.starter_team.project_limit_warning_over_max_projects"})),ev.createElement("p",{className:ek.cx.alignCenter.$},o)))}var zh=a(835994),zf=a(887522);let zv=(0,it.Y3)(function({teamId:e}){let t=(0,ev.useMemo)(()=>(0,zh.iz)(),[]),a=(0,eb.I0)(),r=()=>{a(ig.hV())};return ev.createElement(e3.Ui,{name:"Pro Features Modal",properties:j1.R.getTrackingProperties(e)},ev.createElement(zf.V,{...t,dismissModal:r,clickSecondaryBtn:()=>{ew.default.redirect("/pricing","_blank")},clickPrimaryBtn:r,showPricing:!1,panelTitleSize:zf.c.LARGE,cardsClickable:!0}))},"ProFeaturesModal");var zb=a(617701),zy=a(950601);let zw="seen_pro_onboarding_unlimited_projects_overlay",zT=(0,o_.n_)(zw);function zx({teamId:e}){var t,a;let r=(0,r9.Dv)(zT),n=(0,r9.Dv)(j0.q),i=(0,eb.v9)(e=>e.userTeamFlags),l=null==(t=i[e])?void 0:t[j3.m1],s=null==(a=i[e])?void 0:a[zm],{show:o,isShowing:c,complete:d}=(0,so.I)({id:sd.G.ProOnboardingUnlimitedProjectsOverlay,priority:su.b4.DEFAULT_MODAL,experiment:{check:nm.kt,predicate:e=>e,postCheck:e=>!e}},[r,n]);return((0,eZ.O)(()=>{l&&s&&o({canShow:(t,a)=>a.some(t=>t.id===e)})}),c)?ev.createElement(dP.R,{isShowing:c,userFlagOnShow:zw},ev.createElement(e3.Ui,{name:j1.R.getTooltipTrackingContext("Unlimited Projects"),properties:j1.R.getTrackingProperties(e)},ev.createElement(j2.qH,{dismissModal:d}))):null}let zN=a(267837),zC=a(428179);function zS(e){var t,a,r,n;let i=(0,eb.I0)(),l=ev.useRef(null),s=(0,eb.v9)(({dropdownShown:e})=>e),o=e.team.org_id??null,c=(0,g6.E)({currentOrgId:o,currentTeamId:null}),d=(0,eb.v9)(e=>e.favorites.collapsedCustomSections),m=(0,vG.f)(),u=ev.useMemo(()=>{if("loaded"===c.status){let t=(0,fk.W7)(c.data,e.team.id);return t}},[c,e.team.id]);if("loaded"!==c.status)return ev.createElement("div",{className:ek.cx.flex.itemsCenter.colorIcon.$},ev.createElement(eD.n,{svg:zN}));let _=(0,fk.Mi)(c.data,o),p=e.dropdownKey,g=p&&s&&s.type===e.dropdownKey&&s.data&&s.data.targetRect,E=l.current&&(null==(t=null==s?void 0:s.data)?void 0:t.targetRef)===l.current&&(null==s?void 0:s.type)===bF.C8,h=l.current,f=[];return e.showInvite&&f.push(ev.createElement(gb.j.Option,{key:"import",children:ev.createElement(eq.Tx,{id:"file_browser.team.invite"}),onClick:e.onInviteClick})),f.push(ev.createElement(gb.j.Option,{key:"share",children:ev.createElement(eq.Tx,{id:"file_browser.team.view_members"}),onClick:t=>e.onMembersClick(t)})),m&&f.push(ev.createElement(gb.j.Option,{key:"add-to-favorites-section",children:ev.createElement("div",{className:ek.cx.flex.justifyBetween.itemsCenter.w150.$},ev.createElement(eq.Tx,{id:"favorited_resources.add_to_sidebar"}),ev.createElement(eD.n,{svg:zC})),onClick:t=>{t.stopPropagation(),l.current&&i(od.SP({type:bF.C8,data:{targetRect:h.getBoundingClientRect(),targetRef:h,resourceId:e.team.id}}))}})),ev.createElement("button",{className:ek.cx.flex.itemsCenter.colorIcon.$,ref:l,onClick:t=>{e.dropdownKey&&h&&i(od.SP({type:e.dropdownKey,data:{targetRect:null==h?void 0:h.getBoundingClientRect()}}))}},ev.createElement(eD.n,{svg:zN}),g&&ev.createElement(AI.AQ,{targetRect:s.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},f),E&&ev.createElement(bF.c3,{updateFavorite:(t,a)=>{(!_||t)&&(e.setFavorite(t,null==u?void 0:u.resource.id,a),t&&a&&(d.delete(a),i(hd.l6({collapsedCustomSections:d})),bl.Ox({type:"topLevel",id:"custom",orgId:o,sectionId:a},!0)))},resourceId:e.team.id,resourceType:ao.IK.TEAM,isFavorited:void 0!==u,currentSectionId:(null==u?void 0:u.resource.sidebarSectionId)??void 0,sections:c.data.currentUser.userSidebarSections??[],customSectionOrdering:(null==(n=null==(r=null==(a=c.data.currentUser)?void 0:a.baseOrgUser)?void 0:r.fileBrowserPreferences)?void 0:n.orderedSidebarSections)??[],showPoint:!0}))}let zk=a(940093),zI=(e,t,a,r,n,i,l,s,o,c,d,m,u,_)=>{var p;let g=(0,Eb.qd)(s,l).length,E=(0,xI.IQ)((null==e?void 0:e.id)||null,(null==e?void 0:e.org_id)||null),h=E?d:e.canRead,f=E?c:e.canEditTeamContents,v=[],b=!!(m&&Object.keys(m).includes(e.id))&&(null==(p=m[e.id])?void 0:p.status)===Hh.n.PENDING,y=e.isCurrentUserInTeam??!0,w=e.canAdmin&&!e.isCurrentUserInTeam,T=!E&&e.org_access===ao.Zn.PUBLIC&&h&&!y,x={kind:Uv.G.CUSTOM_BUTTON,key:Uv.y.FAVORITE,element:ev.createElement(h_.M,{setFavorite:o,favoriteType:ao.IK.TEAM,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:e.org_id})},N={kind:Uv.G.ICON_TEXT_BUTTON,key:Uv.y.VIEW_MEMBERS,displayText:g.toString(),onClick:e=>{_&&_(e)},icon:zk,svgStyleClass:"team_page_view--iconTextButtonSvg--De4li",showOnMobile:!1};if(w)v.push({kind:Uv.G.BUTTON,key:Uv.y.JOIN_TEAM,displayText:(0,eq.t)("file_browser.team.join_team"),onClick:(0,wZ.FI)(r,e.id,uq.V.ADMIN)});else if(T)return v.push({kind:Uv.G.BUTTON,key:Uv.y.JOIN_TEAM,displayText:(0,eq.t)("file_browser.team.join_team"),onClick:(0,wZ.FI)(r,e.id)}),E||v.push(N),v.push(x),v;(a===gP.x.HOME||n)&&(f&&!(0,uR.isOrgUserExternallyRestricted)(i,e.org_id)?v.push({kind:Uv.G.CUSTOM,key:Uv.y.NEW_PROJECT,element:ev.createElement(ev.Fragment,null,ev.createElement(UN,{"data-onboarding-key":"team-view-new-project-cta",variant:"inverse",onClick:()=>{r((0,hR.nw)({team:{...e,canEdit:f,canAdmin:e.canAdmin,canEditTeamContents:E?c:e.canEditTeamContents},where:bh.A4.FolderListView}))},text:(0,eq.t)("file_browser.team.add_project")}),ev.createElement(zx,{teamId:e.id})),showOnMobile:!0}):!e.org_id||!m||e.org_access===ao.Zn.SECRET||w||T||e.canAdmin||v.push({kind:Uv.G.BUTTON,key:Uv.y.REQUEST_TO_EDIT,displayText:b?(0,eq.t)("file_browser.team.cancel_request"):(0,eq.t)("file_browser.team.request_to_edit"),onClick:()=>{var t;b?r(x1.pn({requestId:null==(t=m[e.id])?void 0:t.id})):r(ig.K4({type:x2.M_,data:{team:e,requesterCurrentLevel:uq.V.VIEWER}}))}})),(a===gP.x.MEMBERS||n)&&t&&v.push({kind:Uv.G.BUTTON,key:Uv.y.INVITE,displayText:(0,eq.t)("file_browser.team.invite"),onClick:()=>{r(ig.K4({type:_8.nB,data:{teamId:e.id,notifyOnSuccess:!0}}))}}),E||v.push(N),e.org_id&&v.push(x);let C=ev.createElement(zS,{dropdownKey:"team-overflow-dropdown",team:e,showInvite:t,onInviteClick:()=>{r(ig.K4({type:_8.nB,data:{teamId:e.id,notifyOnSuccess:!0}}))},onMembersClick:e=>{_&&_(e)},setFavorite:o});return v.push({kind:Uv.G.CUSTOM_BUTTON,key:Uv.y.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:C}),v};function zL(e){let{team:t,orgTeamActionType:a}=e;switch(a){case xX.vN.CLICK_JOIN:case xX.vN.BYPASS_REQUEST:return ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"file_browser.team.no_permissions_message",teamName:t.name}),ev.createElement("br",null),ev.createElement(eq.Tx,{id:"file_browser.team.please_join_team"}));case xX.vN.CLICK_REQUEST:return ev.createElement(ev.Fragment,null,ev.createElement(eq.Tx,{id:"file_browser.team.no_permissions_message",teamName:t.name}),ev.createElement("br",null),ev.createElement(eq.Tx,{id:"file_browser.team.please_request_to_join_team"}));case xX.vN.CLICK_WITHDRAW:return ev.createElement(eq.Tx,{id:"file_browser.team.request_to_join_team_is_pending",teamName:t.name});default:return ev.createElement(eq.Tx,{id:"file_browser.team.no_permissions_message",teamName:t.name})}}let zR=(0,eb.$j)((e,t)=>({orgTeamActionType:(0,xX.xP)(t.team,e.teamRoleRequests[t.team.id],(0,uR.getPermissionsState)(e),e.currentUserOrgId),team:t.team,teamRoleRequest:e.teamRoleRequests[t.team.id]}))(function(e){let{team:t,orgTeamActionType:a}=e,r=(0,eb.I0)(),n=ev.createElement("div",{className:"team_page_view--nonMemberViewContainer--YGW4u"},ev.createElement("div",{className:"team_page_view--header--uI3b0"},ev.createElement(oo.Ir,{team:t,size:oo.DZ.LARGE}),ev.createElement("span",{className:"team_page_view--teamName--gBwlm text--fontPos18--rYXJb text--_fontBase--QdLsd"},t.name)),ev.createElement("div",{className:"team_page_view--joinOptionText--Bs2e9 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ev.createElement(zL,{team:t,orgTeamActionType:a})),ev.createElement("div",{className:"team_page_view--joinButton--LKnWo"},ev.createElement(U3.O,{team:t,onJoin:(0,wZ.FI)(r,t.id),onLeave:()=>{r(ig.K4({type:x0.Y,data:{teamId:t.id}}))},onJoinRequest:()=>{r(ig.K4({type:x2.M_,data:{team:t}}))},onBypassRequest:(0,wZ.FI)(r,t.id,uq.V.OWNER),onWithdrawRequestForTeam:()=>{var t;let a=null==(t=e.teamRoleRequest)?void 0:t.id;a&&r(x1.pn({requestId:a}))},isCardActive:!1})));return ev.createElement(da.S,{content:n})});function zA(e){let t=(0,dV.mU)(dH.TeamCanView,{id:e??""},{enabled:!!e}),a=(0,eb.I0)();ev.useLayoutEffect(()=>{var e;"loaded"!==t.status||(null==(e=t.data.team)?void 0:e.hasPermission)||a(od.fv({view:"recentFiles"}))},[t,a])}let zO=(0,eb.$j)((e,t)=>{let a=e.teams[t.teamId],r=e.currentUserOrgId,n=(0,uR.canAdminTeam)(t.teamId,e),i=(0,uR.canEditTeam)(t.teamId,e),l=(0,uR.canViewTeam)(t.teamId,e),s=a&&a.org_id&&e.orgById[a.org_id]||null,o=!!s&&(0,uR.canAdminOrg)(s.id,e),c=(0,uR.canMakeAdmin)(ao._g.TEAM,t.teamId,e),d=(0,uR.hasAdminRoleAccessOnTeam)(t.teamId,e),m=(0,uR.hasEditorRoleAccessOnTeam)(t.teamId,e),u={};e.teamMembersByTeamId[t.teamId]&&Object.entries(e.teamMembersByTeamId[t.teamId]).map(([a,r])=>{var i;let l=!!r.team_role&&(0,uR.canEditRole)(r.team_role,e),s=!!r.team_role&&(0,uR.isResourceOwner)(e.user.id,t.teamId,ao._g.TEAM,e.roles),o=!!r.team_role&&c,d=(null==(i=r.team_role)?void 0:i.level)||-1;u[a]={...r,canEditRole:l,canMakeOwner:s,canMakeAdmin:o,canRemoveUser:n&&d<uq.V.OWNER}});let _=(0,uR.hasViewerRoleAccessOnTeam)(t.teamId,e);return{team:a&&{...a,canAdmin:n,canEdit:i,canRead:l,isCurrentUserInTeam:_,canEditTeamContents:m},org:s,currentOrgId:r,teamRoleRequest:e.teamRoleRequests[t.teamId],avatarEditorState:e.avatarEditorState,canAdminOrgTeam:o,loadingState:e.loadingState,billing:e.teamBilling,membersList:u,user:e.user,canDeleteTeam:d,dropdownShown:e.dropdownShown}})(function(e){var t,r,n,i,l;let s;let{selectedTab:o,loadingState:c,team:d,teamId:m,org:u,currentOrgId:_,upgradeModalType:p}=e,g=(0,eb.I0)(),E=(0,o8.A6)(),[h,f]=ev.useState(!1),[{status:v,data:b}]=(0,ez.aM)((0,hR.RM)({teamId:null==(t=e.team)?void 0:t.id}));zA(e.teamId);let y=(0,eb.v9)(e=>e.teamRoleRequests),w=(0,eb.v9)(e=>d&&e.teamUserByTeamId[d.id]),T=!!(0,eb.v9)(e=>{var t;return d&&(0,uR.canManageOrgTeam)(d.id,e,null==(t=e.user)?void 0:t.id)}),[x,N]=ev.useState(),C=a(563216),S=(0,gB.e3)(d)&&!(null==d?void 0:d.org_id),{getConfig:k}=(0,eC.it)("exp_pro_tier_onboarding"),I=(0,xI.IQ)((null==d?void 0:d.id)||null,(null==d?void 0:d.org_id)||null),L=(0,dV.mU)(dH.TeamPermissions,{teamId:m}),R="loaded"===L.status,A=ev.useMemo(()=>(0,xI.hb)(L),[L]),O=I?!!(A&&A.canAdmin):!!(d&&d.canAdmin),D=I?!!(A&&A.canEdit):!!(d&&d.canEdit),F=I?!!(A&&A.canRead):!!(d&&d.canRead),M=ev.useCallback(()=>{xL.j.getTeamTransfer({teamId:m}).then(({data:e})=>{N(e.meta)},e=>{N(void 0)})},[m]);(0,eZ.O)(()=>{let e=(0,uP.BA)("team_role_redemption");if(e&&parseInt(e) in uq.V){let e=(0,zc.S)();e&&g(r7.R.enqueue({message:e})),(0,uP.Zo)("team_role_redemption")}}),ev.useEffect(()=>{M()},[null==x?void 0:x.id,M]),ev.useEffect(()=>{let e=Ny.oD.loadingKeyForPayload();(0,dn.hg)(c,e)||(0,dn.B4)(c,e)||g(Ny.oD())},[g,c]),ev.useEffect(()=>{_&&g((0,gf.fO)())},[g,_]),ev.useEffect(()=>{if(d)f(!1);else{let e=wZ.Hd.loadingKeyForPayload({teamId:m}),t=`TEAM_GET_ACTION_${m}`;_&&!c[e]?g(wZ.Hd({teamId:m,disableFlashError:!0})):(0,dn.hg)(c,e)||(0,dn.hg)(c,t)||f(!0)}},[g,c,d,m,_]),ev.useEffect(()=>{if(d&&!d.org_id){if(o===gP.x.BILLING){let e=gF.H2.loadingKeyForPayload({teamId:d.id}),t=gF.sA.loadingKeyForPayload({teamId:d.id}),a=!(0,dn.B4)(c,e)&&!(0,dn.hg)(c,e),r=!(0,dn.B4)(c,t)&&!(0,dn.hg)(c,t);(a||r)&&g(gF.eO({teamId:d.id}))}else if(o===gP.x.MEMBERS){let e=uK.NK.loadingKeyForPayload({teamId:d.id});(0,dn.hg)(c,e)||(0,dn.B4)(c,e)||g(uK.NK({teamId:d.id}))}else if(o===gP.x.SETTINGS){let e=gF.H2.loadingKeyForPayload({teamId:d.id});O&&S&&!(0,dn.hg)(c,e)&&!(0,dn.B4)(c,e)&&g(gF.eO({teamId:d.id}))}}},[g,o,c,d,u,S,O]);let P=(0,lR.xJ)(),B=P&&w&&w[P.id],U=(0,dV.mU)(dH.TeamUserStatusAndRequests,{teamId:m}),V=null==(n=null==(r=U.data)?void 0:r.team)?void 0:n.currentTeamUser,W=(0,eb.v9)(e=>e.roles);ev.useEffect(()=>{var e,t;let a;if(!(d&&P&&B&&V&&p)||!S)return;let r=p===ao.oj.DEV_MODE,n=p===ao.oj.WHITEBOARD?ao.gg.WHITEBOARD:ao.gg.DESIGN;n===ao.gg.DESIGN?a=(null==(e=V.designAccountTypeRequest)?void 0:e.status)==="pending":n===ao.gg.WHITEBOARD&&(a=(null==(t=V.whiteboardAccountTypeRequest)?void 0:t.status)==="pending"),!0===a&&g(dl.l.flash((0,eq.t)("team_view.request_upgrade.request_already_sent")));let i=!1===a&&(0,oC.Ho)(!!(0,uR.isTeamUserRestricted)(B,n)||r&&!(0,uR.isTeamUserFull)(B,n),a,d,P);if(i){let e=r?Vk.s.DowngradeEmail:zy.aT.DOWNGRADE_EMAIL;g(ig.K4({type:zy.nU,data:{editorType:n,teamUser:B,entryPoint:e}}))}g(od.fv({view:"team",teamId:d.id,teamViewTab:o}))},[g,d,P,B,V,p,S,o]),(0,eZ.O)(()=>{e.showProOnboardingModal&&g(ig.K4({type:zb.y,data:{teamId:m}}))});let G=ev.useCallback((t,a,r)=>{if(e.team){let n={team:e.team,entrypoint:"team_page_view",sectionId:r,favoriteId:a};t?g(hd.Aw(n)):g(hd.NP(n))}},[g,e.team]),j=ev.useCallback(()=>{rI.ZP.del(`/api/asset_transfer/${null==x?void 0:x.id}`).then(()=>{N(void 0),g(r7.R.enqueue({message:(0,eq.t)("asset_transfers.revoke.transfer_revoked")}))},e=>{g(r7.R.enqueue({message:(0,eq.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},[null==x?void 0:x.id,g]),H=ev.useMemo(()=>{if(d)return{team:d,pending:x,onRevokeTransfer:j,updatePending:M,billing:e.billing}},[M,j,x,d,e.billing]),$={view:"team",teamId:m,teamViewTab:gP.x.HOME},z=Cx(Cf.MEMBERS,H,!!(null==d?void 0:d.canAdmin),$),K=Cx(Cf.SETTINGS,H,!!(null==d?void 0:d.canAdmin),$);ev.useEffect(()=>{e.selectedTab===gP.x.MEMBERS?z():e.selectedTab===gP.x.SETTINGS&&K()},[]);let Z=ev.useCallback(e=>{let t={view:"team",teamId:d?d.id:"",teamViewTab:e};g(od.fv(t))},[g,d]),q=ev.useMemo(()=>{if(d)switch(d.org_access){case ao.Zn.PRIVATE:if(D)return(0,eq.t)("file_browser.team_header.private_team_can_edit");if(F)return(0,eq.t)("file_browser.team_header.private_team_can_view");break;case ao.Zn.SECRET:if(D)return(0,eq.t)("file_browser.team_header.secret_team_can_edit");if(F)return(0,eq.t)("file_browser.team_header.secret_team_can_view")}},[d,F,D]),Y=(0,z_.K)();if(!R)return ev.createElement(ax.jz,null);if(h||!F&&!_)return ev.createElement(GY,{resourceType:di.Hy.TEAM});if(!d)return null;if(!F)return ev.createElement(zR,{team:d});let J=()=>{g((0,hR.nw)({where:bh.A4.FolderListView,team:d}))},Q=()=>{g(od.kp()),K(),Z(gP.x.SETTINGS)},X=()=>{g(od.kp()),g(od.fv({view:"teamAdminConsole",teamId:d.id,isProTeam:d.pro_team})),(0,eK.L9)("Admin Console Opened",{trackingContext:r2.V4.FILE_BROWSER,entryPoint:"team_page_view"})},ee="loaded"===v;s=d.org_id?ee?ev.createElement(ev.Fragment,null,ev.createElement(Wl,{viewId:`team-${e.teamId}`,folderList:b||[],showTeamNameOrAuthor:!1,onCreateNewFolder:d.isCurrentUserInTeam?J:void 0,canEditTeamContents:d.canEditTeamContents,isCurrentUserInTeam:d.isCurrentUserInTeam,selectedView:E}),ev.createElement(ED.ap,null)):ev.createElement(ax.jz,null):ev.createElement(ev.Fragment,null,ee?ev.createElement(ev.Fragment,null,ev.createElement(WC,{teamId:d.id}),ev.createElement(Wl,{viewId:`team-${e.teamId}`,folderList:b||[],showTeamNameOrAuthor:!1,onCreateNewFolder:d.isCurrentUserInTeam?J:void 0,canEditTeamContents:I?D:d.canEditTeamContents,isCurrentUserInTeam:d.isCurrentUserInTeam,selectedView:E}),ev.createElement(ED.ap,null)):ev.createElement(ax.jz,null));let et=[gP.x.MEMBERS,gP.x.BILLING,gP.x.SETTINGS].includes(e.selectedTab),ea=d.canAdmin?ev.createElement(bD.eL,{entity:d,entityType:bA.py.TEAM,avatarEditorState:e.avatarEditorState,size:40,dispatch:g,avatarSvg:C,svgSizeRatio:.6}):ev.createElement(oo.Ir,{team:d,size:40,avatarSvg:C,svgSizeRatio:.6}),er=!F&&!T,en=(()=>{if(er)return;let e=Y({team:d,onChangeTeamIconClick:()=>{g((0,G2.u)({team:d}))},onRenameClick:()=>{g(ig.K4({type:_8.A2,data:{team:d}}))},teamRoleRequests:y});if(!D)return e;let t=[];return H&&(t.push({displayText:(0,eq.t)("team_view.settings.view_settings"),callback:Q}),(0,xI.IQ)((null==d?void 0:d.id)||null,(null==d?void 0:d.org_id)||null)&&u&&t.push({displayText:(0,eq.t)("teams_table.view_team_members"),callback:z}),S||t.push({displayText:"",separator:!0})),S&&d.canAdmin&&t.push({displayText:(0,eq.t)("team_view.settings.view_admin_console"),callback:X},{displayText:"",separator:!0}),t.push(...e),t})(),ei=en?{kind:Uv.G.CUSTOM,key:Uv.y.DROPDOWN,element:ev.createElement(jx,{buttonAriaLabel:(0,eq.t)("team_view.page_header_dropdown_label"),dropdownKey:`team-${d.id}`,dropdownOptions:en})}:void 0,el=d.pro_team&&k().getValue("show_pro_onboarding",!1),es=d.student_team?ev.createElement(zg,null):(0,gB.e3)(d)?void 0:ev.createElement(zE,{team:d}),eo=(0,xI.IQ)((null==d?void 0:d.id)||null,(null==d?void 0:d.org_id)||null);return ev.createElement(da.p,{containerClass:tQ()({"team_page_view--xOverflowFileBrowserContainer--ZNwlr":et}),contentContainerClass:tQ()({"team_page_view--xOverflowFileBrowserContentContainer--QCjlt":et}),content:s,footer:es,banner:ev.createElement(H_,{teamId:e.teamId,selectedTab:e.selectedTab}),header:ev.createElement(jb,{avatar:ea,title:d.name,rightSideActions:zI(d,!0,o,g,!0,e.user,e.teamId,W,G,D,F,y,null==(l=null==(i=W.byTeamId)?void 0:i[e.teamId])?void 0:l[e.user.id],e=>{e.stopPropagation(),g(od.kp()),z(),Z(gP.x.MEMBERS)}),rightSideOfTitleAction:ei,pageHeaderIcon:!eo&&q?ev.createElement("div",{className:ek.cx.ml8.mr4.$,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":q,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200},ev.createElement(t3.JO,{icon:"lock-16"})):void 0,badge:ev.createElement(tD.j,{direction:"horizontal"},eo&&q?ev.createElement("div",{className:ek.cx.ml4.mr4.$,"data-tooltip-type":aN.fR.TEXT,"data-tooltip":q,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200},ev.createElement(t3.JO,{icon:"lock-16"})):void 0,el?ev.createElement(ev.Fragment,null,ev.createElement(e3.Ui,{name:os.gZ.PROFESSIONAL,properties:j1.R.getTrackingProperties(m)},ev.createElement(e3.XT,{type:"button",onClick:()=>{g(ig.K4({type:zv,data:{teamId:d.id}}))},"data-onboarding-key":zd,className:"team_page_view--pointerOnHover--GKhRb"},ev.createElement(os.Ct,{color:os.JV.INFORMATIONAL,text:(0,eq.t)("pro_onboarding.professional"),size:os.OD.EXTRA_LARGE}))),ev.createElement(zu,{teamId:e.teamId})):void 0)})})});function zD(e){let t;let a=(0,eb.I0)(),r=(0,eb.v9)(t=>t.teams[e.teamId]);zA(null==r?void 0:r.id);let n=(0,eb.v9)(t=>(0,uR.canAdminTeam)(e.teamId,t)),i=(0,eb.v9)(t=>(0,uR.canEditTeam)(e.teamId,t)),l=(0,eb.v9)(t=>(0,uR.canViewTeam)(e.teamId,t)),s=(0,eb.v9)(e=>e.loadingState),o=(0,eb.v9)(e=>e.teamBilling),c=(0,eb.v9)(e=>e.dropdownShown),d=(0,eb.v9)(e=>(0,uR.getPermissionsState)(e)),m=(0,eb.v9)(t=>(0,uR.canMakeAdmin)(ao._g.TEAM,e.teamId,t)),u=(0,eb.v9)(e=>e.roles),_=(0,lR.xJ)(),p=(0,eb.v9)(t=>t.teamMembersByTeamId[e.teamId]),g=(0,nm.ok)(!!(null==r?void 0:r.pro_team)&&n),E={};if(p&&_&&r&&Object.entries(p).map(([e,t])=>{var a;let n=!!t.team_role&&(0,uR.canEditRole)(t.team_role,d),i=!!t.team_role&&(0,uR.isResourceOwner)(_.id,r.id,ao._g.TEAM,u),l=!!t.team_role&&m,s=(null==(a=t.team_role)?void 0:a.level)||-1;E[e]={...t,canEditRole:n,canMakeOwner:i,canMakeAdmin:l,canRemoveUser:s<uq.V.OWNER}}),ev.useEffect(()=>{if(r){if(e.selectedTab===gP.m.BILLING){let e=gF.H2.loadingKeyForPayload({teamId:r.id});(0,dn.B4)(s,e)||(0,dn.hg)(s,e)||a(gF.eO({teamId:r.id}))}else if(e.selectedTab===gP.m.MEMBERS){let e=uK.NK.loadingKeyForPayload({teamId:r.id});return(0,dn.hg)(s,e)||(0,dn.B4)(s,e)||a(uK.NK({teamId:r.id})),()=>{(0,dn.OZ)(s,e)&&a(HA.IV({key:e}))}}else if(e.selectedTab===gP.m.SETTINGS){let e=gF.H2.loadingKeyForPayload({teamId:r.id});(0,dn.hg)(s,e)||(0,dn.B4)(s,e)||a(gF.H2({teamId:r.id}))}}},[a,e.selectedTab,s,r]),!_||!n||!r)return ev.createElement(GY,{resourceType:di.Hy.TEAM});let h=!1,f=!0,v=e.selectedTab;switch(e.selectedTab){case gP.m.DASHBOARD:if(r.pro_team&&g){t=ev.createElement(HD,{team:r,shouldShowDevModeSuggestedUpgradesModal:e.shouldShowDevModeSuggestedUpgradesModal}),f=!1;break}v=gP.m.MEMBERS;case gP.m.MEMBERS:h=(0,dn.hg)(s,uK.NK.loadingKeyForPayload({teamId:r.id}));let b={...r,canAdmin:n,canRead:l,canEdit:i};t=ev.createElement($K,{key:`admin-team-members-${r.id}`,team:b,dispatch:a,membersList:E,currentMemberId:_.id,dropdownShown:c,canAdminOrgTeam:!1});break;case gP.m.BILLING:let y=gF.H2.loadingKeyForPayload({teamId:r.id}),w=gF.sA.loadingKeyForPayload({teamId:r.id});h=(0,dn.hg)(s,y)||!(0,dn.B4)(s,y)||(0,dn.hg)(s,w)||!(0,dn.B4)(s,w),t=ev.createElement($o,{team:r,billing:o,dispatch:a});break;case gP.m.SETTINGS:h=(0,dn.hg)(s,gF.H2.loadingKeyForPayload({teamId:r.id})),t=ev.createElement($3,{team:r,userId:_.id,billing:o});break;default:return(0,eL.vE)(e.selectedTab)}return ev.createElement(da.S,{containerClass:"team_admin_console_view--fileBrowserContentContainer--Yl1zE",scrollableContainerClass:"team_admin_console_view--fileBrowserScrollableContainer--D5mrZ",toolbar:ev.createElement(zo,{teamName:r.name,teamId:e.teamId,isProTeam:r.pro_team,selectedTab:v}),belowToolbarBanner:ev.createElement(Ou,{selectedTab:v}),content:h?ev.createElement("div",{className:"admin_settings_page--container--qnrCG"},ev.createElement(ax.TK,{className:gY})):ev.createElement(ev.Fragment,null,f&&ev.createElement("div",{className:ek.cx.ml36.mr36.$},ev.createElement(zl,{selectedTab:v,teamId:e.teamId})),t)})}function zF(e){let t=(0,r9.Dv)(oF.b),a=(0,r9.Dv)(ou.O1),r=(0,r9.Dv)(ou.$e),n=(0,uL.Ng)(),i=function(e,t,a,r){var n;let{selectedView:i}=e;if(t)return{pageContent:ev.createElement(RW,null),pageHeaderContent:(0,eq.t)("file_browser.tool_bar.offline_files")};switch(i.view){case"communityHub":return{pageContent:uT(i),CustomPageLayout:Ev};case"deletedFiles":return{pageHeaderContent:(0,eq.t)("file_browser.tool_bar.deleted"),pageContent:(0,e3.bC)(ev.createElement(hk,{key:"deleted"}),r2.V4.FILE_BROWSER,{view:"deleted"})};case"draftsToMove":return{pageHeaderContent:(0,eq.t)("file_browser.tool_bar.drafts_to_move"),pageContent:ev.createElement(f7,{key:"draftsToMove"})};case"folder":if(i.folderId===(null==(n=e.user)?void 0:n.drafts_folder_id))return{pageHeaderContent:(0,eq.t)("file_browser.tool_bar.drafts"),pageHeaderActions:zM({from:_n.L7.FILE_BROWSER_TOPBAR_DRAFTS,user:e.user,currentOrgId:e.currentUserOrgId}),pageContent:(0,e3.bC)(ev.createElement(fT,{folderId:i.folderId,key:"drafts",userId:e.user.id}),r2.V4.FILE_BROWSER_DRAFTS,{orgId:e.currentUserOrgId,teamId:e.currentTeamId})};{let e=i.folderViewTab||Ew.t.HOME,t=i.shouldShowRenameModal||!1;return{pageContent:ev.createElement(Hk,{folderId:i.folderId,selectedTab:e,key:`folder-${i.folderId}`,shouldShowRenameModal:t})}}case"workspace":switch(i.subView){case ES.ep.ADMIN:return{pageContent:(0,e3.bC)(ev.createElement(jh,null),r2.V4.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:i.workspaceId,workspaceViewTab:i.selectedTab})};case ES.ep.DIRECTORY:return{pageContent:(0,e3.bC)(ev.createElement(jz,null),r2.V4.WORKSPACE_DIRECTORY_PAGE,{workspaceId:i.workspaceId,workspaceGroupViewTab:i.selectedTab})};default:(0,eL.vE)(i)}case"licenseGroup":if(i.subView===ET.gp.ADMIN)return{pageContent:(0,e3.bC)(ev.createElement(Rw,null),r2.V4.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:i.licenseGroupId,licenseGroupViewTab:i.selectedTab})};(0,eL.vE)(i);case"org":return{pageHeaderContent:e.currentOrg?ev.createElement(yI,null):void 0,pageHeaderActions:[ev.createElement(US,{orgId:i.orgId,key:"org-page-header-actions"})],pageContent:(0,e3.bC)(ev.createElement(Vm,{orgId:i.orgId,selectedTab:i.orgViewTab}),r2.V4.ORG_PAGE,{orgId:i.orgId,orgViewTab:(i.orgViewTab===Ex.i.HOME?"HOME":i.orgViewTab)||""})};case"orgAdminSettings":return{pageContent:(0,e3.bC)(ev.createElement(Uf,{selectedTab:i.orgAdminSettingsViewTab,selectedSecondaryTab:i.orgAdminSettingsViewSecondaryTab,selectedLicenseGroupTab:i.licenseAdminSettingsMembersViewTab,selectedExtensionId:i.selectedExtensionId,selectedWorkspaceId:i.selectedWorkspaceId}),r2.V4.ORG_ADMIN_SETTINGS_PAGE,{orgId:e.currentUserOrgId,orgViewTab:i.orgAdminSettingsViewTab,source:i.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:i.orgAdminSettingsViewSecondaryTab,orgViewLicenseGroupId:i.licenseAdminSettingsMembersViewTab})};case"recentFiles":return e.dispatch(od.fv({view:"recentsAndSharing",tab:EN.D.RECENTLY_VIEWED})),{pageHeaderContent:(0,eq.t)("file_browser.tool_bar.recents"),pageHeaderActions:[ev.createElement(Vf,{key:"newDesignAction",from:_n.L7.FILE_BROWSER_TOPBAR_RECENTS}),ev.createElement(Vy,{key:"newFigjamAction",from:_n.L7.FILE_BROWSER_TOPBAR_RECENTS}),ev.createElement(VT,{key:"newSlidesAction",from:_n.L7.FILE_BROWSER_TOPBAR_RECENTS}),ev.createElement(Ek.Ep,{key:`${Ey.tc}ToolbarAction`,from:_n.L7.FILE_BROWSER_TOPBAR_RECENTS}),ev.createElement(RN.t,{key:"importAction"})],pageContent:(0,e3.bC)(ev.createElement(VW,{accountModalTab:i.accountModalTab,universalPublishingModal:i.universalPublishingModal,emailPolicyToUnsubscribeFrom:i.emailPolicyToUnsubscribeFrom}),r2.V4.FILE_BROWSER,{view:"recent",userSpace:e.currentUserOrgId?r2.FQ.ORG:r2.FQ.PERSONAL})};case"recentsAndSharing":let l=i.tab||EN.D.RECENTLY_VIEWED,s=r===r2.FQ.ORG,o=zM({from:_n.L7.FILE_BROWSER_TOPBAR_RECENTS,isFreeUser:a,isInOrgSpace:s,user:e.user,currentOrgId:e.currentUserOrgId});return{pageHeaderContent:(0,eq.t)("file_browser.tool_bar.recents"),pageHeaderActions:o,pageContent:(0,e3.bC)(ev.createElement(W0,{selectedTab:l,userId:e.user.id}),r2.V4.FILE_BROWSER,{view:"recentsAndSharing",userSpace:e.currentUserOrgId?r2.FQ.ORG:r2.FQ.PERSONAL})};case"resourceUnavailable":return{pageContent:ev.createElement(GY,{resourceType:i.resourceType})};case"search":{let{searchScope:t,query:a}=e.search.parameters,r=!eN.ZP.mobile,n=(0,cS.NL)();return{pageHeaderContent:a||!(0,eT.BZ)().search_facets||"control"===n?ev.createElement("div",{className:ek.cx.flex.columnGap8.$},ev.createElement("span",{className:ek.cx.flexShrink0.$},ev.createElement(oc.x,{color:"secondary",i18nId:"search.search_results_for"})),ev.createElement("div",{className:ek.cx.flex.fontMedium.minW0.$},"\u201C",ev.createElement(oc.x,{truncate:!0},a),"\u201D")):ev.createElement("div",{className:ek.cx.flex.columnGap8.$},ev.createElement("span",{className:ek.cx.flexShrink0.$},ev.createElement(oc.x,{color:"secondary",i18nId:"search.search_results"}))),pageContent:(0,e3.bC)(ev.createElement(ol.du,null),r2.V4.UNIFIED_SEARCH,{showInternalModal:r&&t!==EC.$0.COMMUNITY,showCommunityModal:r&&t===EC.$0.COMMUNITY})}}case"sharedWithYou":return{pageContent:ev.createElement(W4,{tab:i.tab})};case"team":{let t=e.teams[i.teamId],a=i.teamViewTab??(0,Eb.Ig)(t,e.permissionState);return{pageContent:(0,e3.bC)(ev.createElement(zO,{teamId:i.teamId,selectedTab:a,upgradeModalType:i.upgradeModalType,showProOnboardingModal:i.isProUpgrade,key:`team-${i.teamId}`}),r2.V4.TEAM_PAGE,{teamId:i.teamId,canUpgradeToPro:(0,gB._0)(t,e.permissionState),userSpace:e.currentUserOrgId?r2.FQ.ORG:r2.FQ.PERSONAL,canEdit:(0,uR.canEditTeam)(i.teamId,e.permissionState)})}}case"teamAdminConsole":{let e=i.teamAdminConsoleViewTab??((0,nm.hU)(!!i.isProTeam)?gP.m.DASHBOARD:gP.m.MEMBERS);return{pageContent:(0,e3.bC)(ev.createElement(zD,{teamId:i.teamId,selectedTab:e,shouldShowDevModeSuggestedUpgradesModal:!!i.shouldShowDevModeSuggestedUpgradesModal}),r2.V4.TEAM_ADMIN_PAGE,{teamId:i.teamId,teamAdminConsoleViewTab:e})}}case"teamFeed":let c=[{text:(0,eq.t)("fig_feed.feed"),onClick:()=>{e.dispatch(od.fv({view:"teamFeed"}))}}],d=[];return i.hashtag?(c.push({text:`#${i.hashtag}`,onClick:()=>{}}),d.push(ev.createElement(Go,{key:"feed-hashtag-actions",hashtag:i.hashtag}))):d.push(ev.createElement(GP,{key:"create-feed-post-button"})),{pageHeaderContent:ev.createElement(EL,{items:c}),pageHeaderActions:d,pageContent:ev.createElement(GZ,{postUuid:i.postUuid,creatorId:i.creatorId,feedTab:i.feedTab,hashtag:i.hashtag})};case"user":return{pageHeaderContent:(0,eq.t)("internal_profile.profile"),pageHeaderActions:e.user.community_profile_handle&&e.user.id===i.userId?[ev.createElement(Vx,{key:"viewCommunityProfileAction"})]:void 0,pageContent:ev.createElement(jp,{userId:i.userId,tab:i.userViewTab,orgId:i.orgId})};default:return null}}({...e,currentOrg:n},t,!!a.data,r.data?r.data:r2.FQ.ORG),l=e.showingFileBrowserLoader;if(!i)return null;let{CustomPageLayout:s,pageContent:o}=i;return s?ev.createElement(s,null,!l&&o):ev.createElement(wH,{...e,showingFileBrowserLoader:l,pageHeaderContent:i.pageHeaderContent,pageHeaderActions:i.pageHeaderActions},o)}function zM({from:e,user:t,isFreeUser:a,isInOrgSpace:r,currentOrgId:n}){if((0,eT.BZ)().ps_benchmark&&t&&(0,uR.isOrgUserExternallyRestricted)(t,n))return[];let i=e===_n.L7.FILE_BROWSER_TOPBAR_RECENTS&&(0,nm.Y8)(!!a,!!r)?[ev.createElement(Vw,{key:"newDesignActionDropdown",from:e,dropdownType:Vv.AD.DESIGN,dataTestId:"new-design-file-button-dropdown"}),ev.createElement(Vw,{key:"newFigjamActionDropdown",from:e,dropdownType:Vv.AD.WHITEBOARD,dataTestId:"new-whiteboard-file-button-dropdown"})]:[ev.createElement(Vf,{key:"newDesignAction",from:e}),ev.createElement(Vy,{key:"newFigjamAction",from:e})];return[ev.createElement(Vp,{key:"getDesktopApp"}),...i,ev.createElement(VT,{key:"newSlidesAction",from:e}),ev.createElement(Ek.Ep,{key:`${Ey.tc}ToolbarAction`,from:e}),ev.createElement(ev.Fragment,{key:"importAction"},ev.createElement(RN.t,null),ev.createElement(sb.V,null,ev.createElement(jX,null)))]}var zP=a(210831);let zB="file_browser_view--filebrowserHtml--o5jk-",zU="file_browser_view--filebrowserBody--kfBDY",zV="file_browser_view--desktop--P76jd";class zW extends ev.Component{constructor(){super(...arguments),this.state={checkedForAutosave:!1,viewHistoryStackSize:0,viewHistoryStackPosition:0,screenChangedFromNavigationButtons:!1},this.getShouldAllowImport=()=>{let e="folder"===this.props.selectedView.view?this.props.folders[this.props.selectedView.folderId]:null;return(0,uI.DC)({selectedView:this.props.selectedView,selectedFolder:e,permissionsState:this.props.permissionState})},this.onDragEnter=e=>{this.getShouldAllowImport()&&this.props.dispatch(uk.f$())},this.onDragLeave=e=>{this.getShouldAllowImport()&&this.props.dispatch(uk.CT())},this.onDrop=e=>{this.props.dispatch(uk.CT()),this.getShouldAllowImport()&&this.props.dispatch((0,uI.Vs)({dataTransfer:e}))},this.goBack=()=>{this.state.viewHistoryStackPosition>0&&(history.back(),this.setState({viewHistoryStackPosition:this.state.viewHistoryStackPosition-1,screenChangedFromNavigationButtons:!0}))},this.goForward=()=>{this.state.viewHistoryStackPosition<this.state.viewHistoryStackSize&&(history.forward(),this.setState({viewHistoryStackPosition:this.state.viewHistoryStackPosition+1,screenChangedFromNavigationButtons:!0}))}}componentDidMount(){document.body.classList.add(zU),document.documentElement.classList.add(zB),(0,eI.CP)(this.props.dispatch),(0,eH.O5)(this.props.selectedView),ey.YO&&(this.desktopBackgroundElement=document.createElement("div"),this.desktopBackgroundElement.classList.add("file_browser_view--desktopBackground--PpISK"),document.body.appendChild(this.desktopBackgroundElement),document.body.classList.add(zV)),(0,eC.hv)("exp_aa_test_file_browser_view").catch(ex.ZT),"communityHub"===this.props.selectedView.view&&uW(this.props.dispatch,this.props.userFlags)}componentDidUpdate(e){this.shouldScrollToTop(e)&&window.scrollTo(0,0),e.selectedView!==this.props.selectedView&&(this.state.screenChangedFromNavigationButtons?this.setState({screenChangedFromNavigationButtons:!1}):this.setState({viewHistoryStackSize:this.state.viewHistoryStackPosition+1,viewHistoryStackPosition:this.state.viewHistoryStackPosition+1})),e.fileByKey!==this.props.fileByKey&&this.checkAutosaveIfNeeded()}componentWillUnmount(){document.body.classList.remove(zU),document.documentElement.classList.remove(zB),this.desktopBackgroundElement&&(document.body.classList.remove(zV),document.body.removeChild(this.desktopBackgroundElement)),this.props.dispatch(ig.VG())}shouldScrollToTop(e){return!((0,nt.CR)(e.selectedView)&&(0,nt.CR)(this.props.selectedView))&&(0,uA.Qo)(e.selectedView,this.props.selectedView)}checkAutosaveIfNeeded(){!this.state.checkedForAutosave&&this.props.user&&(this.props.dispatch(uS.Cq()),this.setState({checkedForAutosave:!0}))}render(){var e,t;let a=this.props.selectedView,r=(0,nt.sg)(this.props.selectedView),n=eN.hS&&!(0,eT.BZ)().file_browser_enable_mweb&&!r,i=(eN.GF&&(0,eT.BZ)().file_browser_enable_mweb||eN.wn)&&!r;if("teamUpgrade"===a.view)return a.paymentStep===uD.KB.UPGRADE_NEW_TEAM?ev.createElement(g2,{...this.props,selectedView:a}):ev.createElement(Eg,{selectedView:a});if("addAnnualPlan"===a.view)return ev.createElement(gX,{...this.props,selectedView:a});if("teamCreation"===a.view)return a.fromNewTab?void this.props.dispatch(od.Nf({previousView:a.previousView,onSubmitReturnToPrevView:a.onSubmitReturnToPrevView,isEduTeam:a.isEduTeam})):ev.createElement(gS,{...this.props,selectedView:a});if("addCollaborators"===a.view)return ev.createElement(u3,{...this.props,selectedView:a});if("orgSelfServe"===a.view)return ev.createElement(gE,{step:a.step||uO.S$.Initial,initialDesignSeats:a.initialDesignEditors||0,orgMigrated:!!a.orgMigrated,dropdownShown:this.props.dropdownShown,newTeamProps:a.newTeamProps,upsellSource:a.upsellSource});if("teamRestore"===a.view)return ev.createElement(gD,{...this.props,selectedView:a});if("promoReview"===a.view)return ev.createElement(gh.V,{promo:null==(e=this.props.payment)?void 0:e.promo,selectedView:a});else if("eduReview"===a.view)return ev.createElement(_g,{selectedView:a});if(!this.props.user){let{content:e,key:t}=uN(a);return e?ev.createElement(ub,{content:ev.createElement("div",null,(0,e3.bC)(e,r2.V4.COMMUNITY_HUB)),topbar:ev.createElement(cU,null),key:t}):(console.error(`Signed out page: unrecognized route ${ew.default.location.pathname}, redirecting to /`),ew.default.redirect("/"),null)}let l=(0,eT.BZ)().ps_benchmark;if(l&&!this.props.currentUserOrgId&&!this.props.currentTeamId)return console.error("No current organization or team plan set for user. Redirecting to /files"),ew.default.redirect("/files"),null;let s=n&&(0,nm.ZV)()?()=>ev.createElement(ev.Fragment,null,ev.createElement(sb.V,{featureFlag:"exp_mobile_web_nux"},ev.createElement(uH.t,null)),ev.createElement(_P,null)):()=>{var e;return ev.createElement(_R.Im,{userIdForTracking:null==(e=this.props.user)?void 0:e.id,renderBlockingPrompt:!0})};return ev.createElement(oj.Provider,{value:{goBack:this.goBack,goForward:this.goForward,canGoBack:this.state.viewHistoryStackPosition>0,canGoForward:this.state.viewHistoryStackPosition<this.state.viewHistoryStackSize}},n?s():ev.createElement(ev.Fragment,null,i&&ev.createElement(_R.Im,{userIdForTracking:null==(t=this.props.user)?void 0:t.id}),ev.createElement(eS.h,{className:ek.cx.flex.flexColumn.$,isDragTarget:uI.pZ,onTargetDragEnter:this.onDragEnter,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDrop},ev.createElement(_s,null),ev.createElement(_W,null),ev.createElement(zF,{...this.props,user:this.props.user,showingFileBrowserLoader:this.props.showingFileBrowserLoader}),this.getShouldAllowImport()&&ev.createElement(_L,null))))}}function zG(){let e=(0,eb.I0)(),t=(0,uL.$0)(),a=(0,mj.L)(),r=(0,eb.v9)(e=>e.teams),n=(0,lR.xJ)(),i=(0,eb.v9)(e=>e.userFlags),l=(0,eb.v9)(e=>e.fileByKey),s=(0,eb.v9)(e=>e.folders),o=(0,o8.A6)(),c=zP.Q.useIsLoading(),d=(0,eb.v9)(e=>e.autosave),m=(0,eb.v9)(e=>e.payment),u=(0,eb.v9)(e=>e.teamUserByTeamId),_=(0,eb.v9)(e=>e.teamBilling),p=(0,eb.v9)(e=>e.teamCreation),g=(0,eb.v9)(e=>e.loadingState),E=(0,uR.usePermissionsState)(),h=(0,eb.v9)(e=>e.orgById),f=(0,eb.v9)(e=>e.orgUsersByOrgId),v=(0,eb.v9)(e=>e.favorites),b=(0,eb.v9)(e=>e.currentTeamId),y=(0,eb.v9)(e=>e.mobileNavShown),w=(0,eb.v9)(e=>e.userTeamFlags),T=(0,eb.v9)(e=>e.search),x=(0,eb.v9)(e=>e.dragState),N=(0,eb.v9)(e=>e.userStateLoaded);return ev.createElement(zW,{showingFileBrowserLoader:c,dispatch:e,currentUserOrgId:t,dropdownShown:a,teams:r,user:n,userFlags:i,fileByKey:l,folders:s,selectedView:o,autosave:d,payment:m,teamUserByTeamId:u,teamBilling:_,teamCreation:p,loadingState:g,permissionState:E,orgById:h,orgUsersByOrgId:f,favorites:v,currentTeamId:b,mobileNavShown:y,userTeamFlags:w,search:T,dragState:x,userStateLoaded:N})}zW.displayName="FileBrowserView"},420141:(e,t,a)=>{"use strict";a.d(t,{V:()=>s});var r=a(652983),n=a(418465),i=a(212984),l=a(970740);function s({location:e,overrideText:t}){return r.createElement(n.Ct,{className:i.cx.font11.fontNormal.h16.px4.b1.bRadius5.mr0.hFitContent.if("MODAL"===e||"FILE_BROWSER_BAR"===e,i.cx.colorTextSecondary.colorBorder).if("INLINE_TOOLBAR"===e,i.cx.colorTextMenuSecondary.colorBorderMenu).$,color:n.JV.INVERT,subtle:!0,text:t??(0,l.t)("whiteboard.ai_modal.beta_badge")})}},747464:(e,t,a)=>{"use strict";a.d(t,{c:()=>c});var r=a(652983),n=a(87608),i=a.n(n),l=a(212984),s=a(486772),o=a(600771);function c({suggestion:{title:e,subtitle:t,type:a},onClick:n}){return r.createElement("button",{onClick:n,className:i()(l.cx.flex.justifyBetween.itemsCenter.p12.b1.colorBorder.bRadius6.wFull.alignLeft.hFull.$,o.AB)},r.createElement("div",{className:l.cx.flex.itemsCenter.gap12.$},(0,s.Eb)(a),r.createElement("div",{className:l.cx.flex.flexColumn.itemsStart.gap8.$},r.createElement("div",{className:l.cx.colorText.font13.$},e),r.createElement("div",{className:l.cx.colorTextSecondary.font13.$},t))))}},971599:(e,t,a)=>{"use strict";a.d(t,{rU:()=>p});var r=a(33729),n=(a(134640),a(652983)),i=a(241901),l=a(405248),s=a(560851),o=a(265669);n.Component,n.Component;var c=function(e,t){return"function"==typeof e?e(t):e},d=function(e,t){return"string"==typeof e?(0,i.ob)(e,null,null,t):e},m=function(e){return e},u=n.forwardRef;void 0===u&&(u=m);var _=u(function(e,t){var a=e.innerRef,r=e.navigate,i=e.onClick,o=(0,s.Z)(e,["innerRef","navigate","onClick"]),c=o.target,d=(0,l.Z)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),r())}});return m!==u?d.ref=t||a:d.ref=a,n.createElement("a",d)}),p=u(function(e,t){var a=e.component,p=void 0===a?_:a,g=e.replace,E=e.to,h=e.innerRef,f=(0,s.Z)(e,["component","replace","to","innerRef"]);return n.createElement(r.s6.Consumer,null,function(e){e||(0,o.Z)(!1);var a=e.history,r=d(c(E,e.location),e.location),s=r?a.createHref(r):"",_=(0,l.Z)({},f,{href:s,navigate:function(){var t=c(E,e.location),r=(0,i.Ep)(e.location)===(0,i.Ep)(d(t));(g||r?a.replace:a.push)(t)}});return m!==u?_.ref=t||h:_.innerRef=h,n.createElement(p,_)})}),g=function(e){return e},E=n.forwardRef;void 0===E&&(E=g),E(function(e,t){var a=e["aria-current"],i=void 0===a?"page":a,m=e.activeClassName,u=void 0===m?"active":m,_=e.activeStyle,h=e.className,f=e.exact,v=e.isActive,b=e.location,y=e.sensitive,w=e.strict,T=e.style,x=e.to,N=e.innerRef,C=(0,s.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return n.createElement(r.s6.Consumer,null,function(e){e||(0,o.Z)(!1);var a=b||e.location,s=d(c(x,a),a),m=s.pathname,S=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=S?(0,r.LX)(a.pathname,{path:S,exact:f,sensitive:y,strict:w}):null,I=!!(v?v(k,a):k),L="function"==typeof h?h(I):h,R="function"==typeof T?T(I):T;I&&(L=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(e){return e}).join(" ")}(L,u),R=(0,l.Z)({},R,_));var A=(0,l.Z)({"aria-current":I&&i||null,className:L,style:R,to:s},C);return g!==E?A.ref=t||N:A.innerRef=N,n.createElement(p,A)})})}}]);

//# debugId=c58fb026-a76f-5763-bd5c-6f67f2cd225c

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/ffed0a0aef816e7902a7acba9f6644ce8a9417d4/file_browser-776953691173f0f5.min.js.map