"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e59ad434-9754-534e-92bf-e7f59bb3b904")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7234],{388803:(e,t,l)=>{l.d(t,{$K:()=>I,A_:()=>R,Cz:()=>r,D2:()=>f,ES:()=>N,F7:()=>W,Fj:()=>B,Fp:()=>P,GY:()=>_,HB:()=>w,I0:()=>p,KA:()=>y,Kj:()=>i,Kr:()=>M,PI:()=>A,Qr:()=>O,RC:()=>D,SD:()=>a,T1:()=>k,WN:()=>U,Wt:()=>m,YF:()=>v,_r:()=>L,em:()=>g,g9:()=>T,j4:()=>b,kL:()=>c,mD:()=>h,my:()=>s,pM:()=>n,q7:()=>x,r2:()=>u,r6:()=>C,tB:()=>o,tO:()=>F,u1:()=>E,wV:()=>S,x$:()=>d});let n="plugin_tiles--publishedIcon--y-Ikr",i="plugin_tiles--developmentPluginDotsIcon--cg1O-",a="plugin_tiles--developmentPluginTile--FydP6",o="plugin_tiles--developmentPluginTileMetadataContainer--gfR-P",r="plugin_tiles--developmentPluginErrorName--yj1wE plugin_tiles--developmentPluginName--zbtdz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",c="plugin_tiles--developmentPluginName--zbtdz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",s="plugin_tiles--developmentPluginFilePath--j9l0U text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",d="plugin_tiles--developmentFolderIcon--SoGUp",u="plugin_tiles--developmentPluginTileMetadataContainer__OLD--2kyZc",m="plugin_tiles--developmentPluginWarningIcon--NBesu",_="plugin_tiles--developmentPluginIcon--Kl-2F",p="plugin_tiles--developmentPluginMetadata--GqmX3",E="plugin_tiles--iconButtonSelectedForWidget--79v2p",g="plugin_tiles--developmentPluginDropdown--KEULS",f="plugin_tiles--developmentPluginErrorModalText--PEqEP",h="plugin_tiles--developmentPluginErrorModalFooter--SISR1",v="plugin_tiles--publishedPluginMoreIcon--tQ1c9",b="plugin_tiles--spotlightPluginTile--Gglp2 plugin_tiles--_pluginTileBase--HvkF8 text--fontPos11--2LvXf text--_fontBase--QdLsd",C="plugin_tiles--spotlightPluginsListContainer--JAkwJ plugin_tiles--_container--jAD59",T="plugin_tiles--spotlightMetadataContainer--lFOPM",w="plugin_tiles--spotlightPluginTileIcon--3s1tl plugin--pluginIconBase--yAG5F",I="plugin_tiles--spotlightPluginTileIconContainer--cuocl",y="plugin_tiles--spotlightPluginTileName--6eroa text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",N="plugin_tiles--spotlightPluginTileDescription--jc0y4 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",R="plugin_tiles--basePluginManagementTileContainer--WzHwT",k="plugin_tiles--basePluginManagementTileTextContainer--oFEuj",P="plugin_tiles--basePluginManageTileTitle--hLcWv plugin_tiles--_basePluginManagementTileText--rrZ4n text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",x="plugin_tiles--basePluginManagementTileFlex--4p4pV",S="plugin_tiles--basePluginManagementTileSubTitle--5CYIJ plugin_tiles--_basePluginManagementTileText--rrZ4n text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",O="plugin_tiles--basePluginManagementTileSubTitleMobile--9hKOo text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",D="plugin_tiles--basePluginManagementTileIconContainer--d1qwn",L="plugin_tiles--basePluginManagementTileIcon--WtleX",A="plugin_tiles--basePluginManagementOptionsIcon--gddMS",M="plugin_tiles--developmentPluginTileIconContainer--DyZMP plugin_tiles--basePluginManagementTileIcon--WtleX",F="plugin_tiles--warningIcon--B8Ug7",U="plugin_tiles--codeTagIcon--35Bhn",B="plugin_tiles--worldIcon--w-2nj",W="plugin_tiles--svg16--Z1gZw"},125865:(e,t,l)=>{l.d(t,{FC:()=>o,Fs:()=>s,LG:()=>r,LW:()=>i,Lw:()=>_,Q6:()=>d,VI:()=>a,_K:()=>p,p4:()=>u,tR:()=>n,xf:()=>c,yR:()=>E,zP:()=>m});let n="user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",i="user_notifications_dropdown--dropdownChevronContainer--SAlt4",a="user_notifications_dropdown--dropdownChevron--ZvAmn",o="user_notifications_dropdown--arrowRight--yyaYz",r="user_notifications_dropdown--dropdownContainerEmptyState--9URCY user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",c="user_notifications_dropdown--loadingContainer--gztC3",s="user_notifications_dropdown--header--VmRgJ",d="user_notifications_dropdown--orgName--hsl6y ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",u="user_notifications_dropdown--link--tPMj9 text--fontPos11--2LvXf text--_fontBase--QdLsd",m="user_notifications_dropdown--contentLink--LPT0i text--fontPos11--2LvXf text--_fontBase--QdLsd",_="user_notifications_dropdown--scrollContainer--eFxLZ",p="user_notifications_dropdown--scrollContainerWithPlan--D2j-0",E="user_notifications_dropdown--emptyRow--hHiSY"},83487:(e,t,l)=>{l.d(t,{Ay:()=>c,M8:()=>s,Sg:()=>r,Uy:()=>a,WL:()=>o,qf:()=>i,s4:()=>d,yH:()=>n});let n="figjam_plugin_detail_in_editor--metadataContainer--qQ5Hi",i="figjam_plugin_detail_in_editor--coverImageNotDraggable---pwfP",a="figjam_plugin_detail_in_editor--resourceUsageDetails--SGXXh",o="figjam_plugin_detail_in_editor--description--a03k0 text--fontPos13--xW8hS text--_fontBase--QdLsd",r="figjam_plugin_detail_in_editor--communityLinkBase--9ekc6",c="figjam_plugin_detail_in_editor--communityLinkIcon---FG3j text--fontPos11--2LvXf text--_fontBase--QdLsd",s="figjam_plugin_detail_in_editor--loadingSpinner--D-Bwn browse_resources_modal--loadingSpinner--pMJQa",d="figjam_plugin_detail_in_editor--ratingSelectorContainer--G-12D detail_view--ratingSelectorContainer--zbvCM"},539168:(e,t,l)=>{l.d(t,{G:()=>n,Nw:()=>d,RH:()=>o,aD:()=>u,bt:()=>a,j2:()=>c,qv:()=>r,vZ:()=>i,yw:()=>s});let n="notification--centeredContainer--KOKEL",i="notification--topCenterNotification---nbgh notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",a="notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",o="notification--bottomRightNotificationHelpIconHidden--plZlM notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",r="notification--icon--ZWNx5",c="notification--iconError--aqnJU notification--icon--ZWNx5",s="notification--message--6GSx7",d="notification--actions--GUX-p",u="notification--action--v-pvn"},55846:(e,t,l)=>{l.d(t,{I:()=>s});var n=l(652983),i=l(87608),a=l.n(i),o=l(970740),r=l(225468),c=l(947606);function s({height:e="24"}){return n.createElement("div",{className:a()("in_review_badge--inReviewBadge--6j9Uu"),"data-tooltip-type":r.fR.TEXT,"data-tooltip":(0,o.t)("community.plugins.this_resource_is_in_review_by_figma_moderators_and_will_be_available_publicly_once_approved")},n.createElement(c.Ct,{height:e},n.createElement("span",{className:a()({"in_review_badge--heightSixteen--aD6ev text--fontPos9--naThA text--_fontBase--QdLsd":"16"===e})},n.createElement(o.Tx,{id:"community.plugins.in_review"}))))}},571259:(e,t,l)=>{l.d(t,{TZ:()=>w,Yd:()=>C,pw:()=>b,sm:()=>T});var n=l(652983),i=l(87608),a=l.n(i),o=l(600486),r=l(782051),c=l(212984),s=l(970740),d=l(573196),u=l(289629),m=l(131826),_=l(761767),p=l(646472),E=l(147298),g=l(661539),f=l(225468),h=l(532444);let v="purchase_button_view--primaryText--TzFkq";function b(e,t,l,n){(0,o.L9)("cmty_purchase_button_click",{context:t,resource_type:(0,d.Up)(e),resource_id:e.id,user_id:l,profile_id:n})}function C({resource:e,payment:t,context:l,tooltipText:i,disabled:o=!1,isLoading:d=!1,onClick:b=()=>{},onGetFreePreview:C=()=>{}}){if(!(0,p.vu)(e))return null;let I=!!((0,p.sg)(e)&&e.viewer_mode===_.Zs.WHITEBOARD||((0,p.bH)(e)||(0,p._4)(e))&&e.editor_type===g.yA.FIGJAM),y=l===p.Q8.DETAIL&&(0,p.vu)(e)&&(0,p.sg)(e)&&"whiteboard"!==e.viewer_mode,N=n.createElement(s.Tx,{id:"community.buyer.get_free_preview"}),R=n.createElement(m.Ui,{name:h.V4.COMMUNITY_HUB_FILE_GET_FREE_PREVIEW_BUTTON},n.createElement(m.XT,{onClick:C,dataTestId:"community-get-free-preview-button",className:a()("purchase_button_view--getFreePreview--NoKXw purchase_button_view--freeTrial--KSIhj text--fontPos11--2LvXf text--_fontBase--QdLsd",c.cx.cursorPointer.$)},N));return n.createElement("div",{className:a()("purchase_button_view--purchaseButtonView--ZeLJW",{"purchase_button_view--purchaseButtonViewCondensed--M5D0j":l===p.Q8.INSERTS})},n.createElement("button",{"data-tooltip-type":o&&!d&&i?f.fR.TEXT:void 0,"data-tooltip":o&&!d&&i?i:void 0,"data-tooltip-show-immediately":!0,className:a()({"purchase_button_view--purchaseButton--wzhif":l!==p.Q8.PLUGIN_ROW,"purchase_button_view--purchaseButtonInPluginRowFigma--xHcMN purchase_button_view--pluginRowButton--3-urM":l===p.Q8.PLUGIN_ROW&&!I,"purchase_button_view--purchaseButtonInPluginRowFigjam--6ClQE purchase_button_view--pluginRowButton--3-urM":l===p.Q8.PLUGIN_ROW&&I,"purchase_button_view--purchaseButtonLarge--iCRT- text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L":l!==p.Q8.INSERTS,"purchase_button_view--purchaseButtonSmall--lodYh text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":l===p.Q8.INSERTS,"purchase_button_view--figjam--alLiu":l!==p.Q8.PLUGIN_ROW&&I,"purchase_button_view--disabled--wN7tn":o}),disabled:d||o,onClick:b,"data-testid":"community-purchase-button"},d&&n.createElement(r.ww,null),l!==p.Q8.PLUGIN_ROW&&n.createElement("div",{style:{opacity:d?0:1},className:v},(0,E.Nn)(e.monetized_resource_metadata)?n.createElement(s.Tx,{id:"community.buyer.subscribe"}):n.createElement(s.Tx,{id:"community.buyer.buy"})),n.createElement("div",{style:{opacity:d?0:1},className:a()({"purchase_button_view--secondaryText--P5Gzo":l!==p.Q8.PLUGIN_ROW,[v]:l===p.Q8.PLUGIN_ROW})},(0,u.rD)(e.monetized_resource_metadata))),y&&R,l===p.Q8.DETAIL&&T({resource:e,payment:t})&&n.createElement(w,{metadata:e.monetized_resource_metadata}))}function T({resource:e,payment:t}){let l=e.monetized_resource_metadata;return!!(l&&(0,E.Nn)(l))&&!!l.trial_length_in_days&&(!t||!t.subscription_expires_at)}function w({metadata:e,condensed:t}){return n.createElement("span",{className:t?"purchase_button_view--freeTrialCondensed--zoo-d text--fontPos9--naThA text--_fontBase--QdLsd":"purchase_button_view--freeTrial--KSIhj text--fontPos11--2LvXf text--_fontBase--QdLsd"},t?n.createElement(s.Tx,{id:"community.resource.free_trial_days",days:e.trial_length_in_days}):n.createElement(s.Tx,{id:"community.resource.includes_free_trial_days",days:e.trial_length_in_days}))}},453268:(e,t,l)=>{l.d(t,{_Z:()=>_,iF:()=>i,u:()=>m});var n,i,a=l(652983),o=l(600486),r=l(571529),c=l(523495),s=l(65249),d=l(761767),u=l(488160);let m="cover";var _=((n=_||{}).COMPONENT_PUBLISHING="component_publishing",n.VIDEO="video",n.PASSWORD_PROTECTION="password_protection",n.AUDIO="audio",n.UNLIMITED_PAGES="unlimited_pages",n.PROTOTYPE_ONLY_LINKS="prototype_only_links",n.OPEN_SESSIONS="open_sessions",n.UNLIMITED_PROJECTS="unlimited_projects",n.PRIVATE_PROJECTS="private_projects",n.UNLIMITED_FILES="unlimited_files",n);let p={cover:{onboardingKey:m,imgSrc:"https://static.figma.com/uploads/cade95b7d3141da5e4c22a879de339d5b57b05aa",header:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.pro.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.pro.description",fontSize:11,color:"secondary"}),hoverTitle:null},password_protection:{onboardingKey:"password_protection",imgSrc:"https://static.figma.com/uploads/b56379c61007d4c119dc3a32fc936ac07f5d13d5",header:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.hover_text",fontSize:12,fontWeight:"semi-bold"})},component_publishing:{onboardingKey:"component_publishing",imgSrc:"https://static.figma.com/uploads/1138b4f97bb51f61ed9b2bac008de9038dfbcf75",header:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.hover_text",fontSize:12,fontWeight:"semi-bold"})},audio:{onboardingKey:"audio",imgSrc:"https://static.figma.com/uploads/312167c9a97cd378f0a20d09d03376b27283dae9",header:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.hover_text",fontSize:12,fontWeight:"semi-bold"})},open_sessions:{onboardingKey:"open_sessions",imgSrc:"https://static.figma.com/uploads/1ee3e88ccb237a207e896dba4a67af081259590d",header:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.hover_text",fontSize:12,fontWeight:"semi-bold"})},unlimited_pages:{onboardingKey:"unlimited_pages",imgSrc:"https://static.figma.com/uploads/cdb490f97220f8598d6b342c873569c68ac2370e",header:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.hover_text",fontSize:12,fontWeight:"semi-bold"})},video:{onboardingKey:"video",imgSrc:"https://static.figma.com/uploads/0e9be58e80f8d577fc4b1028f07a903bca68c970",header:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(s.x,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.hover_text",fontSize:12,fontWeight:"semi-bold"})}},E={component_publishing:"seen_pro_onboarding_component_publishing_overlay",video:"seen_pro_onboarding_video_overlay",password_protection:"seen_pro_onboarding_password_protection_overlay",audio:"seen_pro_onboarding_audio_overlay",unlimited_pages:"seen_pro_onboarding_unlimited_pages_overlay",prototype_only_links:"seen_pro_onboarding_prototype_only_links_overlay",open_sessions:"seen_pro_onboarding_open_sessions_overlay",unlimited_files:"seen_pro_onboarding_unlimited_files_overlay",unlimited_projects:"seen_pro_onboarding_unlimited_projects_overlay",private_projects:"seen_pro_onboarding_private_projects_overlay"};(e=>{e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID="Pro Trials V3: Actively Triggered Onboarding Blocked",e.getOnboardingStepUserFlag=e=>E[e],e.getOnboardingStepTrackingContext=e=>`Pro Trials V3 Onboarding: ${(0,c.DI)(e)}`,e.getOnboardingStepTriggerEventId=e=>`triggered_pro_trials_v3_${e}_onboarding`,e.trackActivelyTriggeredOnboardingStepBlocked=(t,l)=>{(0,o.L9)(e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID,{blockedOnboardingFeature:l,blockingOverlayId:t})},e.getOnboardingCardsStackContentProps=({editorType:e,isVoiceEnabled:t,isWorkshopModeEnabled:l})=>{let n=[m,"password_protection","component_publishing","unlimited_pages","video"];t&&n.push("audio");let i=[m,"password_protection"];t&&i.push("audio"),l&&i.push("open_sessions");let a={[d.gg.DESIGN]:n,[d.gg.WHITEBOARD]:i};return(a[e]||[]).map(e=>p[e])},e.canSeeOnboardingInFile=({editorType:e,selectedView:t,showStarterKit:l,userFlags:n,hasNotifications:i,isDevHandoffView:a,isAppUiShown:o,isLoading:c})=>{if(r.ZP.mobile||r.ZP.tablet||i||a||!o||c)return!1;let s="fullscreen"===t.view&&t.starterKitHasBeenHidden;if(e===d.gg.WHITEBOARD&&l&&!s)return!1;let m=(0,u.df)(n),_=!!n.figjam_editor_onboarded,p=e===d.gg.DESIGN&&m||e===d.gg.WHITEBOARD&&_;return!!p}})(i||(i={}))},795596:(e,t,l)=>{l.d(t,{L3:()=>i,fd:()=>o});var n,i,a=((n=a||{})[n.TEXT=0]="TEXT",n[n.FILE_COMMENT=1]="FILE_COMMENT",n[n.FILE_COMMENT_REPLY=2]="FILE_COMMENT_REPLY",n[n.INVITE_FILE=3]="INVITE_FILE",n[n.INVITE_FOLDER=4]="INVITE_FOLDER",n[n.INVITE_TEAM=5]="INVITE_TEAM",n[n.AT_MENTION_INVITE=7]="AT_MENTION_INVITE",n[n.AT_MENTION=8]="AT_MENTION",n[n.TEAM_ROLE_REQUEST_APPROVED=9]="TEAM_ROLE_REQUEST_APPROVED",n[n.TEAM_ROLE_REQUEST_DENIED=10]="TEAM_ROLE_REQUEST_DENIED",n[n.TEAM_ROLE_REQUEST_CREATED=11]="TEAM_ROLE_REQUEST_CREATED",n[n.ORG_ACCOUNT_TYPE_REQUEST_CREATED=12]="ORG_ACCOUNT_TYPE_REQUEST_CREATED",n[n.ORG_ACCOUNT_TYPE_REQUEST_APPROVED=13]="ORG_ACCOUNT_TYPE_REQUEST_APPROVED",n[n.ORG_ACCOUNT_TYPE_REQUEST_DENIED=14]="ORG_ACCOUNT_TYPE_REQUEST_DENIED",n[n.HUB_FILE_DUPLICATED=15]="HUB_FILE_DUPLICATED",n[n.HUB_PLUGIN_INSTALLED=16]="HUB_PLUGIN_INSTALLED",n[n.HUB_FILE_LIKED=17]="HUB_FILE_LIKED",n[n.HUB_PLUGIN_LIKED=18]="HUB_PLUGIN_LIKED",n[n.HUB_FILE_REMIXED=19]="HUB_FILE_REMIXED",n[n.FILE_COMMENT_REACTION=20]="FILE_COMMENT_REACTION",n[n.HUB_PROFILE_FOLLOWED=21]="HUB_PROFILE_FOLLOWED",n[n.HUB_RESOURCE_PUBLISHER_ADDED=22]="HUB_RESOURCE_PUBLISHER_ADDED",n[n.HUB_RESOURCE_PUBLISHER_REMOVED=23]="HUB_RESOURCE_PUBLISHER_REMOVED",n[n.HUB_RESOURCE_COMMENT=24]="HUB_RESOURCE_COMMENT",n[n.HUB_RESOURCE_COMMENT_REPLY=25]="HUB_RESOURCE_COMMENT_REPLY",n[n.INVITE_FILE_REPO=26]="INVITE_FILE_REPO",n[n.FILE_ROLE_REQUEST_CREATED=27]="FILE_ROLE_REQUEST_CREATED",n[n.MERGE_REQUEST_REVIEWER_ADDED=28]="MERGE_REQUEST_REVIEWER_ADDED",n[n.MERGE_REQUEST_APPROVED=29]="MERGE_REQUEST_APPROVED",n[n.MERGE_REQUEST_APPROVAL_REVOKED=30]="MERGE_REQUEST_APPROVAL_REVOKED",n[n.BRANCH_MERGED=31]="BRANCH_MERGED",n[n.BRANCH_ARCHIVED=32]="BRANCH_ARCHIVED",n[n.COMMUNITY_MENTION=33]="COMMUNITY_MENTION",n[n.FILE_ROLE_REQUEST_APPROVED=34]="FILE_ROLE_REQUEST_APPROVED",n[n.MERGE_REQUEST_REVIEWER_INVITED_ADDED=35]="MERGE_REQUEST_REVIEWER_INVITED_ADDED",n[n.ORG_JOIN_REQUEST_CREATED=36]="ORG_JOIN_REQUEST_CREATED",n[n.HUB_WIDGET_LIKED=37]="HUB_WIDGET_LIKED",n[n.HUB_WIDGET_INSTALLED=38]="HUB_WIDGET_INSTALLED",n[n.MERGE_REQUEST_CHANGES_REQUESTED=39]="MERGE_REQUEST_CHANGES_REQUESTED",n[n.ORG_JOIN_REQUEST_APPROVED_TO_SHARER=40]="ORG_JOIN_REQUEST_APPROVED_TO_SHARER",n[n.HUB_PLUGIN_USED=41]="HUB_PLUGIN_USED",n[n.HUB_WIDGET_USED=42]="HUB_WIDGET_USED",n[n.PRO_ACCOUNT_TYPE_REQUEST_CREATED=43]="PRO_ACCOUNT_TYPE_REQUEST_CREATED",n[n.PRO_ACCOUNT_TYPE_REQUEST_APPROVED=44]="PRO_ACCOUNT_TYPE_REQUEST_APPROVED",n[n.PRO_ACCOUNT_TYPE_REQUEST_DENIED=45]="PRO_ACCOUNT_TYPE_REQUEST_DENIED",n[n.INVITE_TEAM_REMINDER=46]="INVITE_TEAM_REMINDER",n[n.PLUGIN_PUBLISHER_ADDED=47]="PLUGIN_PUBLISHER_ADDED",n[n.RESOURCE_SOLD=48]="RESOURCE_SOLD",n[n.INVITE_FILE_REMINDER=49]="INVITE_FILE_REMINDER",n[n.BATCHED_FILE_COMMENT=50]="BATCHED_FILE_COMMENT",n[n.FEED_POST_COMMENT=51]="FEED_POST_COMMENT",n[n.FEED_POST_AT_MENTION=52]="FEED_POST_AT_MENTION",n[n.FEED_POST_REACTION=53]="FEED_POST_REACTION",n[n.RESOURCE_PUBLISH=54]="RESOURCE_PUBLISH",n[n.FEED_COMMENT_REACTION=55]="FEED_COMMENT_REACTION",n[n.FEED_POST_DESCRIPTION_AT_MENTION=56]="FEED_POST_DESCRIPTION_AT_MENTION",n[n.BATCHED_FEED_POST=57]="BATCHED_FEED_POST",n[n.BATCHED_FEED_COMMENT_REACTION=58]="BATCHED_FEED_COMMENT_REACTION",n[n.RESOURCE_SUBSCRIPTION_PRICE_INCREASE=60]="RESOURCE_SUBSCRIPTION_PRICE_INCREASE",n[n.FEED_POLL_CLOSE=61]="FEED_POLL_CLOSE",n[n.FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT=63]="FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT",n);let o="0";(e=>{(e=>{(e.Block||(e.Block={})).ATTACHMENT_TYPES=new Set(["BodyAndThumbnailAttachment","ActionableAttachment","ClientActionableAttachment"])})(e.BlockKit||(e.BlockKit={}))})(i||(i={}))},548626:(e,t,l)=>{l.d(t,{Jl:()=>O,OV:()=>U,Gm:()=>B,_j:()=>S});var n,i=l(652983),a=l(407908),o=l(46347),r=l(716250),c=l(337167),s=l(669277),d=l(721127),u=l(298715),m=l(200273),_=l(322186),p=l(70918),E=l(761767),g=l(862610),f=l(339531),h=l(164179),v=l(450062),b=l(668849),C=l(212984),T=l(970740),w=l(367674),I=l(597837),y=l(65249),N=l(291904),R=l(236750),k=((n=k||{}).STOP_AUTO_RUN_FROM_USER="stop-auto-run-from-user",n.STOP_AUTO_RUN_FROM_ORG="stop-auto-run-from-org",n.CONFIRM_REPLACE="confirm-replace",n.ENABLE_AUTO_RUN="enable-auto-run",n);let P=(0,N.Y3)(function({commonShowModalArgs:e,newPluginName:t,autoRunModalType:l}){let n,r;let c=()=>{v.G.updateUserAutoRunPluginId(e.pluginID,E.e9.NONE),u(d.eI())},s=()=>u(d.eI()),u=(0,a.I0)(),m=(0,_.Ng)()||null,p={currentAutoRunPluginName:i.createElement(y.x,{fontWeight:"bold"},e.currentAutoRunPluginName)},g={orgName:i.createElement(y.x,null,(null==m?void 0:m.name)||""),orgPluginName:i.createElement(y.x,{fontWeight:"bold"},e.orgPluginName)},f={orgPluginName:i.createElement(y.x,{fontWeight:"bold"},e.orgPluginName),newPluginName:i.createElement(y.x,{fontWeight:"bold"},t),orgName:i.createElement(y.x,null,(null==m?void 0:m.name)||"")};switch(l){case"stop-auto-run-from-user":n=i.createElement(i.Fragment,null,i.createElement(y.x,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_desc",i18nParams:p}),i.createElement("div",{className:C.cx.mt16.$},i.createElement(w.j,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},i.createElement(I.z,{variant:"secondary",onClick:s},(0,T.t)("dev_handoff.autorun_confirm_modal.cancel")),i.createElement(I.z,{variant:"primary",onClick:()=>{c(),u((0,d.K4)({type:P,data:{commonShowModalArgs:e,autoRunModalType:"enable-auto-run"}}))}},(0,T.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;case"enable-auto-run":n=i.createElement(i.Fragment,null,i.createElement(y.x,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.enable_auto_run_desc",i18nParams:g}),i.createElement("div",{className:C.cx.mt16.$},i.createElement(w.j,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},i.createElement(I.z,{variant:"secondary",onClick:s},(0,T.t)("dev_handoff.autorun_confirm_modal.dont_enable")),i.createElement(I.z,{variant:"primary",onClick:()=>{v.G.updateUserAutoRunPluginId(e.pluginID,E.e9.INHERIT),u(d.eI())}},(0,T.t)("dev_handoff.autorun_confirm_modal.enable_auto_run")))));break;case"confirm-replace":n=i.createElement(i.Fragment,null,i.createElement(y.x,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.confirm_replace",i18nParams:f}),i.createElement("div",{className:C.cx.mt16.$},i.createElement(w.j,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},i.createElement(I.z,{variant:"secondary",onClick:s},(0,T.t)("dev_handoff.autorun_confirm_modal.cancel")),i.createElement(I.z,{variant:"primary",onClick:()=>{v.G.updateUserAutoRunPluginId(e.pluginID,E.e9.OVERRIDE),u(d.eI())}},(0,T.t)("dev_handoff.autorun_confirm_modal.replace")))));break;case"stop-auto-run-from-org":n=i.createElement(i.Fragment,null,i.createElement(y.x,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_from_org",i18nParams:g}),i.createElement("div",{className:C.cx.mt16.$},i.createElement(w.j,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},i.createElement(I.z,{variant:"secondary",onClick:s},(0,T.t)("dev_handoff.autorun_confirm_modal.cancel")),i.createElement(I.z,{variant:"primary",onClick:c},(0,T.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;default:(0,o.vE)(l)}switch(l){case"stop-auto-run-from-user":case"stop-auto-run-from-org":r=(0,T.t)("dev_handoff.autorun_confirm_modal.title_stop_auto_run");break;case"confirm-replace":r=(0,T.t)("dev_handoff.autorun_confirm_modal.title_replace_auto_run");break;case"enable-auto-run":r=(0,T.t)("dev_handoff.autorun_confirm_modal.title_enable_auto_run",{pluginName:e.orgPluginName});break;default:(0,o.vE)(l)}return i.createElement(R.ge,{title:r,onClose:()=>u(d.eI()),maxWidth:360},i.createElement("div",{className:C.cx.p16.$,"data-testid":"autorun-confirm-modal"},n))},"AutoRunConfirmModal");var x=l(598253);function S(e){var t;let l=(null==e?void 0:e.plugin_id)??"",n=(null==e?void 0:e.name)??"",s=D(),u=A(),m=(null==(t=s.plugin)?void 0:t.plugin_id)===l,_=(0,c.b9)(x.rs),p=L(),g=(0,a.I0)(),f=i.useCallback(()=>{var e,t,i,a,c;if(_(!0),!(0,r.BZ)().dev_mode_auto_run_plugin||!s.loaded||!u.loaded)return;let m=null==(e=p.autoRunPrefs)?void 0:e.autoRunPluginBehavior,f=(null==(i=null==(t=u.autoRunPrefs)?void 0:t.autoRunPlugin.currentPluginVersion)?void 0:i.name)||"",h=(null==(a=s.plugin)?void 0:a.name)||"",b={pluginID:l,orgPluginName:f,currentAutoRunPluginName:h};switch(m){case void 0:case E.e9.NONE:v.G.updateUserAutoRunPluginId(l,E.e9.OVERRIDE);break;case E.e9.OVERRIDE:l!==(null==(c=s.plugin)?void 0:c.plugin_id)?v.G.updateUserAutoRunPluginId(l,E.e9.OVERRIDE):u.autoRunPrefs?g((0,d.K4)({type:P,data:{commonShowModalArgs:b,autoRunModalType:k.STOP_AUTO_RUN_FROM_USER}})):v.G.updateUserAutoRunPluginId(l,E.e9.NONE);break;case E.e9.INHERIT:u.autoRunPrefs?l!==u.autoRunPrefs.autoRunPluginId?g((0,d.K4)({type:P,data:{commonShowModalArgs:b,newPluginName:n,autoRunModalType:k.CONFIRM_REPLACE}})):g((0,d.K4)({type:P,data:{commonShowModalArgs:b,autoRunModalType:k.STOP_AUTO_RUN_FROM_ORG}})):v.G.updateUserAutoRunPluginId(l,E.e9.OVERRIDE);break;default:(0,o.vE)(m)}},[s,p.autoRunPrefs,g,u,l,n,_]);return{isPluginSetToAutoRun:m,callback:f}}function O(e){return e&&(0,f.N7)(e)}function D(){var e,t,l,n;let i=L(),a=A(),o=null==(e=(0,_.Ng)())?void 0:e.id,c=null==(t=(0,p.xJ)())?void 0:t.id;if(!(0,r.BZ)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!(i.loaded&&a.loaded))return{loaded:!1,plugin:null};let s=null;switch(null==(l=i.autoRunPrefs)?void 0:l.autoRunPluginBehavior){case E.e9.NONE:s=null;break;case E.e9.OVERRIDE:s=i.autoRunPrefs.autoRunPlugin;break;case E.e9.INHERIT:default:s=(null==(n=a.autoRunPrefs)?void 0:n.autoRunPlugin)??null}let d=s?(0,u.yv)(s,o??"",c??"",null)??null:null;return{loaded:!0,plugin:O(d)?d:null}}function L(){let e=(0,p.xJ)(),t=(0,s.mU)(g.AutoRunPluginsView,{targetOrgId:null,targetUserId:(null==e?void 0:e.id)??""},{enabled:!!(null==e?void 0:e.id)});return M(t)}function A(e){let t=(0,_.Ng)(),l=!!(t&&t.bigma_enabled),n=(0,s.mU)(g.AutoRunPluginsView,{targetOrgId:(null==t?void 0:t.id)??"",targetUserId:null},{enabled:l});return l?M(n,e):{loaded:!0,autoRunPrefs:null}}function M(e,t){if("loaded"!==e.status)return{loaded:!1,autoRunPrefs:null};let l=e.data.pluginPreferences,n=!!(t||(null==l?void 0:l.autoRunEnabled));return l&&l.autoRunPluginId&&l.autoRunPlugin&&n?{loaded:!0,autoRunPrefs:{autoRunPluginId:l.autoRunPluginId,autoRunPluginBehavior:l.autoRunBehavior,autoRunPlugin:l.autoRunPlugin}}:{loaded:!0,autoRunPrefs:null}}async function F(e,t,l){(0,r.BZ)().dev_mode_auto_run_plugin&&(l(!0),await h.Q.instance.enqueue({runPluginArgs:{plugin:e,command:"",queryMode:!1,runMode:"default",triggeredFrom:"auto-run",openFileKey:t,isWidget:!1,ignoreForRunLastPlugin:!0},mode:"run-forever"}))}function U(){let e=(0,b.A2)(),t=(0,m.uC)(),l=(0,u.X7)(),n=D(),[i,a]=(0,c.KO)(x.rs);if(!e||i||!n.loaded)return;let o=n.plugin;if(!o){a(!0);return}O(o)&&t&&l(o)&&F(o,t,a)}function B(){var e;let t=A(!0),l=(0,_.$0)();if(!(0,r.BZ)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!t.loaded)return{loaded:!1,plugin:null};let n=(null==(e=t.autoRunPrefs)?void 0:e.autoRunPlugin)??null,i=n?(0,u.yv)(n,l??"",null,null)??null:null;return{loaded:!0,plugin:O(i)?i:null}}},450062:(e,t,l)=>{l.d(t,{G:()=>a});var n=l(198348),i=l(31642);let a=new class{updateOrgPreferences(e,t){let{preferences:l,...n}=t,a={preferences:l};return e.bigma_enabled?(a.auto_run_plugin_id=n.auto_run_plugin_id,a.auto_run_enabled=n.auto_run_enabled,a.codegen_enabled=n.codegen_enabled,a.pinned_plugins_enabled=n.pinned_plugins_enabled):!1===n.pinned_plugins_enabled&&(a.pinned_plugins_enabled=!1),i.ZP.post(`/api/plugin_preferences/org/${e.id}`,a)}updateUserAutoRunPluginId(e,t){return i.ZP.put("/api/plugin_preferences/user",n.yA.toAPIParameters({autoRunBehavior:t,autoRunPluginId:e}))}}},921141:(e,t,l)=>{l.d(t,{P:()=>S});var n=l(652983),i=l(407908),a=l(669277),o=l(388899),r=l(680356),c=l(782051),s=l(85808),d=l(970740),u=l(299482),m=l(597837),_=l(445041),p=l(211960),E=l(530657),g=l(496417),f=l(255301),h=l(70918),v=l(862610),b=l(259162),C=l(690590),T=l(128902),w=l(655366),I=l(310159),y=l(66467),N=l(621654),R=l(797674),k=l(765026),P=l(670329);let x=new class{get file(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get fileFollower(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get comments(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}};function S(e){let t=(0,a.mU)(v.QuickReply_CommentThreadByRootComment,{fileKey:e.quickReplyInfo.fileKey,rootId:e.quickReplyInfo.threadId});return n.createElement("div",{className:"quick_reply_thread_view--container--WPlnN"},n.createElement("div",{className:"quick_reply_thread_view--column--UrAD4"},n.createElement("div",{className:"quick_reply_thread_view--header--BHlje"},n.createElement(m.z,{icon:e.closeIcon,variant:"text",onClick:e.onClose}),n.createElement("div",{className:"quick_reply_thread_view--fileName--S2twU"},"loaded"===t.status&&t.data.file&&t.data.file.name),!e.hideOverflowMenu&&n.createElement(m.z,{icon:"dots-32",variant:"text"})),n.createElement(O,{quickReplyInfo:e.quickReplyInfo,result:t,hideOverflowMenu:e.hideOverflowMenu})))}function O(e){let t=(0,h.xJ)();return t?"loading"===e.result.status||"disabled"===e.result.status?n.createElement(c.jz,{size:"medium"}):"errors"===e.result.status||null==e.result.data.file?n.createElement("div",null,(0,d.t)("quick_reply.unable_to_load_thread")):n.createElement(D,{quickReplyInfo:e.quickReplyInfo,result:e.result,user:t,hideOverflowMenu:e.hideOverflowMenu}):null}function D(e){var t,l,a,r,c,s;let{quickReplyInfo:_,result:g,user:h}=e,{fileKey:v,threadId:C}=_,T=(0,E.oK)({args:{fileKey:v,rootId:C},subscription:g,setLoadResolved:o.ZT}),{file:w}=g.data,I=(0,n.useMemo)(()=>{var e,t,l,n;return(0,b.$g)({currentOrgId:null==(e=w.org)?void 0:e.id,teamId:null==(t=w.team)?void 0:t.id,fileKey:v,isOrgGuest:(null==(n=null==(l=w.org)?void 0:l.currentOrgUser)?void 0:n.permission)==="guest",users:[]})},[null==(t=w.org)?void 0:t.id,null==(l=w.team)?void 0:l.id,v,null==(r=null==(a=w.org)?void 0:a.currentOrgUser)?void 0:r.permission]),{mobileCommentThread:y}=w,N=y.find(e=>e.id===C),R=(0,i.v9)(e=>e.comments.savingCommentUuids),k=(0,i.v9)(e=>e.comments.lgPendingUuidToServerIdMap);if(!N)return n.createElement("div",null,(0,d.t)("quick_reply.unable_to_load_thread"));let P=y.map(e=>(0,f.NO)(h.id,N,e,f.fh,R,k,e.attachments)),S={api:T,status:g.status,data:x,threads:{status:g.status,data:[{id:N.id,key:v,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,comments:P,messageMeta:P[0].message_meta,page:(null==(c=N.clientMeta)?void 0:c.pageId)||null,isActive:!0,replyCount:y.length-1,isCanvasMention:!1,pageName:(null==(s=N.clientMeta)?void 0:s.pageId)||null,sidebarItemType:"comment-thread"}],errors:g.errors},errors:g.errors,isResolvedLoaded:!0,isUnresolvedLoaded:!0};return n.createElement(p.x9.Provider,{value:S},n.createElement("img",{src:N.thumbnailUrl||void 0,style:u.sx.wFull.hAuto.minH250.add({backgroundColor:"var(--color-border)"}).$,className:"quick_reply_thread_view--thumbnail--s1Fdx",alt:"thumbnail"}),n.createElement("div",{className:"quick_reply_thread_view--openFileContainer--ZKN8p"},n.createElement("a",{href:_.deeplink??`/file/${v}?fuid=${h.id}&#${C}`,className:"quick_reply_thread_view--openFileButton--RBtVz"},n.createElement(m.z,{variant:"text",width:"fill-parent"},n.createElement("div",null,(0,d.t)("quick_reply.open_comment_in_file"))))),n.createElement(A,{loadedComments:P,user:h,quickReplyInfo:_,commentMentionables:I,hideOverflowMenu:e.hideOverflowMenu}))}function L(){let e=(0,i.I0)(),t=(0,i.v9)(e=>e.dropdownShown||null),l=(0,h.xJ)(),a=(0,T.v)();if(!t||t.type!==g.T7)return null;let{comment:o,parentRect:r,thread:c,isUnread:s}=t.data;return n.createElement(y.a,{dispatch:e,comment:o,parentRect:r,currentUser:l,isUnread:s,thread:c,copyLink:a})}function A(e){let{loadedComments:t,user:l,quickReplyInfo:a,commentMentionables:c,hideOverflowMenu:m}=e,{fileKey:E,threadId:g}=a,f=(0,i.I0)();(0,n.useEffect)(()=>{f(_.Iv({threadId:g}))},[f,g]);let h=(0,i.v9)(e=>e.comments.typeahead),v=(0,i.v9)(e=>e.comments.editingComment),b=(0,i.v9)(e=>e.dropdownShown||null),T=(0,i.v9)(e=>{var t;return null==(t=e.comments.activeThread)?void 0:t.id}),x=(0,i.v9)(e=>e.comments.threads),S=T&&x[T]||null,O=(null==S?void 0:S.reply.messageMeta)||[],{submitReply:D,updateMessage:A,submitEdit:M}=function(e){var t;let l=(0,i.I0)(),a=(0,p.Wj)().writeAPI,o=null==(t=(0,p.MD)())?void 0:t.threads,r=n.useCallback(e=>{if(!a){console.error("Calling submitReply with no write API");return}if(!o||"loaded"!==o.status)return;let t=o.data.find(t=>t.id===e.threadId);t&&(e.onCommentValidationFailure=(t,n,i,o)=>_.ei(a,l,t,n,i,o,e.uuid,k.V),l(_.Xi({...e,commentsWriteApi:a,commentsConfiguration:k.V})))},[l,o,a]),c=n.useCallback(t=>{l(_.pp({threadId:e,messageMeta:t}))},[l,e]),s=n.useCallback((e,t)=>{l(_.cC({comment:e,messageMeta:t}))},[l]);return{submitReply:r,updateMessage:c,submitEdit:s}}(g),F=(0,I.ji)(),U=n.useRef(null),B=n.useRef(null),W=n.useRef(null),[j,G]=n.useState(null),[V,H]=n.useState(n.useRef(null)),z=n.useRef(null),K=0,Q=0,X=0;if(z.current&&z.current.offsetParent){K=z.current.offsetWidth,Q=z.current.offsetLeft;let e=z.current.offsetParent.clientHeight,t=z.current.offsetTop;X=e-t}let Z=e=>e||{x:0,y:0},$=n.useRef(null);(0,n.useEffect)(()=>{$.current&&$.current.scrollToBottom()},[]);let Y=[...new Set(t.map(e=>e.user.handle))];return n.createElement(n.Fragment,null,n.createElement("div",{style:u.sx.flex1.$}),n.createElement(s.l,{className:"quick_reply_thread_view--bottomAnchoredScrollContainer--5-F87",useBottomPinning:!0,ref:$,enableScrollShadow:!0},n.createElement("div",{className:"quick_reply_thread_view--reverseColumn--ur8Yx"},t.slice().reverse().map((e,i)=>n.createElement(y.n,{editorRef:W,key:`thread-comment-${e.id}`,dispatch:f,user:l,thread:{comments:t,key:E,id:g},setHyperlinkLocation:G,hyperlinkLocation:j,setHyperlinkEditorRef:H,comment:e,typeahead:h,mentionables:c,prevAuthor:0===i?null:t[i-1].user_id,index:i,editingComment:v,submitEdit:M,dropdownShown:b,viewportPositionFromClientPosition:Z,editorOnInsert:F.editorOnInsert,editorOnClear:F.editorOnClear,threadPosition:{x:0,y:0},setIsEditorFocused:o.ZT,showEditedIndicator:!!e.edited_at,hideOverflowMenu:m,hideReactions:!1,hideEmojiPicker:!1,allowAttachments:!1,hideResolve:!1,setResolved:o.ZT,mountInputFocused:!0,editorType:"comment-editor-thread"})))),n.createElement(N.M,{editorRef:B,dispatch:f,user:l,typeahead:h,mentionables:c,threadPosition:null,messageMeta:O,submitText:(0,d.t)("comments.reply"),placeholderText:(0,d.t)("comments.reply"),setHyperlinkLocation:G,hyperlinkLocation:j,setHyperlinkEditorRef:H,onCancel:o.ZT,onSubmit:()=>{D({threadId:g,uuid:(0,r.k)()})},onComposeFocus:void 0,editorOnInsert:F.editorOnClear,editorOnClear:F.editorOnInsert,viewportPositionFromClientPosition:Z,isDisabled:!1,mountInputFocused:!0,updateMessage:A,setIsEditorFocused:o.ZT,isEmojiPickerDisabled:null!==v,hideEmojiPicker:!1,allowAttachments:!1,recordingKey:C.PH.quickReply,className:P.Ip,threadId:g,fileKey:E,editingExistingComment:!1,editorType:"comment-editor-reply",authorNames:Y,replyContainerRef:z}),n.createElement(w.ge,{decoratorsRef:U,onClear:F.onClear,onInsert:F.onInsert,width:K,direction:R.Vk.UPWARDS,positionFromBottom:{left:Q,bottom:X}}),n.createElement(L,null))}},569065:(e,t,l)=>{l.d(t,{KU:()=>er,bx:()=>i,cG:()=>eu,k8:()=>eo,mn:()=>a,qb:()=>es,tZ:()=>o});var n,i,a,o,r=l(652983),c=l(63730),s=l(407908),d=l(87608),u=l.n(d);l(600486);var m=l(571529),_=l(297891),p=l(519781),E=l(594619),g=l(618723),f=l(704711),h=l(435613),v=l(805992),b=l(760932),C=l(970740),T=l(55846),w=l(369874),I=l(819190),y=l(111120),N=l(721127),R=l(238809),k=l(131826),P=l(298715),x=l(809377),S=l(155838),O=l(339531),D=l(646472),L=l(225468),A=l(110077),M=l(505468),F=l(13155),U=l(303801),B=l(172767),W=l(269431),j=l(519100),G=l(128322),V=l(401649),H=l(569522),z=l(388803);let K=l(470393),Q=l(575085),X=l(638756),Z=l(753224),$=l(678813),Y=l(137379),q=l(774168),J=l(673111),ee=l(270171),et=l(963559),el=l(18956),en=l(505730),ei=l(169506),ea=e=>{switch(e){case"plugins-menu-dev-create-new":return(0,C.t)("fullscreen.plugins_menu.new_plugin");case"widgets-menu-dev-create-new":return(0,C.t)("fullscreen.plugins_menu.new_widget");case"widgets-menu-dev-import-from-manifest":return(0,C.t)("fullscreen.plugins_menu.import_widget_from_manifest");case"plugins-menu-dev-import-from-manifest":return(0,C.t)("fullscreen.plugins_menu.import_plugin_from_manifest");case"plugins-menu-open-directory-mac":return(0,C.t)("fullscreen.plugins_menu.open_directory_mac");case"plugins-menu-open-directory-win":return(0,C.t)("fullscreen.plugins_menu.open_directory_win");case"plugins-menu-open-directory-vscode":return(0,C.t)("fullscreen.plugins_menu.open_directory_vscode");default:return""}},eo="CREATE_PLUGIN_DROPDOWN";function er(e){var t;let l=(0,s.I0)(),n=(0,s.v9)(e=>e.dropdownShown),i=e.resourceType===D.Xh.WIDGET;return(null==(t=null==n?void 0:n.data)?void 0:t.targetRect)?r.createElement(F.AQ,{minWidth:163,targetRect:null==n?void 0:n.data.targetRect,lean:e.lean,propagateCloseClick:!0},r.createElement(E.j.Option,{onClick:t=>{t.stopPropagation(),l(R.ko()),l(N.K4({type:G.q,data:{resourceType:e.resourceType||D.Xh.PLUGIN}}))}},ea(i?"widgets-menu-dev-create-new":"plugins-menu-dev-create-new")),r.createElement(E.j.Option,{onClick:e=>{e.stopPropagation(),l(I.kA({resourceType:i?"widget":"plugin"}))}},ea(i?"widgets-menu-dev-import-from-manifest":"plugins-menu-dev-import-from-manifest"))):null}let ec=class extends r.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,shouldShowErrorModal:!1},this.isWidget=!!(null==(n=this.props.plugin.manifest)?void 0:n.containsWidget),this.onPublish=()=>{this.props.onPublishClick&&this.props.onPublishClick(this.props.plugin.localFileId)},this.onDelete=()=>{this.props.dispatch(I.Am(this.props.plugin.localFileId))},this.onClick=()=>{this.props.onTileClick?this.props.onTileClick():this.onRevealLocally()},this.onRevealLocally=()=>{let e=(0,S.D)();e.openExtensionDirectory(this.props.plugin.localFileId)},this.showError=()=>{this.setState({shouldShowErrorModal:!0})},this.hideError=()=>{this.setState({shouldShowErrorModal:!1})},this.tileDropdownType=this.isWidget?ec.DEVELOPMENT_PLUGIN_DROPDOWN:ec.DEVELOPMENT_WIDGET_DROPDOWN,this.onContextMenu=e=>{this.props.dispatch(y.SP({type:this.tileDropdownType,data:{type:"context",localFileId:this.props.plugin.localFileId,clientX:e.clientX,clientY:e.clientY}}))},this.shouldShowContextMenu=()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.tileDropdownType&&this.props.dropdownShown.data.localFileId===this.props.plugin.localFileId&&"context"===this.props.dropdownShown.data.type,this.shouldShowPointingDropdown=()=>null!=this.props.dropdownShown&&this.props.dropdownShown.type===this.tileDropdownType&&this.props.dropdownShown.data.localFileId===this.props.plugin.localFileId&&"pointing"===this.props.dropdownShown.data.type,this.onDotsClick=()=>{this.props.dispatch(y.SP({type:this.tileDropdownType,data:{type:"pointing",localFileId:this.props.plugin.localFileId}}))},this.dotsIconRef=e=>{this.dotsIconEl=c.findDOMNode(e)},this.onMouseEnter=()=>{this.setState({isMouseOver:!0})},this.onMouseLeave=()=>{this.setState({isMouseOver:!1})}}render(){let e=r.createElement(r.Fragment,null,r.createElement(E.j.Option,{onClick:this.onPublish},r.createElement(C.Tx,{id:"community.plugins.publish_new_version"})),r.createElement(E.j.Option,{onClick:this.onRevealLocally},ea((0,O.Ls)())),r.createElement(E.j.Separator,null),r.createElement(E.j.Option,{onClick:this.onDelete},r.createElement(C.Tx,{id:"community.permissions_modal_publish_tab.footer.remove"}))),{name:t,error:l}=this.props.plugin,n=this.isWidget?(0,C.t)("community.plugins.widget"):(0,C.t)("community.plugins.plugin");return r.createElement("div",{className:z.SD},r.createElement("div",{className:l?z.tB:z.r2,onClick:l?this.showError:this.onClick,onContextMenu:this.onContextMenu,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},l?r.createElement("div",{className:z.Wt},r.createElement(v.f,{svg:Z})):this.isWidget?r.createElement("div",{className:z.GY},this.props.isPublished?r.createElement("img",{className:z.pM,src:`/community/icon?resource_type=widget&resource_id=${this.props.plugin.plugin_id}`,alt:""}):r.createElement(v.f,{svg:X})):r.createElement("div",{className:z.GY},r.createElement(v.f,{svg:K,fallbackSvg:Q})),r.createElement("div",{className:z.I0},r.createElement("div",{className:l?z.Cz:z.kL},t,this.props.isPublished?r.createElement(v.f,{svg:Y}):null),l&&this.state.isMouseOver?r.createElement(b.H,{className:z.my,text:"Error: "+l.text}):r.createElement(f.c,{className:z.my,text:this.props.plugin.localFilePath.replace("/manifest.json","")})),l&&r.createElement(h.n,{className:z.x$,svg:m.ZP.mac?el:en})),r.createElement(U.I_,{svg:ee,fallbackSvg:et,className:u()(z.Kj,this.shouldShowPointingDropdown()?z.u1:""),onClick:this.onDotsClick,ref:this.dotsIconRef,"data-tooltip-type":L.fR.TEXT,"data-tooltip":(0,C.t)("community.plugins.options"),selected:this.shouldShowPointingDropdown()}),this.shouldShowContextMenu()&&r.createElement(E.j.Dropdown,{className:z.em,style:{left:this.props.dropdownShown.data.clientX,top:this.props.dropdownShown.data.clientY}},e),this.shouldShowPointingDropdown()&&r.createElement(F.AQ,{className:z.em,minWidth:122,targetRect:this.dotsIconEl.getBoundingClientRect(),propagateCloseClick:!0},e),this.state.shouldShowErrorModal&&r.createElement(M.u_,{size:"small",title:(0,C.t)("community.plugins.plugin_or_widget_issue",{resourceType:n}),dispatch:this.props.dispatch},r.createElement(p.ol,{...this.props}),r.createElement("div",{className:z.D2},this.props.plugin.error?this.props.plugin.error.text:null==l?void 0:l.text),r.createElement("div",{className:z.mD},r.createElement(g.DF,{onClick:this.hideError},r.createElement(C.Tx,{id:"general.done"})))))}},es=ec;function ed(e){return r.createElement("div",{className:e.containerClassName||z.A_,onContextMenu:e.onOptionsClick,onClick:e.onClick||(e=>e.preventDefault())},r.createElement(H.CE.IconAndBadgeContainer,{className:z.RC},r.createElement("div",{className:z._r},e.pluginIcon),e.showEditorTypeIcon&&r.createElement(H.CE.BadgeContainer,null,r.createElement(H.Td,{editorType:e.editorType,is16x16:!0}))),r.createElement("div",{className:z.T1},r.createElement("div",{className:z.q7},r.createElement("div",{className:z.Fp},e.title),e.titleSuffix),r.createElement("div",{className:m.K1?z.Qr:z.wV},"string"==typeof e.subTitle?(0,_.ju)(e.subTitle):e.subTitle)),r.createElement("div",{className:z.PI},r.createElement(U.I_,{ref:e.optionsIconRef,svg:ee,fallbackSvg:et,className:z.YF,onClick:e.onOptionsClick,selected:e.isSelected,"data-tooltip-type":L.fR.TEXT,"data-tooltip":(0,C.t)("community.plugins.options"),disabled:e.disabled})))}es.DEVELOPMENT_PLUGIN_DROPDOWN="DEVELOPMENT_PLUGIN_DROPDOWN",es.DEVELOPMENT_WIDGET_DROPDOWN="DEVELOPMENT_WIDGET_DROPDOWN",(i||(i={})).Tile=function(e){var t;let l=(0,x.L)(),n=(null==l?void 0:l.type)===j.kX&&l.data.localFileId===e.plugin.localFileId,i=(0,s.I0)(),a=r.useRef(null),o=null==(t=e.plugin.manifest)?void 0:t.containsWidget;return r.createElement(r.Fragment,null,r.createElement(ed,{pluginIcon:r.createElement("div",{className:z.Kr},e.plugin.error?r.createElement(h.n,{className:z.tO,svg:$}):r.createElement(v.f,{className:z.WN,svg:ei})),editorType:e.plugin.manifest.editorType||[],showEditorTypeIcon:e.showEditorTypeIcon,onOptionsClick:t=>{if(t.stopPropagation(),n){i(y.kp());return}let l=a.current;i(y.SP({type:j.kX,data:{localFileId:e.plugin.localFileId,targetRect:l.getBoundingClientRect()}}))},optionsIconRef:a,isSelected:n,title:e.plugin.name,subTitle:r.createElement(B.Z,{localResource:e.plugin,isWidget:!!o,publishedResource:void 0}),disabled:!1,containerClassName:e.containerClassName,onClick:e.onClick}),n&&r.createElement(j.tc,{localResource:e.plugin}))},(e=>{function t(e){var t;if((0,w.k4)(e))return r.createElement(T.I,{height:"16"});if((0,O.hs)(e)){let l=null==(t=e.roles.org)?void 0:t.name;return r.createElement(h.n,{svg:J,className:z.F7,"data-tooltip-type":L.fR.TEXT,"data-tooltip":l?(0,C.t)("community.plugins.private_for_plugin_org_name",{orgName:l}):(0,C.t)("community.plugins.private_for_plugin_org")})}if(e.roles.is_public)return r.createElement(h.n,{className:z.Fj,svg:q,"data-tooltip-type":L.fR.TEXT,"data-tooltip":(0,C.t)("community.plugins.published_to_community")})}e.Tile=function(e){let l=(0,x.L)(),n=(null==l?void 0:l.type)===j.kX&&l.data.pluginId===e.plugin.id&&l.data.targetRect,i=(0,s.I0)(),a=r.useRef(null),o=(0,O.hb)(e.plugin),c=(0,P.VA)(e.plugin.id),d=r.useCallback(()=>t(e.plugin),[e.plugin])();return r.createElement(r.Fragment,null,r.createElement(ed,{containerClassName:e.containerClassName,onClick:e.onClick,pluginIcon:r.createElement(A.d,{plugin:o}),editorType:o.manifest.editorType||[],showEditorTypeIcon:!0,onOptionsClick:()=>{if(n){i(y.kp());return}let t=a.current;i(y.SP({type:j.kX,data:{pluginId:e.plugin.id,targetRect:t.getBoundingClientRect()}}))},optionsIconRef:a,disabled:!!e.plugin.unpublished_at,isSelected:n,title:o.name,titleSuffix:d,subTitle:r.createElement(B.Z,{localResource:c,publishedResource:e.plugin,isWidget:e.plugin.is_widget})}),n&&r.createElement(j.tc,{publishedResource:e.plugin,viewResource:()=>{i(y.fv({view:"communityHub",subView:"plugin",publishedPluginId:e.plugin.id})),i(N.hV())}}))},e.PluginManagementTitleBadge=t})(a||(a={})),(o||(o={})).Tile=function(e){let t=(0,O.hb)(e.plugin);return r.createElement("div",{className:e.containerClassName??z.A_},r.createElement(H.CE.IconAndBadgeContainer,{className:z.RC},r.createElement("div",{className:z._r},r.createElement(A.d,{plugin:t})),r.createElement(H.CE.BadgeContainer,null,r.createElement(H.Td,{editorType:t.manifest.editorType,is16x16:!0}))),r.createElement("div",{className:z.T1},r.createElement(W.eo,{resource:e.plugin})))};let eu=(0,k.z7)(function({plugin:e,className:t,onClick:l}){let n=(0,O.hb)(e),i=(0,s.I0)();return r.createElement("a",{className:t||z.j4,"data-plugin-id":e.id,key:e.id,onClick:t=>{t.metaKey||(t.preventDefault(),null==l||l(),i(y.fv({view:"communityHub",subView:"plugin",publishedPluginId:e.id})))},href:(0,V.BZ)(e.id)},r.createElement(H.CE.IconAndBadgeContainer,{className:z.$K},r.createElement("div",{className:z.HB},r.createElement(A.d,{plugin:n})),r.createElement(H.CE.BadgeContainer,null,r.createElement(H.Td,{editorType:n.manifest.editorType,is16x16:!0}))),r.createElement("div",{className:z.g9},r.createElement("div",{className:z.KA},n.name),r.createElement("div",{className:z.ES},(0,w.Gx)(n,_.ju))))})},450473:(e,t,l)=>{l.d(t,{W:()=>J});var n,i=l(652983),a=l(407908),o=l(600486),r=l(439252),c=l(65961),s=l(301151),d=l(239299),u=l(716250),m=l(519781),_=l(618723),p=l(782051),E=l(85808),g=l(970740),f=l(215698),h=l(819190),v=l(244311),b=l(286071),C=l(105643),T=l(533537),w=l(721154),I=l(721127),y=l(225592),N=l(704933),R=l(298715),k=l(659994),P=l(70918),x=l(179640),S=l(795153),O=l(617406),D=l(646472),L=l(465883),A=l(467373),M=l(291904),F=l(505468),U=l(893262),B=l(959522),W=l(569065),j=l(852544),G=l(597927);let V=(0,U.Bw)();function H(e){let[t,l]=i.useState();return i.useEffect(()=>{(0,s.q2)(location.href).then(e=>l(e))},[]),i.createElement("div",{className:G.YE},i.createElement("div",{className:G.oF},e.tab===B.Sw.PLUGINS?(0,g.t)("community.universal_posting_modal.desktop_callout.plugins"):(0,g.t)("community.universal_posting_modal.desktop_callout.widgets")),i.createElement(_.rU,{onClick:()=>{(0,o.L9)(t?"community_publish_open_desktop_clicked":"community_publish_get_desktop_clicked",{resourceType:e.tab===B.Sw.PLUGINS?D.Xh.PLUGIN:D.Xh.WIDGET}),t&&(0,s.tI)(location.href)},href:t?void 0:"https://www.figma.com/downloads/",className:G.p4,target:"_blank",trusted:!0},void 0===t?"":t?` ${(0,g.t)("community.universal_posting_modal.desktop_open")}`:` ${(0,g.t)("community.universal_posting_modal.desktop_get")}`))}function z(e){return e.selectedTab===B.Sw.FILES?i.createElement(B.vW,{activeFileKey:e.activeFileKey,setActiveFile:e.setActiveFile,deselectActiveFile:e.deselectActiveFile,disableCmtyLibraries:(0,u.BZ)().cmty_lib_m2_creator,filterFn:e.filterFn}):e.selectedTab===B.Sw.PLUGINS?i.createElement(Q,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource}):i.createElement(K,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource})}function K(e){let{invitedWidgets:t,pendingReviewWidgets:l,approvedWidgets:n,developmentWidgets:a}=(0,R.Ux)(),o=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return d.YO?t.length+l.length+n.length+a.length===0?i.createElement(B.e5,{tab:B.Sw.WIDGETS}):i.createElement("div",{className:G.Zk,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>i.createElement(W.tZ.Tile,{key:e.id,plugin:e,containerClassName:o(e)?G.aY:G.s9})),a.map(t=>i.createElement(W.bx.Tile,{plugin:t,onClick:l=>{l.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:o(t)?G.aY:G.s9,showEditorTypeIcon:!0})),[...l,...n].map(t=>i.createElement(W.mn.Tile,{key:t.id,plugin:t,onClick:l=>{l.stopPropagation(),e.setActiveResource(t)},containerClassName:o(t)?G.aY:G.s9}))):i.createElement(H,{tab:B.Sw.WIDGETS})}function Q(e){let{invitedPlugins:t,pendingReviewPlugins:l,approvedPlugins:n,developmentPlugins:a}=(0,R.QC)(),o=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return d.YO?a.length+l.length+n.length+t.length===0?i.createElement(B.e5,{tab:B.Sw.PLUGINS}):i.createElement("div",{className:G.Zk,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>i.createElement(W.tZ.Tile,{key:e.id,plugin:e,containerClassName:o(e)?G.aY:G.s9})),a.map(t=>i.createElement(W.bx.Tile,{plugin:t,onClick:l=>{l.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:o(t)?G.aY:G.s9,showEditorTypeIcon:!0})),[...l,...n].map(t=>i.createElement(W.mn.Tile,{key:t.id,plugin:t,onClick:l=>{l.stopPropagation(),e.setActiveResource(t)},containerClassName:o(t)?G.aY:G.s9}))):i.createElement(H,{tab:B.Sw.PLUGINS})}function X(e){return d.YO?i.createElement("div",{className:G.Tc},(0,g.t)("community.universal_posting_modal.plugin_info.available",{numPlugins:e.numPlugins})):i.createElement("div",{className:G.Tc},(0,g.t)("community.universal_posting_modal.plugin_info.unavailable"))}function Z(e){return d.YO?i.createElement("div",{className:G.Tc},(0,g.t)("community.universal_posting_modal.widget_info.available",{numWidgets:e.numWidgets})):i.createElement("div",{className:G.Tc},(0,g.t)("community.universal_posting_modal.widget_info.unavailable"))}function $(e){let t;let l=(0,a.v9)(e=>e.user.email),n=(0,a.v9)(e=>e.orgById),o=(0,a.v9)(e=>(0,O.bg)(e));if(o){let a=e.currentOrgId&&n[e.currentOrgId]?n[e.currentOrgId].name:null;t=i.createElement("div",{className:G.IY},a&&i.createElement(i.Fragment,null,a,i.createElement("span",null,"\xa0\xb7\xa0")),l)}else t=i.createElement("div",{className:G.IY},l);return i.createElement("div",{className:G.GO},e.selectedTab===B.Sw.FILES&&(0===e.numFiles?i.createElement("div",{className:G.Tc},(0,g.t)("community.universal_posting_modal.file_info.available",{numFiles:e.numFiles})):i.createElement(B.E1,{query:e.searchQuery,setQuery:e.setSearchQuery,setSearchResults:e.setSearchResults})),e.selectedTab===B.Sw.PLUGINS&&i.createElement(X,{numPlugins:e.numPlugins}),e.selectedTab===B.Sw.WIDGETS&&i.createElement(Z,{numWidgets:e.numWidgets}),t)}function Y(e){let t=(0,a.I0)(),l=(0,P.XU)(),n=[],r={[B.Sw.FILES]:(0,g.t)("community.view_bar.files"),[B.Sw.PLUGINS]:(0,g.t)("community.view_bar.plugins"),[B.Sw.WIDGETS]:(0,g.t)("community.view_bar.widgets")};return Object.keys(r).forEach(a=>{let c=r[a];n.push(i.createElement(V,{tab:a,mobileNavTabTitle:c,selectedTab:e.selectedTab,key:a,onClick:()=>{e.activeSearchQuery&&(t(y.nr({})),t(y.TM())),(0,o.L9)("publish_type_changed",{userId:l.id,resourceType:c}),e.setSelectedTab(a)}},c))}),i.createElement("div",{className:G.HF},i.createElement("div",{className:G.Sj},n),i.createElement(m.ol,{className:G.Ij,dispatch:()=>{(0,o.L9)("community_publish_modal",{step:N.h.CLOSED}),t(I.hV())}}))}var q=((n=q||{})[n.Fetched=0]="Fetched",n[n.Fetching=1]="Fetching",n[n.NeverFetched=2]="NeverFetched",n);let J=(0,M.Y3)(function(e){let t=(0,P.XU)(),l=(0,a.I0)(),n=(0,a.v9)(e=>!!e.user),s=(0,a.v9)(e=>e.currentUserOrgId),d=(0,r.AA)(s,c.Plq.CAN_PUBLISH_TO_COMMUNITY),m="loaded"===d.status,[O,M]=i.useState(2),[U,W]=i.useState({}),V=(0,R.Lx)(),H=(0,k.QN)(),K=(0,R.Cv)(),Q=(0,R.Rw)(),X=Object.keys(H).length;(0,S.aM)((0,v.zE)()),(0,S.aM)((0,v.Ax)()),i.useEffect(()=>{l(y.nr({})),n&&(l(h.RG()),l(b.a$()));let e=document.body.style.overflowY;return document.body.style.overflowY="hidden",()=>{document.body.style.overflowY=e}},[]),i.useEffect(()=>{if(!m||2!==O)return;let e=d.data.map(e=>e.key);0!==e.length&&(M(1),A.h.getHubFileDuplicates({fileKeys:e}).then(e=>{W(e.data.meta),M(0)}))},[O,m,d.data]);let Z=e=>{let t=U[e.key];return!t},q=()=>{ec&&l(y.TM()),(0,o.L9)("community_publish_modal",{user:t.id,step:N.h.CLOSED}),l(I.hV())},J=async e=>{await l(f.Au({fileKey:e}))},ee=async e=>{e&&(el(e),H[e.key]||l(w.gz({file:e})),await J(e.key))},[et,el]=i.useState(null),en=()=>el(null),[ei,ea]=i.useState(null),[eo,er]=i.useState(B.Sw.FILES),[ec,es]=i.useState(""),[ed,eu]=i.useState([]);if(!n)return i.createElement(i.Fragment,null);let em=m&&0===O;return i.createElement(F.Rj,{size:"any",className:G.db,hide:q},i.createElement(Y,{activeSearchQuery:ec,selectedTab:eo,setSelectedTab:er}),i.createElement($,{selectedTab:eo,currentOrgId:s,searchQuery:ec,setSearchQuery:es,setSearchResults:e=>{eu(e.filter(e=>Z(e.model)))},numPlugins:K,numWidgets:Q,numFiles:X}),i.createElement(E.l,{className:G.Lw,hideScrollbar:!0},!em&&i.createElement("div",{className:G.xf},i.createElement(p.TK,{size:"small"})),ec&&i.createElement(B.cp,{activeSearchQuery:ec,activeFileKey:(null==et?void 0:et.key)||null,setActiveFile:ee,deselectActiveFile:en,searchResults:ed,disableCmtyLibraries:(0,u.BZ)().cmty_lib_m2_creator}),em&&!ec&&i.createElement(z,{selectedTab:eo,activeFileKey:(null==et?void 0:et.key)||null,setActiveFile:ee,deselectActiveFile:en,activeResource:ei,setActiveResource:ea,deselectActiveResource:()=>ea(null),filterFn:Z})),i.createElement("div",{className:G.Mv},i.createElement("div",{className:G.Wd},(0,u.BZ)().cmty_lib_m2_creator?(0,g.t)("community.universal_posting_modal.footer.choose_resource_lib_prototypes"):(0,g.t)("community.universal_posting_modal.footer.choose_resource"),i.createElement(_.UU,{href:"https://help.figma.com/hc/articles/360040035974-Publish-Community-files",target:"_blank",trusted:!0},(0,g.t)("community.universal_posting_modal.footer.learn_more"))),i.createElement("div",{className:G.DN},i.createElement(j.iB,{onClick:q},(0,g.t)("general.cancel")),i.createElement(j.oo,{disabled:eo===B.Sw.FILES?!et:eo===B.Sw.PLUGINS||eo===B.Sw.WIDGETS?!ei:void 0,onClick:()=>{if(eo===B.Sw.FILES)et&&((0,o.L9)("community_publish_modal",{user:t.id,step:N.h.DETAILS,resourceType:D.Xh.HUB_FILE,fileKey:et.key,fileName:et.name}),l((0,C.I)({fileKey:et.key,isFullscreenOpen:!1,entryPoint:L.jS.UNIVERSAL_POSTING,canvasThumbnailPromise:(0,x.DO)(et.key,t),source:e.source})),el(null));else if((eo===B.Sw.PLUGINS||eo===B.Sw.WIDGETS)&&ei){let e="localFileId"in ei?ei:V[ei.id],n=e.localFileId;(0,o.L9)("community_publish_modal",{user:t.id,step:N.h.DETAILS,resourceType:eo===B.Sw.PLUGINS?D.Xh.PLUGIN:D.Xh.WIDGET,pluginId:e.plugin_id,pluginName:e.name,localFileId:n}),l((0,T.M)({localFileId:n,entryPoint:L.jS.UNIVERSAL_POSTING})),ea(null)}}},(0,g.t)("general.next")))))},"Universal Posting Modal")},35794:(e,t,l)=>{l.d(t,{L9:()=>O,AD:()=>x,NV:()=>D});var n,i=l(652983),a=l(407908),o=l(87608),r=l.n(o),c=l(388899),s=l(435613),d=l(212984),u=l(970740),m=l(547699),_=l(20245),p=l(456496),E=l(65249),g=l(111120),f=l(489465),h=l(131826),v=l(448694),b=l(70918),C=l(761767),T=l(153574),w=l(841017),I=l(656077),y=l(512169),N=l(13155),R=l(176639),k=l(239019);let P=l(767759);var x=((n=x||{}).DESIGN="FILE_CREATION_DROPDOWN_DESIGN",n.WHITEBOARD="FILE_CREATION_DROPDOWN_WHITEBOARD",n.DESKTOP_NEW_TAB="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB",n);let S={FILE_CREATION_DROPDOWN_DESIGN:"file_creation_dropdown--newDesignFileDropdown--E2Csj file_creation_dropdown--newFileToolbarDropdown--8at5t",FILE_CREATION_DROPDOWN_WHITEBOARD:"file_creation_dropdown--newWhiteboardFileDropdown--uJ-pH file_creation_dropdown--newFileToolbarDropdown--8at5t",FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:"file_creation_dropdown--newFileDropdown--IKidD file_creation_dropdown--newFileToolbarDropdown--8at5t"};function O({buttonText:e,dataTestId:t,dropdownType:l,teamsWithEditableProjects:n,hideOnDesktop:o,hideOnMobile:s,onSelectOverride:m}){var _;let p=(0,a.I0)(),E=[{displayText:(0,u.t)("file_browser.tool_bar.file_creation_dropdown_display_text"),preventDismissOnSelected:!0,render:()=>i.createElement(L,{teamsWithEditableProjects:n,dropdownType:l,onSelectOverride:m,dispatch:p})}],f=(0,a.v9)((0,T.o)(l)),v=i.useRef(null),b=S[l],C="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB"===l;return i.createElement(i.Fragment,null,i.createElement(k.P,{buttonClassName:r()(d.cx.flex.itemsCenter.justifyCenter.$,"file_creation_dropdown--newFileToolbarDropdown--8at5t",b,{"file_creation_dropdown--hideOnDesktop--a-TSl":o,"file_creation_dropdown--hideOnMobile--CXkaC":s}),dataTestId:t,isShowingDropdown:!1,isOnBrandColor:!C,onClick:()=>{f||p(g.SP({type:l}))},ref:v},e),v.current&&f&&i.createElement(h.Ui,{name:"File Creation Dropdown Display",properties:{fileCreationDefaultsDropdownType:l}},i.createElement("div",{className:d.cx.if(!C,d.cx.fixed).$},i.createElement(y.z,{showPoint:!0,lean:"center",type:N.eg.MATCH_BACKGROUND,rootAndSubmenuMaxWidth:224,minWidth:224,autoHeight:!0,onSelectItem:c.ZT,hidePointWhenContentOffScreen:!0,items:E,parentRect:null==(_=v.current)?void 0:_.getBoundingClientRect(),dispatch:p}))))}function D(e){var t;return{id:e.id,name:e.name,restrictions_list:e.restrictionsList,subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:(null==(t=e.gracePeriodEnd)?void 0:t.toISOString())||null}}function L({teamsWithEditableProjects:e,dropdownType:t,onSelectOverride:l,dispatch:n}){let a=(0,R.JX)(),o=(0,b.dO)(),[r,c]=i.useState(!1),h=(e,l)=>{n(g.kp()),n(f.ae({state:a,editorType:A[t],team:e?D(e):void 0,folderId:l,from:I.L7.FILE_BROWSER_TOPBAR_RECENTS,openNewFileIn:I.JD.SAME_TAB,callback:e=>{(0,v.T6)({userId:o,fileKey:e},M[t])},inFileCreationDefaultsExp:!0}))},C=i.useMemo(()=>r?e:e.slice(0,3),[r,e]);return i.createElement(i.Fragment,null,i.createElement("div",{className:"file_creation_dropdown--dropdownHeader--7CgvJ text--fontPos11--2LvXf text--_fontBase--QdLsd"},"FILE_CREATION_DROPDOWN_DESIGN"===t?i.createElement(u.Tx,{id:"file_browser.tool_bar.create_new_design_file_in"}):"FILE_CREATION_DROPDOWN_WHITEBOARD"===t?i.createElement(u.Tx,{id:"file_browser.tool_bar.create_new_figjam_board_in"}):i.createElement(u.Tx,{id:"desktop_new_tab.create_new_file_in"})),C.map(e=>{if(e.projects&&e.projects[0]){let a=e.projects[0],o=D(e),r=(0,w.bw)(o,{type:w.Xy.ADD_FIGJAM_FILE}),c=(0,w.bw)(o,{type:w.Xy.ADD_DESIGN_FILE}),s="FILE_CREATION_DROPDOWN_DESIGN"===t?!c:"FILE_CREATION_DROPDOWN_WHITEBOARD"===t&&!r,u=l?()=>{l({team:e,project:a}),n(g.kp())}:()=>h(e,a.id);return i.createElement(F,{key:e.id,dropdownType:t,folderId:e.projects[0].id,icon:i.createElement("div",{className:d.cx.h16.w16.flex.itemsCenter.justifyCenter.$},i.createElement(m.Ir,{size:{imgSize:m.DZ.SMALL,fallbackSize:m.DZ.XSMALL},fallbackDisplay:_.D.HIDDEN,team:{id:e.id}})),text:i.createElement(E.x,{truncate:!0},e.name," / ",e.projects[0].path),onClick:u,isRestricted:s})}}),!r&&e.length>3&&i.createElement("div",{className:"file_creation_dropdown--seeMoreProjects--xPeVD"},i.createElement(F,{dropdownType:t,icon:i.createElement(s.n,{svg:P}),text:i.createElement(u.Tx,{id:"file_browser.tool_bar.see_all_editable_projects",numberOfEditableProjects:e.length}),onClick:()=>c(!r)})),i.createElement("div",{className:"file_creation_dropdown--horizontalDivider--VOMdA"}),i.createElement("div",null,i.createElement(F,{dropdownType:t,icon:i.createElement(p.JO,{icon:"page-16"}),text:i.createElement(E.x,{i18nId:"sidebar.drafts",truncate:!0}),onClick:l?()=>{l(null),n(g.kp())}:()=>h()})))}let A={FILE_CREATION_DROPDOWN_DESIGN:C.gg.DESIGN,FILE_CREATION_DROPDOWN_WHITEBOARD:C.gg.WHITEBOARD,FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:C.gg.DESIGN},M={FILE_CREATION_DROPDOWN_DESIGN:"toolbar_design_created",FILE_CREATION_DROPDOWN_WHITEBOARD:"toolbar_figjam_created",FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:"toolbar_file_created"};function F({icon:e,text:t,onClick:l,isRestricted:n}){return i.createElement("div",{role:"link",className:"file_creation_dropdown--projectCreationListOption---WauB",tabIndex:0,onClick:l},i.createElement("div",{className:d.cx.flex.flexRow.wFull.overflowHidden.$},i.createElement("div",{className:d.cx.flex.itemsCenter.flexRow.gap12.wFull.overflowHidden.$},i.createElement("div",{className:d.cx.flex.w16.h16.itemsCenter.alignCenter.justifyCenter.flexShrink0.$},e),i.createElement("p",{className:d.cx.flex.flexRow.overflowHidden.flexGrow1.itemsCenter.$},t))),n&&i.createElement(p.JO,{icon:"info-32"}))}},239019:(e,t,l)=>{l.d(t,{P:()=>s});var n=l(652983),i=l(87608),a=l.n(i),o=l(435613),r=l(212984);let c=l(624336),s=n.forwardRef((e,t)=>{let l=r.cx.h16.w16.ml1.flex.justifyCenter.itemsCenter.with({colorIconOnbrand:e.isOnBrandColor,colorIcon:!e.isOnBrandColor}).$;return n.createElement("button",{className:a()("dropdown_button--button--gnByJ",e.buttonClassName,{"dropdown_button--active--yOqbm":e.isShowingDropdown}),onClick:e.onClick,ref:t,"data-testid":e.dataTestId,"aria-label":e["aria-label"]},e.children,n.createElement(o.n,{svg:c,className:l}))})},521910:(e,t,l)=>{l.d(t,{w:()=>a});var n=l(652983),i=l(388899);let a=n.createContext({shouldShowChevron:e=>!1,onClick:()=>!1,onHover:i.ZT})},330509:(e,t,l)=>{l.d(t,{U8:()=>x,zN:()=>O,c1:()=>n,dw:()=>D,WL:()=>S});var n,i=l(652983),a=l(407908),o=l(87608),r=l.n(o),c=l(768358),s=l(239299),d=l(675185),u=l(716250),m=l(31642),_=l(618723),p=l(782051),E=l(85808),g=l(970740),f=l(644383),h=l(111120),v=l(448694),b=l(70918),C=l(502594),T=l(561237),w=l(6144),I=l(15888),y=l(921141),N=l(521910),R=l(579006);function k(e){let[t,l]=(0,i.useState)(null),n=i.useMemo(()=>({shouldShowChevron:R.JP,onClick:e=>!1,onHover:e=>{(0,R.JP)(e)?l((0,R.K3)(e)):l(null)}}),[]);return(0,u.BZ)().desktop_quickreply_filebrowser?i.createElement(i.Fragment,null,t&&i.createElement("div",{className:"quick_reply_switcher--hoverContainer--XEskB"},i.createElement(y.P,{quickReplyInfo:t,onClose:()=>l(null),closeIcon:"x-32",hideOverflowMenu:!0})),i.createElement(N.w.Provider,{value:n},e.children)):i.createElement(i.Fragment,null,e.children)}var P=l(125865);let x="-1";function S(e,t){let l=(0,a.I0)(),n=(0,b.XU)(),o=(0,a.v9)(e=>e.authedUsers.byId[n.id].plans),r=i.useMemo(()=>void 0===o?new Map:new Map(o.map(e=>[e.plan_id,e.is_org])),[o]),u=(0,a.v9)(e=>e.userNotifications.userBellStates),_=(0,a.v9)(e=>e.userNotifications.communityProfileBellStates),p=(0,a.v9)(e=>e.selectedView.view),[E,v]=(0,i.useState)(new Map),[w,I]=(0,i.useState)(!0),y=(0,d.d)(_),N=(0,d.d)(u);i.useEffect(()=>{let i=(0,c.D)(()=>{var i,a;if(e){if(n&&n.community_profile_id){let e=y.current[n.community_profile_id];if(e){let e={isBellStateHigh:!1,userInitiated:!0,profileId:n.community_profile_id};l((0,C.j)(e))}T.g.getCommunityServerDriven({currentView:p}).then(({data:e})=>{let t=e.meta;R(t)}).catch(e=>{l(f.R.enqueue({message:(0,g.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),l(h.kp())})}}else{let e=n&&(null==(a=null==(i=N.current)?void 0:i[n.id])?void 0:a[x]);if(e){let e={isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:x,userId:null==n?void 0:n.id};l((0,C.Z)(e))}T.g.getServerDrivenPlan({currentPlanId:t,currentView:p,isPlanOrg:r.get(t)||!1}).then(({data:e})=>{let t=e.meta;R(t)}).catch(e=>{l(f.R.enqueue({message:(0,g.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),l(h.kp())})}},800,!0);I(!0),i()},[t,y,p,l,e,n,N,r]);let R=e=>{let t=new Map;e.forEach(e=>{t.set(e.notification_id,e)}),v(t),I(!1)};return{notificationFeedMap:E,isFetchingNotifications:w,markAllAsReadFn:()=>{(e?m.ZP.post("/api/user_notifications/community/mark_read",{currentView:p,source:s.Gu?"desktopbell":"web"}):m.ZP.post("/api/user_notifications/mark_read/plan",{current_plan_id:t,currentView:p,is_plan_org:r.get(t)||!1,source:s.Gu?"desktopbell":"web"})).then(()=>{let e=Array.from(E,([e,t])=>(t.is_unread=!1,[e,t]));v(new Map(e))}).catch(()=>{l(f.R.enqueue({message:(0,g.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})},updateNotification:(e,t)=>{v(new Map(E.set(e,t)))}}}function O(e){let[t,l]=(0,i.useState)(x),{notificationFeedMap:a,isFetchingNotifications:o,markAllAsReadFn:c,updateNotification:s}=S(!!e.inCommunity,t),d=e=>{e.stopPropagation()},u=e=>{e===w.U7&&(e=x),(0,v.U6)(e,"notifications",void 0),l(e)},m=[...a.values()];return i.createElement("div",{className:r()(0!==a.size||o?P.tR:P.LG,e.containerClassName,{[P.FC]:e.arrowRight}),onMouseDown:d,onClick:d},i.createElement(k,null,i.createElement(n.Header,{currentPlanFilter:t===x?w.U7:t,isFetchingNotifications:o,showMarkAllAsRead:D(o,m)&&!L(),markAllAsReadFn:c},e.inCommunity?i.createElement("div",{className:P.Q6},(0,g.t)("user_notification.community_notifications")):i.createElement(i.Fragment,null,i.createElement(w.p4,{currentPlanFilter:t===x?w.U7:t,onPlanFilterUpdate:e=>u(e)}))),L()&&D(o,m)&&i.createElement(n.UnreadBar,{markAllAsReadFn:c},i.createElement("div",null,function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return(0,g.t)("user_notifications.unread_count",{unreadCount:t})}(m))),i.createElement(n.Feed,{notifications:m,currentPlanFilter:t===x?w.U7:t,isFetchingNotifications:o,inCommunity:e.inCommunity,fillParent:!1,updateNotificationCallback:s})))}function D(e,t){return!e&&t.some(e=>e.is_unread)}function L(){return!!(0,u.BZ)().notif_show_bell_unread_bar}(e=>{e.Feed=function(e){var t;let l=(0,b.XU)(),n=(0,a.v9)(e=>{var t;return l?null==(t=e.authedUsers.byId[l.id])?void 0:t.plans:null}),o=!1;if(l&&!e.inCommunity&&(null==n?void 0:n.length)===1&&(o=!0,e.currentPlanFilter===w.U7)){let l=n[0].plan_id;for(let n of e.notifications)if((null==(t=n.plan)?void 0:t.id.toString())!==l){o=!1;break}}if(e.isFetchingNotifications)return i.createElement("div",{className:P.xf},i.createElement(p.TK,null));if(0===e.notifications.length)return i.createElement("div",{className:P.yR},i.createElement(g.Tx,{id:"user_notifications.dropdown.no_notifications"}));{let t=e.notifications,l=e.inCommunity?P.Lw:P._K;return i.createElement(E.l,{className:`${e.fillParent?"":l}`},i.createElement("div",null,t.map((t,l)=>i.createElement(I.P,{key:l,notification:t,updateNotificationCallback:e.updateNotificationCallback,dontShowPlanIcon:o,currentPlanFilter:e.currentPlanFilter,inDesktopTray:e.inDesktopTray}))))}},e.UnreadBar=function(e){return i.createElement("div",{className:P.Fs},e.children,i.createElement(_.rU,{onClick:e.markAllAsReadFn,className:P.zP,trusted:!0},i.createElement(g.Tx,{id:"user_notifications.dropdown.mark_all_as_read"})))},e.Header=function(e){return i.createElement("div",{className:P.Fs},e.children,e.showMarkAllAsRead&&i.createElement(_.rU,{onClick:e.markAllAsReadFn,className:P.p4,trusted:!0},i.createElement(g.Tx,{id:"user_notifications.dropdown.mark_all_as_read"})))}})(n||(n={}))},15888:(e,t,l)=>{l.d(t,{P:()=>ey});var n=l(652983),i=l(407908),a=l(600486),o=l(716250),r=l(111120),c=l(448694),s=l(322186),d=l(196532),u=l(413810),m=l(795596),_=l(239299),p=l(448501),E=l(31642),g=l(313653),f=l(970740),h=l(521910),v=l(261104),b=l.n(v),C=l(642045),T=l(618723),w=l(925960),I=l(435613),y=l(299482),N=l(547699),R=l(5119),k=l(828867),P=l(6144),x=l(206279),S=l(421678);let O="block_kit_row--rowTop--V9LTX",D="block_kit_row--usersContainer--m9QMX",L="block_kit_row--usersContainerStructuredView---DFXa",A="block_kit_row--secondaryUser--Zbyj5",M="block_kit_row--icon--Gau-9",F="block_kit_row--resource--1nT--",U="block_kit_row--primaryUser--0OplU",B="block_kit_row--contentContainer--xYiON text--fontPos11--2LvXf text--_fontBase--QdLsd",W="block_kit_row--imagePreview---NMyQ";function j(e){return n.createElement("span",{className:"block_kit_row--htmlTextBlock--w691R",dangerouslySetInnerHTML:{__html:b().sanitize(e.block.html_text)}})}function G(e){let t=(0,C.WG)(e.block.emoji_shortcode)[0];return t.meta?n.createElement("span",{className:"block_kit_row--emojiUnicode--s9gXM"},t.unicode):n.createElement(n.Fragment,null)}function V(e){return e?e.map((e,t)=>"HtmlTextBlock"===e._block_type?n.createElement(j,{key:t,block:e}):n.createElement(G,{key:t,block:e})):[]}function H(e){let{block:t,size:l}=e;return n.createElement(k.Kn,{entity:{...t,id:t.entity_id},size:l,hideFallbackInitial:!1,shape:t.shape.toUpperCase()})}function z(e){let{block:t}=e;return n.createElement("div",{className:`${W} ${S.Ub}`,style:{background:`url(${(0,R.Z)()})`}},n.createElement("div",{className:`${S.kR}`,style:{backgroundColor:(e=>{if(!e||0===e.alpha)return"transparent";let{red:t,green:l,blue:n,alpha:i}=e;return`rgba(${255*t|0}, ${255*l|0}, ${255*n|0}, ${i})`})(t.background_color)}},n.createElement("div",{className:S.Q1,style:{backgroundImage:`url(${t.img_url})`}})))}function K(e){let{block:t}=e;return n.createElement("div",{className:"block_kit_row--square--LWlEB"},n.createElement("div",{className:W,style:{backgroundImage:`url(${t.img_url})`}}))}function Q(e){let{avatars:t}=e;return 0===t.length?null:t.length>1?n.createElement("div",{className:D},n.createElement("div",{className:A},n.createElement(H,{block:t[1],size:N.DZ.MEDIUM})),n.createElement("div",{className:U},n.createElement(H,{block:t[0],size:N.DZ.MEDIUM}))):n.createElement("div",{className:D},n.createElement(H,{block:t[0],size:N.DZ.LARGE}))}function X(e){let t=(0,i.I0)(),{block:l,callbacks:a,isPrimary:o=!0}=e,r=async()=>{let e=a.buildNotificationActionRequest(l.notification_action);await e.then(({data:e})=>{if(l.hide_after_action)a.hideNotification();else if(a.followLinkIfPossible(),e.meta.updated_notification_blob){let t=e.meta.updated_notification_blob;a.updateNotification(t.notification_id,t)}},()=>{let e="resolve"===l.notification_action?(0,f.t)("user_notification.an_error_occurred_while_clicking_this_notification"):(0,f.t)("user_notification.an_error_occurred_while_removing_this_notification");t(g.l.error(e))})},c=V([l.text]);return o?n.createElement(T.DF,{className:"block_kit_row--acceptButton--a8hGz",onClick:r},c):n.createElement(T.PL,{className:"block_kit_row--rejectButton--KOYG6",onClick:r},c)}function Z(e){let{block:t,actionBlockCallbacks:l}=e;return n.createElement("div",{className:"block_kit_row--rowBottom--MUjVt"},n.createElement(X,{block:t.secondary_action,callbacks:l,isPrimary:!1}),n.createElement(X,{block:t.primary_action,callbacks:l,isPrimary:!0}))}function $(e){let{block:t,plan:l}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:B},n.createElement("div",{className:"block_kit_row--content--DjH--"},n.createElement("div",null,V(t.title)),t.description&&n.createElement("div",{className:"block_kit_row--notificationDescription--6aMEh ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},V(t.description))),n.createElement("div",{className:"block_kit_row--fromNow--qYB7e"},l&&n.createElement(n.Fragment,null,n.createElement(x.E,{entityId:l.id.toString(),entityName:l.name,imgUrl:l.img_url||void 0}),(0,P.OI)(l.name,21),n.createElement("div",{className:"block_kit_row--planDivider--po3BY"},"\xb7")),n.createElement(w.Lt,{date:t.created_at,style:"short"}))),(()=>{if(!t.thumbnail)return null;let e=t.thumbnail;switch(e._block_type){case"AvatarBlock":return n.createElement(H,{block:e,size:N.DZ.XLARGE});case"ImageThumbnailBlock":return n.createElement(K,{block:e});case"FileThumbnailBlock":return n.createElement(z,{block:e})}})())}function Y(e){let{notification:t}=e;return n.createElement("div",{className:O},t.is_unread?n.createElement("div",{className:"block_kit_row--unreadDot--nGsUe"}):null,n.createElement(Q,{avatars:t.avatars}),e.children)}function q(e){let{attachment:t,notification:l,dontShowPlanIcon:i}=e;return n.createElement(Y,{notification:l},n.createElement($,{block:t.body,plan:!0===i?void 0:l.plan}))}let J=l(749749);function ee(e){let{attachment:t,notification:l,dontShowPlanIcon:i}=e,{shouldShowChevron:a}=n.useContext(h.w);return n.createElement(Y,{notification:l},n.createElement($,{block:t.body,plan:!0===i?void 0:l.plan}),a(l)&&n.createElement(I.n,{svg:J,style:y.sx.absolute.hFull.flex.itemsCenter.add({right:"-16px",height:"100%",fill:"var(--color-icon)"}).$}))}function et(e){let{attachment:t,notification:l,actionBlockCallbacks:i}=e;return n.createElement(n.Fragment,null,n.createElement(Y,{notification:l},n.createElement($,{block:t.body,plan:l.plan})),n.createElement(Z,{block:t.actions,actionBlockCallbacks:i}))}function el(e){switch(e){case"AtMentionCommentNotif":case"CanvasAtMentionNotif":case"AtMentionInviteNotif":case"FeedPostAtMention":return n.createElement(ed,null);case"FileCommentReplyNotifV2":return n.createElement(ea,null);case"FileCommentReactionNotifV2":case"FeedCommentReactionNotifV":case"FeedPostReactionNotifV2":return n.createElement(ec,null);case"InviteFolderNotif":case"InviteFileNotif":case"InviteTeamNotif":case"InviteFileRepoNotif":case"InviteFileReminderNotif":return n.createElement(er,null);case"MergeRequestReviewerInviteNotif":case"MergeRequestChangesRequestedNotif":case"BranchMergedNotif":case"MergeRequestApprovedNotif":return n.createElement(ei,null);case"FileRoleRequestCreatedNotif":return n.createElement(eo,null);case"FileRoleRequestApprovedNotif":return n.createElement(en,null);default:return n.createElement(es,null)}}function en(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{d:"M15.6255 6.13281L7.89111 13.8672L4.37549 10.3516",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round","stroke-linejoin":"round"}))}function ei(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{d:"M3.85107 5.89014H5.73195C7.11699 5.89014 8.23979 7.01294 8.23979 8.39798V9.65192C8.23979 11.037 9.36259 12.1598 10.7476 12.1598H15.1363",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}),n.createElement("path",{d:"M11.3745 5.89014H15.1363",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}),n.createElement("path",{d:"M12.6279 9.33838L15.1358 12.1597L12.6279 14.981",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}))}function ea(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.38054 5.05103V7.60525C4.38054 9.95246 6.28333 11.8552 8.63054 11.8552H13.6551L11.3566 14.1538L12.0637 14.8609L15.2158 11.7088L15.5693 11.3552L15.2158 11.0017L12.0637 7.84958L11.3566 8.55669L13.6551 10.8552H8.63054C6.83562 10.8552 5.38054 9.40017 5.38054 7.60525V5.05103H4.38054Z",fill:"black","fill-opacity":"0.9"}))}function eo(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.1417 4.1958C9.24166 4.1958 8.34668 4.45436 7.66874 5.0415C6.97965 5.6383 6.56494 6.53183 6.56494 7.69164C6.56494 7.96778 6.7888 8.19164 7.06494 8.19164C7.34109 8.19164 7.56494 7.96778 7.56494 7.69164C7.56494 6.78674 7.87894 6.18236 8.32341 5.79741C8.77904 5.40281 9.42246 5.1958 10.1417 5.1958C10.8431 5.1958 11.4156 5.42272 11.8075 5.78266C12.196 6.13946 12.4352 6.65163 12.4352 7.28679C12.4352 7.77431 12.3292 8.13884 12.1429 8.44619C11.9522 8.76066 11.6578 9.0475 11.231 9.34707C10.5893 9.79743 10.1119 10.201 9.81658 10.7353C9.51761 11.276 9.43932 11.8868 9.43932 12.6712C9.43932 12.9473 9.66318 13.1712 9.93932 13.1712C10.2155 13.1712 10.4393 12.9473 10.4393 12.6712C10.4393 11.9365 10.5177 11.5339 10.6917 11.2191C10.8694 10.8977 11.1815 10.6035 11.8054 10.1656C12.2952 9.82188 12.7093 9.44073 12.998 8.96464C13.2909 8.48143 13.4352 7.93284 13.4352 7.28679C13.4352 6.38355 13.0873 5.60023 12.4839 5.04613C11.884 4.49518 11.0598 4.1958 10.1417 4.1958ZM9.98822 14.3041C9.54639 14.3041 9.18822 14.6623 9.18822 15.1041C9.18822 15.546 9.54639 15.9041 9.98822 15.9041C10.43 15.9041 10.7882 15.546 10.7882 15.1041C10.7882 14.6623 10.43 14.3041 9.98822 14.3041Z",fill:"black","fill-opacity":"0.9"}))}function er(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.499 4.375C10.499 4.09886 10.2752 3.875 9.99902 3.875C9.72288 3.875 9.49902 4.09886 9.49902 4.375V9.50004H4.37402C4.09788 9.50004 3.87402 9.7239 3.87402 10C3.87402 10.2762 4.09788 10.5 4.37402 10.5H9.49902V15.625C9.49902 15.9011 9.72288 16.125 9.99902 16.125C10.2752 16.125 10.499 15.9011 10.499 15.625V10.5H15.624C15.9002 10.5 16.124 10.2762 16.124 10C16.124 9.7239 15.9002 9.50004 15.624 9.50004H10.499V4.375Z",fill:"black","fill-opacity":"0.9"}))}function ec(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.91379 10C4.91379 7.19097 7.19097 4.91379 10 4.91379C12.809 4.91379 15.0862 7.19097 15.0862 10C15.0862 12.809 12.809 15.0862 10 15.0862C7.19097 15.0862 4.91379 12.809 4.91379 10ZM10 3.91379C6.63868 3.91379 3.91379 6.63868 3.91379 10C3.91379 13.3613 6.63868 16.0862 10 16.0862C13.3613 16.0862 16.0862 13.3613 16.0862 10C16.0862 6.63868 13.3613 3.91379 10 3.91379ZM10.0001 13.2931C8.42095 13.2931 7.10142 12.1816 6.78116 10.6983H7.81524C8.11062 11.6233 8.97713 12.2931 10.0001 12.2931C11.023 12.2931 11.8896 11.6233 12.1849 10.6983H13.219C12.8988 12.1816 11.5792 13.2931 10.0001 13.2931ZM13.0426 8.82457C13.0426 9.23593 12.7091 9.5694 12.2978 9.5694C11.8864 9.5694 11.5529 9.23593 11.5529 8.82457C11.5529 8.41321 11.8864 8.07974 12.2978 8.07974C12.7091 8.07974 13.0426 8.41321 13.0426 8.82457ZM7.70199 9.5694C8.11335 9.5694 8.44682 9.23593 8.44682 8.82457C8.44682 8.41321 8.11335 8.07974 7.70199 8.07974C7.29064 8.07974 6.95717 8.41321 6.95717 8.82457C6.95717 9.23593 7.29064 9.5694 7.70199 9.5694Z",fill:"black","fill-opacity":"0.9"}))}function es(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 4.25C6.82436 4.25 4.25 6.82436 4.25 10V12.8281V13.2241V15.25C4.25 15.5261 4.47386 15.75 4.75 15.75H10C13.1756 15.75 15.75 13.1756 15.75 10C15.75 6.82436 13.1756 4.25 10 4.25ZM5.25 10C5.25 7.37665 7.37665 5.25 10 5.25C12.6234 5.25 14.75 7.37665 14.75 10C14.75 12.6234 12.6234 14.75 10 14.75H5.25V10Z",fill:"black"}))}function ed(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},n.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),n.createElement("path",{d:"M10.2364 15.625C9.38253 15.625 8.61522 15.4936 7.93448 15.2309C7.25375 14.9682 6.67304 14.589 6.19235 14.0934C5.71464 13.6007 5.3474 13.0066 5.09063 12.3109C4.83685 11.6152 4.70996 10.8375 4.70996 9.97761C4.70996 9.13565 4.83834 8.37132 5.09511 7.68461C5.35487 6.99791 5.7236 6.40824 6.2013 5.91561C6.682 5.42297 7.25524 5.04379 7.92105 4.77807C8.58984 4.50936 9.33327 4.375 10.1513 4.375C10.9515 4.375 11.6681 4.51533 12.301 4.79598C12.934 5.07365 13.4729 5.45283 13.9178 5.93352C14.3626 6.41421 14.7015 6.96208 14.9344 7.57713C15.1702 8.18919 15.2882 8.82962 15.2882 9.49841C15.2882 9.92237 15.2553 10.3404 15.1897 10.7524C15.127 11.1644 15.018 11.5376 14.8627 11.872C14.7075 12.2064 14.4925 12.4736 14.2178 12.6737C13.9431 12.8707 13.5953 12.9692 13.1743 12.9692C12.9534 12.9692 12.7354 12.9334 12.5205 12.8618C12.3085 12.7871 12.1264 12.6662 11.9741 12.499C11.8248 12.3288 11.7382 12.1019 11.7143 11.8183H11.6696C11.574 12.0332 11.4397 12.2303 11.2665 12.4094C11.0933 12.5856 10.8798 12.7259 10.6261 12.8304C10.3753 12.9349 10.0842 12.9827 9.75275 12.9737C9.37656 12.9648 9.03769 12.8812 8.73614 12.7229C8.43757 12.5647 8.18229 12.3482 7.97031 12.0735C7.76131 11.7989 7.60158 11.4809 7.49111 11.1196C7.38064 10.7554 7.32541 10.3628 7.32541 9.94178C7.32541 9.53573 7.38661 9.16103 7.50903 8.81768C7.63442 8.47432 7.8061 8.17426 8.02405 7.9175C8.24499 7.66073 8.50325 7.45621 8.79883 7.30394C9.09442 7.15167 9.41239 7.06359 9.75275 7.03971C10.0573 7.01881 10.3379 7.04867 10.5947 7.12928C10.8515 7.20691 11.0694 7.32036 11.2486 7.46965C11.4277 7.61893 11.5561 7.78762 11.6337 7.97572H11.6785V7.16511H12.4085V11.3167C12.4085 11.6302 12.4697 11.875 12.5921 12.0512C12.7175 12.2243 12.9146 12.3109 13.1833 12.3109C13.5087 12.3109 13.773 12.2049 13.976 11.9929C14.182 11.778 14.3328 11.4615 14.4283 11.0435C14.5239 10.6225 14.5716 10.1045 14.5716 9.48945C14.5716 9.02369 14.5059 8.57285 14.3746 8.13694C14.2462 7.69805 14.0581 7.292 13.8103 6.91879C13.5625 6.5426 13.2579 6.21417 12.8967 5.93352C12.5354 5.64988 12.1219 5.42894 11.6561 5.2707C11.1933 5.11246 10.6798 5.03334 10.1155 5.03334C9.41687 5.03334 8.78241 5.15127 8.21215 5.38714C7.64189 5.62301 7.15074 5.96039 6.73872 6.39928C6.32969 6.83818 6.0147 7.36216 5.79376 7.97124C5.57282 8.57733 5.46235 9.25358 5.46235 10C5.46235 10.7554 5.57282 11.4376 5.79376 12.0467C6.0147 12.6558 6.33267 13.1768 6.74768 13.6097C7.16567 14.0426 7.67025 14.3755 8.26141 14.6084C8.85258 14.8413 9.51838 14.9577 10.2588 14.9577C10.5872 14.9577 10.9097 14.9249 11.2262 14.8592C11.5456 14.7965 11.8353 14.7188 12.095 14.6263C12.3578 14.5337 12.5697 14.4427 12.731 14.3531L12.9594 14.9801C12.7384 15.0995 12.4757 15.2085 12.1711 15.307C11.8696 15.4056 11.5501 15.4832 11.2127 15.5399C10.8784 15.5966 10.5529 15.625 10.2364 15.625ZM9.8468 12.2706C10.2529 12.2706 10.5947 12.1766 10.8724 11.9885C11.15 11.8004 11.359 11.5302 11.4994 11.1778C11.6427 10.8255 11.7143 10.4016 11.7143 9.90595C11.7143 9.40734 11.6382 8.99681 11.4859 8.67436C11.3367 8.35191 11.1232 8.11306 10.8455 7.9578C10.5708 7.79956 10.2454 7.72044 9.8692 7.72044C9.50494 7.72044 9.18548 7.82046 8.9108 8.0205C8.6391 8.21756 8.42563 8.48179 8.27037 8.8132C8.1181 9.14461 8.04197 9.50886 8.04197 9.90595C8.04197 10.3269 8.10914 10.7166 8.2435 11.0748C8.38084 11.4331 8.58237 11.7227 8.8481 11.9437C9.11681 12.1616 9.44971 12.2706 9.8468 12.2706Z",fill:"black","fill-opacity":"0.9"}),n.createElement("path",{d:"M5.02027 12.3369L5.02018 12.3366C4.76295 11.6315 4.63496 10.8449 4.63496 9.97761C4.63496 9.12799 4.76452 8.3546 5.02486 7.65835L5.02496 7.65808C5.28808 6.96247 5.66213 6.36389 6.14746 5.86339L6.14762 5.86323C6.63592 5.36279 7.21807 4.97789 7.89317 4.70844C8.57194 4.43573 9.32501 4.3 10.1513 4.3C10.9603 4.3 11.6874 4.44189 12.3313 4.72735C12.9731 5.00892 13.5206 5.39394 13.9728 5.88258C14.4242 6.37034 14.7682 6.92644 15.0045 7.5504C15.2436 8.17117 15.3632 8.82067 15.3632 9.49841C15.3632 9.92616 15.3301 10.348 15.2638 10.7639M5.02027 12.3369L15.1897 10.7524M5.02027 12.3369C5.28036 13.0415 5.65295 13.6448 6.1385 14.1456L6.19235 14.0934M5.02027 12.3369L6.19235 14.0934M15.2638 10.7639C15.2638 10.764 15.2637 10.7641 15.2637 10.7642L15.1897 10.7524M15.2638 10.7639C15.2638 10.7638 15.2638 10.7637 15.2638 10.7637L15.1897 10.7524M15.2638 10.7639C15.2001 11.1819 15.0893 11.562 14.9308 11.9036C14.7706 12.2485 14.5478 12.5261 14.262 12.7343L14.2615 12.7346C13.9713 12.9428 13.6071 13.0442 13.1743 13.0442C12.9451 13.0442 12.7192 13.0071 12.4968 12.9329L12.4956 12.9325C12.2718 12.8537 12.0792 12.7258 11.9186 12.5495L11.9177 12.5485L11.9177 12.5485C11.7887 12.4014 11.7048 12.2174 11.6633 11.9997M15.1897 10.7524C15.127 11.1644 15.018 11.5376 14.8627 11.872C14.7075 12.2064 14.4925 12.4736 14.2178 12.6737C13.9431 12.8707 13.5953 12.9692 13.1743 12.9692C12.9534 12.9692 12.7354 12.9334 12.5205 12.8618C12.3085 12.7871 12.1264 12.6662 11.9741 12.499C11.8368 12.3425 11.7525 12.138 11.7213 11.8855C11.7032 11.9242 11.6838 11.9622 11.6633 11.9997M11.6633 11.9997C11.5726 12.165 11.4582 12.319 11.3204 12.4616L11.32 12.462C11.139 12.6461 10.9168 12.7918 10.6548 12.8997M11.6633 11.9997C11.6555 11.9586 11.6491 11.9163 11.6443 11.8728C11.5509 12.0667 11.4249 12.2455 11.2665 12.4094C11.0933 12.5856 10.8798 12.7259 10.6261 12.8304M11.6561 5.2707C12.1219 5.42894 12.5354 5.64988 12.8967 5.93352C13.2579 6.21417 13.5625 6.5426 13.8103 6.91879C14.0581 7.292 14.2462 7.69805 14.3746 8.13694C14.5059 8.57285 14.5716 9.02369 14.5716 9.48945C14.5716 10.1045 14.5239 10.6225 14.4283 11.0435M11.6561 5.2707L10.6261 12.8304M11.6561 5.2707C11.1933 5.11246 10.6798 5.03334 10.1155 5.03334C9.41687 5.03334 8.78241 5.15127 8.21215 5.38714C7.64189 5.62301 7.15074 5.96039 6.73872 6.39928L11.6561 5.2707ZM14.4283 11.0435L14.3552 11.0268C14.2614 11.437 14.1152 11.7393 13.9218 11.941L13.9218 11.9411C13.7346 12.1366 13.4907 12.2359 13.1833 12.2359C12.9321 12.2359 12.761 12.1561 12.6533 12.0078C12.5431 11.8488 12.4835 11.6212 12.4835 11.3167V7.16511V7.09011H12.4085H11.6785H11.6035V7.16511V7.75548C11.5245 7.63092 11.4219 7.51647 11.2966 7.41203C11.1087 7.25548 10.8816 7.1377 10.6168 7.0576C10.3501 6.97393 10.0601 6.94344 9.74762 6.96488L9.7475 6.96489C9.39726 6.98947 9.06935 7.08021 8.76449 7.23727C8.46017 7.39404 8.19431 7.60464 7.9672 7.86858L7.96687 7.86896C7.74271 8.13304 7.56676 8.44098 7.43857 8.79195L7.43838 8.79249C7.31278 9.14479 7.25041 9.52812 7.25041 9.94178C7.25041 10.3694 7.30652 10.7694 7.41934 11.1414L7.41939 11.1416C7.53221 11.5105 7.69577 11.8366 7.91062 12.119L7.91094 12.1194C8.12927 12.4023 8.39274 12.6258 8.70101 12.7892L8.70129 12.7893C9.01409 12.9535 9.36447 13.0395 9.75097 13.0487M14.4283 11.0435C14.3328 11.4615 14.182 11.778 13.976 11.9929L11.2252 15.6139M14.4283 11.0435L14.3552 11.0269C14.4491 10.6131 14.4966 10.1011 14.4966 9.48945C14.4966 9.03085 14.432 8.58731 14.3028 8.15858L14.3026 8.158C14.1763 7.7262 13.9913 7.32706 13.7478 6.96028L13.7476 6.96005C13.5044 6.59082 13.2055 6.26844 12.8507 5.99275L12.8503 5.99251C12.4962 5.71446 12.0903 5.49742 11.632 5.34171L11.6319 5.34167C11.178 5.18647 10.6728 5.10834 10.1155 5.10834C9.42541 5.10834 8.80087 5.2248 8.24082 5.45645C7.68019 5.68833 7.19801 6.01964 6.79349 6.45052C6.39192 6.88144 6.08202 7.3965 5.86426 7.99681L5.86422 7.99692C5.64671 8.5936 5.53735 9.26099 5.53735 10C5.53735 10.7481 5.64675 11.4215 5.86426 12.0211C6.08191 12.6211 6.39456 13.1329 6.80172 13.5577C7.21183 13.9824 7.7072 14.3094 8.2889 14.5386C8.86999 14.7675 9.52626 14.8827 10.2588 14.8827C10.5822 14.8827 10.8996 14.8504 11.2109 14.7857L11.2117 14.7856C11.5282 14.7235 11.8141 14.6468 12.0698 14.5556L12.0701 14.5556C12.3306 14.4638 12.5383 14.3743 12.6945 14.2875L12.7714 14.2449L12.8014 14.3274L13.0298 14.9544L13.052 15.0153L12.995 15.0461C12.7691 15.1682 12.502 15.2788 12.1942 15.3784C11.8889 15.4781 11.5659 15.5566 11.2252 15.6139M9.75097 13.0487C9.75089 13.0487 9.75081 13.0487 9.75073 13.0487L9.75275 12.9737L9.75097 13.0487ZM9.75097 13.0487C10.0905 13.0579 10.3924 13.009 10.6548 12.8997M10.6548 12.8997C10.6548 12.8997 10.6549 12.8997 10.6549 12.8996L10.6261 12.8304M10.6548 12.8997C10.6547 12.8997 10.6547 12.8997 10.6546 12.8998L10.6261 12.8304M11.6696 11.8183V11.822L11.6678 11.8222C11.6684 11.8209 11.669 11.8196 11.6696 11.8183ZM11.6696 11.8183L11.6767 11.8214L11.7143 11.8183M11.6696 11.8183H11.7143M11.7143 11.8183V11.8382L11.7162 11.839C11.7155 11.8321 11.7149 11.8252 11.7143 11.8183ZM11.2252 15.6139C10.887 15.6712 10.5574 15.7 10.2364 15.7C9.37484 15.7 8.59816 15.5674 7.90748 15.3009C7.21721 15.0344 6.62718 14.6494 6.13851 14.1456L6.19235 14.0934M11.2252 15.6139L6.19235 14.0934M8.73614 12.7229C8.43757 12.5647 8.18229 12.3482 7.97031 12.0735L8.73614 12.7229ZM11.2262 14.8592C11.5456 14.7965 11.8353 14.7188 12.095 14.6263L11.2262 14.8592ZM11.4299 11.1496L11.4297 11.1501C11.2942 11.4903 11.094 11.7478 10.8303 11.9264C10.5675 12.1044 10.2411 12.1956 9.8468 12.1956C9.46442 12.1956 9.14906 12.0911 8.89571 11.8857C8.64116 11.674 8.44684 11.3956 8.31364 11.0483C8.1828 10.6993 8.11697 10.3187 8.11697 9.90595C8.11697 9.5188 8.19111 9.16545 8.3384 8.84478C8.48876 8.52391 8.69439 8.27011 8.95483 8.08121L8.95495 8.08113C9.21586 7.89112 9.5196 7.79544 9.8692 7.79544C10.2347 7.79544 10.5467 7.87224 10.8081 8.02279L10.8081 8.02279L10.8089 8.02326C11.0712 8.16991 11.2744 8.39601 11.4179 8.70587L11.4181 8.70639C11.5642 9.01566 11.6393 9.41429 11.6393 9.90595C11.6393 10.3947 11.5686 10.8085 11.4299 11.1496Z",stroke:"black","stroke-opacity":"0.9","stroke-width":"0.15"}))}let eu=/(\d+)\snew\s(comment(?:s)?|repl(?:y|ies)|reaction(?:s)?)\s(?:and\s(\d+)\snew\s(comment(?:s)?|repl(?:y|ies)|reaction(?:s)?)\s)?/,em=/<b>(.*?)<\/b>.*?(?=\s*in\s)/,e_=/made you (an? )?(\w+)/i,ep=/<b>(.*?)<\/b>/g;function eE(e){let{avatars:t,notification_type:l}=e;return 0===t.length?null:t.length>1?n.createElement("div",{className:L},n.createElement("div",{className:A},n.createElement(H,{block:t[1],size:N.DZ.MEDIUM28})),n.createElement("div",{className:U},n.createElement(H,{block:t[0],size:N.DZ.MEDIUM28})),n.createElement("div",{className:M},l&&el(l))):n.createElement(n.Fragment,null,n.createElement("div",{className:L},n.createElement(H,{block:t[0],size:N.DZ.LARGE40}),n.createElement("div",{className:M},l&&el(l))))}function eg(e){let{attachment:t,notification:l}=e,i=t.body;return n.createElement("div",{className:B},n.createElement("div",null,function(e,t){if(!e)return null;let l={html_text:"",_block_type:"HtmlTextBlock"},i={html_text:"",_block_type:"HtmlTextBlock"},a={html_text:"",_block_type:"HtmlTextBlock"};return e.map(e=>{if("HtmlTextBlock"===e._block_type){let n=e.html_text.match(em),o=e.html_text.match(ep)||[];if(n&&"BatchedFileCommentNotif"===t){let e=n[0].trim();""===l.html_text&&(l={html_text:e}),i={html_text:o[o.length-1].replace(/<\/?b>/g,"")}}else if(t&&eT.includes(t)){if(o.length>=3){""===l.html_text&&(l={html_text:o[0]});let e=o[o.length-1].replace(/<\/?b>/g,""),t=o[o.length-2].replace(/<\/?b>/g,"");i={html_text:`${t} -> ${e}`}}}else""===l.html_text&&(l={html_text:o[0]}),i={html_text:o[o.length-1].replace(/<\/?b>/g,"")};a=t&&function(e,t){switch(e){case"AtMentionCommentNotif":case"CanvasAtMentionNotif":case"AtMentionInviteNotif":case"FeedPostAtMention":return{html_text:"Mentioned you"};case"FileCommentReplyNotifV2":return{html_text:"Replied"};case"FileCommentReactionNotifV2":case"FeedCommentReactionNotifV":case"FeedPostReactionNotifV2":return{html_text:"Reacted"};case"FileCommentNotifV2":case"FeedPostCommentNotifV2":return{html_text:"Commented"};case"MergeRequestReviewerInviteNotif":return{html_text:"Requested review"};case"MergeRequestChangesRequestedNotif":return{html_text:"Suggested changes"};case"BranchMergedNotif":return{html_text:"Merged"};case"MergeRequestApprovedNotif":return{html_text:"Approved branch"};case"InviteFolderNotif":case"InviteFileNotif":case"InviteTeamNotif":case"InviteFileRepoNotif":case"InviteFileReminderNotif":let l=t.match(e_);if(l&&l.length>2)return{html_text:`Made you ${l[2]}`};if(t.includes("shared"))return{html_text:"Shared"};return{html_text:"Invited you"};case"FileRoleRequestCreatedNotif":let n=t.includes("edit")?"edit":"view",i=t.includes("wants")?`Requested ${n} access`:`Can now ${n}`;return{html_text:i};case"FileRoleRequestApprovedNotif":let a=t.includes("edit")?"You can edit":"You can view";return{html_text:a};case"BatchedFileCommentNotif":case"BatchedFeedCommentReactionNotif":let o=t.match(eu),r="";if(o){let e=o[1],t=o[2];if(r=`${e} ${t}`,o[3]){let e=o[3],t=o[4];r+=` and ${e} ${t}`}}return{html_text:r}}}(t,e.html_text)||a}}),n.createElement(n.Fragment,null,n.createElement("div",{className:F},n.createElement(j,{block:l})),n.createElement("div",{className:F},n.createElement(j,{block:a})," \xb7 ",n.createElement(j,{block:i})))}(i.title,l.notification_type)),i.description&&n.createElement("div",{className:"block_kit_row--notificationDescriptionStructuredView--4sKju ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},n.createElement("span",{className:"block_kit_row--reacjiNotificationStructuredView--TWxtz"},V(function(e){if(!e)return[];let t=e.find(e=>"ReacjiBlock"===e._block_type);return t?[t,{html_text:" to: ",_block_type:"HtmlTextBlock"}]:[]}(i.title))),V(i.description)))}function ef(e){let{notification:t,createdAt:l}=e,i=(0,w.zL)(l,"short"),a=function(e){if(e.includes("just now"))return"now";let t=e.split(" "),l=t[0],n=t[1].charAt(0);return"mo."===t[1]&&(n+="o"),`${l}${n}`}(i);return n.createElement("div",{className:O},n.createElement("div",{className:"block_kit_row--timestamp--5jHxO"},a),t.is_unread?n.createElement("div",{className:"block_kit_row--unreadDotStructuredView--5etXA"}):null,n.createElement(eE,{avatars:t.avatars,notification_type:t.notification_type}),e.children)}function eh(e){let{attachment:t,notification:l}=e;return n.createElement(ef,{notification:l,createdAt:t.body.created_at},n.createElement(eg,{attachment:t,notification:l}))}function ev(e){let{attachment:t,notification:l}=e,{shouldShowChevron:i}=n.useContext(h.w);return n.createElement(ef,{notification:l,createdAt:t.body.created_at},n.createElement(eg,{attachment:t,notification:l}),i(l)&&n.createElement(I.n,{svg:J,style:y.sx.absolute.hFull.flex.itemsCenter.add({right:"-16px",height:"100%",fill:"var(--color-icon)"}).$}))}function eb(e){let{attachment:t,notification:l,actionBlockCallbacks:i}=e;return n.createElement(n.Fragment,null,n.createElement(ef,{notification:l,createdAt:t.body.created_at},n.createElement(eg,{attachment:t,notification:l})),n.createElement(eC,{block:t.actions,actionBlockCallbacks:i}))}function eC(e){let{block:t,actionBlockCallbacks:l}=e;return n.createElement("div",{className:"block_kit_row--rowBottomStructuredView--FMX0O"},n.createElement(X,{block:t.secondary_action,callbacks:l,isPrimary:!1}),n.createElement(X,{block:t.primary_action,callbacks:l,isPrimary:!0}))}let eT=["MergeRequestReviewerInviteNotif","MergeRequestChangesRequestedNotif","BranchMergedNotif","MergeRequestApprovedNotif"],ew=[...eT,"AtMentionCommentNotif","CanvasAtMentionNotif","AtMentionInviteNotif","FeedPostAtMention","FileCommentReplyNotifV2","FileCommentReactionNotifV2","FeedPostCommentNotifV2","FeedCommentReactionNotifV","FeedPostReactionNotifV2","FileCommentNotifV2","InviteFolderNotif","InviteFileNotif","InviteTeamNotif","InviteFileRepoNotif","InviteFileReminderNotif","FileRoleRequestCreatedNotif","FileRoleRequestApprovedNotif","BatchedFileCommentNotif","BatchedFeedCommentReactionNotif"],eI=e=>{let t=e.preferred_attachments.find(e=>m.L3.BlockKit.Block.ATTACHMENT_TYPES.has(e._block_type));if(void 0===t)throw Error(`Unable to render attachment. Hiding notification ${e.notification_id}`);return t};function ey(e){let t;let l=(0,i.I0)(),[m,v]=(0,n.useState)(!1),b=(0,i.oR)(),C=(0,s.Ng)(),T=(0,i.v9)(e=>e.selectedView.view),w=(0,d.Mn)(),{onClick:I,onHover:y}=n.useContext(h.w),N=e.notification;try{t=eI(e.notification)}catch(e){return console.error(`Unsupported Notification: ${e}`),null}let R=()=>{var t;if(N.deeplink){let n=N.deeplink.href;if(n.includes("project")){let t=n.split("project/"),l=t[1];(0,c.Qs)("file_browser_folder_click",l,null,w,{selectedView:"notifications",planFilterId:e.currentPlanFilter===P.U7?null:e.currentPlanFilter})}else if(n.includes("team")){let t=n.split("team/"),l=t[1];(0,c.H)("file_browser_team_click",l,w,{selectedView:"notifications",planFilterId:e.currentPlanFilter===P.U7?null:e.currentPlanFilter})}else if(n.includes("file/")){let t=n.split("file/")[1].split("/"),i=t[0];l(r.ku({fileKey:i,entrypoint:"notifications",currentPlanFilter:{planId:e.currentPlanFilter===P.U7?void 0:e.currentPlanFilter||void 0}}))}if(l(r.kp()),N.deeplink.use_unsafe)p.default.unsafeRedirect(n,_.YO?void 0:"_blank");else if(e.inDesktopTray)p.default.redirect(n);else{let e=new URL(n);try{let i=(0,u.eP)(b.getState(),e.pathname);if("teamFeed"===i.view){C&&(null==(t=N.plan)?void 0:t.id.toString())===C.id?l(r.fv(i)):p.default.redirect(n,_.YO?void 0:"_blank");return}p.default.redirect(n,_.YO?void 0:"_blank");return}catch{p.default.redirect(n,_.YO?void 0:"_blank")}}}},k=e=>{e.stopPropagation()},x=()=>{v(!0)},S=e=>"resolve"===e?E.ZP.put("/api/user_notifications",{id:N.notification_id,resolved_at:"true",currentView:T,medium:_.Gu?"desktop_bell":"web"}):E.ZP.put("/api/user_notifications",{id:N.notification_id,rejected_at:"true",currentView:T,medium:_.Gu?"desktop_bell":"web"}),O=(t,l)=>{try{switch(t._block_type){case"ActionableAttachment":{let i={updateNotification:e.updateNotificationCallback,hideNotification:x,followLinkIfPossible:R,buildNotificationActionRequest:S};return n.createElement(et,{attachment:t,notification:l,actionBlockCallbacks:i})}case"ClientActionableAttachment":return n.createElement(ee,{attachment:t,notification:l});case"BodyAndThumbnailAttachment":return n.createElement(q,{attachment:t,notification:l,dontShowPlanIcon:e.dontShowPlanIcon})}}catch(e){console.error(`Unable to render attachment: ${t}`),x()}};return!m&&n.createElement("div",{className:"block_kit_row--rowContainer--blE-e",onClick:n=>{(0,a.L9)("file_browser_notification_clicked",{notification_id:N.notification_id,notification_type:N.notification_type,actionable:"ActionableAttachment"===t._block_type,selectedView:T,plan_filter:e.currentPlanFilter}),k(n);let i=I(N);if("ActionableAttachment"===t._block_type)return;let o=S("resolve");o.then(({data:t})=>{if(i||R(),t.meta.updated_notification_blob){let l=t.meta.updated_notification_blob;e.updateNotificationCallback(l.notification_id,l)}},e=>{l(g.l.error((0,f.t)("user_notification.an_error_occurred_while_clicking_this_notification")))})},onMouseDown:k,onMouseOver:e=>{y(N)}},(0,o.BZ)().structured_view_notifications?((t,l)=>{try{var i,a;if(i=l.notification_type,ew.includes(i)&&(null==(a=(0,o.ZP)().user_data)?void 0:a.locale)==="en")switch(t._block_type){case"ActionableAttachment":{let i={updateNotification:e.updateNotificationCallback,hideNotification:x,followLinkIfPossible:R,buildNotificationActionRequest:S};return n.createElement(eb,{attachment:t,notification:l,actionBlockCallbacks:i})}case"ClientActionableAttachment":return n.createElement(ev,{attachment:t,notification:l});case"BodyAndThumbnailAttachment":return n.createElement(eh,{attachment:t,notification:l,dontShowPlanIcon:e.dontShowPlanIcon})}else O(t,l)}catch(e){console.error(`Unable to render attachment: ${t}`),x()}})(t,N):O(t,N))||null}},6144:(e,t,l)=>{l.d(t,{U7:()=>_,p4:()=>f,OI:()=>g});var n=l(652983),i=l(63730),a=l(407908),o=l(594619),r=l(435613),c=l(970740),s=l(70918),d=l(13155);let u="notifs_plan_filter--boldTitle---Yao3",m="notifs_plan_filter--autoTruncate--JBaGp ellipsis--ellipsis--Tjyfa",_="ALL_PLANS_FILTER",p=l(624336),E=l(284987),g=(e,t)=>e.length>t?e.slice(0,t-3)+"...":e;function f({currentPlanFilter:e,onPlanFilterUpdate:t}){let[l,f]=n.useState(!1),h=(0,n.useRef)(null),v=(0,n.useRef)(null),b=(0,s.xJ)(),C=(0,a.v9)(e=>{var t;return b?null==(t=e.authedUsers.byId[b.id])?void 0:t.plans:null});if(!b||!C||C.length<=1)return n.createElement("span",{className:u},(0,c.t)("user_notification.all_notifications"));let T=C.map(e=>e.plan_id);T.unshift(_);let w=(e,t)=>e===_?(0,c.t)("user_notification.all_notifications"):t[e],I=C.reduce((e,t)=>(e[t.plan_id]=t.name,e),{}),y=(e,l)=>{e.stopPropagation(),t(l),f(!1)},N=T.map(t=>n.createElement(o.j.Option,{key:t,onClick:e=>{y(e,t)}},t===e&&n.createElement(r.n,{svg:E}),n.createElement("span",{className:`${t===e?"notifs_plan_filter--planNameChecked--DRs5Z":"notifs_plan_filter--planNameUnchecked--j9H7f"} ${m}`},w(t,I))));return n.createElement("div",{className:"notifs_plan_filter--planFilterContainer--btOEf",ref:h},n.createElement("div",null,n.createElement("button",{ref:v,onClick:()=>{f(!l)},className:"notifs_plan_filter--dropdownButton--sKKXq"},n.createElement("span",{className:[u,m].join(" ")},g(w(e,I),35)),n.createElement(r.n,{svg:p,className:"notifs_plan_filter--chevronIcon--WGm81"})),v.current&&l&&n.createElement(d.AQ,{targetRect:function(){var e;let t=null==(e=i.findDOMNode(v.current))?void 0:e.getBoundingClientRect();return t}(),type:d.eg.DEFAULT,lean:"right",minWidth:120,disableDropdownScrollContainer:!0,closeDropdown:()=>f(!1)},N)))}},26437:(e,t,l)=>{l.d(t,{M:()=>R});var n=l(652983),i=l(407908),a=l(716250),o=l(523495),r=l(435613),c=l(970740),s=l(571259),d=l(167153),u=l(515788),m=l(740031),_=l(163381),p=l(283537),E=l(15014),g=l(369874),f=l(721127),h=l(54055),v=l(70918),b=l(646472),C=l(552835),T=l(225468);let w=l(876675),I=l(304043);function y(e){return n.createElement("div",{className:"detail_engagement_row--engagementItem--Kpp0Y","data-tooltip":e["data-tooltip"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip-show-immediately":e["data-tooltip-show-immediately"]},e.children)}function N(){return n.createElement("div",{className:"detail_engagement_row--engagementDivider--t0laO"})}function R({resource:e,ratingView:t}){let l=(0,v.xJ)(),R=(0,h.d8)(),k=(0,i.I0)(),P=(0,_.So)(),x=(0,p.FC)(e),S=e.unique_run_count??0,O=(0,b.F4)(e),D=(0,b.v9)(e),L=!!(null==l?void 0:l.community_profile_id)&&(0,g.Un)(null==l?void 0:l.community_profile_id,e),A=(()=>{if(O)return n.createElement(m.U2,{resource:e});if(D)return n.createElement(m.Py,null);let t=(0,s.sm)({resource:e,payment:e.community_resource_payment});return e.monetized_resource_metadata&&t?n.createElement(m.Ef,{metadata:e.monetized_resource_metadata}):null})(),M=(0,o.K2)(S),F=(0,o.K2)(e.like_count);return n.createElement("div",{className:"detail_engagement_row--detailEngagementRow--JLmtH"},(0,a.BZ)().cmty_likes&&n.createElement(n.Fragment,null,n.createElement(y,{"data-tooltip":(0,c.t)("community.try.people_like_this",{numPeople:e.like_count,numPeopleStr:F}),"data-tooltip-type":T.fR.TEXT},n.createElement(r.n,{svg:I}),F),n.createElement(N,null)),P&&(0,g.W1)(e)&&n.createElement(n.Fragment,null,n.createElement(u.M,{resource:e,communityRatingStats:x,userRating:null==t?void 0:t.userRating,openRatingModal:l=>{t&&(0,p.H9)(t)&&k(f.bF({type:d.y.type,data:{resource:e,defaultRatingValue:l,userRating:t.userRating,entryPoint:C.il.INSERTS_RATING_STATS_MODAL}}))},canRate:null==t?void 0:t.canRate,statsLabelClassName:"detail_engagement_row--communityRatingStats--l9X9s text--fontPos11--2LvXf text--_fontBase--QdLsd",hideSeeAll:!0,hideRatingSelector:L||(0,E.K)(R)}),n.createElement(N,null)),n.createElement(y,{"data-tooltip":(0,c.t)("community.try.people_use_this",{numPeople:S,numPeopleStr:M}),"data-tooltip-type":T.fR.TEXT},n.createElement(r.n,{svg:w}),M),!!A&&n.createElement(n.Fragment,null,n.createElement(N,null),n.createElement(y,null,A)))}},172767:(e,t,l)=>{l.d(t,{Z:()=>m});var n=l(652983),i=l(407908),a=l(704711),o=l(212984),r=l(65249),c=l(819190),s=l(721127),d=l(993248),u=l(388803);function m({localResource:e,isWidget:t,publishedResource:l}){let o=(0,i.I0)();if(!e&&l)return n.createElement(p,{resource:l});if(!e)return null;let{error:m,localFilePath:E}=e;if(!m)return n.createElement(a.c,{className:u.my,text:E.replace("/manifest.json","")});let{type:g}=m;switch(g){case"LOAD":let f=n.createElement(_,{onClick:()=>{let l=e.localFileId;o((0,c.kA)({resourceType:t?"widget":"plugin",localFileIdToRemove:l}))},isError:!0},n.createElement(r.x,{i18nId:"universal_insert.locate"}));return n.createElement(r.x,{color:"danger",i18nId:"universal_insert.missing_manifest",i18nParams:{locateButton:f}});case"VALIDATE":case"PARSE":let h=n.createElement(_,{onClick:()=>{o((0,s.K4)({type:d.G,data:{localPlugin:e}}))},isError:!0},n.createElement(r.x,{i18nId:"universal_insert.see_details"}));return n.createElement(r.x,{color:"danger",i18nId:"universal_insert.manifest_error",i18nParams:{seeDetailsButton:h}})}}function _({children:e,onClick:t,isError:l}){return n.createElement("button",{onClick:e=>{e.stopPropagation(),t()},className:o.cx.underline.bgTransparent.with({colorTextDanger:l,colorTextSecondary:!l}).$},e)}function p({resource:e}){let t=(0,i.I0)();return n.createElement("div",{className:u.my},n.createElement(_,{onClick:()=>{t((0,c.kA)({resourceType:e.is_widget?"widget":"plugin"}))}},n.createElement(r.x,{i18nId:"universal_insert.locate_local_version_text"})))}},269431:(e,t,l)=>{l.d(t,{Eb:()=>m,Kn:()=>_,eo:()=>p});var n=l(652983),i=l(407908),a=l(600802),o=l(618723),r=l(970740),c=l(367674),s=l(65249),d=l(286071),u=l(339531);function m({resource:e}){let t=(0,i.I0)(),l=e.is_widget?{widget_id:e.id}:{plugin_id:e.id},s={...l,src:d.FM.INVITE_TILE};return n.createElement(c.j,null,n.createElement(a.PL,{onClick:e=>{e.stopPropagation(),t((0,d.UT)(s))}},n.createElement(r.Tx,{id:"community.detail_view.decline"})),n.createElement(o.DF,{onClick:e=>{e.stopPropagation(),t((0,d.Dr)(s))}},n.createElement(r.Tx,{id:"community.detail_view.accept"})))}function _({resource:e}){let t=(0,u.hb)(e),l=e.creator,i=e.is_widget?"widget":"plugin",a=`/community/${i}/${e.id}`;return n.createElement(s.x,null,n.createElement(r.Tx,{id:"universal_insert.invited_you_to_publish",ownerName:n.createElement(s.x,{fontWeight:"bold"},l.handle),resourceName:n.createElement(o.UU,{href:a,onClick:e=>{e.stopPropagation()},target:"_blank",trusted:!0},n.createElement(s.x,{fontWeight:"bold"},t.name))}))}function p({resource:e}){return n.createElement(c.j,{direction:"vertical"},n.createElement(_,{resource:e}),n.createElement(m,{resource:e}))}},816980:(e,t,l)=>{l.d(t,{$:()=>n});let n=4770==l.j?`data:image/svg+xml;utf8,<svg width="208" height="124" viewBox="0 0 208 124" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="208" height="124" rx="8" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M108.986 49.0056L102.891 73.3875L105.801 74.1151L111.897 49.7332L108.986 49.0056ZM91.0944 60.4997L97.1898 54.4042L99.3111 56.5256L94.2763 61.5604L99.3111 66.5952L97.1898 68.7165L91.0944 62.621L90.0337 61.5604L91.0944 60.4997ZM123.693 60.4997L117.598 54.4042L115.476 56.5256L120.511 61.5604L115.476 66.5952L117.598 68.7165L123.693 62.621L124.754 61.5604L123.693 60.4997Z" fill="black" fill-opacity="0.3"/>
<rect x="0.5" y="0.5" width="207" height="123" rx="7.5" stroke="black" stroke-opacity="0.3" stroke-dasharray="4 4"/>
</svg>`:null},859103:(e,t,l)=>{l.d(t,{Zs:()=>H,d$:()=>z,dz:()=>V});var n=l(652983),i=l(407908),a=l(716250),o=l(633194),r=l(594619),c=l(825028),s=l(782051),d=l(85808),u=l(435613),m=l(970740),_=l(167153),p=l(515788),E=l(283537),g=l(369874),f=l(819190),h=l(244311),v=l(721127),b=l(131826),C=l(298715),T=l(936561),w=l(34258),I=l(752784),y=l(809377),N=l(187436),R=l(70918),k=l(436649),P=l(339531),x=l(3342),S=l(646472),O=l(552835),D=l(291904),L=l(613551),A=l(505468),M=l(13155),F=l(26437),U=l(470787),B=l(59293),W=l(475042),j=l(83487);let G=l(246961);function V(e){let t=(0,i.v9)(e=>e.universalInsertModal),l=e.id,f=(0,i.v9)(e=>e.publishedWidgets[l]),D=(0,T.QH)(f),A=(0,R.xJ)(),V=(0,i.I0)(),K=(0,C.EP)(),Q=Object.values(K).find(t=>t.plugin_id===e.id),X=!!Q,Z=(0,C.vb)(),$=Z.find(t=>t.id===e.id),Y=(0,i.v9)(e=>{var t,l;return null==(l=null==(t=e.dropdownShown)?void 0:t.data)?void 0:l.targetRect}),q=(0,y.L)(),J=(null==q?void 0:q.type)===z&&q.data.widgetId===l,ee=(0,B.LJ)().currentTab,et=(0,x.s)(ee),el=(0,N.QF)(),en=(null==el?void 0:el.shouldOptimizeForIpadApp)||(0,a.BZ)().cmty_m10n_test_apple_os,ei=(0,E.Vf)(A,f),{canRate:ea=!1}=ei||{};n.useEffect(()=>{f||V(h.cD({id:l,resourceType:S.Xh.WIDGET}))},[l,V,f]);let eo=(0,W.M)(),er=(0,k.nR)(h.cD.loadingKeyForPayload({id:l,resourceType:S.Xh.WIDGET}))&&!f;if(er)return n.createElement(s.TK,{className:j.M8});if(!f)return null;let ec=(0,P.hb)(f);return n.createElement(b.Ui,{name:"detail",properties:{resourceId:e.id,isMonetized:(0,S.vu)(f),resourceType:S.Xh.WIDGET,editorType:"figjam"}},n.createElement(d.l,{height:(0,B.Zt)(t.pinned,500,B.Jw)},n.createElement("div",{className:j.yH},D&&n.createElement(U.rm,null),n.createElement("img",{className:e.onInsertableWidgetMouseDown?void 0:j.qf,onMouseDown:t=>{var l;return null==(l=e.onInsertableWidgetMouseDown)?void 0:l.call(e,t,ec)},src:ec.redirect_cover_image_url||"",alt:`${ec.name}`,width:I.wT,height:I.wT/2}),n.createElement("div",{className:j.Uy},n.createElement(F.M,{resource:f,ratingView:ei})),ea&&!X&&(0,g.W1)(f)&&n.createElement("div",{className:j.s4},n.createElement(p.J,{userRating:null==ei?void 0:ei.userRating,openRatingModal:e=>{ei&&ea&&!X&&V((0,v.K4)({type:_.y,data:{resource:f,defaultRatingValue:e,userRating:ei.userRating,entryPoint:O.il.INSERTS}}))},isInsertsModal:!0})),n.createElement("div",{className:j.WL},n.createElement(o.A,{fallback:null,errorFallback:null,value:ec.description})))),!en&&n.createElement(c.r,{className:j.Sg,href:`/community/widget/${l}`,target:"_blank",trusted:!0},n.createElement(u.n,{svg:G,className:j.Ay}),n.createElement(m.Tx,{id:"whiteboard.inserts.see_more_details_in_community"})),J&&Y&&n.createElement(M.AQ,{targetRect:Y,lean:"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==Q?void 0:Q.error)||$&&!Q?n.createElement(r.j.Option,{onClick:()=>{Q&&Q.error?V((0,v.K4)({type:L.x,data:{error:Q.error,dispatch:V,resourceType:S.Xh.WIDGET},showModalsBeneath:!0})):V((0,v.K4)({type:H,data:{dispatch:V},showModalsBeneath:!0}))}},n.createElement(m.Tx,{id:"whiteboard.inserts.in_development_version_error_dropdown"})):n.createElement(r.j.Option,{onClick:()=>{(0,w.A)({pluginID:ec.plugin_id,widgetName:ec.name,pluginVersionID:"",triggeredFrom:et}),eo()}},n.createElement(m.Tx,{id:"whiteboard.inserts.in_development_version_dropdown"})),n.createElement(r.j.Option,{onClick:()=>{(0,w.A)({pluginID:ec.plugin_id,widgetName:ec.name,pluginVersionID:ec.id,triggeredFrom:et}),eo()}},n.createElement(m.Tx,{id:"whiteboard.inserts.published_version_dropdown"}))))}let H=(0,D.Y3)(function({dispatch:e}){return n.createElement(A.cV,{confirmationTitle:(0,m.t)("whiteboard.inserts.widget_development_error_modal_title"),content:(0,m.t)("whiteboard.inserts.widget_development_error_modal_description"),onConfirm:()=>{e(f.kA({resourceType:"widget"})),e(v.eI())},dispatch:e,confirmText:(0,m.t)("whiteboard.inserts.widget_development_import_manifest"),size:"small",disableClickOutsideToHide:!0,hideOnConfirm:!1,cancelText:(0,m.t)("whiteboard.inserts.widget_development_error_modal_close"),hideCancel:!1,popStack:!0})},"FigjamPublishedDevelopmentWidgetErrorModal",D.Et.YES),z="DROPDOWN_TYPE_WIDGET_DETAIL_SUBMENU"},519100:(e,t,l)=>{l.d(t,{FA:()=>W,aI:()=>j,jT:()=>B,kR:()=>U,kX:()=>H,tc:()=>V,xU:()=>A});var n=l(652983),i=l(407908),a=l(239299),o=l(716250),r=l(594619),c=l(970740),s=l(369874),d=l(819190),u=l(533537),m=l(512512),_=l(721127),p=l(241239),E=l(298715),g=l(34258),f=l(752784),h=l(809377),v=l(322186),b=l(70918),C=l(155838),T=l(339531),w=l(646472),I=l(465883),y=l(548626),N=l(158451),R=l(613551),k=l(287564),P=l(401649),x=l(208944),S=l(668849),O=l(512169),D=l(13155),L=l(859103);function A(e){let t=(0,i.I0)(),l=(0,E.dZ)()[e.widgetId],o=(0,T.hb)(l),s=(0,E.VA)(e.widgetId),d=(0,E.uY)(e.widgetId),u=a.YO&&!!d&&!s;return n.createElement(D.AQ,{targetRect:e.targetRect,lean:e.lean||"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==s?void 0:s.error)||u?n.createElement(r.j.Option,{onClick:()=>{s&&s.error?t((0,_.K4)({type:R.x,data:{error:s.error,dispatch:t,resourceType:w.Xh.WIDGET},showModalsBeneath:!0})):t((0,_.K4)({type:L.Zs,data:{dispatch:t},showModalsBeneath:!0}))}},"\u26A0 ",n.createElement(c.Tx,{id:"universal_insert.in_development_version"})):n.createElement(r.j.Option,{onClick:()=>{(0,g.A)({pluginID:o.plugin_id,widgetName:o.name,pluginVersionID:"",triggeredFrom:"universal-insert"})}},n.createElement(c.Tx,{id:"universal_insert.in_development_version"})),n.createElement(r.j.Option,{onClick:()=>{(0,g.A)({pluginID:o.plugin_id,widgetName:o.name,pluginVersionID:o.id,triggeredFrom:"universal-insert"})}},n.createElement(c.Tx,{id:"universal_insert.published_version"})))}function M({pluginId:e,preferences:t}){let{pinnedPlugins:l,pinPlugin:n,unpinPlugin:i}=t;return l.find(t=>t.plugin_id===e)?{displayText:(0,c.t)("dev_handoff.inspect_panel.unpin"),callback:()=>{i(e)}}:{displayText:(0,c.t)("dev_handoff.inspect_panel.pin"),callback:()=>{n(e)}}}function F({plugin:e}){let{callback:t,isPluginSetToAutoRun:l}=(0,y._j)(e??null);return(0,y.Jl)(e)&&(0,o.BZ)().dev_mode_auto_run_plugin?{displayText:(0,c.t)("dev_handoff.inspect_panel.auto_run"),callback:t,isChecked:l}:null}function U(e){let t=(0,i.I0)(),l=(0,h.L)(),a=(0,S.A2)(),o=(0,N.Pc)(),r=(0,v.Ng)(),s=(0,E.q3)(),d=F({plugin:e.plugin}),u=n.useCallback(()=>{t(m.fB({url:e.resourceType===w._g.PLUGIN?(0,P.tu)(e.resourceId):(0,P.iA)(e.resourceId)}))},[t,e.resourceType,e.resourceId]),_=[];return(e.resourceType===w._g.PLUGIN&&((0,T.Li)(e.plugin,r,s)&&o.loaded&&_.push(M({pluginId:e.plugin.plugin_id,preferences:o})),d&&_.push(d)),_.push({displayText:(0,c.t)("universal_insert.copy_link"),callback:u}),l)?a?n.createElement(z,{parentRect:null==l?void 0:l.data.targetRect,items:_,autoHeight:!0,minWidth:d?220:void 0}):n.createElement(z,{parentRect:null==l?void 0:l.data.targetRect,lean:"left",minWidth:64,items:_}):null}let B="DROPDOWN_TYPE_SAVED_AND_RECENT_ACTIONS_DROPDOWN";function W(e){let t=(0,h.L)(),l=(0,N.Pc)(),i=(0,S.A2)(),a=(0,v.Ng)(),o=(0,E.q3)(),r=F({plugin:e.plugin}),s=[];return(s.push({displayText:(0,c.t)("universal_insert.view_details"),callback:e.viewResource}),i&&((0,T.Li)(e.plugin,a,o)&&l.loaded&&s.push(M({pluginId:e.plugin.plugin_id,preferences:l})),r&&s.push(r)),t)?i?n.createElement(z,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:s,autoHeight:!0}):n.createElement(z,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:s}):null}let j="DROPDOWN_TYPE_PLUGIN_USER_OPTIONS_DROPDOWN",G=(0,C.D)();function V(e){var t;if(!e.localResource&&!e.publishedResource)throw Error("Either localResource or publishedResource is required");let l=(0,S.A2)(),a=(0,b.dO)(),o=(0,i.I0)(),r=(0,h.L)(),m=(0,E.Xk)(),g=Object.values(m).find(t=>{var l;return t.plugin_id===(null==(l=e.publishedResource)?void 0:l.id)}),v=(0,N.Pc)(),C=e.publishedResource?(0,T.hb)(e.publishedResource):null,y=F({plugin:C}),R=e.localResource||g,P=(0,E.rG)(R?R.plugin_id:e.publishedResource.id),O=(0,E.uY)(R?R.plugin_id:e.publishedResource.id),D=e.publishedResource||P||O,L=null==D?void 0:D.versions[D.current_plugin_version_id],A=!!L,U=D?D.is_widget:null==R?void 0:R.manifest.containsWidget,B=(0,f.Zn)(),W=()=>{D&&o((0,_.K4)({type:x.W,data:{plugin:D},showModalsBeneath:!0}))};if(!r||!r.data.targetRect)return null;let j=[];(R&&!R.error||D)&&j.push({displayText:R&&!R.error?A?(0,c.t)("community.plugins.publish_new_version"):(0,c.t)("community.resource.publish"):U?(0,c.t)("community.plugins.edit_resource_details.widget"):(0,c.t)("community.plugins.edit_resource_details.plugin"),callback:()=>{B(),o((0,u.M)({localFileId:null==R?void 0:R.localFileId,publishedPluginId:null==D?void 0:D.id,entryPoint:I.jS.EDITOR}))}}),A&&e.viewResource&&j.push({displayText:(0,c.t)("universal_insert.view_details"),callback:e.viewResource}),A&&j.push({displayText:(0,c.t)("universal_insert.manage_permissions"),callback:()=>{B(),o((0,u.M)({localFileId:null==R?void 0:R.localFileId,publishedPluginId:null==D?void 0:D.id,initialTab:k.z5.PERMISSIONS,entryPoint:I.jS.EDITOR}))}}),R&&(null==(t=R.error)?void 0:t.type)!=="LOAD"&&j.push({displayText:(0,p.K)((0,T.Ls)()),callback:()=>{R&&G.openExtensionDirectory(R.localFileId)}}),R||j.push({displayText:(0,c.t)("universal_insert.locate_local_version"),callback:()=>{d.kA({resourceType:U?"widget":"plugin"})}});let V=[];D&&A&&v.loaded&&l&&V.push(M({pluginId:D.id,preferences:v})),A&&y&&V.push(y);let H=[];R&&H.push({displayText:A?(0,c.t)("universal_insert.remove_local_version"):(0,c.t)("universal_insert.remove"),callback:()=>{R&&o(d.Am(null==R?void 0:R.localFileId))}});let K=(()=>{let e;if(!D)return null;let t=a===D.creator.id;if(!t)return null;if((0,s.k4)(D))e=(0,c.t)("community.plugins.cancel_review");else if((0,w.vu)(D)){if((0,s.dE)(D))return null;e=(0,c.t)("community.resource.delist")}else e=(0,c.t)("community.resource.unpublish");return{displayText:e,callback:W}})();return K&&H.push(K),n.createElement(z,{parentRect:r.data.targetRect,lean:"left",minWidth:y?220:120,rootAndSubmenuMaxWidth:y?void 0:190,disableDropdownScrollContainer:!0,hidePointWhenContentOffScreen:!0,dataTestId:"developmentResourceOptionDropdown",items:[...j,j.some(Boolean)&&(H.some(Boolean)||V.some(Boolean))&&{displayText:"",separator:!0},...V,H.some(Boolean)&&V.some(Boolean)&&{displayText:"",separator:!0},...H].filter(e=>!!e)})}let H="DROPDOWN_TYPE_DEVELOPMENT_RESOURCE_OPTIONS_DROPDOWN";function z(e){let t=(0,i.I0)();return n.createElement(O.z,{...e,dispatch:t,showPoint:!0,type:D.eg.DEFAULT,onSelectItem:e=>{e.callback&&e.callback("",null,t)}})}},488495:(e,t,l)=>{l.d(t,{Dm:()=>x,Ed:()=>S,JI:()=>k,d:()=>N,do:()=>P,mQ:()=>L,nJ:()=>O,zS:()=>D});var n=l(652983),i=l(407908),a=l(337167),o=l(571529),r=l(31642),c=l(618723),s=l(313653),d=l(970740),u=l(864974),m=l(596724),_=l(131826),p=l(200273),E=l(133282),g=l(587487),f=l(767831),h=l(675207),v=l(498266),b=l(477365),C=l(157607),T=l(870490),w=l(961721),I=l(578627),y=l(752487);function N({dismissModal:e}){return n.createElement(g.Qm,{dismissModal:e,targetKey:"rcs-figjam-disabled-by-org"},n.createElement(d.Tx,{id:"rcs.figjam_disabled_by_org.this_file_is_view_only_because_fig_jam_has_been_disabled_by_your_organization"}))}function R({trackingContextName:e,getTitle:t,getBody:l,width:i=268}){return{modalType:v.w8.POINTER,trackingContextName:e,width:i,onboardingKey:b.sq,shouldCenterArrow:C.Ht.FALLBACK,element:()=>n.createElement(n.Fragment,null,n.createElement(h.t,{target:b.sq}),n.createElement("div",{className:y.XW},t()),l()),userFlag:"seen_figjam_widget_nudge_flag"}}({dismissModal:e})=>n.createElement(g.Qm,{targetKey:"create-team-link",dismissModal:e},n.createElement(d.Tx,{id:"rcs.new_team_create_pointer.create_teams_to_share_design_libraries_with_collaborators_and_organize_files_into_projects"})),v.w8.SELF_CONTAINED;let k=R({trackingContextName:"FigJam Widget Nudge Generic",getTitle:()=>(0,d.t)("rcs.figjam_widget_nudge.generic_title"),getBody:()=>(0,d.t)("rcs.figjam_widget_nudge.generic_body")}),P=R({trackingContextName:"FigJam Widget Nudge Project Management",getTitle:()=>(0,d.t)("rcs.figjam_widget_nudge.pm_title"),getBody:()=>(0,d.t)("rcs.figjam_widget_nudge.pm_body"),width:240}),x=R({trackingContextName:"FigJam Widget Nudge Alignment",getTitle:()=>(0,d.t)("rcs.figjam_widget_nudge.align_title"),getBody:()=>(0,d.t)("rcs.figjam_widget_nudge.align_body")}),S=R({trackingContextName:"FigJam Widget Nudge Fun",getTitle:()=>(0,d.t)("rcs.figjam_widget_nudge.fun_title"),getBody:()=>(0,d.t)("rcs.figjam_widget_nudge.fun_body")}),O={modalType:v.w8.MOBILE,trackingContextName:"Mobile FigJam Redirect Modal",element:function(e){return n.useEffect(()=>{r.ZP.post("/api/mobile_redirect/figjam").catch(e=>{console.error(e)})},[]),n.createElement(n.Fragment,null,n.createElement(f.k6,{width:"100%",src:"https://static.figma.com/uploads/f95cfc857cdc5c164958966add0665b69673667c"}),n.createElement(f.rz,null,n.createElement("h1",null,n.createElement(d.Tx,{id:"rcs.redirect_from_mobile_to_desktop.head_to_figjam_on_desktop"})),n.createElement(c.Ki,{multiple:1,direction:"y"}),n.createElement("p",{className:y.hr},n.createElement(d.Tx,{id:"rcs.redirect_from_mobile_to_desktop.to_use_figjam_head_to_a_desktop_device_we've_sent_you_an_email_with_instructions"})),n.createElement(c.Ki,{multiple:3,direction:"y"}),n.createElement(c.UU,{onClick:e.dismissModal,role:"button",style:{fontSize:"13px"},trusted:!0},n.createElement(d.Tx,{id:"rcs.redirect_from_mobile_to_desktop.continue_in_mobile_browser"}))))},userFlag:"seen_figjam_mobile_signup_redirect_modal"},D={modalType:v.w8.MOBILE,type:v.bL.SHELF,trackingContextName:"Mobile Redirect Shelf",element:(0,E.K)(e=>n.createElement(f.MI,null,n.createElement("p",{className:y.gI},n.createElement(d.Tx,{id:"rcs.redirect_from_mobile_to_desktop.continue_in"})),n.createElement(c.Ki,{multiple:3,direction:"y"}),n.createElement(w.p,{icon:"https://static.figma.com/uploads/a3006bdcba9fa948d80e6248c95f310fed735fcd",title:(0,d.t)("rcs.redirect_from_mobile_to_desktop.open_in_desktop"),description:(0,d.t)("rcs.redirect_from_mobile_to_desktop.for_the_full_figma_experience"),ctaType:"primary",ctaText:(0,d.t)("rcs.redirect_from_mobile_to_desktop.email_link"),ctaOnClick:()=>{r.ZP.post("/api/mobile_redirect/login").then(()=>{e.dispatch(s.l.flash("Email sent!"))}).catch(e=>{console.error(e)}),e.dismissModal()}}),(0,o.wq)()&&n.createElement(n.Fragment,null,n.createElement(c.Ki,{multiple:3,direction:"y"}),n.createElement(w.p,{icon:"https://static.figma.com/uploads/669133f44606033fe46c705fc9e031582da50554",title:(0,d.t)("rcs.redirect_from_mobile_to_desktop.figma_app"),description:(0,d.t)("rcs.redirect_from_mobile_to_desktop.for_viewing_and_commenting"),ctaType:"secondary",ctaText:(0,d.t)("rcs.redirect_from_mobile_to_desktop.get"),ctaHref:(0,o.xU)()?m.l:m.s,ctaOnClick:()=>{e.dismissModal()}})),n.createElement(c.Ki,{multiple:3,direction:"y"}),n.createElement(w.p,{icon:"https://static.figma.com/uploads/363af28bb9933a27b22cab48d7243afb3d53d8ac",title:(0,d.t)("rcs.redirect_from_mobile_to_desktop.mobile_browser"),ctaType:"secondary",ctaText:(0,d.t)("rcs.redirect_from_mobile_to_desktop.continue"),ctaOnClick:()=>{e.dismissModal()}})))};function L(e){let[t,l]=n.useState(!0),o=(0,i.I0)(),r=(0,a.Dv)(p.Up);n.useEffect(()=>{setTimeout(()=>l(!1),1e3)});let s=()=>{o(u.v({explicitly_dismissed_create_component_pointer:!0})),e.dismissModal()};return t?null:n.createElement(_.Ui,{name:"library upsell create component pointer",properties:{fileKey:null==r?void 0:r.key,teamId:null==r?void 0:r.teamId}},n.createElement(h.t,{target:"create-symbol"}),n.createElement(g.Qm,{dismissModal:s,width:244,targetKey:"create-symbol",shouldNotWrapInParagraphTag:!0,shouldCenterArrow:C.Ht.FALLBACK},n.createElement("p",null,n.createElement(d.Tx,{id:"rcs.upsell_libraries.click_here_to_turn_into_component"})),n.createElement(c.Ki,{multiple:2}),n.createElement("div",{className:I.AN},n.createElement(c.RS,{onClick:s,className:I.Bw},n.createElement(d.Tx,{id:"rcs.upsell_libraries.visual_bell.got_it"})))))}v.w8.FEATURE_UPDATE,(0,i.$j)(e=>{var t;return{userId:(null==(t=e.user)?void 0:t.id)||""}})(e=>n.createElement(n.Fragment,null,n.createElement(f.BT.Content,null,n.createElement("div",{className:y.VB},n.createElement(c.Ki,{multiple:5}),n.createElement("div",{className:y.Gj},n.createElement(d.Tx,{id:"rcs.figjam_april_2022_onboarding.new"})),n.createElement("h1",null,n.createElement(d.Tx,{id:"rcs.figjam_april_2022_onboarding.creative_tools_for_you_built_line_break_with_by_our_community",lineBreak:n.createElement("br",null)})),n.createElement(c.Ki,{multiple:2}),n.createElement("p",null,n.createElement(d.Tx,{id:"rcs.figjam_april_2022_onboarding.figma_community_puts_thousands_of_templates_time_saving_ui_kits_and_powerful_plugins_at_your_fingertips_all_created_by_figma_users_just_like_you"})),n.createElement(c.Ki,{multiple:4}),n.createElement(c.MM,{trackingProperties:{userId:e.userId},href:"/community",target:"_blank",rel:"noopener",onClick:e.onClickPrimaryCta},n.createElement(d.Tx,{id:"rcs.figjam_april_2022_onboarding.explore_community"})),n.createElement(c.Ki,{multiple:5})),n.createElement("div",{className:y.jN},n.createElement("div",{className:y.aN},n.createElement("img",{width:512,src:"https://static.figma.com/uploads/2ab09dc63038e0d9d96ad3845ef3e8af4bde427a",alt:""})))))),v.w8.SELF_CONTAINED,e=>n.createElement(g.mD,{dismissModal:e.dismissModal,ctaText:(0,d.t)("rcs.copy_link_pointer.got_it"),title:(0,d.t)("rcs.copy_link_pointer.ready_to_share"),onClickPrimaryCta:e.dismissModal,targetKey:T.vg,width:300},n.createElement("p",null,n.createElement(d.Tx,{id:"rcs.copy_link_pointer.just_click_to_copy_file"})))},675185:(e,t,l)=>{l.d(t,{d:()=>i});var n=l(652983);let i=e=>{let t=(0,n.useRef)(e);return t.current=e,t}},704711:(e,t,l)=>{l.d(t,{c:()=>a});var n=l(652983),i=l(225468);class a extends n.PureComponent{constructor(){super(...arguments),this.textContainerRef=n.createRef(),this.getFittingText=()=>{if(!this.textContainerRef.current)return null;let e=this.textContainerRef.current,t=e.getBoundingClientRect().width,{text:l}=this.props,n=document.createElement("p");if(n.className=this.props.className||"",n.setAttribute("style",`
      display: inline;
      white-space: nowrap;
    `),e.appendChild(n),n.innerText=l,n.getBoundingClientRect().width<=t)return e.removeChild(n),l;let i="";for(let e=0;e<l.length;e+=1){let a=`...${l.slice(l.length-e)}`;n.innerText=a;let{width:o}=n.getBoundingClientRect();if(o>t)break;i=a}return e.removeChild(n),i}}componentDidMount(){this.forceUpdate()}render(){let e=this.getFittingText();return n.createElement("div",{ref:this.textContainerRef,style:{width:this.props.maxWidth?`${this.props.maxWidth}px`:"100%"},"data-tooltip-type":this.props.text!==e?i.fR.TEXT:void 0,"data-tooltip":this.props.text!==e?this.props.text:void 0,"aria-label":this.props.text},n.createElement("p",{className:this.props.className},e))}}a.displayName="FrontTruncatedText"},835994:(e,t,l)=>{l.d(t,{iz:()=>r,l6:()=>o});var n=l(970740);function i(){return[{text:(0,n.t)("help_widget.collective_upsells.fullscreen.unlimited_creation"),id:"unlimited_creation"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.shared_design_systems"),id:"shared_design_systems"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.advanced_prototyping"),id:"advanced_prototyping"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.enhanced_privacy"),id:"enhanced_privacy"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.decision_making_tools"),id:"decision_making_tools"}]}function a(){return{unlimited_creation:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.description"),imgSrc:"https://static.figma.com/uploads/c342f4d4d591928504af7cfabbb30556617d9acb",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#Projects",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.description"),imgSrc:"https://static.figma.com/uploads/fd06e0abcc52d324ff782bcfce9c21844ab0a946",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#files",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.description"),imgSrc:"https://static.figma.com/uploads/f2009c194bd4ada5fcef6c54ea0063d7daa3627f",url:"https://help.figma.com/hc/articles/15300412458647-Explore-FigJam-files",loadingColor:"var(--color-bg-component-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.description"),imgSrc:"https://static.figma.com/uploads/68ef770df03dec9fa3e69f2b40df9eec6d4e6166",url:"https://help.figma.com/hc/articles/360038006754-View-a-file-s-version-history",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.description"),imgSrc:"https://static.figma.com/uploads/91999ee4abb04a50873c16d23383f724e24b13ed",url:"https://help.figma.com/hc/articles/360038511293-Create-and-manage-pages",loadingColor:"var(--color-bg-brand-tertiary)"}],shared_design_systems:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.description"),imgSrc:"https://static.figma.com/uploads/a645a186fea60ff15fd9e1878bd52ceaae425a57",url:"https://help.figma.com/hc/articles/360025508373-Publish-a-library",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.description"),imgSrc:"https://static.figma.com/uploads/1c2427045d0b2ce56265271afb85de51b7742364",url:"https://help.figma.com/hc/articles/15343816063383-Modes-for-variables",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.description"),imgSrc:"https://static.figma.com/uploads/13ec0b16486b7a7882491385ef8dff27b4046be7",url:"https://help.figma.com/hc/articles/14506587589399-Use-variables-in-prototypes",loadingColor:"var(--color-bg-warning-tertiary)"}],advanced_prototyping:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.description"),imgSrc:"https://static.figma.com/uploads/8aaf35d51fab3b28f40abbc1cca114bad73c6104",url:"https://help.figma.com/hc/articles/15253194385943-Use-expressions-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.description"),imgSrc:"https://static.figma.com/uploads/d70fae15738cd8f3e03df3997823c315ef4e9d9b",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRHGN8K801ZZCPV99FA",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.description"),imgSrc:"https://static.figma.com/uploads/eed92994038b1d31ae0a6b55518a5f93bb8494c6",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRG38YKPARR7J436DTG",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.description"),imgSrc:"https://static.figma.com/uploads/72d301c7668fe485cfb7bb82e2a2e6d7cdcbaf82",url:"https://help.figma.com/hc/articles/8878274530455-Use-videos-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"}],enhanced_privacy:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.description"),imgSrc:"https://static.figma.com/uploads/f0f0b3f8cdca6efd146423bd62bd6d28938bde97",url:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.description"),imgSrc:"https://static.figma.com/uploads/373e72d04adfa59a21741a98e48dcbcbf706cd34",url:"https://help.figma.com/hc/articles/13839214115607-Professional-plan-permissions#projects",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.description"),imgSrc:"https://static.figma.com/uploads/abfb7962b2a669d9bddbc39ef9ce2f11d858fcc7",url:"https://help.figma.com/hc/articles/360040531773",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.description"),imgSrc:"https://static.figma.com/uploads/a093bcd98a4261ab49ea734a6d6284cfc4ace6b9",url:"https://help.figma.com/hc/articles/10250387712407-Transfer-a-project-or-team-to-a-different-company",loadingColor:"var(--ramp-pink-100-light)"}],decision_making_tools:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.description"),imgSrc:"https://static.figma.com/uploads/42dacd2ef787d922ed8a0ab58dcfe3e57df42eb0",url:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.description"),imgSrc:"https://static.figma.com/uploads/9c0d1a0fdad559ef908062c6cbfa4703859b882e",url:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.description"),imgSrc:"https://static.figma.com/uploads/7b5794979bea63a4b3588a8da1ce3ebc94ee9dfc",url:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session",loadingColor:"var(--ramp-pale_blue-200-light)"}]}}function o(){return{panelTabs:i(),contents:a(),panelTitle:(0,n.t)("help_widget.collective_upsells.fullscreen.panel_tab_header"),contentTitle:(0,n.t)("help_widget.collective_upsells.fullscreen.content_title"),ctaPrimaryText:(0,n.t)("help_widget.collective_upsells.fullscreen.upgrade_btn"),ctaSecondaryText:(0,n.t)("help_widget.collective_upsells.fullscreen.compare_plans")}}function r(){return{panelTabs:i(),contents:a(),panelTitle:(0,n.t)("pro_onboarding.pro_feature_modal.as_a_professional_team_you_get"),ctaPrimaryText:(0,n.t)("pro_onboarding.pro_feature_modal.got_it"),ctaSecondaryText:(0,n.t)("pro_onboarding.pro_feature_modal.compare_plans")}}},887522:(e,t,l)=>{l.d(t,{V:()=>I,c:()=>b});var n,i=l(652983),a=l(407908),o=l(87608),r=l.n(o),c=l(686926),s=l(519781),d=l(212984),u=l(367674),m=l(597837),_=l(65249),p=l(124040),E=l(131826),g=l(687496),f=l(326714),h=l(505468),v=l(281220),b=((n=b||{})[n.SMALL=0]="SMALL",n[n.LARGE=1]="LARGE",n);function C({headerText:e,descriptionText:t,imgSrc:l,loadingColor:n}){return i.createElement(u.j,{direction:"vertical",verticalAlignItems:"start",strokeColor:"default",strokeWidth:1,cornerRadius:6,spacing:0,height:"fill-parent"},i.createElement(i.Suspense,{fallback:i.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardPlaceholder--j3U6P",style:{backgroundColor:n}})},i.createElement("img",{alt:e,className:"fullscreen_help_upsells_modal_base--cardImage--HNMiP",src:l,width:189,height:146})),i.createElement("div",{className:d.cx.p12.pl10.pr10.flex.flexColumn.gap2.$},i.createElement(_.x,{fontSize:13,fontWeight:"medium",color:"default"},e),i.createElement("div",{className:d.cx.minH32.$},i.createElement(_.x,{fontSize:11,color:"secondary"},t))))}function T({isClickable:e,url:t,...l}){return e&&void 0!==t?i.createElement(E.po,{href:t,target:"_blank",className:"fullscreen_help_upsells_modal_base--clickableCard--056mH",trackingProperties:{card:l.headerText}},i.createElement(C,{...l})):i.createElement(C,{...l})}function w(){let e=(0,g.x_)(),t=new g.Lr(e);return i.createElement(u.j,{padding:14,direction:"vertical",verticalAlignItems:"end"},i.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainer--XWuz1"},i.createElement("div",{className:d.cx.wHalf.flex.flexColumn.gap8.$},i.createElement(_.x,{i18nId:"help_widget.collective_upsells.fullscreen.price_title.figma_design",color:"design",fontSize:11,fontWeight:"semi-bold"}),i.createElement(_.x,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,v.UL)(f.tv.ANNUAL,e)))),i.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainerDivider--zsPMB"}),i.createElement("div",{className:d.cx.wHalf.flex.flexColumn.gap8.$},i.createElement(_.x,{i18nId:"help_widget.collective_upsells.fullscreen.price_title.figjam",color:"figjam",fontSize:11,fontWeight:"semi-bold"}),i.createElement(_.x,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,v.jE)(f.tv.ANNUAL,e))))),i.createElement("div",{className:d.cx.p4.pt0.$},i.createElement(_.x,{i18nId:"help_widget.collective_upsells.fullscreen.price.disclaimer.seat_rename",color:"secondary",fontSize:11})))}function I({panelTabs:e,panelTitle:t,modalProps:l,contentTitle:n,contents:o,ctaPrimaryText:g,ctaSecondaryText:f,clickPrimaryBtn:v,clickSecondaryBtn:b,dismissModal:C,showPricing:I=!0,panelTitleSize:y=0,cardsClickable:N}){let[R,k]=(0,i.useState)(e[0].id),P=(0,a.I0)(),x=1===y?i.createElement("div",{className:d.cx.p16.pt14.pb36.$},i.createElement(_.x,{fontSize:18,fontWeight:"semi-bold"},t)):i.createElement("div",{className:d.cx.p16.pt14.pb4.$},i.createElement(_.x,{fontSize:13,color:"secondary"},t)),S=e.map(e=>i.createElement(E.UE,{role:"button",tabIndex:0,key:e.id,className:r()("fullscreen_help_upsells_modal_base--panelTabs--WjAUp",R===e.id&&"fullscreen_help_upsells_modal_base--panelTabsActive--cM4NL"),onClick:()=>{k(e.id)},trackingProperties:{tab:e.id,prevTab:R}},i.createElement(_.x,{fontSize:13},e.text))),O=o[R].map((e,t)=>i.createElement(T,{key:R+e.headerText+t,isClickable:N,...e}));return i.createElement(E.Ui,{name:"FullscreenHelpUpsellsModalBase"},i.createElement(h.Rj,{size:900,showOverflow:!1,className:"fullscreen_help_upsells_modal_base--largeModal--8j2D0",...l,hide:C},i.createElement(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},i.createElement(u.j,{verticalAlignItems:"start",height:604,spacing:0},i.createElement(u.j,{direction:"vertical",width:230,strokeWidth:{right:1},padding:0,spacing:0,strokeColor:"default",height:"fill-parent",verticalAlignItems:"start"},i.createElement(u.m,{minSize:16}),i.createElement(u.j,{direction:"vertical",height:"fill-parent",spacing:0},t&&x,S),I&&i.createElement(w,null)),i.createElement(u.j,{direction:"vertical",height:"fill-parent",spacing:0},i.createElement("div",{className:d.cx.pl32.pt24.pb20.$},n&&i.createElement(_.x,{fontSize:20,fontWeight:"semi-bold"},n),i.createElement(s.ol,{customStyle:{right:"8px",top:"8px"},dispatch:P,onClose:C,trackingProperties:{trackingDescriptor:p.y.CLOSE}})),i.createElement("div",{className:d.cx.wFull.hFull.overflowAuto.$},i.createElement("div",{className:d.cx.pl32.pb24.$},i.createElement(u.j,{spacing:16,verticalAlignItems:"start",direction:"vertical"},i.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardGrid--Yss71"},O)))),i.createElement(u.j,{height:64,padding:16,horizontalAlignItems:"end",strokeColor:"default",strokeWidth:{top:1}},i.createElement(m.J,{onClick:b},f),i.createElement(m.J,{variant:"primary",onClick:v},g)))))))}},477135:(e,t,l)=>{l.d(t,{h:()=>c});var n=l(652983),i=l(87608),a=l.n(i),o=l(361763),r=l(212984);function c(e){let t=n.useRef(null),l=n.useRef(null);n.useEffect(()=>{if(t.current&&!l.current&&!(0,o.KF)()){let n=document.getElementById(e.loadingElementId);l.current=n.cloneNode(!0)??null,t.current.appendChild(l.current)}},[e.loadingElementId,t]);let i={animationDelay:`${e.delay??0}ms`};return n.createElement(n.Fragment,null,n.createElement("div",{ref:t,className:a()(e.loadingElementClassName,r.cx.eventsNone.absolute.top0.left0.right0.bottom0.overflowHidden.opacity1.$,{"loading_page--fadeOut--Ho-om":e.loaded}),style:i}),e.loaded&&e.children)}},225769:(e,t,l)=>{l.d(t,{Tp:()=>j});var n=l(652983),i=l(407908),a=l(87608),o=l.n(a),r=l(899063),c=l(141757),s=l(337167),d=l(680356),u=l(618723),m=l(293351),_=l(435613),p=l(970740),E=l(65249),g=l(721127),f=l(131826),h=l(246905),v=l(527700),b=l(961215),C=l(464368),T=l(70918),w=l(841017),I=l(336980),y=l(225468),N=l(532444),R=l(291904),k=l(236750),P=l(875958),x=l(209006),S=l(425285),O=l(616466),D=l(406446),L=l(199593),A=l(382476),M=l(840253);let F="edit_color_palette_modal--modalLabel--AVogh text--fontPos11--2LvXf text--_fontBase--QdLsd",U="edit_color_palette_modal--colorCircleOuter--ZJqke",B=l(476789);function W({onSave:e,onCancel:t,palette:l,enableSubmitWithNoChanges:a}){let f=(0,i.I0)(),[C,N]=n.useState((null==l?void 0:l.name)||""),[R,k]=(0,s.KO)(M.jc),W=n.useMemo(()=>(null==l?void 0:l.baseColors)||O.j5,[l]),[G,V]=(0,s.KO)(M.Ur),H=(0,s.b9)(P.P),z="whiteboard"===(0,S.fg)(),K="dark"!==(0,h.Fg)()||z?"light":"dark",Q=!(0,c._T)(W,G)||a,[X,Z]=n.useState(!1);n.useEffect(()=>(k(-1),V(W),H(b.hGO.EDIT_PALETTE_MODAL),()=>{k(-1),V(W),H(b.hGO.SELECTION)}),[k,V,H,W]);let $=(0,i.v9)(e=>{let t=e.selectedView;return"fullscreen"!==t.view||"whiteboard"!==t.editorType}),Y=n.useCallback(e=>{V([...G,e])},[G,V]),q=n.useCallback((e,t)=>{V([...G.slice(0,e),t,...G.slice(e+1)])},[G,V]),J=e=>{V([...G.slice(0,e),...G.slice(e+1)])},ee=()=>{k(-1)},et=n.useCallback(e=>{f(g.bF({type:j.type,data:{palette:{uuid:e,name:C,baseColors:G},enableSubmitWithNoChanges:!0}}))},[f,C,G]),el=(0,w.V7)(),en=(0,T.dO)(),ei=(0,A.F1)(),ea=n.useCallback(()=>{let t=G.some((e,t)=>G.some((l,n)=>t!==n&&(0,c.l7)(e,l)));if(Z(t),t)return;let n=G.map(e=>(0,r.colorToHex)(e,1));if(C&&en&&n.length){let t=(null==l?void 0:l.uuid)||(0,d.k)();l?(0,M.s5)({name:C,teamId:el,baseColors:n,uuid:t},f,()=>et(t)):((0,M.UJ)({name:C,teamId:el,uuid:t,baseColors:n,creatorId:en,isTeamDefault:!1,canRead:!0},f,()=>et(t)),ei(t,n.length,!0)),e()}},[G,C,en,l,e,el,f,et,ei]),eo=n.useMemo(()=>Array(G.length).fill(null).map(e=>n.createRef()),[G.length]),er=n.createRef();eo.push(er);let ec=e=>{if(-1!==R){for(let t of eo)if(t&&t.current&&(0,x.U)(e.target,t.current))return;ee()}},es=G.length>0?G[G.length-1]:null,ed=function(e){let t=(0,c.NI)(c.B6.MULTIPLAYER_PURPLE)||c.E5;if(!e)return t;let l=(0,v.pV)(e),n=360*l.h,i={...l,h:(n+40)%360/360};return(0,v.aw)(i)}(es),eu=G.length>=I.bE,em=C&&C.trim()&&G.length>0&&(!l||Q||C!==l.name);return n.createElement("div",{className:"edit_color_palette_modal--modalInner--E56DH",role:"none",onClick:e=>{ec(e)}},n.createElement("p",{className:F},n.createElement(p.Tx,{id:"whiteboard.color_palettes.modal.name"})),n.createElement("div",{className:"edit_color_palette_modal--nameInput--iRWoM text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(m.Q,{placeholder:(0,p.t)("whiteboard.color_palettes.modal.palette_name"),value:C||"",onChange:e=>{N(e.target.value)},maxLength:100,height:16,dataTestId:"palette-name-input"})),n.createElement("div",{className:"edit_color_palette_modal--container--A64hb"},n.createElement("p",{className:F},n.createElement(p.Tx,{id:"whiteboard.color_palettes.modal.colors"})),n.createElement("p",{className:"edit_color_palette_modal--modalDescription--SeVmv text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(p.Tx,{id:"whiteboard.color_palettes.modal.choose_up_to_9_colors"})),X&&n.createElement("p",{className:"edit_color_palette_modal--modalDescriptionError--W6hs7 text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(p.Tx,{id:"whiteboard.color_palettes.modal.duplicate_colors"})),n.createElement("div",{className:"edit_color_palette_modal--colorPaletteContainer--aQ-En"},G.map((e,t)=>n.createElement("div",{className:U,ref:eo[t],key:"wrapper"+e+"-"+t},n.createElement("button",{className:o()({"edit_color_palette_modal--deleteColorButton--rWqOY":!0,"edit_color_palette_modal--deleteColorButtonDisabled--dwsFr":R===t}),onClick:()=>J(t),"data-testId":`delete-color-button-${t}`},n.createElement(_.n,{svg:B,height:"16px",width:"16px",autosize:!0})),n.createElement(L.n,{target:n.createElement(D.gl,{key:e+"-"+t,size:"large",value:e,selectionState:R===t?"selected":"unselected",onClick:()=>{k(t)},paletteType:"base",background:"light"}),color:e,onColorChange:e=>q(R,e),theme:K,isOpen:R===t,onClose:()=>ee(),dropperDisabled:$}))),!eu&&n.createElement("div",{className:U,ref:er,"data-tooltip-type":y.fR.TEXT,"data-tooltip":(0,p.t)("whiteboard.color_palettes.modal.add_color")},n.createElement(D.VI,{size:"large",value:D.R7,swatchStyle:{boxShadow:"0px 0px 0px 1px rgba(0, 0, 0, 0.2) inset"},onClick:()=>{k(G.length),Y(ed)},dataTestId:"add-color-button",fallbackSvg:D.uT})))),n.createElement("div",{className:"edit_color_palette_modal--modalFooter--z4uvF"},n.createElement(E.x,{color:"secondary"},n.createElement(p.Tx,{id:"whiteboard.color_palettes.modal.palettes_visible_to_everyone"})),n.createElement(u.pJ,{onClick:t},n.createElement(p.Tx,{id:"whiteboard.color_palettes.modal.cancel"})),n.createElement(u.RS,{disabled:!em,type:"submit",onClick:ea,dataTestId:"save-button"},n.createElement(p.Tx,{id:"whiteboard.color_palettes.modal.save_palette"}))))}let j=(0,R.Y3)(function({palette:e,enableSubmitWithNoChanges:t}){let l=(0,i.I0)(),a=(0,T.dO)(),r=(0,w.V7)(),c=(0,C.ob)(),d=(0,s.Dv)(P.P),u=c===b.UAh.DROPPER_COLOR&&d===b.hGO.EDIT_PALETTE_MODAL,m=n.useCallback(()=>{l(g.eI())},[l]),_=n.useCallback(e=>{e.stopPropagation(),m()},[m]),E=e?(0,p.t)("whiteboard.color_palettes.modal.edit_palette"):(0,p.t)("whiteboard.color_palettes.modal.create_palette");return n.createElement("div",{className:o()("edit_color_palette_modal--headerModalTransitionContainer--C-CFV",{"edit_color_palette_modal--hidden--EDk-H":u})},n.createElement(f.Ui,{name:N.V4.FIGJAM_EDIT_PALETTE_MODAL,properties:{userId:a,teamId:r,type:e?"edit palette":"new palette"}},n.createElement(k.ge,{title:E,onClose:_,minWidth:390,maxWidth:390,closeOnEsc:!0,onBackgroundMouseDown:e=>{e.stopPropagation()},disableClickOutsideToHide:!0},n.createElement(W,{onSave:m,onCancel:m,palette:e,enableSubmitWithNoChanges:t}))))},"EditColorPaletteModal")},436970:(e,t,l)=>{l.d(t,{P:()=>M});var n=l(652983),i=l(407908),a=l(870077),o=l(418465),r=l(618723),c=l(782051),s=l(970740),d=l(367674),u=l(721127),m=l(131826),_=l(231690),p=l(70918),E=l(862610),g=l(841017),f=l(336980),h=l(225468),v=l(532444),b=l(291904),C=l(158314),T=l(236750),w=l(505468),I=l(840253),y=l(102677);let N=(0,b.Y3)(function({paletteUuid:e}){let t=(0,i.I0)();return n.createElement(w.cV,{size:300,confirmText:(0,s.t)("whiteboard.color_palettes.modal.delete_color_palette_button"),confirmationTitle:(0,s.t)("whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_title"),popStack:!0,destructive:!0,onConfirm:()=>{(0,I.fX)(e,t)},dispatch:t},n.createElement("div",{className:y.Tr},n.createElement(s.Tx,{id:"whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_content"})))},"DeleteColorPaletteConfirmationModal");var R=l(616466),k=l(406446),P=l(382476),x=l(225769);let S=(0,b.Y3)(function({paletteName:e,paletteUuid:t}){let l=(0,i.I0)(),a=(0,g.V7)(),o=(0,i.v9)(e=>{var t;return null==(t=e.teams[a])?void 0:t.name});return o||console.error("No team name found for team id",a),n.createElement(w.cV,{size:360,confirmationTitle:(0,s.t)("whiteboard.color_palettes.make_default_confirmation_modal.title"),confirmText:(0,s.t)("whiteboard.color_palettes.make_default_confirmation_modal.confirm_button"),content:(0,s.t)("whiteboard.color_palettes.make_default_confirmation_modal.description",{teamName:o,paletteName:e||(0,s.t)("whiteboard.color_palettes.make_default_confirmation_modal.this_palette")}),onConfirm:()=>{t===f.TX?(0,I.hR)(a,l):(0,I.tR)(a,t,l)},dispatch:l,popStack:!0})},"MakePaletteTeamDefaultConfirmationModal"),O=l(352874),D=l(348814);function L({showMakeDefaultButton:e}){let t=(0,g.V7)(),l=(0,i.I0)(),[o]=(0,a.aM)((0,E.ColorPalettesForTeam)({teamId:t}),{enabled:!!t});return n.createElement("div",{className:"manage_color_palettes_modal--modalInner--xXl4-"},n.createElement("div",{className:"manage_color_palettes_modal--modalHeader--nG1fV"},n.createElement(s.Tx,{id:"whiteboard.color_palettes.manage_modal.manage_your_teams_color_palettes"}),n.createElement(r.RS,{onClick:()=>{l(u.bF({type:x.Tp.type}))},dataTestId:"create-color-palette-button"},n.createElement(s.Tx,{id:"whiteboard.color_palettes.manage_modal.create_new_palette"}))),n.createElement("div",{className:"manage_color_palettes_modal--paletteRowsOuter--d2OIk"},"loaded"===o.status&&o.data.colorPalettesForTeam?n.createElement(n.Fragment,null,n.createElement(A,{key:f.TX,palette:{uuid:f.TX,name:(0,s.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,R.Mo)("base").map(e=>_.Co.format(e)),isTeamDefault:o.data.colorPalettesForTeam.every(e=>!e.isTeamDefault)},showMakeDefaultButton:e}),o.data.colorPalettesForTeam.map(t=>n.createElement(A,{key:t.uuid,palette:t,showMakeDefaultButton:e}))):n.createElement(c.TK,{size:"medium",testId:"manage-palettes-modal-loading-spinner"})))}function A({palette:e,showMakeDefaultButton:t}){let l=(0,i.I0)(),a=e.uuid===f.TX,c=e.name||(0,s.t)("whiteboard.color_palettes.unnamed_palette");return n.createElement(d.j,{width:"fill-parent",direction:"vertical",spacing:"4px"},n.createElement(d.j,{direction:"horizontal",spacing:"8px"},n.createElement("div",null,c),e.isTeamDefault&&n.createElement(o.Ct,{color:o.JV.FIGJAM,text:(0,s.t)("whiteboard.color_palettes.manage_modal.default"),subtle:!0})),n.createElement(d.j,{direction:"horizontal",width:"fill-parent",horizontalAlignItems:"space-between"},n.createElement(d.j,{direction:"horizontal",width:"hug-contents",spacing:"0px"},e.baseColors.map(e=>n.createElement(k.gl,{key:e,value:_.Co.parse(e),paletteType:"base",background:"light"}))),n.createElement(d.j,{direction:"horizontal",width:"hug-contents",spacing:"8px"},!a&&n.createElement(n.Fragment,null,n.createElement(C.hU,{svg:O,onClick:()=>{l(u.bF({type:x.Tp.type,data:{palette:{uuid:e.uuid,name:e.name,baseColors:(0,P.gf)(null==e?void 0:e.baseColors),isTeamDefault:e.isTeamDefault}}}))},dataTestId:"edit-color-palette-button-"+e.uuid,"data-tooltip-type":h.fR.TEXT,"data-tooltip":(0,s.t)("whiteboard.color_palettes.modal.edit_palette_tooltip")}),n.createElement(C.hU,{svg:D,onClick:()=>{l(u.bF({type:N.type,data:{paletteUuid:e.uuid}}))},dataTestId:"delete-color-palette-button-"+e.uuid,"data-tooltip-type":h.fR.TEXT,"data-tooltip":(0,s.t)("whiteboard.color_palettes.modal.delete_color_palette_tooltip")})),t&&n.createElement(r.pJ,{disabled:e.isTeamDefault,onClick:()=>{l(u.bF({type:S.type,data:{paletteUuid:e.uuid,paletteName:e.name}}))},dataTestId:"make-palette-team-default-button-"+e.uuid},n.createElement(s.Tx,{id:"whiteboard.color_palettes.modal.set_default"})))))}let M=(0,b.Y3)(function({showMakeDefaultButton:e,entryPoint:t}){let l=(0,i.I0)(),a=(0,p.dO)(),o=(0,g.V7)(),r=n.useCallback(()=>{l(u.h0(M))},[l]),c=n.useCallback(e=>{e.stopPropagation(),r()},[r]),d=e?508:417;return n.createElement(m.Ui,{name:v.V4.FIGJAM_MANAGE_PALETTES_MODAL,properties:{entryPoint:t,userId:a,teamId:o}},n.createElement(T.ge,{title:(0,s.t)("whiteboard.color_palettes.manage_modal.color_palettes"),onClose:c,minWidth:d,maxWidth:d,allowScroll:!0,containerClassName:"manage_color_palettes_modal--modal--7EFs-",closeOnEsc:!0},n.createElement(L,{showMakeDefaultButton:e})))},"ManageColorPalettesModal")},692647:(e,t,l)=>{l.d(t,{CJ:()=>x,CK:()=>G,E2:()=>k,FG:()=>z,Hd:()=>J,KQ:()=>V,LA:()=>P,LR:()=>K,M1:()=>W,NJ:()=>F,P$:()=>A,Pc:()=>S,Pu:()=>q,Tb:()=>O,UF:()=>Z,ZL:()=>Q,_Q:()=>B,_Y:()=>U,am:()=>H,bO:()=>ee,ey:()=>D,hI:()=>$,jP:()=>Y,l3:()=>M,t$:()=>L,wd:()=>j,yp:()=>X});var n=l(652983),i=l(407908),a=l(239299),o=l(626650),r=l(9247),c=l(337167),s=l(970740),d=l(644383),u=l(721154),m=l(11802),_=l(75388),p=l(536562),E=l(200273),g=l(70918),f=l(312616),h=l(948150),v=l(119419),b=l(255267),C=l(88323),T=l(238695),w=l(338162),I=l(53797),y=l(252032);let N="simulated_use_cases_created_file",R="simulated_use_cases_view_type",k="Simulated Use Cases",P={FULL_PAGE_LIST_VIEW:"simulated-use-cases-full-page-list-view"};function x(e){let t=(0,c.b9)(I.lt);(0,n.useEffect)(()=>{let l=setInterval(()=>{let l=e.current;if(!l)return;let n=l.currentTime/l.duration;isNaN(n)||t(n)},50);return()=>clearInterval(l)},[t,e])}function S(){let e=(0,c.Dv)(I.Pr),t=(0,c.Dv)(I.Ku),l=(0,c.b9)(I.pJ);(0,n.useEffect)(()=>{if(e<1||!t)return;let n=setTimeout(l,500);return()=>clearTimeout(n)},[t,l,e])}function O(e){let t=(0,c.Dv)(I.Ku),l=(0,c.Dv)(I.Pr);(0,n.useEffect)(()=>{if(t||l<1)return;let n=setTimeout(()=>{var t;return null==(t=e.current)?void 0:t.play()},1e3);return()=>clearTimeout(n)},[t,l,e])}function D(e,t){let[l,i]=(0,n.useState)("playing");return(0,n.useEffect)(()=>{let t=e.current;if(!t)return;let l=()=>i("playing"),n=()=>{t.ended||i("paused")},a=()=>i("finished");return t.addEventListener("play",l),t.addEventListener("pause",n),t.addEventListener("ended",a),()=>{t.removeEventListener("play",l),t.removeEventListener("pause",n),t.removeEventListener("ended",a)}},[e,t]),l}function L(e){var t;let l=(0,c.Dv)(I.Pr),n=(null==(t=e.current)?void 0:t.duration)??0,i=isNaN(n)?0:n,a=e=>{let t=Math.floor(e);return t<10?`0:0${t}`:`0:${t}`};return{currentTime:a(i*l),totalTime:a(i)}}function A(){let{chapters:e}=(0,c.Dv)(I.xN),t=(0,c.Dv)(I.Pr),l=(0,c.Dv)(I.Ku),i=(0,c.Dv)(I.Nc),a=(0,c.b9)(I.jP),o=(0,c.Dv)(I.dk),r=e[i].loggingName,s=(0,c.Dv)(I.gM);(0,n.useEffect)(()=>{if(t<1||!l||i>=e.length-1)return;let n=setTimeout(()=>{(0,y.g)({eventName:"chapter_finished",useCase:o,percentWatched:Math.round(100*t),chapter:r,chapterNum:i+1,autoCycle:!0,enlarged:s}),a(i+1)},1500);return()=>clearTimeout(n)},[l,i,e.length,t,a,r,o,s])}function M(e){let{insertTemplate:t}=(0,_.u8)(),l=(0,i.I0)(),[a]=(0,n.useState)(()=>(0,v.k)(e));return()=>new Promise(async(n,i)=>{let o=setTimeout(()=>{i(),l(d.R.enqueue({message:(0,s.t)("whiteboard.inserts.insert_template_failed_v2"),error:!0}))},5e3),r=await a;t({template:{template:r,type:h.W.HubFile},onSuccess:()=>{clearTimeout(o),(0,T.FL)({id:e,type:b.E.TEMPLATES,source:"simulated-use-cases",options:{batchRequest:!1}}),n()},onFailure:i,triggeredFrom:"simulated-use-cases",userTriggered:!0})})}function F(e){let t=(0,p.n_)(`seen_use_case_${e}`);return(0,c.Dv)(t).data}function U(){let e=B();return w.d.length===e.length}function B(){return w.d.filter(F)}function W(){let e=B();return t=>{let l=new Set([...e,t]);return l.size}}function j(){let e=B(),t=w.d.filter(t=>!e.includes(t));return[...t,...e]}function G(e){let t=(0,c.Dv)(I.dk),l=(0,n.useCallback)(t=>{requestAnimationFrame(()=>{var l;null==(l=e.current)||l.scrollIntoView({behavior:t,block:"center",inline:"center"})})},[e]);(0,n.useLayoutEffect)(()=>{l()},[l]),(0,n.useLayoutEffect)(()=>{l("smooth")},[e,l,t])}function V(e,t){let l=(0,c.Dv)(I.dk),i=(0,o.O4)(()=>t,[t]);(0,n.useEffect)(()=>{var t,l;for(let n of i){let i=null==(t=n.current)?void 0:t.querySelector("video");i&&(i.pause(),i.currentTime=0),null==(l=e.current)||l.play()}},[i,e,l])}function H(e,t){let[l,i]=(0,n.useState)(24),[a,o]=(0,n.useState)(15),r=(0,C.nE)(),s=r&&r.left,d=r&&r.height,u=(0,c.Dv)(I.vU);return(0,n.useLayoutEffect)(()=>{var l,n;let a=null==(l=e.current)?void 0:l.getBoundingClientRect().right,r=null==(n=t.current)?void 0:n.getBoundingClientRect();if(!s||!d||!a||!r)return;let{popupOffset:c=24,gapSize:u=15}=s-r.right<16?{popupOffset:d+16+24}:s-a<16?{gapSize:d-r.height+15}:{};i(c),o(u)},[e,d,s,t,u]),{bottom:l,gap:a}}function z(e,t){let l=(0,c.Dv)(I.Ks),i=(0,c.b9)(I.n2),a=(0,r.D)(e)&&!e;(0,n.useEffect)(()=>{l&&(a?i():t(!0))},[a,i,t,l])}function K(){let[e]=(0,n.useState)(()=>!!localStorage.getItem(N)||!!localStorage.getItem(R));return e}function Q(e){localStorage.setItem(N,e??"")}function X(){let e=(0,c.b9)(I.oy),t=(0,c.Dv)(E.Sh),l=Z();(0,n.useEffect)(()=>{let n=localStorage.getItem(N);n&&(n===t&&(e(),l()),localStorage.removeItem(N))},[t,e,l])}function Z(){let e=(0,i.I0)(),t=(0,c.Dv)(E.Up),l=(0,n.useCallback)(()=>{(null==t?void 0:t.name)===(0,s.t)("fullscreen.fullscreen_view_selector.untitled")&&e(u.NX({file:{key:null==t?void 0:t.key},name:(0,s.t)("rcs.product_and_template_picker.whiteboard_simulated_use_cases_filename")}))},[e,null==t?void 0:t.key,null==t?void 0:t.name]);return l}function $(e){(0,a.P)()&&localStorage.setItem(R,e)}function Y(){let e=(0,c.b9)(I.Hl),t=(0,c.b9)(I.oy);(0,n.useEffect)(()=>{if(!(0,a.P)())return;let l=localStorage.getItem(R);l&&("chapter"===l?e():"popup"===l&&t(),localStorage.removeItem(R))},[e,t])}function q(e){(0,a.P)()?setTimeout(e,2e3):e()}function J(){var e;let t=(0,f.p)("in_simulated_use_cases_exp"),l=(0,c.Dv)(I.xm),n=null==(e=(0,g.xJ)())?void 0:e.id;return!!t&&("list"===l||"chapter"===l&&(0,m.uj)(n)!==m.tf.POPUP_VIDEO)}function ee(){var e;let t=null==(e=(0,g.xJ)())?void 0:e.id;return()=>(0,m.uj)(t)!==m.tf.CONTROL}}}]);

//# debugId=e59ad434-9754-534e-92bf-e7f59bb3b904

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/e743285f5e49c2f34cc7c998224de4fd057ed119/7234-c884c98da743dd2c.min.js.map